<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Platform Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Link to your external CSS file -->
    <link rel="stylesheet" href="css/cross-platform-dashboard.css">
</head>
<body class="flex min-h-screen bg-gray-100 text-gray-800">

    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="sidebar w-64 bg-white shadow-lg p-6 flex flex-col rounded-r-lg transition-all duration-300 ease-in-out">
        <div class="mb-8 flex items-center justify-between logo-container">
            <!-- Hamburger Icon for collapsing/expanding -->
            <button id="sidebar-toggle-btn" class="text-red-600 focus:outline-none p-2 rounded-lg hover:bg-gray-100">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                </svg>
            </button>
            <!-- Sugarcane Logo Placeholder -->
            <img src="https://placehold.co/150x40/ef4444/ffffff?text=sugarcane" alt="Sugarcane Logo" class="h-10 w-auto rounded logo-text">
        </div>
        <nav class="flex-1">
            <ul>
                <li class="mb-4">
                    <!-- Dashboard parent link with toggle functionality -->
                    <a href="index.html" id="dashboard-toggle" class="flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 font-semibold shadow-sm cursor-pointer nav-item">
                        <!-- Dashboard Icon (SVG) -->
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
                        </svg>
                        <span class="nav-text">Dashboard</span>
                        <!-- Dropdown arrow -->
                        <svg id="dashboard-arrow" class="w-4 h-4 ml-auto transform transition-transform duration-200 rotate-180" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </a>
                    <!-- Sub-menu for Dashboard (active by default for this page) -->
                    <ul id="dashboard-submenu" class="submenu pl-8 pt-2 active">
                        <li class="mb-2">
                            <a href="youtube-dashboard.html" class="flex items-center p-2 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                                <!-- Removed SVG icon -->
                                <span class="nav-text">YouTube</span>
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="facebook-dashboard.html" class="flex items-center p-2 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                                <!-- Removed SVG icon -->
                                <span class="nav-text">Meta Facebook</span>
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="spotify-dashboard.html" class="flex items-center p-2 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                                <!-- Removed SVG icon -->
                                <span class="nav-text">Spotify</span>
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="instagram-dashboard.html" class="flex items-center p-2 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                                <!-- Removed SVG icon -->
                                <span class="nav-text">Instagram</span>
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="tiktok-dashboard.html" class="flex items-center p-2 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                                <!-- Removed SVG icon -->
                                <span class="nav-text">TikTok</span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="mb-4">
                    <a href="predictive-analytics-dashboard.html" class="flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="nav-text">Predictive Analytics</span>
                    </a>
                </li>
                <li class="mb-4">
                    <a href="#" class="flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"></path>
                        </svg>
                        <span class="nav-text">Notifications</span>
                    </a>
                </li>
                <li class="mb-4">
                    <a href="faq-dashboard.html" class="flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5L6 11H5a1 1 0 100 2h1a1 1 0 00.867.5L10 13h1a1 1 0 100-2h-1a1 1 0 00-.867-.5z" clip-rule="evenodd"></path>
                        </svg>
                        <span class="nav-text">FAQ</span>
                    </a>
                </li>
                <li class="mb-4">
                    <a href="cross-platform-dashboard.html" class="flex items-center p-3 rounded-lg bg-red-100 text-red-700 font-semibold shadow-sm cursor-pointer nav-item">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 0a1 1 0 00-1 1v5a1 1 0 102 0V6a1 1 0 00-1-1zm3 0a1 1 0 00-1 1v5a1 1 0 102 0V6a1 1 0 00-1-1zm3 0a1 1 0 00-1 1v5a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <span class="nav-text">Cross-platform</span>
                    </a>
                </li>
                <li class="mb-4">
                    <a href="import-dashboard.html" class="flex items-center p-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200 nav-item">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="nav-text">Import</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content Area for Cross-Platform Dashboard -->
    <main class="flex-1 p-8">
        <header class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900">Cross-Platform Dashboard</h1>
        </header>

        <!-- Charts Section for Cross-Platform -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Follower's Growth</h2>
                <div class="flex justify-center items-center h-48 bg-gray-50 rounded-lg">
                    <img src="https://placehold.co/250x150/fca5a5/ffffff?text=Bar+Chart" alt="Follower's Growth Chart Placeholder" class="rounded">
                </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Playlist Adds</h2>
                <div class="flex justify-center items-center h-48 bg-gray-50 rounded-lg">
                    <img src="https://placehold.co/250x150/fca5a5/ffffff?text=Line+Chart" alt="Playlist Adds Chart Placeholder" class="rounded">
                </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Audience Retention</h2>
                <div class="flex justify-center items-center h-48 bg-gray-50 rounded-lg">
                    <img src="https://placehold.co/250x150/fca5a5/ffffff?text=Line+Chart" alt="Audience Retention Chart Placeholder" class="rounded">
                </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Streams</h2>
                <div class="flex justify-center items-center h-48 bg-gray-50 rounded-lg">
                    <img src="https://placehold.co/250x150/fca5a5/ffffff?text=Line+Chart" alt="Streams Chart Placeholder" class="rounded">
                </div>
            </div>
        </section>

        <!-- Generate Report Button -->
        <div class="flex justify-end">
            <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg flex items-center transition-colors duration-200">
                GENERATE REPORT
                <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    <path fill-rule="evenodd" d="M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                </svg>
            </button>
        </div>
    </main>

    <script>
        // JavaScript to toggle the sidebar and dashboard sub-menu
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggleBtn = document.getElementById('sidebar-toggle-btn');
            const dashboardToggle = document.getElementById('dashboard-toggle');
            const dashboardSubmenu = document.getElementById('dashboard-submenu');
            const dashboardArrow = document.getElementById('dashboard-arrow');

            // Function to set active class based on current page
            function setActiveMenuItem() {
                const currentPath = window.location.pathname.split('/').pop(); // Get current filename
                const menuItems = document.querySelectorAll('#dashboard-submenu a');
                let isSubMenuItemActive = false; // Flag to check if any submenu item is active

                menuItems.forEach(item => {
                    if (item.getAttribute('href') === currentPath) {
                        item.classList.add('bg-gray-200', 'text-gray-900', 'font-semibold');
                        item.classList.remove('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                        isSubMenuItemActive = true; // Set flag if this item is active
                    } else {
                        item.classList.remove('bg-gray-200', 'text-gray-900', 'font-semibold');
                        item.classList.add('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                    }
                });

                // Highlight "Predictive Analytics" if it's the current page
                const predictiveAnalyticsLink = document.querySelector('a[href="predictive-analytics-dashboard.html"]');
                if (predictiveAnalyticsLink && currentPath === 'predictive-analytics-dashboard.html') {
                    predictiveAnalyticsLink.classList.add('bg-red-100', 'text-red-700', 'font-semibold');
                    predictiveAnalyticsLink.classList.remove('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                } else if (predictiveAnalyticsLink) {
                    predictiveAnalyticsLink.classList.remove('bg-red-100', 'text-red-700', 'font-semibold');
                    predictiveAnalyticsLink.classList.add('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                }

                // Highlight "FAQ" if it's the current page
                const faqLink = document.querySelector('a[href="faq-dashboard.html"]');
                if (faqLink && currentPath === 'faq-dashboard.html') {
                    faqLink.classList.add('bg-red-100', 'text-red-700', 'font-semibold');
                    faqLink.classList.remove('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                } else if (faqLink) {
                    faqLink.classList.remove('bg-red-100', 'text-red-700', 'font-semibold');
                    faqLink.classList.add('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                }

                // Highlight "Cross-platform" if it's the current page
                const crossPlatformLink = document.querySelector('a[href="cross-platform-dashboard.html"]');
                if (crossPlatformLink && currentPath === 'cross-platform-dashboard.html') {
                    crossPlatformLink.classList.add('bg-red-100', 'text-red-700', 'font-semibold');
                    crossPlatformLink.classList.remove('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                } else if (crossPlatformLink) {
                    crossPlatformLink.classList.remove('bg-red-100', 'text-red-700', 'font-semibold');
                    crossPlatformLink.classList.add('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                }


                // Special handling for dashboard parent link:
                // It should be active if it's the index.html page OR if any of its submenu items are active.
                if (currentPath === 'index.html' || currentPath === '' || isSubMenuItemActive) {
                    dashboardToggle.classList.add('bg-red-100', 'text-red-700', 'font-semibold');
                    dashboardToggle.classList.remove('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                    dashboardSubmenu.classList.add('active'); // Ensure submenu is open
                    dashboardArrow.classList.add('rotate-180'); // Rotate arrow for open submenu
                } else {
                    dashboardToggle.classList.remove('bg-red-100', 'text-red-700', 'font-semibold');
                    dashboardToggle.classList.add('text-gray-600', 'hover:bg-gray-50', 'hover:text-gray-900');
                    // Only close submenu if sidebar is not collapsed
                    if (!sidebar.classList.contains('collapsed')) {
                        dashboardSubmenu.classList.remove('active');
                        dashboardArrow.classList.remove('rotate-180');
                    }
                }
            }

            // Initial call to set active menu item on page load
            setActiveMenuItem();

            // Apply stored sidebar state on load
            const storedSidebarState = localStorage.getItem('sidebarCollapsedState');
            if (storedSidebarState === 'true') {
                sidebar.classList.add('collapsed');
                // Ensure dashboard submenu is closed if sidebar starts collapsed
                dashboardSubmenu.classList.remove('active');
                dashboardArrow.classList.remove('rotate-180');
            }

            // Toggle sidebar functionality
            sidebarToggleBtn.addEventListener('click', function() {
                sidebar.classList.toggle('collapsed');
                localStorage.setItem('sidebarCollapsedState', sidebar.classList.contains('collapsed'));
                // When sidebar collapses, ensure dashboard submenu is also collapsed
                if (sidebar.classList.contains('collapsed')) {
                    dashboardSubmenu.classList.remove('active');
                    dashboardArrow.classList.remove('rotate-180');
                } else {
                    // If expanding, re-evaluate active menu item to potentially open submenu
                    setActiveMenuItem(); // Recalculate active state on expand
                }
            });

            // The dashboardToggle link now handles both navigation and submenu toggling
            dashboardToggle.addEventListener('click', function(event) {
                // If sidebar is collapsed, allow default navigation to index.html
                if (sidebar.classList.contains('collapsed')) {
                    // No preventDefault here, allow the link to navigate
                } else {
                    // This allows navigation even when expanded, and setActiveMenuItem will handle active state on reload
                    // No event.preventDefault() here.
                }
            });

            // If a sub-menu item is clicked, ensure the sub-menu stays open (handled by setActiveMenuItem on new page load)
            dashboardSubmenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function() {
                    // This will allow the browser to navigate, and the new page's DOMContentLoaded will handle active state
                });
            });
        });
    </script>

</body>
</html>
