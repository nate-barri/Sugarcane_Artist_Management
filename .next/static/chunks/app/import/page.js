/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/import/page"],{

/***/ "(app-pages-browser)/./app/import/page.tsx":
/*!*****************************!*\
  !*** ./app/import/page.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ImportDashboard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/sidebar */ \"(app-pages-browser)/./components/sidebar.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction ImportDashboard() {\n    _s();\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadStatus, setUploadStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [recentImports, setRecentImports] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const handleFileUpload = async (event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        if (!file) return;\n        setIsUploading(true);\n        setUploadStatus(\"Uploading and processing...\");\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(\"/api/upload\", {\n                method: \"POST\",\n                body: formData\n            });\n            const data = await response.json();\n            if (response.ok) {\n                setUploadStatus(\"Success! Processed \".concat(data.records, \" records from \").concat(data.dataType, \" data.\"));\n                const newImport = {\n                    fileName: data.fileName,\n                    type: file.name.endsWith(\".csv\") ? \"CSV\" : \"Excel\",\n                    date: new Date().toISOString().split(\"T\")[0],\n                    status: \"Success\",\n                    records: data.records,\n                    dataType: data.dataType\n                };\n                setRecentImports([\n                    newImport,\n                    ...recentImports\n                ]);\n            } else {\n                setUploadStatus(\"Error: \".concat(data.error));\n            }\n        } catch (error) {\n            setUploadStatus(\"Error: \".concat(error instanceof Error ? error.message : \"Upload failed\"));\n        } finally{\n            setIsUploading(false);\n            // Reset file input\n            event.target.value = \"\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex min-h-screen bg-[#123458] text-[#123458]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sidebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                lineNumber: 68,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-1 p-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"flex justify-between items-center mb-8\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-3xl font-bold text-[#FFFFFF]\",\n                            children: \"Import Data\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                            lineNumber: 73,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 9\n                    }, this),\n                    uploadStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 p-4 rounded-lg \".concat(uploadStatus.startsWith(\"Success\") ? \"bg-green-100 text-green-800\" : uploadStatus.startsWith(\"Error\") ? \"bg-red-100 text-red-800\" : \"bg-blue-100 text-blue-800\"),\n                        children: uploadStatus\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white p-6 rounded-lg shadow-md flex flex-col justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-[#E6F4FA] p-2 rounded-full\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-6 h-6 text-[#008000]\",\n                                                            fill: \"currentColor\",\n                                                            viewBox: \"0 0 20 20\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                d: \"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                                lineNumber: 98,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 97,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 96,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"ml-3 text-xl font-semibold text-gray-900\",\n                                                        children: \"CSV Import\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 101,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 95,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-600 mb-6\",\n                                                children: \"Upload your analytics data using CSV format.\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 103,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 94,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"w-full bg-[#3396D3] hover:bg-[#2A75A4] text-white font-semibold py-2 px-4 rounded-lg transition duration-200 text-center cursor-pointer\",\n                                        children: [\n                                            isUploading ? \"Processing...\" : \"Choose CSV File\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                accept: \".csv\",\n                                                onChange: handleFileUpload,\n                                                disabled: isUploading,\n                                                className: \"hidden\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 107,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 105,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                lineNumber: 93,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white p-6 rounded-lg shadow-md flex flex-col justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-[#E6F4FA] p-2 rounded-full\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-6 h-6 text-[#008000]\",\n                                                            fill: \"currentColor\",\n                                                            viewBox: \"0 0 20 20\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                d: \"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                                lineNumber: 117,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 116,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 115,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"ml-3 text-xl font-semibold text-gray-900\",\n                                                        children: \"Excel Import\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 120,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 114,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-600 mb-6\",\n                                                children: \"Upload your data using Excel spreadsheets (.xlsx).\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 122,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 113,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"w-full bg-[#3396D3] hover:bg-[#2A75A4] text-white font-semibold py-2 px-4 rounded-lg transition duration-200 text-center cursor-pointer\",\n                                        children: [\n                                            isUploading ? \"Processing...\" : \"Choose Excel File\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                accept: \".xlsx\",\n                                                onChange: handleFileUpload,\n                                                disabled: isUploading,\n                                                className: \"hidden\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 126,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 124,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                lineNumber: 112,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                        lineNumber: 91,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"bg-white p-6 rounded-lg shadow-md mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-xl font-semibold mb-4\",\n                                children: \"Recent Imports\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"overflow-x-auto\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                    className: \"w-full text-left\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                className: \"border-b border-gray-200\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        className: \"pb-3 text-gray-600 font-medium\",\n                                                        children: \"File Name\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 138,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        className: \"pb-3 text-gray-600 font-medium\",\n                                                        children: \"Type\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 139,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        className: \"pb-3 text-gray-600 font-medium\",\n                                                        children: \"Date\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 140,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        className: \"pb-3 text-gray-600 font-medium\",\n                                                        children: \"Status\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 141,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        className: \"pb-3 text-gray-600 font-medium\",\n                                                        children: \"Records\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 142,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        className: \"pb-3 text-gray-600 font-medium\",\n                                                        children: \"Data Type\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                        lineNumber: 143,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                lineNumber: 137,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                            lineNumber: 136,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                            children: recentImports.map((record, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    className: \"border-b border-gray-100\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            className: \"py-3 text-gray-900\",\n                                                            children: record.fileName\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 149,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            className: \"py-3 text-gray-600\",\n                                                            children: record.type\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 150,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            className: \"py-3 text-gray-600\",\n                                                            children: record.date\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 151,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            className: \"py-3\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"px-2 py-1 rounded-full text-sm \".concat(record.status === \"Success\" ? \"bg-green-100 text-green-800\" : record.status === \"Processing\" ? \"bg-yellow-100 text-yellow-800\" : \"bg-red-100 text-red-800\"),\n                                                                children: record.status\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                                lineNumber: 153,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 152,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            className: \"py-3 text-gray-600\",\n                                                            children: record.records.toLocaleString()\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 165,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            className: \"py-3 text-gray-600\",\n                                                            children: record.dataType || \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                            lineNumber: 166,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                                    lineNumber: 148,\n                                                    columnNumber: 19\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                            lineNumber: 146,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                    lineNumber: 135,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                lineNumber: 134,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                        lineNumber: 132,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                        className: \"bg-white p-6 rounded-lg shadow-md mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-xl font-semibold mb-4\",\n                                children: \"Import Guidelines\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                lineNumber: 176,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3 text-gray-600\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• Ensure your data files are properly formatted with headers\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 178,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• Maximum file size: 50MB per upload\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 179,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• Supported formats: CSV and XLSX files\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 180,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• System automatically detects META (Facebook) or YOUTUBE data\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 181,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• META data requires: post_id, page_name, publish_time columns\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 182,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• YOUTUBE data requires: Video title, Video ID, Video publish time columns\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 183,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"• Data will be processed and loaded into the database immediately\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                        lineNumber: 184,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                                lineNumber: 177,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                        lineNumber: 175,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n                lineNumber: 71,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\app\\\\import\\\\page.tsx\",\n        lineNumber: 67,\n        columnNumber: 5\n    }, this);\n}\n_s(ImportDashboard, \"AyvHTlQJBCSWxoy/047pJ4eVZSc=\");\n_c = ImportDashboard;\nvar _c;\n$RefreshReg$(_c, \"ImportDashboard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9pbXBvcnQvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUlnQztBQUNVO0FBVzNCLFNBQVNFOztJQUN0QixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR0osK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDSyxjQUFjQyxnQkFBZ0IsR0FBR04sK0NBQVFBLENBQVM7SUFDekQsTUFBTSxDQUFDTyxlQUFlQyxpQkFBaUIsR0FBR1IsK0NBQVFBLENBQWlCLEVBRWxFO0lBRUQsTUFBTVMsbUJBQW1CLE9BQU9DO1lBQ2pCQTtRQUFiLE1BQU1DLFFBQU9ELHNCQUFBQSxNQUFNRSxNQUFNLENBQUNDLEtBQUssY0FBbEJILDBDQUFBQSxtQkFBb0IsQ0FBQyxFQUFFO1FBQ3BDLElBQUksQ0FBQ0MsTUFBTTtRQUVYUCxlQUFlO1FBQ2ZFLGdCQUFnQjtRQUVoQixJQUFJO1lBQ0YsTUFBTVEsV0FBVyxJQUFJQztZQUNyQkQsU0FBU0UsTUFBTSxDQUFDLFFBQVFMO1lBRXhCLE1BQU1NLFdBQVcsTUFBTUMsTUFBTSxlQUFlO2dCQUMxQ0MsUUFBUTtnQkFDUkMsTUFBTU47WUFDUjtZQUVBLE1BQU1PLE9BQU8sTUFBTUosU0FBU0ssSUFBSTtZQUVoQyxJQUFJTCxTQUFTTSxFQUFFLEVBQUU7Z0JBQ2ZqQixnQkFBZ0Isc0JBQW1EZSxPQUE3QkEsS0FBS0csT0FBTyxFQUFDLGtCQUE4QixPQUFkSCxLQUFLSSxRQUFRLEVBQUM7Z0JBRWpGLE1BQU1DLFlBQTBCO29CQUM5QkMsVUFBVU4sS0FBS00sUUFBUTtvQkFDdkJDLE1BQU1qQixLQUFLa0IsSUFBSSxDQUFDQyxRQUFRLENBQUMsVUFBVSxRQUFRO29CQUMzQ0MsTUFBTSxJQUFJQyxPQUFPQyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDNUNDLFFBQVE7b0JBQ1JYLFNBQVNILEtBQUtHLE9BQU87b0JBQ3JCQyxVQUFVSixLQUFLSSxRQUFRO2dCQUN6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ZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxhcHBcXGltcG9ydFxccGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcclxuXHJcbmltcG9ydCB0eXBlIFJlYWN0IGZyb20gXCJyZWFjdFwiXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCBTaWRlYmFyIGZyb20gXCJAL2NvbXBvbmVudHMvc2lkZWJhclwiXHJcblxyXG5pbnRlcmZhY2UgSW1wb3J0UmVjb3JkIHtcclxuICBmaWxlTmFtZTogc3RyaW5nXHJcbiAgdHlwZTogc3RyaW5nXHJcbiAgZGF0ZTogc3RyaW5nXHJcbiAgc3RhdHVzOiBcIlN1Y2Nlc3NcIiB8IFwiUHJvY2Vzc2luZ1wiIHwgXCJGYWlsZWRcIlxyXG4gIHJlY29yZHM6IG51bWJlclxyXG4gIGRhdGFUeXBlPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEltcG9ydERhc2hib2FyZCgpIHtcclxuICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gIGNvbnN0IFt1cGxvYWRTdGF0dXMsIHNldFVwbG9hZFN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpXHJcbiAgY29uc3QgW3JlY2VudEltcG9ydHMsIHNldFJlY2VudEltcG9ydHNdID0gdXNlU3RhdGU8SW1wb3J0UmVjb3JkW10+KFtcclxuICAgIFxyXG4gIF0pXHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSBhc3luYyAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzPy5bMF1cclxuICAgIGlmICghZmlsZSkgcmV0dXJuXHJcblxyXG4gICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSlcclxuICAgIHNldFVwbG9hZFN0YXR1cyhcIlVwbG9hZGluZyBhbmQgcHJvY2Vzc2luZy4uLlwiKVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKVxyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvdXBsb2FkXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgc2V0VXBsb2FkU3RhdHVzKGBTdWNjZXNzISBQcm9jZXNzZWQgJHtkYXRhLnJlY29yZHN9IHJlY29yZHMgZnJvbSAke2RhdGEuZGF0YVR5cGV9IGRhdGEuYClcclxuXHJcbiAgICAgICAgY29uc3QgbmV3SW1wb3J0OiBJbXBvcnRSZWNvcmQgPSB7XHJcbiAgICAgICAgICBmaWxlTmFtZTogZGF0YS5maWxlTmFtZSxcclxuICAgICAgICAgIHR5cGU6IGZpbGUubmFtZS5lbmRzV2l0aChcIi5jc3ZcIikgPyBcIkNTVlwiIDogXCJFeGNlbFwiLFxyXG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcclxuICAgICAgICAgIHN0YXR1czogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgICByZWNvcmRzOiBkYXRhLnJlY29yZHMsXHJcbiAgICAgICAgICBkYXRhVHlwZTogZGF0YS5kYXRhVHlwZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0UmVjZW50SW1wb3J0cyhbbmV3SW1wb3J0LCAuLi5yZWNlbnRJbXBvcnRzXSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRVcGxvYWRTdGF0dXMoYEVycm9yOiAke2RhdGEuZXJyb3J9YClcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgc2V0VXBsb2FkU3RhdHVzKGBFcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVXBsb2FkIGZhaWxlZFwifWApXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSlcclxuICAgICAgLy8gUmVzZXQgZmlsZSBpbnB1dFxyXG4gICAgICBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IG1pbi1oLXNjcmVlbiBiZy1bIzEyMzQ1OF0gdGV4dC1bIzEyMzQ1OF1cIj5cclxuICAgICAgPFNpZGViYXIgLz5cclxuXHJcbiAgICAgIHsvKiBNYWluIENvbnRlbnQgQXJlYSBmb3IgSW1wb3J0IERhc2hib2FyZCAqL31cclxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleC0xIHAtOFwiPlxyXG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLThcIj5cclxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1bI0ZGRkZGRl1cIj5JbXBvcnQgRGF0YTwvaDE+XHJcbiAgICAgICAgPC9oZWFkZXI+XHJcblxyXG4gICAgICAgIHt1cGxvYWRTdGF0dXMgJiYgKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BtYi02IHAtNCByb3VuZGVkLWxnICR7XHJcbiAgICAgICAgICAgICAgdXBsb2FkU3RhdHVzLnN0YXJ0c1dpdGgoXCJTdWNjZXNzXCIpXHJcbiAgICAgICAgICAgICAgICA/IFwiYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwXCJcclxuICAgICAgICAgICAgICAgIDogdXBsb2FkU3RhdHVzLnN0YXJ0c1dpdGgoXCJFcnJvclwiKVxyXG4gICAgICAgICAgICAgICAgICA/IFwiYmctcmVkLTEwMCB0ZXh0LXJlZC04MDBcIlxyXG4gICAgICAgICAgICAgICAgICA6IFwiYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMFwiXHJcbiAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7dXBsb2FkU3RhdHVzfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIEltcG9ydCBPcHRpb25zIFNlY3Rpb24gKi99XHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNiBtYi04XCI+XHJcbiAgICAgICAgICB7LyogQ1NWIEltcG9ydCBDYXJkICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC1sZyBzaGFkb3ctbWQgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyNFNkY0RkFdIHAtMiByb3VuZGVkLWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtWyMwMDgwMDBdXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgNGExIDEgMCAwMTEtMWgxMmExIDEgMCAwMTEgMXYyYTEgMSAwIDAxLTEgMUg0YTEgMSAwIDAxLTEtMVY0ek0zIDEwYTEgMSAwIDAxMS0xaDZhMSAxIDAgMDExIDF2NmExIDEgMCAwMS0xIDFINGExIDEgMCAwMS0xLTF2LTZ6TTE0IDlhMSAxIDAgMDAtMSAxdjZhMSAxIDAgMDAxIDFoMmExIDEgMCAwMDEtMXYtNmExIDEgMCAwMC0xLTFoLTJ6XCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm1sLTMgdGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5DU1YgSW1wb3J0PC9oMj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj5VcGxvYWQgeW91ciBhbmFseXRpY3MgZGF0YSB1c2luZyBDU1YgZm9ybWF0LjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyMzMzk2RDNdIGhvdmVyOmJnLVsjMkE3NUE0XSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMiBweC00IHJvdW5kZWQtbGcgdHJhbnNpdGlvbiBkdXJhdGlvbi0yMDAgdGV4dC1jZW50ZXIgY3Vyc29yLXBvaW50ZXJcIj5cclxuICAgICAgICAgICAgICB7aXNVcGxvYWRpbmcgPyBcIlByb2Nlc3NpbmcuLi5cIiA6IFwiQ2hvb3NlIENTViBGaWxlXCJ9XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiLmNzdlwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfSBkaXNhYmxlZD17aXNVcGxvYWRpbmd9IGNsYXNzTmFtZT1cImhpZGRlblwiIC8+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogRXhjZWwgSW1wb3J0IENhcmQgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNiByb3VuZGVkLWxnIHNoYWRvdy1tZCBmbGV4IGZsZXgtY29sIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1bI0U2RjRGQV0gcC0yIHJvdW5kZWQtZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1bIzAwODAwMF1cIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyA0YTEgMSAwIDAxMS0xaDEyYTEgMSAwIDAxMSAxdjJhMSAxIDAgMDEtMSAxSDRhMSAxIDAgMDEtMS0xVjR6TTMgMTBhMSAxIDAgMDExLTFoNmExIDEgMCAwMTEgMXY2YTEgMSAwIDAxLTEgMUg0YTEgMSAwIDAxLTEtMXYtNnpNMTQgOWExIDEgMCAwMC0xIDF2NmExIDEgMCAwMDEgMWgyYTEgMSAwIDAwMS0xdi02YTEgMSAwIDAwLTEtMWgtMnpcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibWwtMyB0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPkV4Y2VsIEltcG9ydDwvaDI+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi02XCI+VXBsb2FkIHlvdXIgZGF0YSB1c2luZyBFeGNlbCBzcHJlYWRzaGVldHMgKC54bHN4KS48L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidy1mdWxsIGJnLVsjMzM5NkQzXSBob3ZlcjpiZy1bIzJBNzVBNF0gdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnIHRyYW5zaXRpb24gZHVyYXRpb24tMjAwIHRleHQtY2VudGVyIGN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAge2lzVXBsb2FkaW5nID8gXCJQcm9jZXNzaW5nLi4uXCIgOiBcIkNob29zZSBFeGNlbCBGaWxlXCJ9XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiLnhsc3hcIiBvbkNoYW5nZT17aGFuZGxlRmlsZVVwbG9hZH0gZGlzYWJsZWQ9e2lzVXBsb2FkaW5nfSBjbGFzc05hbWU9XCJoaWRkZW5cIiAvPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG5cclxuICAgICAgICB7LyogSW1wb3J0IEhpc3RvcnkgU2VjdGlvbiAqL31cclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC1sZyBzaGFkb3ctbWQgbWItOFwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00XCI+UmVjZW50IEltcG9ydHM8L2gyPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwYi0zIHRleHQtZ3JheS02MDAgZm9udC1tZWRpdW1cIj5GaWxlIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicGItMyB0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtXCI+VHlwZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwYi0zIHRleHQtZ3JheS02MDAgZm9udC1tZWRpdW1cIj5EYXRlPC90aD5cclxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInBiLTMgdGV4dC1ncmF5LTYwMCBmb250LW1lZGl1bVwiPlN0YXR1czwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwYi0zIHRleHQtZ3JheS02MDAgZm9udC1tZWRpdW1cIj5SZWNvcmRzPC90aD5cclxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInBiLTMgdGV4dC1ncmF5LTYwMCBmb250LW1lZGl1bVwiPkRhdGEgVHlwZTwvdGg+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAge3JlY2VudEltcG9ydHMubWFwKChyZWNvcmQsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS0xMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHktMyB0ZXh0LWdyYXktOTAwXCI+e3JlY29yZC5maWxlTmFtZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweS0zIHRleHQtZ3JheS02MDBcIj57cmVjb3JkLnR5cGV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHktMyB0ZXh0LWdyYXktNjAwXCI+e3JlY29yZC5kYXRlfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC1zbSAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5zdGF0dXMgPT09IFwiU3VjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVjb3JkLnN0YXR1cyA9PT0gXCJQcm9jZXNzaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLXJlZC0xMDAgdGV4dC1yZWQtODAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWNvcmQuc3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTMgdGV4dC1ncmF5LTYwMFwiPntyZWNvcmQucmVjb3Jkcy50b0xvY2FsZVN0cmluZygpfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTMgdGV4dC1ncmF5LTYwMFwiPntyZWNvcmQuZGF0YVR5cGUgfHwgXCItXCJ9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L3NlY3Rpb24+XHJcblxyXG4gICAgICAgIHsvKiBJbXBvcnQgR3VpZGVsaW5lcyAqL31cclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC1sZyBzaGFkb3ctbWQgbWItOFwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00XCI+SW1wb3J0IEd1aWRlbGluZXM8L2gyPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgdGV4dC1ncmF5LTYwMFwiPlxyXG4gICAgICAgICAgICA8cD7igKIgRW5zdXJlIHlvdXIgZGF0YSBmaWxlcyBhcmUgcHJvcGVybHkgZm9ybWF0dGVkIHdpdGggaGVhZGVyczwvcD5cclxuICAgICAgICAgICAgPHA+4oCiIE1heGltdW0gZmlsZSBzaXplOiA1ME1CIHBlciB1cGxvYWQ8L3A+XHJcbiAgICAgICAgICAgIDxwPuKAoiBTdXBwb3J0ZWQgZm9ybWF0czogQ1NWIGFuZCBYTFNYIGZpbGVzPC9wPlxyXG4gICAgICAgICAgICA8cD7igKIgU3lzdGVtIGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyBNRVRBIChGYWNlYm9vaykgb3IgWU9VVFVCRSBkYXRhPC9wPlxyXG4gICAgICAgICAgICA8cD7igKIgTUVUQSBkYXRhIHJlcXVpcmVzOiBwb3N0X2lkLCBwYWdlX25hbWUsIHB1Ymxpc2hfdGltZSBjb2x1bW5zPC9wPlxyXG4gICAgICAgICAgICA8cD7igKIgWU9VVFVCRSBkYXRhIHJlcXVpcmVzOiBWaWRlbyB0aXRsZSwgVmlkZW8gSUQsIFZpZGVvIHB1Ymxpc2ggdGltZSBjb2x1bW5zPC9wPlxyXG4gICAgICAgICAgICA8cD7igKIgRGF0YSB3aWxsIGJlIHByb2Nlc3NlZCBhbmQgbG9hZGVkIGludG8gdGhlIGRhdGFiYXNlIGltbWVkaWF0ZWx5PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICA8L21haW4+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiU2lkZWJhciIsIkltcG9ydERhc2hib2FyZCIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJ1cGxvYWRTdGF0dXMiLCJzZXRVcGxvYWRTdGF0dXMiLCJyZWNlbnRJbXBvcnRzIiwic2V0UmVjZW50SW1wb3J0cyIsImhhbmRsZUZpbGVVcGxvYWQiLCJldmVudCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsImRhdGEiLCJqc29uIiwib2siLCJyZWNvcmRzIiwiZGF0YVR5cGUiLCJuZXdJbXBvcnQiLCJmaWxlTmFtZSIsInR5cGUiLCJuYW1lIiwiZW5kc1dpdGgiLCJkYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJzdGF0dXMiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInZhbHVlIiwiZGl2IiwiY2xhc3NOYW1lIiwibWFpbiIsImhlYWRlciIsImgxIiwic3RhcnRzV2l0aCIsInNlY3Rpb24iLCJzdmciLCJmaWxsIiwidmlld0JveCIsInBhdGgiLCJkIiwiaDIiLCJwIiwibGFiZWwiLCJpbnB1dCIsImFjY2VwdCIsIm9uQ2hhbmdlIiwiZGlzYWJsZWQiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJ0aCIsInRib2R5IiwibWFwIiwicmVjb3JkIiwiaW5kZXgiLCJ0ZCIsInNwYW4iLCJ0b0xvY2FsZVN0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/import/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/auth-provider.tsx":
/*!**************************************!*\
  !*** ./components/auth-provider.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _stackframe_stack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/hooks.js\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s();\n    const user = (0,_stackframe_stack__WEBPACK_IMPORTED_MODULE_2__.useUser)();\n    const signOut = async ()=>{\n        // Stack Auth handles sign out through its own methods\n        if (user) {\n            await user.signOut();\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user: user || null,\n            isLoading: false,\n            signOut\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\auth-provider.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, this);\n}\n_s(AuthProvider, \"MVCm96lIxHTLiwQrKqirz54tL7M=\", false, function() {\n    return [\n        _stackframe_stack__WEBPACK_IMPORTED_MODULE_2__.useUser\n    ];\n});\n_c = AuthProvider;\nfunction useAuth() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYXV0aC1wcm92aWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFaUU7QUFDTjtBQVEzRCxNQUFNSSw0QkFBY0osb0RBQWFBLENBQThCSztBQUV4RCxTQUFTQyxhQUFhLEtBQXFDO1FBQXJDLEVBQUVDLFFBQVEsRUFBMkIsR0FBckM7O0lBQzNCLE1BQU1DLE9BQU9MLDBEQUFZQTtJQUV6QixNQUFNTSxVQUFVO1FBQ2Qsc0RBQXNEO1FBQ3RELElBQUlELE1BQU07WUFDUixNQUFNQSxLQUFLQyxPQUFPO1FBQ3BCO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ0wsWUFBWU0sUUFBUTtRQUNuQkMsT0FBTztZQUNMSCxNQUFNQSxRQUFRO1lBQ2RJLFdBQVc7WUFDWEg7UUFDRjtrQkFFQ0Y7Ozs7OztBQUdQO0dBckJnQkQ7O1FBQ0RILHNEQUFZQTs7O0tBRFhHO0FBdUJULFNBQVNPOztJQUNkLE1BQU1DLFVBQVViLGlEQUFVQSxDQUFDRztJQUMzQixJQUFJVSxZQUFZVCxXQUFXO1FBQ3pCLE1BQU0sSUFBSVUsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1Q7SUFOZ0JEIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXGNvbXBvbmVudHNcXGF1dGgtcHJvdmlkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB0eXBlIFJlYWN0Tm9kZSB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IHVzZVVzZXIgYXMgdXNlU3RhY2tVc2VyIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrXCJcclxuXHJcbmludGVyZmFjZSBBdXRoQ29udGV4dFR5cGUge1xyXG4gIHVzZXI6IGFueSB8IG51bGxcclxuICBpc0xvYWRpbmc6IGJvb2xlYW5cclxuICBzaWduT3V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+XHJcbn1cclxuXHJcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBdXRoUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xyXG4gIGNvbnN0IHVzZXIgPSB1c2VTdGFja1VzZXIoKVxyXG5cclxuICBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gU3RhY2sgQXV0aCBoYW5kbGVzIHNpZ24gb3V0IHRocm91Z2ggaXRzIG93biBtZXRob2RzXHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICBhd2FpdCB1c2VyLnNpZ25PdXQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlclxyXG4gICAgICB2YWx1ZT17e1xyXG4gICAgICAgIHVzZXI6IHVzZXIgfHwgbnVsbCxcclxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgIHNpZ25PdXQsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcclxuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dClcclxuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VBdXRoIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gQXV0aFByb3ZpZGVyXCIpXHJcbiAgfVxyXG4gIHJldHVybiBjb250ZXh0XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlVXNlciIsInVzZVN0YWNrVXNlciIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2lnbk91dCIsIlByb3ZpZGVyIiwidmFsdWUiLCJpc0xvYWRpbmciLCJ1c2VBdXRoIiwiY29udGV4dCIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/auth-provider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/sidebar.tsx":
/*!********************************!*\
  !*** ./components/sidebar.tsx ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_auth_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/auth-provider */ \"(app-pages-browser)/./components/auth-provider.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction Sidebar() {\n    _s();\n    const [isCollapsed, setIsCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDashboardOpen, setIsDashboardOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.usePathname)();\n    const { user, logout } = (0,_components_auth_provider__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    // Load sidebar state from localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            const storedState = localStorage.getItem(\"sidebarCollapsedState\");\n            if (storedState === \"true\") {\n                setIsCollapsed(true);\n                setIsDashboardOpen(false);\n            }\n        }\n    }[\"Sidebar.useEffect\"], []);\n    // Save sidebar state to localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            localStorage.setItem(\"sidebarCollapsedState\", isCollapsed.toString());\n            if (isCollapsed) {\n                setIsDashboardOpen(false);\n            }\n        }\n    }[\"Sidebar.useEffect\"], [\n        isCollapsed\n    ]);\n    const toggleSidebar = ()=>{\n        setIsCollapsed(!isCollapsed);\n    };\n    const toggleDashboard = (e)=>{\n        if (e.target.closest(\"#dashboard-arrow\")) {\n            e.preventDefault();\n            if (!isCollapsed) {\n                setIsDashboardOpen(!isDashboardOpen);\n            }\n        }\n    };\n    const isActiveLink = (href)=>{\n        if (href === \"/\" && pathname === \"/\") return true;\n        if (href !== \"/\" && pathname.includes(href.replace(\".html\", \"\"))) return true;\n        return false;\n    };\n    const dashboardPages = [\n        {\n            href: \"/youtube\",\n            label: \"YouTube\"\n        },\n        {\n            href: \"/facebook\",\n            label: \"Meta Facebook\"\n        },\n        {\n            href: \"/spotify\",\n            label: \"Spotify\"\n        },\n        {\n            href: \"/instagram\",\n            label: \"Instagram\"\n        },\n        {\n            href: \"/tiktok\",\n            label: \"TikTok\"\n        }\n    ];\n    const isDashboardActive = pathname === \"/\" || dashboardPages.some((page)=>pathname.includes(page.href));\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n        className: \"sidebar bg-[#0f2946] shadow-lg px-6 pt-6 flex flex-col rounded-r-lg transition-all duration-300 ease-in-out h-screen justify-between \".concat(isCollapsed ? \"w-20\" : \"w-64\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-8 flex items-center justify-between logo-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: toggleSidebar,\n                                className: \"text-white focus:outline-none p-2 rounded-lg hover:bg-gray-700\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-6 h-6\",\n                                    fill: \"currentColor\",\n                                    viewBox: \"0 0 20 20\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        fillRule: \"evenodd\",\n                                        d: \"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\",\n                                        clipRule: \"evenodd\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                        lineNumber: 78,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 77,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                lineNumber: 73,\n                                columnNumber: 11\n                            }, this),\n                            !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/SUGARCANE-LOGO.png\",\n                                alt: \"Sugarcane Logo\",\n                                className: \"h-8 w-auto rounded logo-text\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                lineNumber: 88,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                        className: \"flex-1\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/\",\n                                            onClick: toggleDashboard,\n                                            className: \"flex items-center justify-between p-2 rounded-lg font-semibold shadow-sm cursor-pointer nav-item transition-colors duration-200 \".concat(isDashboardActive ? \"bg-[#123458] text-white\" : \"text-white hover:bg-gray-700\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-5 h-5 \".concat(!isCollapsed ? \"mr-3\" : \"mx-auto\"),\n                                                            fill: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                d: \"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                                lineNumber: 116,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                            lineNumber: 111,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"nav-text\",\n                                                            children: \"Dashboard\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                            lineNumber: 118,\n                                                            columnNumber: 36\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 110,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    id: \"dashboard-arrow\",\n                                                    className: \"w-4 h-4 ml-2 transition-transform duration-200 \".concat(isDashboardOpen ? \"rotate-90\" : \"\"),\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"2\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        d: \"M9 5l7 7-7 7\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                        lineNumber: 133,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 123,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 101,\n                                            columnNumber: 15\n                                        }, this),\n                                        !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                            className: \"submenu pl-8 pt-2 transition-all duration-200 \".concat(isDashboardOpen ? \"active\" : \"hidden\"),\n                                            children: dashboardPages.map((page)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    className: \"mb-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                        href: page.href,\n                                                        className: \"flex items-center p-2 rounded-lg transition-colors duration-200 nav-item \".concat(isActiveLink(page.href) ? \"bg-gray-600 text-white font-semibold\" : \"text-gray-300 hover:bg-gray-700 hover:text-white\"),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"nav-text\",\n                                                            children: page.label\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                            lineNumber: 154,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                        lineNumber: 146,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, page.href, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 145,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 139,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 100,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/predictive-analytics\",\n                                        className: \"flex items-center p-2 rounded-lg transition-colors duration-200 nav-item \".concat(isActiveLink(\"/predictive-analytics\") ? \"bg-[#123458] text-white font-semibold\" : \"text-white hover:bg-gray-700\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 \".concat(!isCollapsed ? \"mr-3\" : \"mx-auto\"),\n                                                    fill: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                        lineNumber: 178,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 173,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"nav-text\",\n                                                    children: \"Predictive Analytics\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 180,\n                                                    columnNumber: 34\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 172,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                        lineNumber: 164,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/notifications\",\n                                        className: \"flex items-center p-2 rounded-lg transition-colors duration-200 nav-item \".concat(isActiveLink(\"/notifications\") ? \"bg-[#123458] text-white font-semibold\" : \"text-white hover:bg-gray-700\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 \".concat(!isCollapsed ? \"mr-3\" : \"mx-auto\"),\n                                                    fill: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        d: \"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                        lineNumber: 200,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 195,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"nav-text\",\n                                                    children: \"Notifications\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 202,\n                                                    columnNumber: 34\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 194,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                        lineNumber: 186,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 185,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/faq\",\n                                        className: \"flex items-center p-2 rounded-lg transition-colors duration-200 nav-item \".concat(isActiveLink(\"/faq\") ? \"bg-[#123458] text-white font-semibold\" : \"text-white hover:bg-gray-700\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 \".concat(!isCollapsed ? \"mr-3\" : \"mx-auto\"),\n                                                    fill: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        fillRule: \"evenodd\",\n                                                        d: \"M12 2C6.477 2 2 6.477 2 12c0 1.93.53 3.727 1.447 5.243L3 22l4.928-1.387A9.953 9.953 0 0 0 12 22c5.523 0 10-4.477 10-10S17.523 2 12 2z\",\n                                                        clipRule: \"evenodd\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                        lineNumber: 222,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 217,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"nav-text\",\n                                                    children: \"FAQ\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 228,\n                                                    columnNumber: 34\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 216,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 207,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/cross-platform\",\n                                        className: \"flex items-center p-2 rounded-lg transition-colors duration-200 nav-item \".concat(isActiveLink(\"/cross-platform\") ? \"bg-[#123458] text-white font-semibold\" : \"text-white hover:bg-gray-700\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 \".concat(!isCollapsed ? \"mr-3\" : \"mx-auto\"),\n                                                    fill: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            d: \"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                            lineNumber: 248,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 0a1 1 0 00-1 1v5a1 1 0 102 0V6a1 1 0 00-1-1zm3 0a1 1 0 00-1 1v5a1 1 0 102 0V6a1 1 0 00-1-1zm3 0a1 1 0 00-1 1v5a1 1 0 102 0V6a1 1 0 00-1-1z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                            lineNumber: 249,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 243,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"nav-text\",\n                                                    children: \"Cross-Platform\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 255,\n                                                    columnNumber: 34\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 242,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                        lineNumber: 234,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 233,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/import\",\n                                        className: \"flex items-center p-2 rounded-lg transition-colors duration-200 nav-item \".concat(isActiveLink(\"/import\") ? \"bg-[#123458] text-white font-semibold\" : \"text-white hover:bg-gray-700\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 \".concat(!isCollapsed ? \"mr-3\" : \"mx-auto\"),\n                                                    fill: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                        lineNumber: 275,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 270,\n                                                    columnNumber: 17\n                                                }, this),\n                                                !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"nav-text\",\n                                                    children: \"Import\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                                    lineNumber: 277,\n                                                    columnNumber: 34\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                            lineNumber: 269,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                        lineNumber: 261,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                    lineNumber: 260,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                            lineNumber: 98,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                lineNumber: 70,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: logout,\n                    className: \"flex items-center w-full p-2 rounded-lg text-white hover:bg-gray-700 transition-colors duration-200\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"w-5 h-5\",\n                            fill: \"currentColor\",\n                            viewBox: \"0 0 24 24\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                fillRule: \"evenodd\",\n                                d: \"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z\",\n                                clipRule: \"evenodd\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                                lineNumber: 296,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                            lineNumber: 291,\n                            columnNumber: 11\n                        }, this),\n                        !isCollapsed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"ml-2\",\n                            children: \"Log out\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                            lineNumber: 302,\n                            columnNumber: 28\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                    lineNumber: 287,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n                lineNumber: 286,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Luis\\\\Desktop\\\\COLLEGE\\\\CAPSTONE\\\\Sugarcane_Artist_Management\\\\components\\\\sidebar.tsx\",\n        lineNumber: 64,\n        columnNumber: 5\n    }, this);\n}\n_s(Sidebar, \"L4t3oW2TbrCYYT66Akv9GQfOSbw=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.usePathname,\n        _components_auth_provider__WEBPACK_IMPORTED_MODULE_4__.useAuth\n    ];\n});\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc2lkZWJhci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUkyQztBQUNmO0FBQ2lCO0FBQ087QUFFckMsU0FBU0s7O0lBQ3RCLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHUCwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNRLGlCQUFpQkMsbUJBQW1CLEdBQUdULCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1VLFdBQVdQLDREQUFXQTtJQUM1QixNQUFNLEVBQUVRLElBQUksRUFBRUMsTUFBTSxFQUFFLEdBQUdSLGtFQUFPQTtJQUVoQyx1Q0FBdUM7SUFDdkNILGdEQUFTQTs2QkFBQztZQUNSLE1BQU1ZLGNBQWNDLGFBQWFDLE9BQU8sQ0FBQztZQUN6QyxJQUFJRixnQkFBZ0IsUUFBUTtnQkFDMUJOLGVBQWU7Z0JBQ2ZFLG1CQUFtQjtZQUNyQjtRQUNGOzRCQUFHLEVBQUU7SUFFTCxxQ0FBcUM7SUFDckNSLGdEQUFTQTs2QkFBQztZQUNSYSxhQUFhRSxPQUFPLENBQUMseUJBQXlCVixZQUFZVyxRQUFRO1lBQ2xFLElBQUlYLGFBQWE7Z0JBQ2ZHLG1CQUFtQjtZQUNyQjtRQUNGOzRCQUFHO1FBQUNIO0tBQVk7SUFFaEIsTUFBTVksZ0JBQWdCO1FBQ3BCWCxlQUFlLENBQUNEO0lBQ2xCO0lBRUEsTUFBTWEsa0JBQWtCLENBQUNDO1FBQ3ZCLElBQUksRUFBR0MsTUFBTSxDQUFpQkMsT0FBTyxDQUFDLHFCQUFxQjtZQUN6REYsRUFBRUcsY0FBYztZQUNoQixJQUFJLENBQUNqQixhQUFhO2dCQUNoQkcsbUJBQW1CLENBQUNEO1lBQ3RCO1FBQ0Y7SUFDRjtJQUVBLE1BQU1nQixlQUFlLENBQUNDO1FBQ3BCLElBQUlBLFNBQVMsT0FBT2YsYUFBYSxLQUFLLE9BQU87UUFDN0MsSUFBSWUsU0FBUyxPQUFPZixTQUFTZ0IsUUFBUSxDQUFDRCxLQUFLRSxPQUFPLENBQUMsU0FBUyxNQUFNLE9BQU87UUFDekUs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QyxHQUFFOzREQUNGQyxVQUFTOzs7Ozs7Ozs7Ozs7Z0RBR1osQ0FBQ3RDLDZCQUFlLDhEQUFDNkM7b0RBQUtqQixXQUFVOzhEQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQUtoRCw4REFBQ2dCO29DQUFHaEIsV0FBVTs4Q0FDWiw0RUFBQ2hDLGtEQUFJQTt3Q0FDSHVCLE1BQUs7d0NBQ0xTLFdBQVcsNEVBSVYsT0FIQ1YsYUFBYSxhQUNULDBDQUNBO2tEQUdOLDRFQUFDVzs0Q0FBSUQsV0FBVTs7OERBQ2YsOERBQUNJO29EQUNDSixXQUFXLFdBQTZDLE9BQWxDLENBQUM1QixjQUFjLFNBQVM7b0RBQzlDaUMsTUFBSztvREFDTEMsU0FBUTs4REFFUiw0RUFBQ0M7d0RBQUtFLEdBQUU7Ozs7Ozs7Ozs7O2dEQUVULENBQUNyQyw2QkFBZSw4REFBQzZDO29EQUFLakIsV0FBVTs4REFBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVN0RCw4REFBQ0M7Z0JBQUlELFdBQVU7MEJBQ2IsNEVBQUNFO29CQUNDQyxTQUFTekI7b0JBQ1RzQixXQUFVOztzQ0FFViw4REFBQ0k7NEJBQ0NKLFdBQVU7NEJBQ1ZLLE1BQUs7NEJBQ0xDLFNBQVE7c0NBRVIsNEVBQUNDO2dDQUNDQyxVQUFTO2dDQUNUQyxHQUFFO2dDQUNGQyxVQUFTOzs7Ozs7Ozs7Ozt3QkFHWixDQUFDdEMsNkJBQWUsOERBQUM2Qzs0QkFBS2pCLFdBQVU7c0NBQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2xEO0dBelN3QjdCOztRQUdMRix3REFBV0E7UUFDSEMsOERBQU9BOzs7S0FKVkMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcY29tcG9uZW50c1xcc2lkZWJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcclxuXHJcbmltcG9ydCB0eXBlIFJlYWN0IGZyb20gXCJyZWFjdFwiXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiXHJcbmltcG9ydCB7IHVzZVBhdGhuYW1lIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiXHJcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiQC9jb21wb25lbnRzL2F1dGgtcHJvdmlkZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2lkZWJhcigpIHtcclxuICBjb25zdCBbaXNDb2xsYXBzZWQsIHNldElzQ29sbGFwc2VkXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gIGNvbnN0IFtpc0Rhc2hib2FyZE9wZW4sIHNldElzRGFzaGJvYXJkT3Blbl0gPSB1c2VTdGF0ZSh0cnVlKVxyXG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKVxyXG4gIGNvbnN0IHsgdXNlciwgbG9nb3V0IH0gPSB1c2VBdXRoKClcclxuXHJcbiAgLy8gTG9hZCBzaWRlYmFyIHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHN0b3JlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzaWRlYmFyQ29sbGFwc2VkU3RhdGVcIilcclxuICAgIGlmIChzdG9yZWRTdGF0ZSA9PT0gXCJ0cnVlXCIpIHtcclxuICAgICAgc2V0SXNDb2xsYXBzZWQodHJ1ZSlcclxuICAgICAgc2V0SXNEYXNoYm9hcmRPcGVuKGZhbHNlKVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICAvLyBTYXZlIHNpZGViYXIgc3RhdGUgdG8gbG9jYWxTdG9yYWdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2lkZWJhckNvbGxhcHNlZFN0YXRlXCIsIGlzQ29sbGFwc2VkLnRvU3RyaW5nKCkpXHJcbiAgICBpZiAoaXNDb2xsYXBzZWQpIHtcclxuICAgICAgc2V0SXNEYXNoYm9hcmRPcGVuKGZhbHNlKVxyXG4gICAgfVxyXG4gIH0sIFtpc0NvbGxhcHNlZF0pXHJcblxyXG4gIGNvbnN0IHRvZ2dsZVNpZGViYXIgPSAoKSA9PiB7XHJcbiAgICBzZXRJc0NvbGxhcHNlZCghaXNDb2xsYXBzZWQpXHJcbiAgfVxyXG5cclxuICBjb25zdCB0b2dnbGVEYXNoYm9hcmQgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgaWYgKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdChcIiNkYXNoYm9hcmQtYXJyb3dcIikpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIGlmICghaXNDb2xsYXBzZWQpIHtcclxuICAgICAgICBzZXRJc0Rhc2hib2FyZE9wZW4oIWlzRGFzaGJvYXJkT3BlbilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaXNBY3RpdmVMaW5rID0gKGhyZWY6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKGhyZWYgPT09IFwiL1wiICYmIHBhdGhuYW1lID09PSBcIi9cIikgcmV0dXJuIHRydWVcclxuICAgIGlmIChocmVmICE9PSBcIi9cIiAmJiBwYXRobmFtZS5pbmNsdWRlcyhocmVmLnJlcGxhY2UoXCIuaHRtbFwiLCBcIlwiKSkpIHJldHVybiB0cnVlXHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGNvbnN0IGRhc2hib2FyZFBhZ2VzID0gW1xyXG4gICAgeyBocmVmOiBcIi95b3V0dWJlXCIsIGxhYmVsOiBcIllvdVR1YmVcIiB9LFxyXG4gICAgeyBocmVmOiBcIi9mYWNlYm9va1wiLCBsYWJlbDogXCJNZXRhIEZhY2Vib29rXCIgfSxcclxuICAgIHsgaHJlZjogXCIvc3BvdGlmeVwiLCBsYWJlbDogXCJTcG90aWZ5XCIgfSxcclxuICAgIHsgaHJlZjogXCIvaW5zdGFncmFtXCIsIGxhYmVsOiBcIkluc3RhZ3JhbVwiIH0sXHJcbiAgICB7IGhyZWY6IFwiL3Rpa3Rva1wiLCBsYWJlbDogXCJUaWtUb2tcIiB9LFxyXG4gIF1cclxuXHJcbiAgY29uc3QgaXNEYXNoYm9hcmRBY3RpdmUgPVxyXG4gICAgcGF0aG5hbWUgPT09IFwiL1wiIHx8IGRhc2hib2FyZFBhZ2VzLnNvbWUoKHBhZ2UpID0+IHBhdGhuYW1lLmluY2x1ZGVzKHBhZ2UuaHJlZikpXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8YXNpZGVcclxuICAgICAgY2xhc3NOYW1lPXtgc2lkZWJhciBiZy1bIzBmMjk0Nl0gc2hhZG93LWxnIHB4LTYgcHQtNiBmbGV4IGZsZXgtY29sIHJvdW5kZWQtci1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXQgaC1zY3JlZW4ganVzdGlmeS1iZXR3ZWVuICR7XHJcbiAgICAgICAgaXNDb2xsYXBzZWQgPyBcInctMjBcIiA6IFwidy02NFwiXHJcbiAgICAgIH1gfVxyXG4gICAgPlxyXG4gICAgICB7LyogVG9wIFNlY3Rpb24gKExvZ28gKyBOYXYpICovfVxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbG9nby1jb250YWluZXJcIj5cclxuICAgICAgICAgIHsvKiBIYW1idXJnZXIgSWNvbiAqL31cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlU2lkZWJhcn1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb2N1czpvdXRsaW5lLW5vbmUgcC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS03MDBcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTZcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICBmaWxsUnVsZT1cImV2ZW5vZGRcIlxyXG4gICAgICAgICAgICAgICAgZD1cIk0zIDVhMSAxIDAgMDExLTFoMTJhMSAxIDAgMTEwIDJINGExIDEgMCAwMS0xLTF6TTMgMTBhMSAxIDAgMDExLTFoMTJhMSAxIDAgMTEwIDJINGExIDEgMCAwMS0xLTF6TTMgMTVhMSAxIDAgMDExLTFoMTJhMSAxIDAgMTEwIDJINGExIDEgMCAwMS0xLTF6XCJcclxuICAgICAgICAgICAgICAgIGNsaXBSdWxlPVwiZXZlbm9kZFwiXHJcbiAgICAgICAgICAgICAgPjwvcGF0aD5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICB7LyogTG9nbyAqL31cclxuICAgICAgICAgIHshaXNDb2xsYXBzZWQgJiYgKFxyXG4gICAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgICAgc3JjPVwiL1NVR0FSQ0FORS1MT0dPLnBuZ1wiXHJcbiAgICAgICAgICAgICAgYWx0PVwiU3VnYXJjYW5lIExvZ29cIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOCB3LWF1dG8gcm91bmRlZCBsb2dvLXRleHRcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIE5hdmlnYXRpb24gKi99XHJcbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgey8qIERhc2hib2FyZCAqL31cclxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICAgICAgaHJlZj1cIi9cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlRGFzaGJvYXJkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMiByb3VuZGVkLWxnIGZvbnQtc2VtaWJvbGQgc2hhZG93LXNtIGN1cnNvci1wb2ludGVyIG5hdi1pdGVtIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCAke1xyXG4gICAgICAgICAgICAgICAgICBpc0Rhc2hib2FyZEFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgID8gXCJiZy1bIzEyMzQ1OF0gdGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcInRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS03MDBcIlxyXG4gICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy01IGgtNSAkeyFpc0NvbGxhcHNlZCA/IFwibXItM1wiIDogXCJteC1hdXRvXCJ9YH1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAuNzA3IDIuMjkzYTEgMSAwIDAwLTEuNDE0IDBsLTcgN2ExIDEgMCAwMDEuNDE0IDEuNDE0TDQgMTAuNDE0VjE3YTEgMSAwIDAwMSAxaDJhMSAxIDAgMDAxLTF2LTJhMSAxIDAgMDExLTFoMmExIDEgMCAwMTEgMXYyYTEgMSAwIDAwMSAxaDJhMSAxIDAgMDAxLTF2LTYuNTg2bC4yOTMuMjkzYTEgMSAwIDAwMS40MTQtMS40MTRsLTctN3pcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICB7IWlzQ29sbGFwc2VkICYmIDxzcGFuIGNsYXNzTmFtZT1cIm5hdi10ZXh0XCI+RGFzaGJvYXJkPC9zcGFuPn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiBEcm9wZG93biBBcnJvdyAqL31cclxuICAgICAgICAgICAgICAgIHshaXNDb2xsYXBzZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJkYXNoYm9hcmQtYXJyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNCBoLTQgbWwtMiB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAgJHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlzRGFzaGJvYXJkT3BlbiA/IFwicm90YXRlLTkwXCIgOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCJcclxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBkPVwiTTkgNWw3IDctNyA3XCIgLz5cclxuICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvTGluaz5cclxuXHJcbiAgICAgICAgICAgICAgeyFpc0NvbGxhcHNlZCAmJiAoXHJcbiAgICAgICAgICAgICAgICA8dWxcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc3VibWVudSBwbC04IHB0LTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwICR7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNEYXNoYm9hcmRPcGVuID8gXCJhY3RpdmVcIiA6IFwiaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHtkYXNoYm9hcmRQYWdlcy5tYXAoKHBhZ2UpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtwYWdlLmhyZWZ9IGNsYXNzTmFtZT1cIm1iLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e3BhZ2UuaHJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgcC0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIG5hdi1pdGVtICR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmVMaW5rKHBhZ2UuaHJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmF5LTYwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS03MDAgaG92ZXI6dGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXYtdGV4dFwiPntwYWdlLmxhYmVsfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICAgIHsvKiBPdGhlciBJdGVtcyAqL31cclxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICAgICAgaHJlZj1cIi9wcmVkaWN0aXZlLWFuYWx5dGljc1wiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgbmF2LWl0ZW0gJHtcclxuICAgICAgICAgICAgICAgICAgaXNBY3RpdmVMaW5rKFwiL3ByZWRpY3RpdmUtYW5hbHl0aWNzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcImJnLVsjMTIzNDU4XSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCJ0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwXCJcclxuICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzdmdcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy01IGgtNSAkeyFpc0NvbGxhcHNlZCA/IFwibXItM1wiIDogXCJteC1hdXRvXCJ9YH1cclxuICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTkgMTJsMiAyIDQtNG02IDJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6XCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICB7IWlzQ29sbGFwc2VkICYmIDxzcGFuIGNsYXNzTmFtZT1cIm5hdi10ZXh0XCI+UHJlZGljdGl2ZSBBbmFseXRpY3M8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICAgICAgaHJlZj1cIi9ub3RpZmljYXRpb25zXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIHAtMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBuYXYtaXRlbSAke1xyXG4gICAgICAgICAgICAgICAgICBpc0FjdGl2ZUxpbmsoXCIvbm90aWZpY2F0aW9uc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgID8gXCJiZy1bIzEyMzQ1OF0gdGV4dC13aGl0ZSBmb250LXNlbWlib2xkXCJcclxuICAgICAgICAgICAgICAgICAgICA6IFwidGV4dC13aGl0ZSBob3ZlcjpiZy1ncmF5LTcwMFwiXHJcbiAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNSBoLTUgJHshaXNDb2xsYXBzZWQgPyBcIm1yLTNcIiA6IFwibXgtYXV0b1wifWB9XHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxyXG4gICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMCAyYTYgNiAwIDAwLTYgNnYzLjU4NmwtLjcwNy43MDdBMSAxIDAgMDA0IDE0aDEyYTEgMSAwIDAwLjcwNy0xLjcwN0wxNiAxMS41ODZWOGE2IDYgMCAwMC02LTZ6TTEwIDE4YTMgMyAwIDAxLTMtM2g2YTMgMyAwIDAxLTMgM3pcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgIHshaXNDb2xsYXBzZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwibmF2LXRleHRcIj5Ob3RpZmljYXRpb25zPC9zcGFuPn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgICAgIGhyZWY9XCIvZmFxXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIHAtMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMCBuYXYtaXRlbSAke1xyXG4gICAgICAgICAgICAgICAgICBpc0FjdGl2ZUxpbmsoXCIvZmFxXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcImJnLVsjMTIzNDU4XSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCJ0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwXCJcclxuICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzdmdcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy01IGgtNSAkeyFpc0NvbGxhcHNlZCA/IFwibXItM1wiIDogXCJteC1hdXRvXCJ9YH1cclxuICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiAgIFxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSdWxlPVwiZXZlbm9kZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMiAyQzYuNDc3IDIgMiA2LjQ3NyAyIDEyYzAgMS45My41MyAzLjcyNyAxLjQ0NyA1LjI0M0wzIDIybDQuOTI4LTEuMzg3QTkuOTUzIDkuOTUzIDAgMCAwIDEyIDIyYzUuNTIzIDAgMTAtNC40NzcgMTAtMTBTMTcuNTIzIDIgMTIgMnpcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsaXBSdWxlPVwiZXZlbm9kZFwiXHJcbiAgICAgICAgICAgICAgICAgID48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgIHshaXNDb2xsYXBzZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwibmF2LXRleHRcIj5GQVE8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICAgICAgaHJlZj1cIi9jcm9zcy1wbGF0Zm9ybVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgbmF2LWl0ZW0gJHtcclxuICAgICAgICAgICAgICAgICAgaXNBY3RpdmVMaW5rKFwiL2Nyb3NzLXBsYXRmb3JtXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcImJnLVsjMTIzNDU4XSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCJ0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwXCJcclxuICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzdmdcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy01IGgtNSAkeyFpc0NvbGxhcHNlZCA/IFwibXItM1wiIDogXCJteC1hdXRvXCJ9YH1cclxuICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTkgMmExIDEgMCAwMDAgMmgyYTEgMSAwIDEwMC0ySDl6XCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSdWxlPVwiZXZlbm9kZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZD1cIk00IDVhMiAyIDAgMDEyLTIgMyAzIDAgMDAzIDNoMmEzIDMgMCAwMDMtMyAyIDIgMCAwMTIgMnYxMWEyIDIgMCAwMS0yIDJINmEyIDIgMCAwMS0yLTJWNXptMyAwYTEgMSAwIDAwLTEgMXY1YTEgMSAwIDEwMiAwVjZhMSAxIDAgMDAtMS0xem0zIDBhMSAxIDAgMDAtMSAxdjVhMSAxIDAgMTAyIDBWNmExIDEgMCAwMC0xLTF6bTMgMGExIDEgMCAwMC0xIDF2NWExIDEgMCAxMDIgMFY2YTEgMSAwIDAwLTEtMXpcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsaXBSdWxlPVwiZXZlbm9kZFwiXHJcbiAgICAgICAgICAgICAgICAgID48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgIHshaXNDb2xsYXBzZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwibmF2LXRleHRcIj5Dcm9zcy1QbGF0Zm9ybTwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibWItNFwiPlxyXG4gICAgICAgICAgICAgIDxMaW5rIFxyXG4gICAgICAgICAgICAgICAgaHJlZj1cIi9pbXBvcnRcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgcC0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIG5hdi1pdGVtICR7XHJcbiAgICAgICAgICAgICAgICAgIGlzQWN0aXZlTGluayhcIi9pbXBvcnRcIilcclxuICAgICAgICAgICAgICAgICAgICA/IFwiYmctWyMxMjM0NThdIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcInRleHQtd2hpdGUgaG92ZXI6YmctZ3JheS03MDBcIlxyXG4gICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPHN2Z1xyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTUgaC01ICR7IWlzQ29sbGFwc2VkID8gXCJtci0zXCIgOiBcIm14LWF1dG9cIn1gfVxyXG4gICAgICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOSAxMmwyIDIgNC00bTYgMmE5IDkgMCAxMS0xOCAwIDkgOSAwIDAxMTggMHpcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgIHshaXNDb2xsYXBzZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwibmF2LXRleHRcIj5JbXBvcnQ8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogTG9nb3V0IEJ1dHRvbiBhdCBCb3R0b20gKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9e2xvZ291dH1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHctZnVsbCBwLTIgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHN2Z1xyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTUgaC01XCJcclxuICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgIGZpbGxSdWxlPVwiZXZlbm9kZFwiXHJcbiAgICAgICAgICAgICAgZD1cIk0zIDNhMSAxIDAgMDAtMSAxdjEyYTEgMSAwIDEwMiAwVjRhMSAxIDAgMDAtMS0xem0xMC4yOTMgOS4yOTNhMSAxIDAgMDAxLjQxNCAxLjQxNGwzLTNhMSAxIDAgMDAwLTEuNDE0bC0zLTNhMSAxIDAgMTAtMS40MTQgMS40MTRMMTQuNTg2IDlIN2ExIDEgMCAxMDAgMmg3LjU4NmwtMS4yOTMgMS4yOTN6XCJcclxuICAgICAgICAgICAgICBjbGlwUnVsZT1cImV2ZW5vZGRcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICB7IWlzQ29sbGFwc2VkICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5Mb2cgb3V0PC9zcGFuPn1cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2FzaWRlPlxyXG4gIClcclxufVxyXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJMaW5rIiwidXNlUGF0aG5hbWUiLCJ1c2VBdXRoIiwiU2lkZWJhciIsImlzQ29sbGFwc2VkIiwic2V0SXNDb2xsYXBzZWQiLCJpc0Rhc2hib2FyZE9wZW4iLCJzZXRJc0Rhc2hib2FyZE9wZW4iLCJwYXRobmFtZSIsInVzZXIiLCJsb2dvdXQiLCJzdG9yZWRTdGF0ZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwidG9TdHJpbmciLCJ0b2dnbGVTaWRlYmFyIiwidG9nZ2xlRGFzaGJvYXJkIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsImlzQWN0aXZlTGluayIsImhyZWYiLCJpbmNsdWRlcyIsInJlcGxhY2UiLCJkYXNoYm9hcmRQYWdlcyIsImxhYmVsIiwiaXNEYXNoYm9hcmRBY3RpdmUiLCJzb21lIiwicGFnZSIsImFzaWRlIiwiY2xhc3NOYW1lIiwiZGl2IiwiYnV0dG9uIiwib25DbGljayIsInN2ZyIsImZpbGwiLCJ2aWV3Qm94IiwicGF0aCIsImZpbGxSdWxlIiwiZCIsImNsaXBSdWxlIiwiaW1nIiwic3JjIiwiYWx0IiwibmF2IiwidWwiLCJsaSIsInNwYW4iLCJpZCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwibWFwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/sidebar.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@simplewebauthn/browser/dist/bundle/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@simplewebauthn/browser/dist/bundle/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebAuthnAbortService: () => (/* binding */ WebAuthnAbortService),\n/* harmony export */   WebAuthnError: () => (/* binding */ WebAuthnError),\n/* harmony export */   base64URLStringToBuffer: () => (/* binding */ base64URLStringToBuffer),\n/* harmony export */   browserSupportsWebAuthn: () => (/* binding */ browserSupportsWebAuthn),\n/* harmony export */   browserSupportsWebAuthnAutofill: () => (/* binding */ browserSupportsWebAuthnAutofill),\n/* harmony export */   bufferToBase64URLString: () => (/* binding */ bufferToBase64URLString),\n/* harmony export */   platformAuthenticatorIsAvailable: () => (/* binding */ platformAuthenticatorIsAvailable),\n/* harmony export */   startAuthentication: () => (/* binding */ startAuthentication),\n/* harmony export */   startRegistration: () => (/* binding */ startRegistration)\n/* harmony export */ });\n/* [@simplewebauthn/browser@11.0.0] */\nfunction bufferToBase64URLString(buffer) {\n    const bytes = new Uint8Array(buffer);\n    let str = '';\n    for (const charCode of bytes) {\n        str += String.fromCharCode(charCode);\n    }\n    const base64String = btoa(str);\n    return base64String.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n}\n\nfunction base64URLStringToBuffer(base64URLString) {\n    const base64 = base64URLString.replace(/-/g, '+').replace(/_/g, '/');\n    const padLength = (4 - (base64.length % 4)) % 4;\n    const padded = base64.padEnd(base64.length + padLength, '=');\n    const binary = atob(padded);\n    const buffer = new ArrayBuffer(binary.length);\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return buffer;\n}\n\nfunction browserSupportsWebAuthn() {\n    return (window?.PublicKeyCredential !== undefined &&\n        typeof window.PublicKeyCredential === 'function');\n}\n\nfunction toPublicKeyCredentialDescriptor(descriptor) {\n    const { id } = descriptor;\n    return {\n        ...descriptor,\n        id: base64URLStringToBuffer(id),\n        transports: descriptor.transports,\n    };\n}\n\nfunction isValidDomain(hostname) {\n    return (hostname === 'localhost' ||\n        /^([a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}$/i.test(hostname));\n}\n\nclass WebAuthnError extends Error {\n    constructor({ message, code, cause, name, }) {\n        super(message, { cause });\n        this.name = name ?? cause.name;\n        this.code = code;\n    }\n}\n\nfunction identifyRegistrationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            return new WebAuthnError({\n                message: 'Registration ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'ConstraintError') {\n        if (publicKey.authenticatorSelection?.requireResidentKey === true) {\n            return new WebAuthnError({\n                message: 'Discoverable credentials were required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT',\n                cause: error,\n            });\n        }\n        else if (options.mediation === 'conditional' &&\n            publicKey.authenticatorSelection?.userVerification === 'required') {\n            return new WebAuthnError({\n                message: 'User verification was required during automatic registration but it could not be performed',\n                code: 'ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE',\n                cause: error,\n            });\n        }\n        else if (publicKey.authenticatorSelection?.userVerification === 'required') {\n            return new WebAuthnError({\n                message: 'User verification was required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'InvalidStateError') {\n        return new WebAuthnError({\n            message: 'The authenticator was previously registered',\n            code: 'ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotAllowedError') {\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotSupportedError') {\n        const validPubKeyCredParams = publicKey.pubKeyCredParams.filter((param) => param.type === 'public-key');\n        if (validPubKeyCredParams.length === 0) {\n            return new WebAuthnError({\n                message: 'No entry in pubKeyCredParams was of type \"public-key\"',\n                code: 'ERROR_MALFORMED_PUBKEYCREDPARAMS',\n                cause: error,\n            });\n        }\n        return new WebAuthnError({\n            message: 'No available authenticator supported any of the specified pubKeyCredParams algorithms',\n            code: 'ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = window.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            return new WebAuthnError({\n                message: `${window.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rp.id !== effectiveDomain) {\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rp.id}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'TypeError') {\n        if (publicKey.user.id.byteLength < 1 || publicKey.user.id.byteLength > 64) {\n            return new WebAuthnError({\n                message: 'User ID was not between 1 and 64 characters',\n                code: 'ERROR_INVALID_USER_ID_LENGTH',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new credential',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n\nclass BaseWebAuthnAbortService {\n    createNewAbortSignal() {\n        if (this.controller) {\n            const abortError = new Error('Cancelling existing WebAuthn API call for new one');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n        }\n        const newController = new AbortController();\n        this.controller = newController;\n        return newController.signal;\n    }\n    cancelCeremony() {\n        if (this.controller) {\n            const abortError = new Error('Manually cancelling existing WebAuthn API call');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n            this.controller = undefined;\n        }\n    }\n}\nconst WebAuthnAbortService = new BaseWebAuthnAbortService();\n\nconst attachments = ['cross-platform', 'platform'];\nfunction toAuthenticatorAttachment(attachment) {\n    if (!attachment) {\n        return;\n    }\n    if (attachments.indexOf(attachment) < 0) {\n        return;\n    }\n    return attachment;\n}\n\nasync function startRegistration(options) {\n    const { optionsJSON, useAutoRegister = false } = options;\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        user: {\n            ...optionsJSON.user,\n            id: base64URLStringToBuffer(optionsJSON.user.id),\n        },\n        excludeCredentials: optionsJSON.excludeCredentials?.map(toPublicKeyCredentialDescriptor),\n    };\n    const createOptions = {};\n    if (useAutoRegister) {\n        createOptions.mediation = 'conditional';\n    }\n    createOptions.publicKey = publicKey;\n    createOptions.signal = WebAuthnAbortService.createNewAbortSignal();\n    let credential;\n    try {\n        credential = (await navigator.credentials.create(createOptions));\n    }\n    catch (err) {\n        throw identifyRegistrationError({ error: err, options: createOptions });\n    }\n    if (!credential) {\n        throw new Error('Registration was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    let transports = undefined;\n    if (typeof response.getTransports === 'function') {\n        transports = response.getTransports();\n    }\n    let responsePublicKeyAlgorithm = undefined;\n    if (typeof response.getPublicKeyAlgorithm === 'function') {\n        try {\n            responsePublicKeyAlgorithm = response.getPublicKeyAlgorithm();\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKeyAlgorithm()', error);\n        }\n    }\n    let responsePublicKey = undefined;\n    if (typeof response.getPublicKey === 'function') {\n        try {\n            const _publicKey = response.getPublicKey();\n            if (_publicKey !== null) {\n                responsePublicKey = bufferToBase64URLString(_publicKey);\n            }\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKey()', error);\n        }\n    }\n    let responseAuthenticatorData;\n    if (typeof response.getAuthenticatorData === 'function') {\n        try {\n            responseAuthenticatorData = bufferToBase64URLString(response.getAuthenticatorData());\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getAuthenticatorData()', error);\n        }\n    }\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            attestationObject: bufferToBase64URLString(response.attestationObject),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            transports,\n            publicKeyAlgorithm: responsePublicKeyAlgorithm,\n            publicKey: responsePublicKey,\n            authenticatorData: responseAuthenticatorData,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\nfunction warnOnBrokenImplementation(methodName, cause) {\n    console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${methodName}. You should report this error to them.\\n`, cause);\n}\n\nfunction browserSupportsWebAuthnAutofill() {\n    if (!browserSupportsWebAuthn()) {\n        return new Promise((resolve) => resolve(false));\n    }\n    const globalPublicKeyCredential = window\n        .PublicKeyCredential;\n    if (globalPublicKeyCredential.isConditionalMediationAvailable === undefined) {\n        return new Promise((resolve) => resolve(false));\n    }\n    return globalPublicKeyCredential.isConditionalMediationAvailable();\n}\n\nfunction identifyAuthenticationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            return new WebAuthnError({\n                message: 'Authentication ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'NotAllowedError') {\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = window.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            return new WebAuthnError({\n                message: `${window.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rpId !== effectiveDomain) {\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rpId}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new assertion signature',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n\nasync function startAuthentication(options) {\n    const { optionsJSON, useBrowserAutofill = false, verifyBrowserAutofillInput = true, } = options;\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    let allowCredentials;\n    if (optionsJSON.allowCredentials?.length !== 0) {\n        allowCredentials = optionsJSON.allowCredentials?.map(toPublicKeyCredentialDescriptor);\n    }\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        allowCredentials,\n    };\n    const getOptions = {};\n    if (useBrowserAutofill) {\n        if (!(await browserSupportsWebAuthnAutofill())) {\n            throw Error('Browser does not support WebAuthn autofill');\n        }\n        const eligibleInputs = document.querySelectorAll(\"input[autocomplete$='webauthn']\");\n        if (eligibleInputs.length < 1 && verifyBrowserAutofillInput) {\n            throw Error('No <input> with \"webauthn\" as the only or last value in its `autocomplete` attribute was detected');\n        }\n        getOptions.mediation = 'conditional';\n        publicKey.allowCredentials = [];\n    }\n    getOptions.publicKey = publicKey;\n    getOptions.signal = WebAuthnAbortService.createNewAbortSignal();\n    let credential;\n    try {\n        credential = (await navigator.credentials.get(getOptions));\n    }\n    catch (err) {\n        throw identifyAuthenticationError({ error: err, options: getOptions });\n    }\n    if (!credential) {\n        throw new Error('Authentication was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    let userHandle = undefined;\n    if (response.userHandle) {\n        userHandle = bufferToBase64URLString(response.userHandle);\n    }\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            authenticatorData: bufferToBase64URLString(response.authenticatorData),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            signature: bufferToBase64URLString(response.signature),\n            userHandle,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\n\nfunction platformAuthenticatorIsAvailable() {\n    if (!browserSupportsWebAuthn()) {\n        return new Promise((resolve) => resolve(false));\n    }\n    return PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac2ltcGxld2ViYXV0aG4vYnJvd3Nlci9kaXN0L2J1bmRsZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLEtBQUs7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsR0FBRztBQUM5Qzs7QUFFQTtBQUNBLGtCQUFrQiw2QkFBNkI7QUFDL0MseUJBQXlCLE9BQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDLGlCQUFpQjtBQUN0RCxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwQkFBMEI7QUFDdEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsZ0JBQWdCO0FBQ3ZEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG9DQUFvQztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEdBQTBHLFdBQVc7QUFDckg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUMsaUJBQWlCO0FBQ3hELFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwQkFBMEI7QUFDdEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsZUFBZTtBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksOEVBQThFO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGlDQUFpQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcU8iLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc2ltcGxld2ViYXV0aG5cXGJyb3dzZXJcXGRpc3RcXGJ1bmRsZVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogW0BzaW1wbGV3ZWJhdXRobi9icm93c2VyQDExLjAuMF0gKi9cbmZ1bmN0aW9uIGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKGJ1ZmZlcikge1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChjb25zdCBjaGFyQ29kZSBvZiBieXRlcykge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gICAgfVxuICAgIGNvbnN0IGJhc2U2NFN0cmluZyA9IGJ0b2Eoc3RyKTtcbiAgICByZXR1cm4gYmFzZTY0U3RyaW5nLnJlcGxhY2UoL1xcKy9nLCAnLScpLnJlcGxhY2UoL1xcLy9nLCAnXycpLnJlcGxhY2UoLz0vZywgJycpO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRVUkxTdHJpbmdUb0J1ZmZlcihiYXNlNjRVUkxTdHJpbmcpIHtcbiAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjRVUkxTdHJpbmcucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICBjb25zdCBwYWRMZW5ndGggPSAoNCAtIChiYXNlNjQubGVuZ3RoICUgNCkpICUgNDtcbiAgICBjb25zdCBwYWRkZWQgPSBiYXNlNjQucGFkRW5kKGJhc2U2NC5sZW5ndGggKyBwYWRMZW5ndGgsICc9Jyk7XG4gICAgY29uc3QgYmluYXJ5ID0gYXRvYihwYWRkZWQpO1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihiaW5hcnkubGVuZ3RoKTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gYnJvd3NlclN1cHBvcnRzV2ViQXV0aG4oKSB7XG4gICAgcmV0dXJuICh3aW5kb3c/LlB1YmxpY0tleUNyZWRlbnRpYWwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0eXBlb2Ygd2luZG93LlB1YmxpY0tleUNyZWRlbnRpYWwgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiB0b1B1YmxpY0tleUNyZWRlbnRpYWxEZXNjcmlwdG9yKGRlc2NyaXB0b3IpIHtcbiAgICBjb25zdCB7IGlkIH0gPSBkZXNjcmlwdG9yO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlc2NyaXB0b3IsXG4gICAgICAgIGlkOiBiYXNlNjRVUkxTdHJpbmdUb0J1ZmZlcihpZCksXG4gICAgICAgIHRyYW5zcG9ydHM6IGRlc2NyaXB0b3IudHJhbnNwb3J0cyxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRG9tYWluKGhvc3RuYW1lKSB7XG4gICAgcmV0dXJuIChob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAgICAgL14oW2EtejAtOV0rKC1bYS16MC05XSspKlxcLikrW2Etel17Mix9JC9pLnRlc3QoaG9zdG5hbWUpKTtcbn1cblxuY2xhc3MgV2ViQXV0aG5FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNvZGUsIGNhdXNlLCBuYW1lLCB9KSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHsgY2F1c2UgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWUgPz8gY2F1c2UubmFtZTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlkZW50aWZ5UmVnaXN0cmF0aW9uRXJyb3IoeyBlcnJvciwgb3B0aW9ucywgfSkge1xuICAgIGNvbnN0IHsgcHVibGljS2V5IH0gPSBvcHRpb25zO1xuICAgIGlmICghcHVibGljS2V5KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdvcHRpb25zIHdhcyBtaXNzaW5nIHJlcXVpcmVkIHB1YmxpY0tleSBwcm9wZXJ0eScpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnNpZ25hbCBpbnN0YW5jZW9mIEFib3J0U2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYkF1dGhuRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZWdpc3RyYXRpb24gY2VyZW1vbnkgd2FzIHNlbnQgYW4gYWJvcnQgc2lnbmFsJyxcbiAgICAgICAgICAgICAgICBjb2RlOiAnRVJST1JfQ0VSRU1PTllfQUJPUlRFRCcsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ0NvbnN0cmFpbnRFcnJvcicpIHtcbiAgICAgICAgaWYgKHB1YmxpY0tleS5hdXRoZW50aWNhdG9yU2VsZWN0aW9uPy5yZXF1aXJlUmVzaWRlbnRLZXkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2ViQXV0aG5FcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Rpc2NvdmVyYWJsZSBjcmVkZW50aWFscyB3ZXJlIHJlcXVpcmVkIGJ1dCBubyBhdmFpbGFibGUgYXV0aGVudGljYXRvciBzdXBwb3J0ZWQgaXQnLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9BVVRIRU5USUNBVE9SX01JU1NJTkdfRElTQ09WRVJBQkxFX0NSRURFTlRJQUxfU1VQUE9SVCcsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5tZWRpYXRpb24gPT09ICdjb25kaXRpb25hbCcgJiZcbiAgICAgICAgICAgIHB1YmxpY0tleS5hdXRoZW50aWNhdG9yU2VsZWN0aW9uPy51c2VyVmVyaWZpY2F0aW9uID09PSAncmVxdWlyZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYkF1dGhuRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdVc2VyIHZlcmlmaWNhdGlvbiB3YXMgcmVxdWlyZWQgZHVyaW5nIGF1dG9tYXRpYyByZWdpc3RyYXRpb24gYnV0IGl0IGNvdWxkIG5vdCBiZSBwZXJmb3JtZWQnLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9BVVRPX1JFR0lTVEVSX1VTRVJfVkVSSUZJQ0FUSU9OX0ZBSUxVUkUnLFxuICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHB1YmxpY0tleS5hdXRoZW50aWNhdG9yU2VsZWN0aW9uPy51c2VyVmVyaWZpY2F0aW9uID09PSAncmVxdWlyZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYkF1dGhuRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdVc2VyIHZlcmlmaWNhdGlvbiB3YXMgcmVxdWlyZWQgYnV0IG5vIGF2YWlsYWJsZSBhdXRoZW50aWNhdG9yIHN1cHBvcnRlZCBpdCcsXG4gICAgICAgICAgICAgICAgY29kZTogJ0VSUk9SX0FVVEhFTlRJQ0FUT1JfTUlTU0lOR19VU0VSX1ZFUklGSUNBVElPTl9TVVBQT1JUJyxcbiAgICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnSW52YWxpZFN0YXRlRXJyb3InKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViQXV0aG5FcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnVGhlIGF1dGhlbnRpY2F0b3Igd2FzIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCcsXG4gICAgICAgICAgICBjb2RlOiAnRVJST1JfQVVUSEVOVElDQVRPUl9QUkVWSU9VU0xZX1JFR0lTVEVSRUQnLFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXZWJBdXRobkVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBjb2RlOiAnRVJST1JfUEFTU1RIUk9VR0hfU0VFX0NBVVNFX1BST1BFUlRZJyxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RTdXBwb3J0ZWRFcnJvcicpIHtcbiAgICAgICAgY29uc3QgdmFsaWRQdWJLZXlDcmVkUGFyYW1zID0gcHVibGljS2V5LnB1YktleUNyZWRQYXJhbXMuZmlsdGVyKChwYXJhbSkgPT4gcGFyYW0udHlwZSA9PT0gJ3B1YmxpYy1rZXknKTtcbiAgICAgICAgaWYgKHZhbGlkUHViS2V5Q3JlZFBhcmFtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2ViQXV0aG5FcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIGVudHJ5IGluIHB1YktleUNyZWRQYXJhbXMgd2FzIG9mIHR5cGUgXCJwdWJsaWMta2V5XCInLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9NQUxGT1JNRURfUFVCS0VZQ1JFRFBBUkFNUycsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBXZWJBdXRobkVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBhdmFpbGFibGUgYXV0aGVudGljYXRvciBzdXBwb3J0ZWQgYW55IG9mIHRoZSBzcGVjaWZpZWQgcHViS2V5Q3JlZFBhcmFtcyBhbGdvcml0aG1zJyxcbiAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9BVVRIRU5USUNBVE9SX05PX1NVUFBPUlRFRF9QVUJLRVlDUkVEUEFSQU1TX0FMRycsXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnU2VjdXJpdHlFcnJvcicpIHtcbiAgICAgICAgY29uc3QgZWZmZWN0aXZlRG9tYWluID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgICAgICBpZiAoIWlzVmFsaWREb21haW4oZWZmZWN0aXZlRG9tYWluKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWJBdXRobkVycm9yKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9IGlzIGFuIGludmFsaWQgZG9tYWluYCxcbiAgICAgICAgICAgICAgICBjb2RlOiAnRVJST1JfSU5WQUxJRF9ET01BSU4nLFxuICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHB1YmxpY0tleS5ycC5pZCAhPT0gZWZmZWN0aXZlRG9tYWluKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYkF1dGhuRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUaGUgUlAgSUQgXCIke3B1YmxpY0tleS5ycC5pZH1cIiBpcyBpbnZhbGlkIGZvciB0aGlzIGRvbWFpbmAsXG4gICAgICAgICAgICAgICAgY29kZTogJ0VSUk9SX0lOVkFMSURfUlBfSUQnLFxuICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdUeXBlRXJyb3InKSB7XG4gICAgICAgIGlmIChwdWJsaWNLZXkudXNlci5pZC5ieXRlTGVuZ3RoIDwgMSB8fCBwdWJsaWNLZXkudXNlci5pZC5ieXRlTGVuZ3RoID4gNjQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2ViQXV0aG5FcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgSUQgd2FzIG5vdCBiZXR3ZWVuIDEgYW5kIDY0IGNoYXJhY3RlcnMnLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9JTlZBTElEX1VTRVJfSURfTEVOR1RIJyxcbiAgICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnVW5rbm93bkVycm9yJykge1xuICAgICAgICByZXR1cm4gbmV3IFdlYkF1dGhuRXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBhdXRoZW50aWNhdG9yIHdhcyB1bmFibGUgdG8gcHJvY2VzcyB0aGUgc3BlY2lmaWVkIG9wdGlvbnMsIG9yIGNvdWxkIG5vdCBjcmVhdGUgYSBuZXcgY3JlZGVudGlhbCcsXG4gICAgICAgICAgICBjb2RlOiAnRVJST1JfQVVUSEVOVElDQVRPUl9HRU5FUkFMX0VSUk9SJyxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cblxuY2xhc3MgQmFzZVdlYkF1dGhuQWJvcnRTZXJ2aWNlIHtcbiAgICBjcmVhdGVOZXdBYm9ydFNpZ25hbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29uc3QgYWJvcnRFcnJvciA9IG5ldyBFcnJvcignQ2FuY2VsbGluZyBleGlzdGluZyBXZWJBdXRobiBBUEkgY2FsbCBmb3IgbmV3IG9uZScpO1xuICAgICAgICAgICAgYWJvcnRFcnJvci5uYW1lID0gJ0Fib3J0RXJyb3InO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KGFib3J0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0NvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ld0NvbnRyb2xsZXI7XG4gICAgICAgIHJldHVybiBuZXdDb250cm9sbGVyLnNpZ25hbDtcbiAgICB9XG4gICAgY2FuY2VsQ2VyZW1vbnkoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoJ01hbnVhbGx5IGNhbmNlbGxpbmcgZXhpc3RpbmcgV2ViQXV0aG4gQVBJIGNhbGwnKTtcbiAgICAgICAgICAgIGFib3J0RXJyb3IubmFtZSA9ICdBYm9ydEVycm9yJztcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydChhYm9ydEVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IFdlYkF1dGhuQWJvcnRTZXJ2aWNlID0gbmV3IEJhc2VXZWJBdXRobkFib3J0U2VydmljZSgpO1xuXG5jb25zdCBhdHRhY2htZW50cyA9IFsnY3Jvc3MtcGxhdGZvcm0nLCAncGxhdGZvcm0nXTtcbmZ1bmN0aW9uIHRvQXV0aGVudGljYXRvckF0dGFjaG1lbnQoYXR0YWNobWVudCkge1xuICAgIGlmICghYXR0YWNobWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChhdHRhY2htZW50cy5pbmRleE9mKGF0dGFjaG1lbnQpIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBhdHRhY2htZW50O1xufVxuXG5hc3luYyBmdW5jdGlvbiBzdGFydFJlZ2lzdHJhdGlvbihvcHRpb25zKSB7XG4gICAgY29uc3QgeyBvcHRpb25zSlNPTiwgdXNlQXV0b1JlZ2lzdGVyID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFicm93c2VyU3VwcG9ydHNXZWJBdXRobigpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViQXV0aG4gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKTtcbiAgICB9XG4gICAgY29uc3QgcHVibGljS2V5ID0ge1xuICAgICAgICAuLi5vcHRpb25zSlNPTixcbiAgICAgICAgY2hhbGxlbmdlOiBiYXNlNjRVUkxTdHJpbmdUb0J1ZmZlcihvcHRpb25zSlNPTi5jaGFsbGVuZ2UpLFxuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAuLi5vcHRpb25zSlNPTi51c2VyLFxuICAgICAgICAgICAgaWQ6IGJhc2U2NFVSTFN0cmluZ1RvQnVmZmVyKG9wdGlvbnNKU09OLnVzZXIuaWQpLFxuICAgICAgICB9LFxuICAgICAgICBleGNsdWRlQ3JlZGVudGlhbHM6IG9wdGlvbnNKU09OLmV4Y2x1ZGVDcmVkZW50aWFscz8ubWFwKHRvUHVibGljS2V5Q3JlZGVudGlhbERlc2NyaXB0b3IpLFxuICAgIH07XG4gICAgY29uc3QgY3JlYXRlT3B0aW9ucyA9IHt9O1xuICAgIGlmICh1c2VBdXRvUmVnaXN0ZXIpIHtcbiAgICAgICAgY3JlYXRlT3B0aW9ucy5tZWRpYXRpb24gPSAnY29uZGl0aW9uYWwnO1xuICAgIH1cbiAgICBjcmVhdGVPcHRpb25zLnB1YmxpY0tleSA9IHB1YmxpY0tleTtcbiAgICBjcmVhdGVPcHRpb25zLnNpZ25hbCA9IFdlYkF1dGhuQWJvcnRTZXJ2aWNlLmNyZWF0ZU5ld0Fib3J0U2lnbmFsKCk7XG4gICAgbGV0IGNyZWRlbnRpYWw7XG4gICAgdHJ5IHtcbiAgICAgICAgY3JlZGVudGlhbCA9IChhd2FpdCBuYXZpZ2F0b3IuY3JlZGVudGlhbHMuY3JlYXRlKGNyZWF0ZU9wdGlvbnMpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBpZGVudGlmeVJlZ2lzdHJhdGlvbkVycm9yKHsgZXJyb3I6IGVyciwgb3B0aW9uczogY3JlYXRlT3B0aW9ucyB9KTtcbiAgICB9XG4gICAgaWYgKCFjcmVkZW50aWFsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVnaXN0cmF0aW9uIHdhcyBub3QgY29tcGxldGVkJyk7XG4gICAgfVxuICAgIGNvbnN0IHsgaWQsIHJhd0lkLCByZXNwb25zZSwgdHlwZSB9ID0gY3JlZGVudGlhbDtcbiAgICBsZXQgdHJhbnNwb3J0cyA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmdldFRyYW5zcG9ydHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJhbnNwb3J0cyA9IHJlc3BvbnNlLmdldFRyYW5zcG9ydHMoKTtcbiAgICB9XG4gICAgbGV0IHJlc3BvbnNlUHVibGljS2V5QWxnb3JpdGhtID0gdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuZ2V0UHVibGljS2V5QWxnb3JpdGhtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNwb25zZVB1YmxpY0tleUFsZ29yaXRobSA9IHJlc3BvbnNlLmdldFB1YmxpY0tleUFsZ29yaXRobSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgd2Fybk9uQnJva2VuSW1wbGVtZW50YXRpb24oJ2dldFB1YmxpY0tleUFsZ29yaXRobSgpJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXNwb25zZVB1YmxpY0tleSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmdldFB1YmxpY0tleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgX3B1YmxpY0tleSA9IHJlc3BvbnNlLmdldFB1YmxpY0tleSgpO1xuICAgICAgICAgICAgaWYgKF9wdWJsaWNLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZVB1YmxpY0tleSA9IGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKF9wdWJsaWNLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgd2Fybk9uQnJva2VuSW1wbGVtZW50YXRpb24oJ2dldFB1YmxpY0tleSgpJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXNwb25zZUF1dGhlbnRpY2F0b3JEYXRhO1xuICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuZ2V0QXV0aGVudGljYXRvckRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3BvbnNlQXV0aGVudGljYXRvckRhdGEgPSBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZyhyZXNwb25zZS5nZXRBdXRoZW50aWNhdG9yRGF0YSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdhcm5PbkJyb2tlbkltcGxlbWVudGF0aW9uKCdnZXRBdXRoZW50aWNhdG9yRGF0YSgpJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICByYXdJZDogYnVmZmVyVG9CYXNlNjRVUkxTdHJpbmcocmF3SWQpLFxuICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgYXR0ZXN0YXRpb25PYmplY3Q6IGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKHJlc3BvbnNlLmF0dGVzdGF0aW9uT2JqZWN0KSxcbiAgICAgICAgICAgIGNsaWVudERhdGFKU09OOiBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZyhyZXNwb25zZS5jbGllbnREYXRhSlNPTiksXG4gICAgICAgICAgICB0cmFuc3BvcnRzLFxuICAgICAgICAgICAgcHVibGljS2V5QWxnb3JpdGhtOiByZXNwb25zZVB1YmxpY0tleUFsZ29yaXRobSxcbiAgICAgICAgICAgIHB1YmxpY0tleTogcmVzcG9uc2VQdWJsaWNLZXksXG4gICAgICAgICAgICBhdXRoZW50aWNhdG9yRGF0YTogcmVzcG9uc2VBdXRoZW50aWNhdG9yRGF0YSxcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY2xpZW50RXh0ZW5zaW9uUmVzdWx0czogY3JlZGVudGlhbC5nZXRDbGllbnRFeHRlbnNpb25SZXN1bHRzKCksXG4gICAgICAgIGF1dGhlbnRpY2F0b3JBdHRhY2htZW50OiB0b0F1dGhlbnRpY2F0b3JBdHRhY2htZW50KGNyZWRlbnRpYWwuYXV0aGVudGljYXRvckF0dGFjaG1lbnQpLFxuICAgIH07XG59XG5mdW5jdGlvbiB3YXJuT25Ccm9rZW5JbXBsZW1lbnRhdGlvbihtZXRob2ROYW1lLCBjYXVzZSkge1xuICAgIGNvbnNvbGUud2FybihgVGhlIGJyb3dzZXIgZXh0ZW5zaW9uIHRoYXQgaW50ZXJjZXB0ZWQgdGhpcyBXZWJBdXRobiBBUEkgY2FsbCBpbmNvcnJlY3RseSBpbXBsZW1lbnRlZCAke21ldGhvZE5hbWV9LiBZb3Ugc2hvdWxkIHJlcG9ydCB0aGlzIGVycm9yIHRvIHRoZW0uXFxuYCwgY2F1c2UpO1xufVxuXG5mdW5jdGlvbiBicm93c2VyU3VwcG9ydHNXZWJBdXRobkF1dG9maWxsKCkge1xuICAgIGlmICghYnJvd3NlclN1cHBvcnRzV2ViQXV0aG4oKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUoZmFsc2UpKTtcbiAgICB9XG4gICAgY29uc3QgZ2xvYmFsUHVibGljS2V5Q3JlZGVudGlhbCA9IHdpbmRvd1xuICAgICAgICAuUHVibGljS2V5Q3JlZGVudGlhbDtcbiAgICBpZiAoZ2xvYmFsUHVibGljS2V5Q3JlZGVudGlhbC5pc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKGZhbHNlKSk7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxQdWJsaWNLZXlDcmVkZW50aWFsLmlzQ29uZGl0aW9uYWxNZWRpYXRpb25BdmFpbGFibGUoKTtcbn1cblxuZnVuY3Rpb24gaWRlbnRpZnlBdXRoZW50aWNhdGlvbkVycm9yKHsgZXJyb3IsIG9wdGlvbnMsIH0pIHtcbiAgICBjb25zdCB7IHB1YmxpY0tleSB9ID0gb3B0aW9ucztcbiAgICBpZiAoIXB1YmxpY0tleSkge1xuICAgICAgICB0aHJvdyBFcnJvcignb3B0aW9ucyB3YXMgbWlzc2luZyByZXF1aXJlZCBwdWJsaWNLZXkgcHJvcGVydHknKTtcbiAgICB9XG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICBpZiAob3B0aW9ucy5zaWduYWwgaW5zdGFuY2VvZiBBYm9ydFNpZ25hbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWJBdXRobkVycm9yKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQXV0aGVudGljYXRpb24gY2VyZW1vbnkgd2FzIHNlbnQgYW4gYWJvcnQgc2lnbmFsJyxcbiAgICAgICAgICAgICAgICBjb2RlOiAnRVJST1JfQ0VSRU1PTllfQUJPUlRFRCcsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXZWJBdXRobkVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBjb2RlOiAnRVJST1JfUEFTU1RIUk9VR0hfU0VFX0NBVVNFX1BST1BFUlRZJyxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdTZWN1cml0eUVycm9yJykge1xuICAgICAgICBjb25zdCBlZmZlY3RpdmVEb21haW4gPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgICAgIGlmICghaXNWYWxpZERvbWFpbihlZmZlY3RpdmVEb21haW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYkF1dGhuRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGAke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX0gaXMgYW4gaW52YWxpZCBkb21haW5gLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9JTlZBTElEX0RPTUFJTicsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHVibGljS2V5LnJwSWQgIT09IGVmZmVjdGl2ZURvbWFpbikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWJBdXRobkVycm9yKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVGhlIFJQIElEIFwiJHtwdWJsaWNLZXkucnBJZH1cIiBpcyBpbnZhbGlkIGZvciB0aGlzIGRvbWFpbmAsXG4gICAgICAgICAgICAgICAgY29kZTogJ0VSUk9SX0lOVkFMSURfUlBfSUQnLFxuICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdVbmtub3duRXJyb3InKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViQXV0aG5FcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnVGhlIGF1dGhlbnRpY2F0b3Igd2FzIHVuYWJsZSB0byBwcm9jZXNzIHRoZSBzcGVjaWZpZWQgb3B0aW9ucywgb3IgY291bGQgbm90IGNyZWF0ZSBhIG5ldyBhc3NlcnRpb24gc2lnbmF0dXJlJyxcbiAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9BVVRIRU5USUNBVE9SX0dFTkVSQUxfRVJST1InLFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzdGFydEF1dGhlbnRpY2F0aW9uKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IG9wdGlvbnNKU09OLCB1c2VCcm93c2VyQXV0b2ZpbGwgPSBmYWxzZSwgdmVyaWZ5QnJvd3NlckF1dG9maWxsSW5wdXQgPSB0cnVlLCB9ID0gb3B0aW9ucztcbiAgICBpZiAoIWJyb3dzZXJTdXBwb3J0c1dlYkF1dGhuKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJBdXRobiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlcicpO1xuICAgIH1cbiAgICBsZXQgYWxsb3dDcmVkZW50aWFscztcbiAgICBpZiAob3B0aW9uc0pTT04uYWxsb3dDcmVkZW50aWFscz8ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGFsbG93Q3JlZGVudGlhbHMgPSBvcHRpb25zSlNPTi5hbGxvd0NyZWRlbnRpYWxzPy5tYXAodG9QdWJsaWNLZXlDcmVkZW50aWFsRGVzY3JpcHRvcik7XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0tleSA9IHtcbiAgICAgICAgLi4ub3B0aW9uc0pTT04sXG4gICAgICAgIGNoYWxsZW5nZTogYmFzZTY0VVJMU3RyaW5nVG9CdWZmZXIob3B0aW9uc0pTT04uY2hhbGxlbmdlKSxcbiAgICAgICAgYWxsb3dDcmVkZW50aWFscyxcbiAgICB9O1xuICAgIGNvbnN0IGdldE9wdGlvbnMgPSB7fTtcbiAgICBpZiAodXNlQnJvd3NlckF1dG9maWxsKSB7XG4gICAgICAgIGlmICghKGF3YWl0IGJyb3dzZXJTdXBwb3J0c1dlYkF1dGhuQXV0b2ZpbGwoKSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViQXV0aG4gYXV0b2ZpbGwnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGlnaWJsZUlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFthdXRvY29tcGxldGUkPSd3ZWJhdXRobiddXCIpO1xuICAgICAgICBpZiAoZWxpZ2libGVJbnB1dHMubGVuZ3RoIDwgMSAmJiB2ZXJpZnlCcm93c2VyQXV0b2ZpbGxJbnB1dCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ05vIDxpbnB1dD4gd2l0aCBcIndlYmF1dGhuXCIgYXMgdGhlIG9ubHkgb3IgbGFzdCB2YWx1ZSBpbiBpdHMgYGF1dG9jb21wbGV0ZWAgYXR0cmlidXRlIHdhcyBkZXRlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGdldE9wdGlvbnMubWVkaWF0aW9uID0gJ2NvbmRpdGlvbmFsJztcbiAgICAgICAgcHVibGljS2V5LmFsbG93Q3JlZGVudGlhbHMgPSBbXTtcbiAgICB9XG4gICAgZ2V0T3B0aW9ucy5wdWJsaWNLZXkgPSBwdWJsaWNLZXk7XG4gICAgZ2V0T3B0aW9ucy5zaWduYWwgPSBXZWJBdXRobkFib3J0U2VydmljZS5jcmVhdGVOZXdBYm9ydFNpZ25hbCgpO1xuICAgIGxldCBjcmVkZW50aWFsO1xuICAgIHRyeSB7XG4gICAgICAgIGNyZWRlbnRpYWwgPSAoYXdhaXQgbmF2aWdhdG9yLmNyZWRlbnRpYWxzLmdldChnZXRPcHRpb25zKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgaWRlbnRpZnlBdXRoZW50aWNhdGlvbkVycm9yKHsgZXJyb3I6IGVyciwgb3B0aW9uczogZ2V0T3B0aW9ucyB9KTtcbiAgICB9XG4gICAgaWYgKCFjcmVkZW50aWFsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gd2FzIG5vdCBjb21wbGV0ZWQnKTtcbiAgICB9XG4gICAgY29uc3QgeyBpZCwgcmF3SWQsIHJlc3BvbnNlLCB0eXBlIH0gPSBjcmVkZW50aWFsO1xuICAgIGxldCB1c2VySGFuZGxlID0gdW5kZWZpbmVkO1xuICAgIGlmIChyZXNwb25zZS51c2VySGFuZGxlKSB7XG4gICAgICAgIHVzZXJIYW5kbGUgPSBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZyhyZXNwb25zZS51c2VySGFuZGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIHJhd0lkOiBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZyhyYXdJZCksXG4gICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICBhdXRoZW50aWNhdG9yRGF0YTogYnVmZmVyVG9CYXNlNjRVUkxTdHJpbmcocmVzcG9uc2UuYXV0aGVudGljYXRvckRhdGEpLFxuICAgICAgICAgICAgY2xpZW50RGF0YUpTT046IGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKHJlc3BvbnNlLmNsaWVudERhdGFKU09OKSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogYnVmZmVyVG9CYXNlNjRVUkxTdHJpbmcocmVzcG9uc2Uuc2lnbmF0dXJlKSxcbiAgICAgICAgICAgIHVzZXJIYW5kbGUsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNsaWVudEV4dGVuc2lvblJlc3VsdHM6IGNyZWRlbnRpYWwuZ2V0Q2xpZW50RXh0ZW5zaW9uUmVzdWx0cygpLFxuICAgICAgICBhdXRoZW50aWNhdG9yQXR0YWNobWVudDogdG9BdXRoZW50aWNhdG9yQXR0YWNobWVudChjcmVkZW50aWFsLmF1dGhlbnRpY2F0b3JBdHRhY2htZW50KSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBwbGF0Zm9ybUF1dGhlbnRpY2F0b3JJc0F2YWlsYWJsZSgpIHtcbiAgICBpZiAoIWJyb3dzZXJTdXBwb3J0c1dlYkF1dGhuKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKGZhbHNlKSk7XG4gICAgfVxuICAgIHJldHVybiBQdWJsaWNLZXlDcmVkZW50aWFsLmlzVXNlclZlcmlmeWluZ1BsYXRmb3JtQXV0aGVudGljYXRvckF2YWlsYWJsZSgpO1xufVxuXG5leHBvcnQgeyBXZWJBdXRobkFib3J0U2VydmljZSwgV2ViQXV0aG5FcnJvciwgYmFzZTY0VVJMU3RyaW5nVG9CdWZmZXIsIGJyb3dzZXJTdXBwb3J0c1dlYkF1dGhuLCBicm93c2VyU3VwcG9ydHNXZWJBdXRobkF1dG9maWxsLCBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZywgcGxhdGZvcm1BdXRoZW50aWNhdG9ySXNBdmFpbGFibGUsIHN0YXJ0QXV0aGVudGljYXRpb24sIHN0YXJ0UmVnaXN0cmF0aW9uIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@simplewebauthn/browser/dist/bundle/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/index.default.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@stackframe/stack-sc/dist/index.default.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookies: () => (/* binding */ cookies),\n/* harmony export */   headers: () => (/* binding */ headers),\n/* harmony export */   isReactServer: () => (/* binding */ isReactServer)\n/* harmony export */ });\nconst cookies = undefined;\nconst headers = undefined;\nconst isReactServer = false;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zYy9kaXN0L2luZGV4LmRlZmF1bHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU87QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNjXFxkaXN0XFxpbmRleC5kZWZhdWx0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjb29raWVzID0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IGhlYWRlcnMgPSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgaXNSZWFjdFNlcnZlciA9IGZhbHNlO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/index.default.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/index.react-server.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-sc/dist/index.react-server.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookies: () => (/* binding */ cookies),\n/* harmony export */   headers: () => (/* binding */ headers),\n/* harmony export */   isReactServer: () => (/* binding */ isReactServer)\n/* harmony export */ });\n/* harmony import */ var _next_static_analysis_workaround__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./next-static-analysis-workaround */ \"(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/next-static-analysis-workaround.js\");\nconst isReactServer = true;\n// In Next.js 15, the `next/headers` module returns async functions.\n// Since we support both Next.js 14 and 15, we return a union of the two.\n// TODO: Remove this once we drop support for Next.js 14, and replace it with `export { cookies, headers } from 'next/headers';`\n// https://nextjs.org/blog/next-15#async-request-apis-breaking-change\n\nconst cookies = _next_static_analysis_workaround__WEBPACK_IMPORTED_MODULE_0__.cookies;\nconst headers = _next_static_analysis_workaround__WEBPACK_IMPORTED_MODULE_0__.headers;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zYy9kaXN0L2luZGV4LnJlYWN0LXNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0Esd0ZBQXdGLG1CQUFtQixvQkFBb0I7QUFDL0g7QUFDbUc7QUFDNUYsZ0JBQWdCLHFFQUFXO0FBQzNCLGdCQUFnQixxRUFBVyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zY1xcZGlzdFxcaW5kZXgucmVhY3Qtc2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc1JlYWN0U2VydmVyID0gdHJ1ZTtcbi8vIEluIE5leHQuanMgMTUsIHRoZSBgbmV4dC9oZWFkZXJzYCBtb2R1bGUgcmV0dXJucyBhc3luYyBmdW5jdGlvbnMuXG4vLyBTaW5jZSB3ZSBzdXBwb3J0IGJvdGggTmV4dC5qcyAxNCBhbmQgMTUsIHdlIHJldHVybiBhIHVuaW9uIG9mIHRoZSB0d28uXG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBvbmNlIHdlIGRyb3Agc3VwcG9ydCBmb3IgTmV4dC5qcyAxNCwgYW5kIHJlcGxhY2UgaXQgd2l0aCBgZXhwb3J0IHsgY29va2llcywgaGVhZGVycyB9IGZyb20gJ25leHQvaGVhZGVycyc7YFxuLy8gaHR0cHM6Ly9uZXh0anMub3JnL2Jsb2cvbmV4dC0xNSNhc3luYy1yZXF1ZXN0LWFwaXMtYnJlYWtpbmctY2hhbmdlXG5pbXBvcnQgeyBjb29raWVzIGFzIG5leHRDb29raWVzLCBoZWFkZXJzIGFzIG5leHRIZWFkZXJzIH0gZnJvbSAnLi9uZXh0LXN0YXRpYy1hbmFseXNpcy13b3JrYXJvdW5kJztcbmV4cG9ydCBjb25zdCBjb29raWVzID0gbmV4dENvb2tpZXM7XG5leHBvcnQgY29uc3QgaGVhZGVycyA9IG5leHRIZWFkZXJzO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/index.react-server.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/next-static-analysis-workaround.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-sc/dist/next-static-analysis-workaround.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __esModule: () => (/* reexport safe */ next_headers__WEBPACK_IMPORTED_MODULE_0__.__esModule),\n/* harmony export */   cookies: () => (/* reexport safe */ next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies),\n/* harmony export */   draftMode: () => (/* reexport safe */ next_headers__WEBPACK_IMPORTED_MODULE_0__.draftMode),\n/* harmony export */   headers: () => (/* reexport safe */ next_headers__WEBPACK_IMPORTED_MODULE_0__.headers)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(app-pages-browser)/./node_modules/next/dist/api/headers.js\");\n// Next statically analyzes the imports and ensures that the `next/headers` module is never imported on a client bundle.\n//\n// We know what we're doing though. We ensure at runtime that we never use the module unless we're on the server, so the\n// static analysis is wrong.\n//\n// Fortunately, as a hack, we can get around it by importing them using the `export from` syntax, which the static\n// analyzer does not detect, but Webpack is fine with it.\n//\n// So, we can use the export syntax here, and then import them normally in the main file.\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zYy9kaXN0L25leHQtc3RhdGljLWFuYWx5c2lzLXdvcmthcm91bmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2NcXGRpc3RcXG5leHQtc3RhdGljLWFuYWx5c2lzLXdvcmthcm91bmQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTmV4dCBzdGF0aWNhbGx5IGFuYWx5emVzIHRoZSBpbXBvcnRzIGFuZCBlbnN1cmVzIHRoYXQgdGhlIGBuZXh0L2hlYWRlcnNgIG1vZHVsZSBpcyBuZXZlciBpbXBvcnRlZCBvbiBhIGNsaWVudCBidW5kbGUuXG4vL1xuLy8gV2Uga25vdyB3aGF0IHdlJ3JlIGRvaW5nIHRob3VnaC4gV2UgZW5zdXJlIGF0IHJ1bnRpbWUgdGhhdCB3ZSBuZXZlciB1c2UgdGhlIG1vZHVsZSB1bmxlc3Mgd2UncmUgb24gdGhlIHNlcnZlciwgc28gdGhlXG4vLyBzdGF0aWMgYW5hbHlzaXMgaXMgd3JvbmcuXG4vL1xuLy8gRm9ydHVuYXRlbHksIGFzIGEgaGFjaywgd2UgY2FuIGdldCBhcm91bmQgaXQgYnkgaW1wb3J0aW5nIHRoZW0gdXNpbmcgdGhlIGBleHBvcnQgZnJvbWAgc3ludGF4LCB3aGljaCB0aGUgc3RhdGljXG4vLyBhbmFseXplciBkb2VzIG5vdCBkZXRlY3QsIGJ1dCBXZWJwYWNrIGlzIGZpbmUgd2l0aCBpdC5cbi8vXG4vLyBTbywgd2UgY2FuIHVzZSB0aGUgZXhwb3J0IHN5bnRheCBoZXJlLCBhbmQgdGhlbiBpbXBvcnQgdGhlbSBub3JtYWxseSBpbiB0aGUgbWFpbiBmaWxlLlxuZXhwb3J0ICogZnJvbSAnbmV4dC9oZWFkZXJzJztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/next-static-analysis-workaround.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/helpers/production-mode.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/helpers/production-mode.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getProductionModeErrors: () => (/* binding */ getProductionModeErrors)\n/* harmony export */ });\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _utils_urls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/urls.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js\");\n// src/helpers/production-mode.ts\n\n\nfunction getProductionModeErrors(project) {\n  const errors = [];\n  const domainsFixUrl = `/projects/${project.id}/domains`;\n  if (project.config.allow_localhost) {\n    errors.push({\n      message: \"Localhost is not allowed in production mode, turn off 'Allow localhost' in project settings\",\n      relativeFixUrl: domainsFixUrl\n    });\n  }\n  for (const { domain } of project.config.domains) {\n    let url;\n    try {\n      const normalizedDomain = domain.replace(/\\*+/g, \"wildcard-placeholder\");\n      url = new URL(normalizedDomain);\n    } catch (e) {\n      (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.captureError)(\"production-mode-domain-not-valid\", new _utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"Domain was somehow not a valid URL; we should've caught this when setting the domain in the first place\", {\n        domain,\n        projectId: project\n      }));\n      errors.push({\n        message: \"Trusted domain is not a valid URL: \" + domain,\n        relativeFixUrl: domainsFixUrl\n      });\n      continue;\n    }\n    if ((0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_1__.isLocalhost)(url)) {\n      errors.push({\n        message: \"Localhost domains are not allowed to be trusted in production mode: \" + domain,\n        relativeFixUrl: domainsFixUrl\n      });\n    } else if (url.hostname.match(/^\\d+(\\.\\d+)*$/)) {\n      errors.push({\n        message: \"Direct IPs are not valid for trusted domains in production mode: \" + domain,\n        relativeFixUrl: domainsFixUrl\n      });\n    } else if (url.protocol !== \"https:\") {\n      errors.push({\n        message: \"Trusted domains should be HTTPS: \" + domain,\n        relativeFixUrl: domainsFixUrl\n      });\n    }\n  }\n  return errors;\n}\n\n//# sourceMappingURL=production-mode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vaGVscGVycy9wcm9kdWN0aW9uLW1vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDdUU7QUFDeEI7QUFDL0M7QUFDQTtBQUNBLHFDQUFxQyxXQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU0sOERBQVkseUNBQXlDLGlFQUFtQixzQ0FBc0M7QUFDcEg7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsMkRBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXGhlbHBlcnNcXHByb2R1Y3Rpb24tbW9kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaGVscGVycy9wcm9kdWN0aW9uLW1vZGUudHNcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IsIGNhcHR1cmVFcnJvciB9IGZyb20gXCIuLi91dGlscy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGlzTG9jYWxob3N0IH0gZnJvbSBcIi4uL3V0aWxzL3VybHMuanNcIjtcbmZ1bmN0aW9uIGdldFByb2R1Y3Rpb25Nb2RlRXJyb3JzKHByb2plY3QpIHtcbiAgY29uc3QgZXJyb3JzID0gW107XG4gIGNvbnN0IGRvbWFpbnNGaXhVcmwgPSBgL3Byb2plY3RzLyR7cHJvamVjdC5pZH0vZG9tYWluc2A7XG4gIGlmIChwcm9qZWN0LmNvbmZpZy5hbGxvd19sb2NhbGhvc3QpIHtcbiAgICBlcnJvcnMucHVzaCh7XG4gICAgICBtZXNzYWdlOiBcIkxvY2FsaG9zdCBpcyBub3QgYWxsb3dlZCBpbiBwcm9kdWN0aW9uIG1vZGUsIHR1cm4gb2ZmICdBbGxvdyBsb2NhbGhvc3QnIGluIHByb2plY3Qgc2V0dGluZ3NcIixcbiAgICAgIHJlbGF0aXZlRml4VXJsOiBkb21haW5zRml4VXJsXG4gICAgfSk7XG4gIH1cbiAgZm9yIChjb25zdCB7IGRvbWFpbiB9IG9mIHByb2plY3QuY29uZmlnLmRvbWFpbnMpIHtcbiAgICBsZXQgdXJsO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRG9tYWluID0gZG9tYWluLnJlcGxhY2UoL1xcKisvZywgXCJ3aWxkY2FyZC1wbGFjZWhvbGRlclwiKTtcbiAgICAgIHVybCA9IG5ldyBVUkwobm9ybWFsaXplZERvbWFpbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY2FwdHVyZUVycm9yKFwicHJvZHVjdGlvbi1tb2RlLWRvbWFpbi1ub3QtdmFsaWRcIiwgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJEb21haW4gd2FzIHNvbWVob3cgbm90IGEgdmFsaWQgVVJMOyB3ZSBzaG91bGQndmUgY2F1Z2h0IHRoaXMgd2hlbiBzZXR0aW5nIHRoZSBkb21haW4gaW4gdGhlIGZpcnN0IHBsYWNlXCIsIHtcbiAgICAgICAgZG9tYWluLFxuICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RcbiAgICAgIH0pKTtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgbWVzc2FnZTogXCJUcnVzdGVkIGRvbWFpbiBpcyBub3QgYSB2YWxpZCBVUkw6IFwiICsgZG9tYWluLFxuICAgICAgICByZWxhdGl2ZUZpeFVybDogZG9tYWluc0ZpeFVybFxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGlzTG9jYWxob3N0KHVybCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgbWVzc2FnZTogXCJMb2NhbGhvc3QgZG9tYWlucyBhcmUgbm90IGFsbG93ZWQgdG8gYmUgdHJ1c3RlZCBpbiBwcm9kdWN0aW9uIG1vZGU6IFwiICsgZG9tYWluLFxuICAgICAgICByZWxhdGl2ZUZpeFVybDogZG9tYWluc0ZpeFVybFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh1cmwuaG9zdG5hbWUubWF0Y2goL15cXGQrKFxcLlxcZCspKiQvKSkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBtZXNzYWdlOiBcIkRpcmVjdCBJUHMgYXJlIG5vdCB2YWxpZCBmb3IgdHJ1c3RlZCBkb21haW5zIGluIHByb2R1Y3Rpb24gbW9kZTogXCIgKyBkb21haW4sXG4gICAgICAgIHJlbGF0aXZlRml4VXJsOiBkb21haW5zRml4VXJsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHVybC5wcm90b2NvbCAhPT0gXCJodHRwczpcIikge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBtZXNzYWdlOiBcIlRydXN0ZWQgZG9tYWlucyBzaG91bGQgYmUgSFRUUFM6IFwiICsgZG9tYWluLFxuICAgICAgICByZWxhdGl2ZUZpeFVybDogZG9tYWluc0ZpeFVybFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlcnJvcnM7XG59XG5leHBvcnQge1xuICBnZXRQcm9kdWN0aW9uTW9kZUVycm9yc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2R1Y3Rpb24tbW9kZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/helpers/production-mode.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/helpers/vault/client-side.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/helpers/vault/client-side.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decryptValue: () => (/* binding */ decryptValue),\n/* harmony export */   encryptValue: () => (/* binding */ encryptValue),\n/* harmony export */   hashKey: () => (/* binding */ hashKey)\n/* harmony export */ });\n/* harmony import */ var _utils_bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/bytes.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js\");\n/* harmony import */ var _utils_crypto_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/crypto.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js\");\n// src/helpers/vault/client-side.ts\n\n\nvar hashPurpose = \"stack-data-vault-client-side-encryption-key-hash\";\nvar encryptionSecretPurpose = \"stack-data-vault-client-side-encryption-value-encryption-key-hash\";\nvar encryptionValuePurpose = \"stack-data-vault-client-side-encryption-value-encryption-value-encryption\";\nasync function getDerivedKey(secret, key) {\n  return await (0,_utils_crypto_js__WEBPACK_IMPORTED_MODULE_1__.iteratedHash)({\n    purpose: encryptionSecretPurpose,\n    extra: secret,\n    value: key,\n    iterations: 1e5\n  });\n}\nasync function hashKey(secret, key) {\n  return (0,_utils_bytes_js__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(await (0,_utils_crypto_js__WEBPACK_IMPORTED_MODULE_1__.hash)({\n    purpose: hashPurpose,\n    extra: secret,\n    value: await getDerivedKey(secret, key)\n  }));\n}\nasync function encryptValue(secret, key, value) {\n  const valueEncryptionDerivedKey = await getDerivedKey(secret, key);\n  const bytes = await (0,_utils_crypto_js__WEBPACK_IMPORTED_MODULE_1__.encrypt)({\n    purpose: encryptionValuePurpose,\n    secret: valueEncryptionDerivedKey,\n    value: new TextEncoder().encode(value)\n  });\n  return (0,_utils_bytes_js__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(bytes);\n}\nasync function decryptValue(secret, key, encryptedValue) {\n  const valueEncryptionDerivedKey = await getDerivedKey(secret, key);\n  const bytesResult = await (0,_utils_crypto_js__WEBPACK_IMPORTED_MODULE_1__.decrypt)({\n    purpose: encryptionValuePurpose,\n    secret: valueEncryptionDerivedKey,\n    cipher: (0,_utils_bytes_js__WEBPACK_IMPORTED_MODULE_0__.decodeBase64)(encryptedValue)\n  });\n  if (bytesResult.status === \"error\") throw new Error(\"Data vault client-side decryption failed. Are you sure you're using the correct secret?\", { cause: bytesResult.error });\n  return new TextDecoder().decode(bytesResult.data);\n}\n\n//# sourceMappingURL=client-side.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vaGVscGVycy92YXVsdC9jbGllbnQtc2lkZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ2tFO0FBQ1c7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhEQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxTQUFTLDZEQUFZLE9BQU8sc0RBQUk7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyw2REFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseURBQU87QUFDbkM7QUFDQTtBQUNBLFlBQVksNkRBQVk7QUFDeEIsR0FBRztBQUNILG1KQUFtSiwwQkFBMEI7QUFDN0s7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXGhlbHBlcnNcXHZhdWx0XFxjbGllbnQtc2lkZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaGVscGVycy92YXVsdC9jbGllbnQtc2lkZS50c1xuaW1wb3J0IHsgZGVjb2RlQmFzZTY0LCBlbmNvZGVCYXNlNjQgfSBmcm9tIFwiLi4vLi4vdXRpbHMvYnl0ZXMuanNcIjtcbmltcG9ydCB7IGRlY3J5cHQsIGVuY3J5cHQsIGhhc2gsIGl0ZXJhdGVkSGFzaCB9IGZyb20gXCIuLi8uLi91dGlscy9jcnlwdG8uanNcIjtcbnZhciBoYXNoUHVycG9zZSA9IFwic3RhY2stZGF0YS12YXVsdC1jbGllbnQtc2lkZS1lbmNyeXB0aW9uLWtleS1oYXNoXCI7XG52YXIgZW5jcnlwdGlvblNlY3JldFB1cnBvc2UgPSBcInN0YWNrLWRhdGEtdmF1bHQtY2xpZW50LXNpZGUtZW5jcnlwdGlvbi12YWx1ZS1lbmNyeXB0aW9uLWtleS1oYXNoXCI7XG52YXIgZW5jcnlwdGlvblZhbHVlUHVycG9zZSA9IFwic3RhY2stZGF0YS12YXVsdC1jbGllbnQtc2lkZS1lbmNyeXB0aW9uLXZhbHVlLWVuY3J5cHRpb24tdmFsdWUtZW5jcnlwdGlvblwiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0RGVyaXZlZEtleShzZWNyZXQsIGtleSkge1xuICByZXR1cm4gYXdhaXQgaXRlcmF0ZWRIYXNoKHtcbiAgICBwdXJwb3NlOiBlbmNyeXB0aW9uU2VjcmV0UHVycG9zZSxcbiAgICBleHRyYTogc2VjcmV0LFxuICAgIHZhbHVlOiBrZXksXG4gICAgaXRlcmF0aW9uczogMWU1XG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFzaEtleShzZWNyZXQsIGtleSkge1xuICByZXR1cm4gZW5jb2RlQmFzZTY0KGF3YWl0IGhhc2goe1xuICAgIHB1cnBvc2U6IGhhc2hQdXJwb3NlLFxuICAgIGV4dHJhOiBzZWNyZXQsXG4gICAgdmFsdWU6IGF3YWl0IGdldERlcml2ZWRLZXkoc2VjcmV0LCBrZXkpXG4gIH0pKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRWYWx1ZShzZWNyZXQsIGtleSwgdmFsdWUpIHtcbiAgY29uc3QgdmFsdWVFbmNyeXB0aW9uRGVyaXZlZEtleSA9IGF3YWl0IGdldERlcml2ZWRLZXkoc2VjcmV0LCBrZXkpO1xuICBjb25zdCBieXRlcyA9IGF3YWl0IGVuY3J5cHQoe1xuICAgIHB1cnBvc2U6IGVuY3J5cHRpb25WYWx1ZVB1cnBvc2UsXG4gICAgc2VjcmV0OiB2YWx1ZUVuY3J5cHRpb25EZXJpdmVkS2V5LFxuICAgIHZhbHVlOiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodmFsdWUpXG4gIH0pO1xuICByZXR1cm4gZW5jb2RlQmFzZTY0KGJ5dGVzKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlY3J5cHRWYWx1ZShzZWNyZXQsIGtleSwgZW5jcnlwdGVkVmFsdWUpIHtcbiAgY29uc3QgdmFsdWVFbmNyeXB0aW9uRGVyaXZlZEtleSA9IGF3YWl0IGdldERlcml2ZWRLZXkoc2VjcmV0LCBrZXkpO1xuICBjb25zdCBieXRlc1Jlc3VsdCA9IGF3YWl0IGRlY3J5cHQoe1xuICAgIHB1cnBvc2U6IGVuY3J5cHRpb25WYWx1ZVB1cnBvc2UsXG4gICAgc2VjcmV0OiB2YWx1ZUVuY3J5cHRpb25EZXJpdmVkS2V5LFxuICAgIGNpcGhlcjogZGVjb2RlQmFzZTY0KGVuY3J5cHRlZFZhbHVlKVxuICB9KTtcbiAgaWYgKGJ5dGVzUmVzdWx0LnN0YXR1cyA9PT0gXCJlcnJvclwiKSB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIHZhdWx0IGNsaWVudC1zaWRlIGRlY3J5cHRpb24gZmFpbGVkLiBBcmUgeW91IHN1cmUgeW91J3JlIHVzaW5nIHRoZSBjb3JyZWN0IHNlY3JldD9cIiwgeyBjYXVzZTogYnl0ZXNSZXN1bHQuZXJyb3IgfSk7XG4gIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYnl0ZXNSZXN1bHQuZGF0YSk7XG59XG5leHBvcnQge1xuICBkZWNyeXB0VmFsdWUsXG4gIGVuY3J5cHRWYWx1ZSxcbiAgaGFzaEtleVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC1zaWRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/helpers/vault/client-side.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KnownError: () => (/* reexport safe */ _known_errors_js__WEBPACK_IMPORTED_MODULE_3__.KnownError),\n/* harmony export */   KnownErrors: () => (/* reexport safe */ _known_errors_js__WEBPACK_IMPORTED_MODULE_3__.KnownErrors),\n/* harmony export */   StackAdminInterface: () => (/* reexport safe */ _interface_admin_interface_js__WEBPACK_IMPORTED_MODULE_0__.StackAdminInterface),\n/* harmony export */   StackClientInterface: () => (/* reexport safe */ _interface_client_interface_js__WEBPACK_IMPORTED_MODULE_1__.StackClientInterface),\n/* harmony export */   StackServerInterface: () => (/* reexport safe */ _interface_server_interface_js__WEBPACK_IMPORTED_MODULE_2__.StackServerInterface)\n/* harmony export */ });\n/* harmony import */ var _interface_admin_interface_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interface/admin-interface.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/admin-interface.js\");\n/* harmony import */ var _interface_client_interface_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interface/client-interface.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/client-interface.js\");\n/* harmony import */ var _interface_server_interface_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interface/server-interface.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/server-interface.js\");\n/* harmony import */ var _known_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./known-errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js\");\n// src/index.ts\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFHd0M7QUFHQztBQUdBO0FBSWQ7QUFPekI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQge1xuICBTdGFja0FkbWluSW50ZXJmYWNlXG59IGZyb20gXCIuL2ludGVyZmFjZS9hZG1pbi1pbnRlcmZhY2UuanNcIjtcbmltcG9ydCB7XG4gIFN0YWNrQ2xpZW50SW50ZXJmYWNlXG59IGZyb20gXCIuL2ludGVyZmFjZS9jbGllbnQtaW50ZXJmYWNlLmpzXCI7XG5pbXBvcnQge1xuICBTdGFja1NlcnZlckludGVyZmFjZVxufSBmcm9tIFwiLi9pbnRlcmZhY2Uvc2VydmVyLWludGVyZmFjZS5qc1wiO1xuaW1wb3J0IHtcbiAgS25vd25FcnJvcixcbiAgS25vd25FcnJvcnNcbn0gZnJvbSBcIi4va25vd24tZXJyb3JzLmpzXCI7XG5leHBvcnQge1xuICBLbm93bkVycm9yLFxuICBLbm93bkVycm9ycyxcbiAgU3RhY2tBZG1pbkludGVyZmFjZSxcbiAgU3RhY2tDbGllbnRJbnRlcmZhY2UsXG4gIFN0YWNrU2VydmVySW50ZXJmYWNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/admin-interface.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/interface/admin-interface.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackAdminInterface: () => (/* binding */ StackAdminInterface)\n/* harmony export */ });\n/* harmony import */ var _known_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../known-errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js\");\n/* harmony import */ var _utils_results_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _server_interface_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./server-interface.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/server-interface.js\");\n// src/interface/admin-interface.ts\n\n\n\nvar StackAdminInterface = class extends _server_interface_js__WEBPACK_IMPORTED_MODULE_2__.StackServerInterface {\n  constructor(options) {\n    super(options);\n    this.options = options;\n  }\n  async sendAdminRequest(path, options, session, requestType = \"admin\") {\n    return await this.sendServerRequest(\n      path,\n      {\n        ...options,\n        headers: {\n          \"x-stack-super-secret-admin-key\": \"superSecretAdminKey\" in this.options ? this.options.superSecretAdminKey : \"\",\n          ...options.headers\n        }\n      },\n      session,\n      requestType\n    );\n  }\n  async sendAdminRequestAndCatchKnownError(path, requestOptions, tokenStoreOrNull, errorsToCatch) {\n    try {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_1__.Result.ok(await this.sendAdminRequest(path, requestOptions, tokenStoreOrNull));\n    } catch (e) {\n      for (const errorType of errorsToCatch) {\n        if (errorType.isInstance(e)) {\n          return _utils_results_js__WEBPACK_IMPORTED_MODULE_1__.Result.error(e);\n        }\n      }\n      throw e;\n    }\n  }\n  async getProject() {\n    const response = await this.sendAdminRequest(\n      \"/internal/projects/current\",\n      {\n        method: \"GET\"\n      },\n      null\n    );\n    return await response.json();\n  }\n  async updateProject(update) {\n    const response = await this.sendAdminRequest(\n      \"/internal/projects/current\",\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(update)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async createInternalApiKey(options) {\n    const response = await this.sendAdminRequest(\n      \"/internal/api-keys\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async listInternalApiKeys() {\n    const response = await this.sendAdminRequest(\"/internal/api-keys\", {}, null);\n    const result = await response.json();\n    return result.items;\n  }\n  async revokeInternalApiKeyById(id) {\n    await this.sendAdminRequest(\n      `/internal/api-keys/${id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          revoked: true\n        })\n      },\n      null\n    );\n  }\n  async getInternalApiKey(id, session) {\n    const response = await this.sendAdminRequest(`/internal/api-keys/${id}`, {}, session);\n    return await response.json();\n  }\n  async listInternalEmailTemplates() {\n    const response = await this.sendAdminRequest(`/internal/email-templates`, {}, null);\n    const result = await response.json();\n    return result.templates;\n  }\n  async listInternalEmailDrafts() {\n    const response = await this.sendAdminRequest(`/internal/email-drafts`, {}, null);\n    const result = await response.json();\n    return result.drafts;\n  }\n  async createEmailDraft(options) {\n    const response = await this.sendAdminRequest(\n      `/internal/email-drafts`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async updateEmailDraft(id, data) {\n    await this.sendAdminRequest(\n      `/internal/email-drafts/${id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n  }\n  async listEmailThemes() {\n    const response = await this.sendAdminRequest(`/internal/email-themes`, {}, null);\n    const result = await response.json();\n    return result.themes;\n  }\n  // Team permission definitions methods\n  async listTeamPermissionDefinitions() {\n    const response = await this.sendAdminRequest(`/team-permission-definitions`, {}, null);\n    const result = await response.json();\n    return result.items;\n  }\n  async createTeamPermissionDefinition(data) {\n    const response = await this.sendAdminRequest(\n      \"/team-permission-definitions\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async updateTeamPermissionDefinition(permissionId, data) {\n    const response = await this.sendAdminRequest(\n      `/team-permission-definitions/${permissionId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteTeamPermissionDefinition(permissionId) {\n    await this.sendAdminRequest(\n      `/team-permission-definitions/${permissionId}`,\n      { method: \"DELETE\" },\n      null\n    );\n  }\n  async listProjectPermissionDefinitions() {\n    const response = await this.sendAdminRequest(`/project-permission-definitions`, {}, null);\n    const result = await response.json();\n    return result.items;\n  }\n  async createProjectPermissionDefinition(data) {\n    const response = await this.sendAdminRequest(\n      \"/project-permission-definitions\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async updateProjectPermissionDefinition(permissionId, data) {\n    const response = await this.sendAdminRequest(\n      `/project-permission-definitions/${permissionId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteProjectPermissionDefinition(permissionId) {\n    await this.sendAdminRequest(\n      `/project-permission-definitions/${permissionId}`,\n      { method: \"DELETE\" },\n      null\n    );\n  }\n  async getSvixToken() {\n    const response = await this.sendAdminRequest(\n      \"/webhooks/svix-token\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteProject() {\n    await this.sendAdminRequest(\n      \"/internal/projects/current\",\n      {\n        method: \"DELETE\"\n      },\n      null\n    );\n  }\n  async transferProject(session, newTeamId) {\n    await this.sendAdminRequest(\n      \"/internal/projects/transfer\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          project_id: this.options.projectId,\n          new_team_id: newTeamId\n        })\n      },\n      session\n    );\n  }\n  async getMetrics(includeAnonymous = false) {\n    const params = new URLSearchParams();\n    if (includeAnonymous) {\n      params.append(\"include_anonymous\", \"true\");\n    }\n    const queryString = params.toString();\n    const response = await this.sendAdminRequest(\n      `/internal/metrics${queryString ? `?${queryString}` : \"\"}`,\n      {\n        method: \"GET\"\n      },\n      null\n    );\n    return await response.json();\n  }\n  async sendTestEmail(data) {\n    const response = await this.sendAdminRequest(`/internal/send-test-email`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }, null);\n    return await response.json();\n  }\n  async listSentEmails() {\n    const response = await this.sendAdminRequest(\"/internal/emails\", {\n      method: \"GET\"\n    }, null);\n    return await response.json();\n  }\n  async sendSignInInvitationEmail(email, callbackUrl) {\n    await this.sendAdminRequest(\n      \"/internal/send-sign-in-invitation\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          callback_url: callbackUrl\n        })\n      },\n      null\n    );\n  }\n  async sendChatMessage(threadId, contextType, messages, abortSignal) {\n    const response = await this.sendAdminRequest(\n      `/internal/ai-chat/${threadId}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ context_type: contextType, messages }),\n        signal: abortSignal\n      },\n      null\n    );\n    return await response.json();\n  }\n  async saveChatMessage(threadId, message) {\n    await this.sendAdminRequest(\n      `/internal/ai-chat/${threadId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ message })\n      },\n      null\n    );\n  }\n  async listChatMessages(threadId) {\n    const response = await this.sendAdminRequest(\n      `/internal/ai-chat/${threadId}`,\n      { method: \"GET\" },\n      null\n    );\n    return await response.json();\n  }\n  async renderEmailPreview(options) {\n    const response = await this.sendAdminRequest(`/emails/render-email`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        theme_id: options.themeId,\n        theme_tsx_source: options.themeTsxSource,\n        template_id: options.templateId,\n        template_tsx_source: options.templateTsxSource\n      })\n    }, null);\n    return await response.json();\n  }\n  async createEmailTheme(displayName) {\n    const response = await this.sendAdminRequest(\n      `/internal/email-themes`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          display_name: displayName\n        })\n      },\n      null\n    );\n    return await response.json();\n  }\n  async getEmailTheme(id) {\n    const response = await this.sendAdminRequest(\n      `/internal/email-themes/${id}`,\n      { method: \"GET\" },\n      null\n    );\n    return await response.json();\n  }\n  async updateEmailTheme(id, tsxSource) {\n    await this.sendAdminRequest(\n      `/internal/email-themes/${id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          tsx_source: tsxSource\n        })\n      },\n      null\n    );\n  }\n  async updateEmailTemplate(id, tsxSource, themeId) {\n    const response = await this.sendAdminRequest(\n      `/internal/email-templates/${id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ tsx_source: tsxSource, theme_id: themeId })\n      },\n      null\n    );\n    return await response.json();\n  }\n  async getConfig() {\n    const response = await this.sendAdminRequest(\n      `/internal/config`,\n      { method: \"GET\" },\n      null\n    );\n    return await response.json();\n  }\n  async updateConfig(data) {\n    const response = await this.sendAdminRequest(\n      `/internal/config/override`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ config_override_string: JSON.stringify(data.configOverride) })\n      },\n      null\n    );\n    return await response.json();\n  }\n  async createEmailTemplate(displayName) {\n    const response = await this.sendAdminRequest(\n      `/internal/email-templates`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          display_name: displayName\n        })\n      },\n      null\n    );\n    return await response.json();\n  }\n  async setupPayments() {\n    const response = await this.sendAdminRequest(\n      \"/internal/payments/setup\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n    return await response.json();\n  }\n  async getStripeAccountInfo() {\n    const response = await this.sendAdminRequestAndCatchKnownError(\n      \"/internal/payments/stripe/account-info\",\n      {},\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.StripeAccountInfoNotFound]\n    );\n    if (response.status === \"error\") {\n      return null;\n    }\n    return await response.data.json();\n  }\n  async createStripeWidgetAccountSession() {\n    const response = await this.sendAdminRequest(\n      \"/internal/payments/stripe-widgets/account-session\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n    return await response.json();\n  }\n  async listTransactions(params) {\n    const qs = new URLSearchParams();\n    if (params?.cursor) qs.set(\"cursor\", params.cursor);\n    if (typeof params?.limit === \"number\") qs.set(\"limit\", String(params.limit));\n    if (params?.type) qs.set(\"type\", params.type);\n    if (params?.customerType) qs.set(\"customer_type\", params.customerType);\n    const response = await this.sendAdminRequest(\n      `/internal/payments/transactions${qs.size ? `?${qs.toString()}` : \"\"}`,\n      { method: \"GET\" },\n      null\n    );\n    const json = await response.json();\n    return { transactions: json.transactions, nextCursor: json.next_cursor };\n  }\n  async testModePurchase(options) {\n    await this.sendAdminRequest(\n      \"/internal/payments/test-mode-purchase-session\",\n      {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(options)\n      },\n      null\n    );\n  }\n};\n\n//# sourceMappingURL=admin-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vaW50ZXJmYWNlL2FkbWluLWludGVyZmFjZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDaUQ7QUFDSjtBQUNnQjtBQUM3RCx3Q0FBd0Msc0VBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQU07QUFDbkIsTUFBTTtBQUNOO0FBQ0E7QUFDQSxpQkFBaUIscURBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixHQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLEdBQUcsS0FBSztBQUMvRTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FB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LE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEdBQUc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsK0JBQStCLDBDQUEwQztBQUN6RSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGVBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQkFBK0IsNkRBQTZEO0FBQzVGLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsK0JBQStCO0FBQy9CLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsK0JBQStCO0FBQy9CLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGNBQWMsY0FBYyxPQUFPO0FBQzNFLFFBQVEsZUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9DQUFvQztBQUN2RDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXGludGVyZmFjZVxcYWRtaW4taW50ZXJmYWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbnRlcmZhY2UvYWRtaW4taW50ZXJmYWNlLnRzXG5pbXBvcnQgeyBLbm93bkVycm9ycyB9IGZyb20gXCIuLi9rbm93bi1lcnJvcnMuanNcIjtcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gXCIuLi91dGlscy9yZXN1bHRzLmpzXCI7XG5pbXBvcnQgeyBTdGFja1NlcnZlckludGVyZmFjZSB9IGZyb20gXCIuL3NlcnZlci1pbnRlcmZhY2UuanNcIjtcbnZhciBTdGFja0FkbWluSW50ZXJmYWNlID0gY2xhc3MgZXh0ZW5kcyBTdGFja1NlcnZlckludGVyZmFjZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIGFzeW5jIHNlbmRBZG1pblJlcXVlc3QocGF0aCwgb3B0aW9ucywgc2Vzc2lvbiwgcmVxdWVzdFR5cGUgPSBcImFkbWluXCIpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHBhdGgsXG4gICAgICB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIngtc3RhY2stc3VwZXItc2VjcmV0LWFkbWluLWtleVwiOiBcInN1cGVyU2VjcmV0QWRtaW5LZXlcIiBpbiB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuc3VwZXJTZWNyZXRBZG1pbktleSA6IFwiXCIsXG4gICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgcmVxdWVzdFR5cGVcbiAgICApO1xuICB9XG4gIGFzeW5jIHNlbmRBZG1pblJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IocGF0aCwgcmVxdWVzdE9wdGlvbnMsIHRva2VuU3RvcmVPck51bGwsIGVycm9yc1RvQ2F0Y2gpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFJlc3VsdC5vayhhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMsIHRva2VuU3RvcmVPck51bGwpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBmb3IgKGNvbnN0IGVycm9yVHlwZSBvZiBlcnJvcnNUb0NhdGNoKSB7XG4gICAgICAgIGlmIChlcnJvclR5cGUuaXNJbnN0YW5jZShlKSkge1xuICAgICAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGdldFByb2plY3QoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9wcm9qZWN0cy9jdXJyZW50XCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlUHJvamVjdCh1cGRhdGUpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIFwiL2ludGVybmFsL3Byb2plY3RzL2N1cnJlbnRcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGUpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBjcmVhdGVJbnRlcm5hbEFwaUtleShvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9hcGkta2V5c1wiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucylcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGxpc3RJbnRlcm5hbEFwaUtleXMoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXCIvaW50ZXJuYWwvYXBpLWtleXNcIiwge30sIG51bGwpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0Lml0ZW1zO1xuICB9XG4gIGFzeW5jIHJldm9rZUludGVybmFsQXBpS2V5QnlJZChpZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvYXBpLWtleXMvJHtpZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByZXZva2VkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgZ2V0SW50ZXJuYWxBcGlLZXkoaWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChgL2ludGVybmFsL2FwaS1rZXlzLyR7aWR9YCwge30sIHNlc3Npb24pO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgbGlzdEludGVybmFsRW1haWxUZW1wbGF0ZXMoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoYC9pbnRlcm5hbC9lbWFpbC10ZW1wbGF0ZXNgLCB7fSwgbnVsbCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiByZXN1bHQudGVtcGxhdGVzO1xuICB9XG4gIGFzeW5jIGxpc3RJbnRlcm5hbEVtYWlsRHJhZnRzKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KGAvaW50ZXJuYWwvZW1haWwtZHJhZnRzYCwge30sIG51bGwpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0LmRyYWZ0cztcbiAgfVxuICBhc3luYyBjcmVhdGVFbWFpbERyYWZ0KG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvZW1haWwtZHJhZnRzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyB1cGRhdGVFbWFpbERyYWZ0KGlkLCBkYXRhKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgYC9pbnRlcm5hbC9lbWFpbC1kcmFmdHMvJHtpZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgbGlzdEVtYWlsVGhlbWVzKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KGAvaW50ZXJuYWwvZW1haWwtdGhlbWVzYCwge30sIG51bGwpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0LnRoZW1lcztcbiAgfVxuICAvLyBUZWFtIHBlcm1pc3Npb24gZGVmaW5pdGlvbnMgbWV0aG9kc1xuICBhc3luYyBsaXN0VGVhbVBlcm1pc3Npb25EZWZpbml0aW9ucygpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChgL3RlYW0tcGVybWlzc2lvbi1kZWZpbml0aW9uc2AsIHt9LCBudWxsKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5pdGVtcztcbiAgfVxuICBhc3luYyBjcmVhdGVUZWFtUGVybWlzc2lvbkRlZmluaXRpb24oZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgXCIvdGVhbS1wZXJtaXNzaW9uLWRlZmluaXRpb25zXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uKHBlcm1pc3Npb25JZCwgZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgYC90ZWFtLXBlcm1pc3Npb24tZGVmaW5pdGlvbnMvJHtwZXJtaXNzaW9uSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uKHBlcm1pc3Npb25JZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvdGVhbS1wZXJtaXNzaW9uLWRlZmluaXRpb25zLyR7cGVybWlzc2lvbklkfWAsXG4gICAgICB7IG1ldGhvZDogXCJERUxFVEVcIiB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgbGlzdFByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbnMoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoYC9wcm9qZWN0LXBlcm1pc3Npb24tZGVmaW5pdGlvbnNgLCB7fSwgbnVsbCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiByZXN1bHQuaXRlbXM7XG4gIH1cbiAgYXN5bmMgY3JlYXRlUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uKGRhdGEpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIFwiL3Byb2plY3QtcGVybWlzc2lvbi1kZWZpbml0aW9uc1wiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbihwZXJtaXNzaW9uSWQsIGRhdGEpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvcHJvamVjdC1wZXJtaXNzaW9uLWRlZmluaXRpb25zLyR7cGVybWlzc2lvbklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGRlbGV0ZVByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbihwZXJtaXNzaW9uSWQpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBgL3Byb2plY3QtcGVybWlzc2lvbi1kZWZpbml0aW9ucy8ke3Blcm1pc3Npb25JZH1gLFxuICAgICAgeyBtZXRob2Q6IFwiREVMRVRFXCIgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIGdldFN2aXhUb2tlbigpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIFwiL3dlYmhvb2tzL3N2aXgtdG9rZW5cIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlUHJvamVjdCgpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9wcm9qZWN0cy9jdXJyZW50XCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIHRyYW5zZmVyUHJvamVjdChzZXNzaW9uLCBuZXdUZWFtSWQpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9wcm9qZWN0cy90cmFuc2ZlclwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHByb2plY3RfaWQ6IHRoaXMub3B0aW9ucy5wcm9qZWN0SWQsXG4gICAgICAgICAgbmV3X3RlYW1faWQ6IG5ld1RlYW1JZFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGdldE1ldHJpY3MoaW5jbHVkZUFub255bW91cyA9IGZhbHNlKSB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChpbmNsdWRlQW5vbnltb3VzKSB7XG4gICAgICBwYXJhbXMuYXBwZW5kKFwiaW5jbHVkZV9hbm9ueW1vdXNcIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgYC9pbnRlcm5hbC9tZXRyaWNzJHtxdWVyeVN0cmluZyA/IGA/JHtxdWVyeVN0cmluZ31gIDogXCJcIn1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIHNlbmRUZXN0RW1haWwoZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KGAvaW50ZXJuYWwvc2VuZC10ZXN0LWVtYWlsYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0sIG51bGwpO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgbGlzdFNlbnRFbWFpbHMoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXCIvaW50ZXJuYWwvZW1haWxzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgIH0sIG51bGwpO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgc2VuZFNpZ25Jbkludml0YXRpb25FbWFpbChlbWFpbCwgY2FsbGJhY2tVcmwpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9zZW5kLXNpZ24taW4taW52aXRhdGlvblwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIGNhbGxiYWNrX3VybDogY2FsbGJhY2tVcmxcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxuICBhc3luYyBzZW5kQ2hhdE1lc3NhZ2UodGhyZWFkSWQsIGNvbnRleHRUeXBlLCBtZXNzYWdlcywgYWJvcnRTaWduYWwpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvYWktY2hhdC8ke3RocmVhZElkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbnRleHRfdHlwZTogY29udGV4dFR5cGUsIG1lc3NhZ2VzIH0pLFxuICAgICAgICBzaWduYWw6IGFib3J0U2lnbmFsXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBzYXZlQ2hhdE1lc3NhZ2UodGhyZWFkSWQsIG1lc3NhZ2UpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBgL2ludGVybmFsL2FpLWNoYXQvJHt0aHJlYWRJZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSB9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIGxpc3RDaGF0TWVzc2FnZXModGhyZWFkSWQpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvYWktY2hhdC8ke3RocmVhZElkfWAsXG4gICAgICB7IG1ldGhvZDogXCJHRVRcIiB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyByZW5kZXJFbWFpbFByZXZpZXcob3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KGAvZW1haWxzL3JlbmRlci1lbWFpbGAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0aGVtZV9pZDogb3B0aW9ucy50aGVtZUlkLFxuICAgICAgICB0aGVtZV90c3hfc291cmNlOiBvcHRpb25zLnRoZW1lVHN4U291cmNlLFxuICAgICAgICB0ZW1wbGF0ZV9pZDogb3B0aW9ucy50ZW1wbGF0ZUlkLFxuICAgICAgICB0ZW1wbGF0ZV90c3hfc291cmNlOiBvcHRpb25zLnRlbXBsYXRlVHN4U291cmNlXG4gICAgICB9KVxuICAgIH0sIG51bGwpO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlRW1haWxUaGVtZShkaXNwbGF5TmFtZSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgYC9pbnRlcm5hbC9lbWFpbC10aGVtZXNgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGRpc3BsYXlfbmFtZTogZGlzcGxheU5hbWVcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGdldEVtYWlsVGhlbWUoaWQpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvZW1haWwtdGhlbWVzLyR7aWR9YCxcbiAgICAgIHsgbWV0aG9kOiBcIkdFVFwiIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUVtYWlsVGhlbWUoaWQsIHRzeFNvdXJjZSkge1xuICAgIGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvZW1haWwtdGhlbWVzLyR7aWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdHN4X3NvdXJjZTogdHN4U291cmNlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRW1haWxUZW1wbGF0ZShpZCwgdHN4U291cmNlLCB0aGVtZUlkKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBgL2ludGVybmFsL2VtYWlsLXRlbXBsYXRlcy8ke2lkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0c3hfc291cmNlOiB0c3hTb3VyY2UsIHRoZW1lX2lkOiB0aGVtZUlkIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBnZXRDb25maWcoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBgL2ludGVybmFsL2NvbmZpZ2AsXG4gICAgICB7IG1ldGhvZDogXCJHRVRcIiB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyB1cGRhdGVDb25maWcoZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgYC9pbnRlcm5hbC9jb25maWcvb3ZlcnJpZGVgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uZmlnX292ZXJyaWRlX3N0cmluZzogSlNPTi5zdHJpbmdpZnkoZGF0YS5jb25maWdPdmVycmlkZSkgfSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUVtYWlsVGVtcGxhdGUoZGlzcGxheU5hbWUpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvZW1haWwtdGVtcGxhdGVzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBkaXNwbGF5X25hbWU6IGRpc3BsYXlOYW1lXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBzZXR1cFBheW1lbnRzKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQWRtaW5SZXF1ZXN0KFxuICAgICAgXCIvaW50ZXJuYWwvcGF5bWVudHMvc2V0dXBcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgZ2V0U3RyaXBlQWNjb3VudEluZm8oKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9pbnRlcm5hbC9wYXltZW50cy9zdHJpcGUvYWNjb3VudC1pbmZvXCIsXG4gICAgICB7fSxcbiAgICAgIG51bGwsXG4gICAgICBbS25vd25FcnJvcnMuU3RyaXBlQWNjb3VudEluZm9Ob3RGb3VuZF1cbiAgICApO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5kYXRhLmpzb24oKTtcbiAgfVxuICBhc3luYyBjcmVhdGVTdHJpcGVXaWRnZXRBY2NvdW50U2Vzc2lvbigpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIFwiL2ludGVybmFsL3BheW1lbnRzL3N0cmlwZS13aWRnZXRzL2FjY291bnQtc2Vzc2lvblwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBsaXN0VHJhbnNhY3Rpb25zKHBhcmFtcykge1xuICAgIGNvbnN0IHFzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChwYXJhbXM/LmN1cnNvcikgcXMuc2V0KFwiY3Vyc29yXCIsIHBhcmFtcy5jdXJzb3IpO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zPy5saW1pdCA9PT0gXCJudW1iZXJcIikgcXMuc2V0KFwibGltaXRcIiwgU3RyaW5nKHBhcmFtcy5saW1pdCkpO1xuICAgIGlmIChwYXJhbXM/LnR5cGUpIHFzLnNldChcInR5cGVcIiwgcGFyYW1zLnR5cGUpO1xuICAgIGlmIChwYXJhbXM/LmN1c3RvbWVyVHlwZSkgcXMuc2V0KFwiY3VzdG9tZXJfdHlwZVwiLCBwYXJhbXMuY3VzdG9tZXJUeXBlKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZEFkbWluUmVxdWVzdChcbiAgICAgIGAvaW50ZXJuYWwvcGF5bWVudHMvdHJhbnNhY3Rpb25zJHtxcy5zaXplID8gYD8ke3FzLnRvU3RyaW5nKCl9YCA6IFwiXCJ9YCxcbiAgICAgIHsgbWV0aG9kOiBcIkdFVFwiIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiB7IHRyYW5zYWN0aW9uczoganNvbi50cmFuc2FjdGlvbnMsIG5leHRDdXJzb3I6IGpzb24ubmV4dF9jdXJzb3IgfTtcbiAgfVxuICBhc3luYyB0ZXN0TW9kZVB1cmNoYXNlKG9wdGlvbnMpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRBZG1pblJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9wYXltZW50cy90ZXN0LW1vZGUtcHVyY2hhc2Utc2Vzc2lvblwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbn07XG5leHBvcnQge1xuICBTdGFja0FkbWluSW50ZXJmYWNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRtaW4taW50ZXJmYWNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/admin-interface.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/client-interface.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/interface/client-interface.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackClientInterface: () => (/* binding */ StackClientInterface)\n/* harmony export */ });\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! oauth4webapi */ \"(app-pages-browser)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var _known_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../known-errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js\");\n/* harmony import */ var _sessions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sessions.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/sessions.js\");\n/* harmony import */ var _utils_crypto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/crypto.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js\");\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _utils_globals_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/globals.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js\");\n/* harmony import */ var _utils_http_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/http.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/http.js\");\n/* harmony import */ var _utils_objects_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/objects.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _utils_promises_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/promises.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _utils_results_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _utils_strings_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* harmony import */ var _utils_urls_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/urls.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js\");\n// src/interface/client-interface.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar StackClientInterface = class {\n  constructor(options) {\n    this.options = options;\n  }\n  get projectId() {\n    return this.options.projectId;\n  }\n  getApiUrl() {\n    return this.options.getBaseUrl() + \"/api/v1\";\n  }\n  async runNetworkDiagnostics(session, requestType) {\n    const tryRequest = async (cb) => {\n      try {\n        await cb();\n        return \"OK\";\n      } catch (e) {\n        return `${e}`;\n      }\n    };\n    const cfTrace = await tryRequest(async () => {\n      const res = await fetch(\"https://1.1.1.1/cdn-cgi/trace\");\n      if (!res.ok) {\n        throw new Error(`${res.status} ${res.statusText}: ${await res.text()}`);\n      }\n    });\n    const apiRoot = session !== void 0 && requestType !== void 0 ? await tryRequest(async () => {\n      const res = await this.sendClientRequestInner(\"/\", {}, session, requestType);\n      if (res.status === \"error\") {\n        throw res.error;\n      }\n    }) : \"Not tested\";\n    const baseUrlBackend = await tryRequest(async () => {\n      const res = await fetch(new URL(\"/health\", this.getApiUrl()));\n      if (!res.ok) {\n        throw new Error(`${res.status} ${res.statusText}: ${await res.text()}`);\n      }\n    });\n    const prodDashboard = await tryRequest(async () => {\n      const res = await fetch(\"https://app.stack-auth.com/health\");\n      if (!res.ok) {\n        throw new Error(`${res.status} ${res.statusText}: ${await res.text()}`);\n      }\n    });\n    const prodBackend = await tryRequest(async () => {\n      const res = await fetch(\"https://api.stack-auth.com/health\");\n      if (!res.ok) {\n        throw new Error(`${res.status} ${res.statusText}: ${await res.text()}`);\n      }\n    });\n    return {\n      \"navigator?.onLine\": _utils_globals_js__WEBPACK_IMPORTED_MODULE_4__.globalVar.navigator?.onLine,\n      cfTrace,\n      apiRoot,\n      baseUrlBackend,\n      prodDashboard,\n      prodBackend\n    };\n  }\n  async _createNetworkError(cause, session, requestType) {\n    return new Error((0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_9__.deindent)`\n      Stack Auth is unable to connect to the server. Please check your internet connection and try again.\n\n      If the problem persists, please contact support and provide a screenshot of your entire browser console.\n\n      ${cause}\n\n      ${JSON.stringify(await this.runNetworkDiagnostics(session, requestType), null, 2)}\n    `, { cause });\n  }\n  async _networkRetry(cb, session, requestType) {\n    const retriedResult = await _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.retry(\n      cb,\n      5,\n      { exponentialDelayBase: 1e3 }\n    );\n    if (retriedResult.status === \"error\") {\n      if (_utils_globals_js__WEBPACK_IMPORTED_MODULE_4__.globalVar.navigator && _utils_globals_js__WEBPACK_IMPORTED_MODULE_4__.globalVar.navigator.onLine === false) {\n        throw new Error(\"You are offline. Please check your internet connection and try again. (window.navigator.onLine is false)\", { cause: retriedResult.error });\n      }\n      throw await this._createNetworkError(retriedResult.error, session, requestType);\n    }\n    return retriedResult.data;\n  }\n  async _networkRetryException(cb, session, requestType) {\n    return await this._networkRetry(async () => await _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.fromThrowingAsync(cb), session, requestType);\n  }\n  async fetchNewAccessToken(refreshToken) {\n    if (!(\"publishableClientKey\" in this.options)) {\n      throw new Error(\"Admin session token is currently not supported for fetching new access token. Did you try to log in on a StackApp initiated with the admin session?\");\n    }\n    const as = {\n      issuer: this.options.getBaseUrl(),\n      algorithm: \"oauth2\",\n      token_endpoint: this.getApiUrl() + \"/auth/oauth/token\"\n    };\n    const client = {\n      client_id: this.projectId,\n      client_secret: this.options.publishableClientKey,\n      token_endpoint_auth_method: \"client_secret_post\"\n    };\n    const rawResponse = await this._networkRetryException(\n      async () => await oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.refreshTokenGrantRequest(\n        as,\n        client,\n        refreshToken.token\n      )\n    );\n    const response = await this._processResponse(rawResponse);\n    if (response.status === \"error\") {\n      const error = response.error;\n      if (_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.RefreshTokenError.isInstance(error)) {\n        return null;\n      }\n      throw error;\n    }\n    if (!response.data.ok) {\n      const body = await response.data.text();\n      throw new Error(`Failed to send refresh token request: ${response.status} ${body}`);\n    }\n    const result = await oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.processRefreshTokenResponse(as, client, response.data);\n    if (oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.isOAuth2Error(result)) {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"OAuth error\", { result });\n    }\n    if (!result.access_token) {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Access token not found in token endpoint response, this is weird!\");\n    }\n    return _sessions_js__WEBPACK_IMPORTED_MODULE_1__.AccessToken.createIfValid(result.access_token) ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.throwErr)(\"Access token in fetchNewAccessToken is invalid, looks like the backend is returning an invalid token!\", { result });\n  }\n  async sendClientRequest(path, requestOptions, session, requestType = \"client\") {\n    session ??= this.createSession({\n      refreshToken: null\n    });\n    return await this._networkRetry(\n      () => this.sendClientRequestInner(path, requestOptions, session, requestType),\n      session,\n      requestType\n    );\n  }\n  createSession(options) {\n    const session = new _sessions_js__WEBPACK_IMPORTED_MODULE_1__.InternalSession({\n      refreshAccessTokenCallback: async (refreshToken) => await this.fetchNewAccessToken(refreshToken),\n      ...options\n    });\n    return session;\n  }\n  async sendClientRequestAndCatchKnownError(path, requestOptions, tokenStoreOrNull, errorsToCatch) {\n    try {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(await this.sendClientRequest(path, requestOptions, tokenStoreOrNull));\n    } catch (e) {\n      for (const errorType of errorsToCatch) {\n        if (errorType.isInstance(e)) {\n          return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(e);\n        }\n      }\n      throw e;\n    }\n  }\n  async sendClientRequestInner(path, options, session, requestType) {\n    let tokenObj = await session.getOrFetchLikelyValidTokens(2e4);\n    let adminSession = \"projectOwnerSession\" in this.options ? this.options.projectOwnerSession : null;\n    let adminTokenObj = adminSession ? await adminSession.getOrFetchLikelyValidTokens(2e4) : null;\n    await this.options.prepareRequest?.();\n    let url = this.getApiUrl() + path;\n    if (url.endsWith(\"/\")) {\n      url = url.slice(0, -1);\n    }\n    const params = {\n      /**\n       * This fetch may be cross-origin, in which case we don't want to send cookies of the\n       * original origin (this is the default behavior of `credentials`).\n       *\n       * To help debugging, also omit cookies on same-origin, so we don't accidentally\n       * implement reliance on cookies anywhere.\n       *\n       * However, Cloudflare Workers don't actually support `credentials`, so we only set it\n       * if Cloudflare-exclusive globals are not detected. https://github.com/cloudflare/workers-sdk/issues/2514\n       */\n      ...\"WebSocketPair\" in _utils_globals_js__WEBPACK_IMPORTED_MODULE_4__.globalVar ? {} : {\n        credentials: \"omit\"\n      },\n      ...options,\n      headers: {\n        \"X-Stack-Override-Error-Status\": \"true\",\n        \"X-Stack-Project-Id\": this.projectId,\n        \"X-Stack-Access-Type\": requestType,\n        \"X-Stack-Client-Version\": this.options.clientVersion,\n        ...tokenObj ? {\n          \"X-Stack-Access-Token\": tokenObj.accessToken.token\n        } : {},\n        ...tokenObj?.refreshToken ? {\n          \"X-Stack-Refresh-Token\": tokenObj.refreshToken.token\n        } : {},\n        \"X-Stack-Allow-Anonymous-User\": \"true\",\n        ...\"publishableClientKey\" in this.options ? {\n          \"X-Stack-Publishable-Client-Key\": this.options.publishableClientKey\n        } : {},\n        ...adminTokenObj ? {\n          \"X-Stack-Admin-Access-Token\": adminTokenObj.accessToken.token\n        } : {},\n        /**\n         * Next.js until v15 would cache fetch requests by default, and forcefully disabling it was nearly impossible.\n         *\n         * This header is used to change the cache key and hence always disable it, because we do our own caching.\n         *\n         * When we drop support for Next.js <15, we may be able to remove this header, but please make sure that this is\n         * the case (I haven't actually tested.)\n         */\n        \"X-Stack-Random-Nonce\": (0,_utils_crypto_js__WEBPACK_IMPORTED_MODULE_2__.generateSecureRandomString)(),\n        // don't show a warning when proxying the API through ngrok (only relevant if the API url is an ngrok site)\n        \"ngrok-skip-browser-warning\": \"true\",\n        ...this.options.extraRequestHeaders,\n        ...options.headers\n      },\n      /**\n       * Cloudflare Workers does not support cache, so don't pass it there\n       */\n      ...\"WebSocketPair\" in _utils_globals_js__WEBPACK_IMPORTED_MODULE_4__.globalVar ? {} : {\n        cache: \"no-store\"\n      }\n    };\n    let rawRes;\n    try {\n      rawRes = await fetch(url, params);\n    } catch (e) {\n      if (e instanceof TypeError) {\n        if (_utils_http_js__WEBPACK_IMPORTED_MODULE_5__.HTTP_METHODS[params.method ?? \"GET\"].idempotent) {\n          return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(e);\n        } else {\n          throw await this._createNetworkError(e, session, requestType);\n        }\n      }\n      throw e;\n    }\n    const processedRes = await this._processResponse(rawRes);\n    if (processedRes.status === \"error\") {\n      if (_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.InvalidAccessToken.isInstance(processedRes.error)) {\n        if (!tokenObj) {\n          throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Received invalid access token, but session is not logged in\", { tokenObj, processedRes });\n        }\n        session.markAccessTokenExpired(tokenObj.accessToken);\n        return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(processedRes.error);\n      }\n      if (adminSession && (_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.InvalidAdminAccessToken.isInstance(processedRes.error) || _known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.ApiKeyNotFound.isInstance(processedRes.error))) {\n        if (!adminTokenObj) {\n          throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Received invalid admin access token, but admin session is not logged in\", { adminTokenObj, processedRes });\n        }\n        adminSession.markAccessTokenExpired(adminTokenObj.accessToken);\n        return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(processedRes.error);\n      }\n      throw processedRes.error;\n    }\n    const res = Object.assign(processedRes.data, {\n      usedTokens: tokenObj\n    });\n    if (res.ok) {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(res);\n    } else if (res.status === 429) {\n      const retryAfter = res.headers.get(\"Retry-After\");\n      if (retryAfter !== null) {\n        console.log(`Rate limited while sending request to ${url}. Will retry after ${retryAfter} seconds...`);\n        await (0,_utils_promises_js__WEBPACK_IMPORTED_MODULE_7__.wait)(Number(retryAfter) * 1e3);\n        return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(new Error(`Rate limited, retrying after ${retryAfter} seconds`));\n      }\n      console.log(`Rate limited while sending request to ${url}, no retry-after header received. Retrying...`);\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(new Error(\"Rate limited, no retry-after header received\"));\n    } else {\n      const error = await res.text();\n      const errorObj = new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(`Failed to send request to ${url}: ${res.status} ${error}`, { request: params, res, path });\n      if (res.status === 508 && error.includes(\"INFINITE_LOOP_DETECTED\")) {\n        return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(errorObj);\n      }\n      throw errorObj;\n    }\n  }\n  async _processResponse(rawRes) {\n    let res = rawRes;\n    if (rawRes.headers.has(\"x-stack-actual-status\")) {\n      const actualStatus = Number(rawRes.headers.get(\"x-stack-actual-status\"));\n      res = new Response(rawRes.body, {\n        status: actualStatus,\n        statusText: rawRes.statusText,\n        headers: rawRes.headers\n      });\n    }\n    if (res.headers.has(\"x-stack-known-error\")) {\n      const errorJson = await res.json();\n      if (res.headers.get(\"x-stack-known-error\") !== errorJson.code) {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Mismatch between x-stack-known-error header and error code in body; the server's response is invalid\");\n      }\n      const error = _known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownError.fromJson(errorJson);\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(error);\n    }\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(res);\n  }\n  async checkFeatureSupport(options) {\n    const res = await this.sendClientRequest(\"/check-feature-support\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(options)\n    }, null);\n    throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(await res.text());\n  }\n  async sendForgotPasswordEmail(email, callbackUrl) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/password/send-reset-code\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          callback_url: callbackUrl\n        })\n      },\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.UserNotFound]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    } else {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n    }\n  }\n  async sendVerificationEmail(email, callbackUrl, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/contact-channels/send-verification-code\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          callback_url: callbackUrl\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.EmailAlreadyVerified]\n    );\n    if (res.status === \"error\") {\n      return res.error;\n    }\n  }\n  async sendMagicLinkEmail(email, callbackUrl) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/otp/send-sign-in-code\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          callback_url: callbackUrl\n        })\n      },\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.RedirectUrlNotWhitelisted]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    } else {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(await res.data.json());\n    }\n  }\n  async resetPassword(options) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"onlyVerifyCode\" in options ? \"/auth/password/reset/check-code\" : \"/auth/password/reset\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          code: options.code,\n          ...\"password\" in options ? { password: options.password } : {}\n        })\n      },\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.VerificationCodeError]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    } else {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n    }\n  }\n  async updatePassword(options, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/password/update\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          old_password: options.oldPassword,\n          new_password: options.newPassword\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.PasswordConfirmationMismatch, _known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.PasswordRequirementsNotMet]\n    );\n    if (res.status === \"error\") {\n      return res.error;\n    }\n  }\n  async setPassword(options, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/password/set\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.PasswordRequirementsNotMet]\n    );\n    if (res.status === \"error\") {\n      return res.error;\n    }\n  }\n  async verifyPasswordResetCode(code) {\n    const res = await this.resetPassword({ code, onlyVerifyCode: true });\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    } else {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n    }\n  }\n  async verifyEmail(code) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/contact-channels/verify\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          code\n        })\n      },\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.VerificationCodeError]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    } else {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n    }\n  }\n  async initiatePasskeyRegistration(options, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/passkey/initiate-passkey-registration\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      },\n      session,\n      []\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(await res.data.json());\n  }\n  async registerPasskey(options, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/passkey/register\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.PasskeyRegistrationFailed]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n  }\n  async initiatePasskeyAuthentication(options, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/passkey/initiate-passkey-authentication\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      },\n      session,\n      []\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(await res.data.json());\n  }\n  async sendTeamInvitation(options) {\n    await this.sendClientRequest(\n      \"/team-invitations/send-code\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: options.email,\n          team_id: options.teamId,\n          callback_url: options.callbackUrl\n        })\n      },\n      options.session\n    );\n  }\n  async acceptTeamInvitation(options) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      options.type === \"check\" ? \"/team-invitations/accept/check-code\" : options.type === \"details\" ? \"/team-invitations/accept/details\" : \"/team-invitations/accept\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          code: options.code\n        })\n      },\n      options.session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.VerificationCodeError]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    } else {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(await res.data.json());\n    }\n  }\n  async totpMfa(attemptCode, totp, session) {\n    const res = await this.sendClientRequest(\"/auth/mfa/sign-in\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        code: attemptCode,\n        type: \"totp\",\n        totp\n      })\n    }, session);\n    const result = await res.json();\n    return {\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token,\n      newUser: result.is_new_user\n    };\n  }\n  async signInWithCredential(email, password, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/password/sign-in\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.EmailPasswordMismatch]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    const result = await res.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok({\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token\n    });\n  }\n  async signUpWithCredential(email, password, emailVerificationRedirectUrl, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/password/sign-up\",\n      {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          email,\n          password,\n          verification_callback_url: emailVerificationRedirectUrl\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.UserWithEmailAlreadyExists, _known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.PasswordRequirementsNotMet]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    const result = await res.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok({\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token\n    });\n  }\n  async signUpAnonymously(session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/anonymous/sign-up\",\n      {\n        method: \"POST\"\n      },\n      session,\n      []\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    const result = await res.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok({\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token\n    });\n  }\n  async signInWithMagicLink(code, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/otp/sign-in\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          code\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.VerificationCodeError]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    const result = await res.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok({\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token,\n      newUser: result.is_new_user\n    });\n  }\n  async signInWithMfa(totp, code, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/mfa/sign-in\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          type: \"totp\",\n          totp,\n          code\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.VerificationCodeError]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    const result = await res.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok({\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token,\n      newUser: result.is_new_user\n    });\n  }\n  async signInWithPasskey(body, session) {\n    const res = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/passkey/sign-in\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.PasskeyAuthenticationFailed]\n    );\n    if (res.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(res.error);\n    }\n    const result = await res.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok({\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token\n    });\n  }\n  async getOAuthUrl(options) {\n    const updatedRedirectUrl = new URL(options.redirectUrl);\n    for (const key of [\"code\", \"state\"]) {\n      if (updatedRedirectUrl.searchParams.has(key)) {\n        console.warn(\"Redirect URL already contains \" + key + \" parameter, removing it as it will be overwritten by the OAuth callback\");\n      }\n      updatedRedirectUrl.searchParams.delete(key);\n    }\n    if (!(\"publishableClientKey\" in this.options)) {\n      throw new Error(\"Admin session token is currently not supported for OAuth\");\n    }\n    const url = new URL(this.getApiUrl() + \"/auth/oauth/authorize/\" + options.provider.toLowerCase());\n    url.searchParams.set(\"client_id\", this.projectId);\n    url.searchParams.set(\"client_secret\", this.options.publishableClientKey);\n    url.searchParams.set(\"redirect_uri\", updatedRedirectUrl.toString());\n    url.searchParams.set(\"scope\", \"legacy\");\n    url.searchParams.set(\"state\", options.state);\n    url.searchParams.set(\"grant_type\", \"authorization_code\");\n    url.searchParams.set(\"code_challenge\", options.codeChallenge);\n    url.searchParams.set(\"code_challenge_method\", \"S256\");\n    url.searchParams.set(\"response_type\", \"code\");\n    url.searchParams.set(\"type\", options.type);\n    url.searchParams.set(\"error_redirect_url\", options.errorRedirectUrl);\n    const tokens = await options.session.getOrFetchLikelyValidTokens(2e4);\n    if (tokens) {\n      url.searchParams.set(\"token\", tokens.accessToken.token);\n    }\n    if (options.afterCallbackRedirectUrl) {\n      url.searchParams.set(\"after_callback_redirect_url\", options.afterCallbackRedirectUrl);\n    }\n    if (options.providerScope) {\n      url.searchParams.set(\"provider_scope\", options.providerScope);\n    }\n    return url.toString();\n  }\n  async callOAuthCallback(options) {\n    if (!(\"publishableClientKey\" in this.options)) {\n      throw new Error(\"Admin session token is currently not supported for OAuth\");\n    }\n    const as = {\n      issuer: this.options.getBaseUrl(),\n      algorithm: \"oauth2\",\n      token_endpoint: this.getApiUrl() + \"/auth/oauth/token\"\n    };\n    const client = {\n      client_id: this.projectId,\n      client_secret: this.options.publishableClientKey,\n      token_endpoint_auth_method: \"client_secret_post\"\n    };\n    const params = await this._networkRetryException(\n      async () => oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.validateAuthResponse(as, client, options.oauthParams, options.state)\n    );\n    if (oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.isOAuth2Error(params)) {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Error validating outer OAuth response\", { params });\n    }\n    const response = await oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.authorizationCodeGrantRequest(\n      as,\n      client,\n      params,\n      options.redirectUri,\n      options.codeVerifier\n    );\n    const result = await oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.processAuthorizationCodeOAuth2Response(as, client, response);\n    if (oauth4webapi__WEBPACK_IMPORTED_MODULE_11__.isOAuth2Error(result)) {\n      if (\"code\" in result && result.code === \"MULTI_FACTOR_AUTHENTICATION_REQUIRED\") {\n        throw new _known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.MultiFactorAuthenticationRequired(result.details.attempt_code);\n      }\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Outer OAuth error during authorization code response\", { result });\n    }\n    return {\n      newUser: result.is_new_user,\n      afterCallbackRedirectUrl: result.after_callback_redirect_url,\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.throwErr)(\"Refresh token not found in outer OAuth response\")\n    };\n  }\n  async signOut(session) {\n    const tokenObj = await session.getOrFetchLikelyValidTokens(2e4);\n    if (tokenObj) {\n      const resOrError = await this.sendClientRequestAndCatchKnownError(\n        \"/auth/sessions/current\",\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({})\n        },\n        session,\n        [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.RefreshTokenError]\n      );\n      if (resOrError.status === \"error\") {\n        if (_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.RefreshTokenError.isInstance(resOrError.error)) {\n        } else {\n          throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Unexpected error\", { error: resOrError.error });\n        }\n      } else {\n      }\n    }\n    session.markInvalid();\n  }\n  async getClientUserByToken(session) {\n    const responseOrError = await this.sendClientRequestAndCatchKnownError(\n      \"/users/me\",\n      {},\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.CannotGetOwnUserWithoutUser]\n    );\n    if (responseOrError.status === \"error\") {\n      if (_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.CannotGetOwnUserWithoutUser.isInstance(responseOrError.error)) {\n        return null;\n      } else {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Unexpected uncaught error\", { cause: responseOrError.error });\n      }\n    }\n    const response = responseOrError.data;\n    const user = await response.json();\n    if (!user) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"User endpoint returned null; this should never happen\");\n    return user;\n  }\n  async listTeamInvitations(options, session) {\n    const response = await this.sendClientRequest(\n      \"/team-invitations?\" + new URLSearchParams({ team_id: options.teamId }),\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async revokeTeamInvitation(invitationId, teamId, session) {\n    await this.sendClientRequest(\n      `/team-invitations/${invitationId}?team_id=${teamId}`,\n      { method: \"DELETE\" },\n      session\n    );\n  }\n  async listTeamMemberProfiles(options, session) {\n    const response = await this.sendClientRequest(\n      \"/team-member-profiles?\" + new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_6__.filterUndefined)({\n        team_id: options.teamId,\n        user_id: options.userId\n      })),\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async getTeamMemberProfile(options, session) {\n    const response = await this.sendClientRequest(\n      `/team-member-profiles/${options.teamId}/${options.userId}`,\n      {},\n      session\n    );\n    return await response.json();\n  }\n  async leaveTeam(teamId, session) {\n    await this.sendClientRequest(\n      `/team-memberships/${teamId}/me`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      session\n    );\n  }\n  async updateTeamMemberProfile(options, session) {\n    await this.sendClientRequest(\n      `/team-member-profiles/${options.teamId}/${options.userId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(options.profile)\n      },\n      session\n    );\n  }\n  async updateTeam(options, session) {\n    await this.sendClientRequest(\n      `/teams/${options.teamId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(options.data)\n      },\n      session\n    );\n  }\n  async listCurrentUserTeamPermissions(options, session) {\n    const response = await this.sendClientRequest(\n      `/team-permissions?team_id=${options.teamId}&user_id=me&recursive=${options.recursive}`,\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async listCurrentUserProjectPermissions(options, session) {\n    const response = await this.sendClientRequest(\n      `/project-permissions?user_id=me&recursive=${options.recursive}`,\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async listCurrentUserTeams(session) {\n    const response = await this.sendClientRequest(\n      \"/teams?user_id=me\",\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async getClientProject() {\n    const responseOrError = await this.sendClientRequestAndCatchKnownError(\"/projects/current\", {}, null, [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.ProjectNotFound]);\n    if (responseOrError.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(responseOrError.error);\n    }\n    const response = responseOrError.data;\n    const project = await response.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(project);\n  }\n  async updateClientUser(update, session) {\n    await this.sendClientRequest(\n      \"/users/me\",\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(update)\n      },\n      session\n    );\n  }\n  async listProjects(session) {\n    const response = await this.sendClientRequest(\"/internal/projects\", {}, session);\n    if (!response.ok) {\n      throw new Error(\"Failed to list projects: \" + response.status + \" \" + await response.text());\n    }\n    const json = await response.json();\n    return json.items;\n  }\n  async createProject(project, session) {\n    const fetchResponse = await this.sendClientRequest(\n      \"/internal/projects\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(project)\n      },\n      session\n    );\n    if (!fetchResponse.ok) {\n      throw new Error(\"Failed to create project: \" + fetchResponse.status + \" \" + await fetchResponse.text());\n    }\n    const json = await fetchResponse.json();\n    return json;\n  }\n  async createProviderAccessToken(provider, scope, session) {\n    const response = await this.sendClientRequest(\n      `/connected-accounts/me/${provider}/access-token`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ scope })\n      },\n      session\n    );\n    return await response.json();\n  }\n  async createClientTeam(data, session) {\n    const response = await this.sendClientRequest(\n      \"/teams\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      session\n    );\n    return await response.json();\n  }\n  async deleteTeam(teamId, session) {\n    await this.sendClientRequest(\n      `/teams/${teamId}`,\n      {\n        method: \"DELETE\"\n      },\n      session\n    );\n  }\n  async deleteCurrentUser(session) {\n    await this.sendClientRequest(\n      \"/users/me\",\n      {\n        method: \"DELETE\"\n      },\n      session\n    );\n  }\n  async createClientContactChannel(data, session) {\n    const response = await this.sendClientRequest(\n      \"/contact-channels\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      session\n    );\n    return await response.json();\n  }\n  async updateClientContactChannel(id, data, session) {\n    const response = await this.sendClientRequest(\n      `/contact-channels/me/${id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      session\n    );\n    return await response.json();\n  }\n  async deleteClientContactChannel(id, session) {\n    await this.sendClientRequest(\n      `/contact-channels/me/${id}`,\n      {\n        method: \"DELETE\"\n      },\n      session\n    );\n  }\n  async deleteSession(sessionId, session) {\n    await this.sendClientRequest(\n      `/auth/sessions/${sessionId}?user_id=me`,\n      {\n        method: \"DELETE\"\n      },\n      session\n    );\n  }\n  async listSessions(session) {\n    const response = await this.sendClientRequest(\n      \"/auth/sessions?user_id=me\",\n      {\n        method: \"GET\"\n      },\n      session\n    );\n    return await response.json();\n  }\n  async listClientContactChannels(session) {\n    const response = await this.sendClientRequest(\n      \"/contact-channels?user_id=me\",\n      {\n        method: \"GET\"\n      },\n      session\n    );\n    const json = await response.json();\n    return json.items;\n  }\n  async sendCurrentUserContactChannelVerificationEmail(contactChannelId, callbackUrl, session) {\n    const responseOrError = await this.sendClientRequestAndCatchKnownError(\n      `/contact-channels/me/${contactChannelId}/send-verification-code`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ callback_url: callbackUrl })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.EmailAlreadyVerified]\n    );\n    if (responseOrError.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(responseOrError.error);\n    }\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n  }\n  async cliLogin(loginCode, refreshToken, session) {\n    const responseOrError = await this.sendClientRequestAndCatchKnownError(\n      \"/auth/cli/complete\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          login_code: loginCode,\n          refresh_token: refreshToken\n        })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.SchemaError]\n    );\n    if (responseOrError.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.error(responseOrError.error);\n    }\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_8__.Result.ok(void 0);\n  }\n  async _getApiKeyRequestInfo(options) {\n    if (\"user_id\" in options && \"team_id\" in options) {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"Cannot specify both user_id and team_id in _getApiKeyRequestInfo\");\n    }\n    return {\n      endpoint: \"team_id\" in options ? \"/team-api-keys\" : \"/user-api-keys\",\n      queryParams: new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_6__.filterUndefinedOrNull)(options))\n    };\n  }\n  async listProjectApiKeys(options, session, requestType) {\n    const sendRequest = (requestType === \"client\" ? this.sendClientRequest : this.sendServerRequest).bind(this);\n    const { endpoint, queryParams } = await this._getApiKeyRequestInfo(options);\n    const response = await sendRequest(\n      `${endpoint}?${queryParams.toString()}`,\n      {\n        method: \"GET\"\n      },\n      session,\n      requestType\n    );\n    const json = await response.json();\n    return json.items;\n  }\n  async createProjectApiKey(data, session, requestType) {\n    const sendRequest = (requestType === \"client\" ? this.sendClientRequest : this.sendServerRequest).bind(this);\n    const { endpoint } = await this._getApiKeyRequestInfo(data);\n    const response = await sendRequest(\n      `${endpoint}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      session,\n      requestType\n    );\n    return await response.json();\n  }\n  async getProjectApiKey(options, keyId, session, requestType) {\n    const sendRequest = (requestType === \"client\" ? this.sendClientRequest : this.sendServerRequest).bind(this);\n    const { endpoint, queryParams } = await this._getApiKeyRequestInfo(options);\n    const response = await sendRequest(\n      `${endpoint}/${keyId}?${queryParams.toString()}`,\n      {\n        method: \"GET\"\n      },\n      session,\n      requestType\n    );\n    return await response.json();\n  }\n  async updateProjectApiKey(options, keyId, data, session, requestType) {\n    const sendRequest = (requestType === \"client\" ? this.sendClientRequest : this.sendServerRequest).bind(this);\n    const { endpoint, queryParams } = await this._getApiKeyRequestInfo(options);\n    const response = await sendRequest(\n      `${endpoint}/${keyId}?${queryParams.toString()}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      session,\n      requestType\n    );\n    return await response.json();\n  }\n  async checkProjectApiKey(type, apiKey, session, requestType) {\n    const sendRequest = (requestType === \"client\" ? this.sendClientRequestAndCatchKnownError : this.sendServerRequestAndCatchKnownError).bind(this);\n    const result = await sendRequest(\n      `/${type}-api-keys/check`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ api_key: apiKey })\n      },\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.ApiKeyNotValid]\n    );\n    if (result.status === \"error\") {\n      return null;\n    }\n    return await result.data.json();\n  }\n  async listNotificationCategories(session) {\n    const response = await this.sendClientRequest(\n      `/emails/notification-preference/me`,\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async setNotificationsEnabled(notificationCategoryId, enabled, session) {\n    await this.sendClientRequest(\n      `/emails/notification-preference/me/${notificationCategoryId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          enabled\n        })\n      },\n      session\n    );\n  }\n  async getOAuthProvider(userId, providerId, session) {\n    const response = await this.sendClientRequest(\n      `/oauth-providers/${userId}/${providerId}`,\n      {\n        method: \"GET\"\n      },\n      session\n    );\n    return await response.json();\n  }\n  async updateOAuthProvider(userId, providerId, data, session) {\n    const response = await this.sendClientRequest(\n      `/oauth-providers/${userId}/${providerId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      session\n    );\n    return await response.json();\n  }\n  async listOAuthProviders(options = {}, session) {\n    const queryParams = new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_6__.filterUndefined)(options));\n    const response = await this.sendClientRequest(\n      `/oauth-providers${queryParams.toString() ? `?${queryParams.toString()}` : \"\"}`,\n      {\n        method: \"GET\"\n      },\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async deleteOAuthProvider(userId, providerId, session) {\n    const response = await this.sendClientRequest(\n      `/oauth-providers/${userId}/${providerId}`,\n      {\n        method: \"DELETE\"\n      },\n      session\n    );\n    return await response.json();\n  }\n  async getItem(options, session) {\n    let customerType;\n    let customerId;\n    if (\"userId\" in options) {\n      customerType = \"user\";\n      customerId = options.userId;\n    } else if (\"teamId\" in options) {\n      customerType = \"team\";\n      customerId = options.teamId;\n    } else if (\"customCustomerId\" in options) {\n      customerType = \"custom\";\n      customerId = options.customCustomerId;\n    } else {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_3__.StackAssertionError(\"getItem requires one of userId, teamId, or customCustomerId\");\n    }\n    const response = await this.sendClientRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_10__.urlString)`/payments/items/${customerType}/${customerId}/${options.itemId}`,\n      {},\n      session\n    );\n    return await response.json();\n  }\n  async createCheckoutUrl(customer_type, customer_id, offerIdOrInline, session) {\n    const offerBody = typeof offerIdOrInline === \"string\" ? { offer_id: offerIdOrInline } : { inline_offer: offerIdOrInline };\n    const response = await this.sendClientRequest(\n      \"/payments/purchases/create-purchase-url\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ customer_type, customer_id, ...offerBody })\n      },\n      session\n    );\n    const { url } = await response.json();\n    return url;\n  }\n};\n\n//# sourceMappingURL=client-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vaW50ZXJmYWNlL2NsaWVudC1pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3NDO0FBQ3VCO0FBQ0M7QUFDRTtBQUNHO0FBQ25CO0FBQ0E7QUFDNkI7QUFDakM7QUFDQztBQUNFO0FBQ0Y7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGtCQUFrQixFQUFFO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWSxFQUFFLGVBQWUsSUFBSSxpQkFBaUI7QUFDN0U7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixZQUFZLEVBQUUsZUFBZSxJQUFJLGlCQUFpQjtBQUM3RTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWSxFQUFFLGVBQWUsSUFBSSxpQkFBaUI7QUFDN0U7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFlBQVksRUFBRSxlQUFlLElBQUksaUJBQWlCO0FBQzdFO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLHdEQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMkRBQVE7QUFDN0I7O0FBRUE7O0FBRUEsUUFBUTs7QUFFUixRQUFRO0FBQ1IsU0FBUyxPQUFPO0FBQ2hCO0FBQ0E7QUFDQSxnQ0FBZ0MscURBQU07QUFDdEM7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVSx3REFBUyxjQUFjLHdEQUFTO0FBQzFDLHNJQUFzSSw0QkFBNEI7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHFEQUFNO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1FQUE4QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5REFBVztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsaUJBQWlCLEVBQUUsS0FBSztBQUN2RjtBQUNBLHlCQUF5QixzRUFBaUM7QUFDMUQsUUFBUSx3REFBbUI7QUFDM0IsZ0JBQWdCLGlFQUFtQixrQkFBa0IsUUFBUTtBQUM3RDtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFtQjtBQUNuQztBQUNBLFdBQVcscURBQVcsdUNBQXVDLDBEQUFRLDRHQUE0RyxRQUFRO0FBQ3pMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFlO0FBQ3ZDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTjtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywyRUFBNEIsTUFBTTtBQUMzQztBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxJQUFJO0FBQ2Q7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQSxVQUFVLElBQUk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDRFQUEwQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUE0QixNQUFNO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLFlBQVksd0RBQVk7QUFDeEIsaUJBQWlCLHFEQUFNO0FBQ3ZCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseURBQVc7QUFDckI7QUFDQSxvQkFBb0IsaUVBQW1CLGtFQUFrRSx3QkFBd0I7QUFDakk7QUFDQTtBQUNBLGVBQWUscURBQU07QUFDckI7QUFDQSwyQkFBMkIseURBQVcsMkRBQTJELHlEQUFXO0FBQzVHO0FBQ0Esb0JBQW9CLGlFQUFtQiw4RUFBOEUsNkJBQTZCO0FBQ2xKO0FBQ0E7QUFDQSxlQUFlLHFEQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTjtBQUNBO0FBQ0EsNkRBQTZELElBQUkscUJBQXFCLFlBQVk7QUFDbEcsY0FBYyx3REFBSTtBQUNsQixlQUFlLHFEQUFNLGlEQUFpRCxZQUFZO0FBQ2xGO0FBQ0EsMkRBQTJELElBQUk7QUFDL0QsYUFBYSxxREFBTTtBQUNuQixNQUFNO0FBQ047QUFDQSwyQkFBMkIsaUVBQW1CLDhCQUE4QixJQUFJLElBQUksWUFBWSxFQUFFLE1BQU0sS0FBSyw0QkFBNEI7QUFDekk7QUFDQSxlQUFlLHFEQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpRUFBbUIsc0VBQXNFO0FBQzNHO0FBQ0Esb0JBQW9CLHdEQUFVO0FBQzlCLGFBQWEscURBQU07QUFDbkI7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxjQUFjLGlFQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTixhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsT0FBTyx5REFBVztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBLGFBQWEscURBQU07QUFDbkIsTUFBTTtBQUNOLGFBQWEscURBQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx1Q0FBdUMsNkJBQTZCO0FBQ3BFLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTixhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsT0FBTyx5REFBVywrQkFBK0IseURBQVc7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTyx5REFBVztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsNEJBQTRCO0FBQ3ZFO0FBQ0EsYUFBYSxxREFBTTtBQUNuQixNQUFNO0FBQ04sYUFBYSxxREFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTixhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQU07QUFDbkI7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CO0FBQ0EsV0FBVyxxREFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxREFBTTtBQUNuQjtBQUNBLFdBQVcscURBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTixhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXLDZCQUE2Qix5REFBVztBQUMxRDtBQUNBO0FBQ0EsYUFBYSxxREFBTTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxxREFBTTtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQU07QUFDbkI7QUFDQTtBQUNBLFdBQVcscURBQU07QUFDakI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsT0FBTyx5REFBVztBQUNsQjtBQUNBO0FBQ0EsYUFBYSxxREFBTTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxxREFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTyx5REFBVztBQUNsQjtBQUNBO0FBQ0EsYUFBYSxxREFBTTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxxREFBTTtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrREFBMEI7QUFDNUM7QUFDQSxRQUFRLHdEQUFtQjtBQUMzQixnQkFBZ0IsaUVBQW1CLDRDQUE0QyxRQUFRO0FBQ3ZGO0FBQ0EsMkJBQTJCLHdFQUFtQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaUZBQTRDO0FBQ3JFLFFBQVEsd0RBQW1CO0FBQzNCO0FBQ0Esa0JBQWtCLHlEQUFXO0FBQzdCO0FBQ0EsZ0JBQWdCLGlFQUFtQiwyREFBMkQsUUFBUTtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDBEQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsaUNBQWlDO0FBQ2pDLFNBQVM7QUFDVDtBQUNBLFNBQVMseURBQVc7QUFDcEI7QUFDQTtBQUNBLFlBQVkseURBQVc7QUFDdkIsVUFBVTtBQUNWLG9CQUFvQixpRUFBbUIsdUJBQXVCLHlCQUF5QjtBQUN2RjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBLFVBQVUseURBQVc7QUFDckI7QUFDQSxRQUFRO0FBQ1Isa0JBQWtCLGlFQUFtQixnQ0FBZ0MsOEJBQThCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlFQUFtQiwrQkFBK0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQseUJBQXlCO0FBQzVFLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixhQUFhLFdBQVcsT0FBTztBQUMxRCxRQUFRLGtCQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGtFQUFlO0FBQ3BFO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGVBQWUsR0FBRyxlQUFlO0FBQ2hFLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQkFBK0I7QUFDL0IsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZSxHQUFHLGVBQWU7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZUFBZSx3QkFBd0Isa0JBQWtCO0FBQzVGLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxrQkFBa0I7QUFDckUsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLFNBQVMseURBQVc7QUFDdEg7QUFDQSxhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxTQUFTO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULCtCQUErQixPQUFPO0FBQ3RDLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsR0FBRztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsR0FBRztBQUNqQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlCQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQkFBK0IsMkJBQTJCO0FBQzFELE9BQU87QUFDUDtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBLGFBQWEscURBQU07QUFDbkI7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBLGFBQWEscURBQU07QUFDbkI7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpRUFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHdFQUFxQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0EsU0FBUyxTQUFTLEdBQUcsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0EsU0FBUyxTQUFTLEdBQUcsTUFBTSxHQUFHLHVCQUF1QjtBQUNyRDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQSxTQUFTLFNBQVMsR0FBRyxNQUFNLEdBQUcsdUJBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEtBQUs7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrQkFBK0IsaUJBQWlCO0FBQ2hELE9BQU87QUFDUDtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHVCQUF1QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU8sR0FBRyxXQUFXO0FBQy9DO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU8sR0FBRyxXQUFXO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLDRDQUE0QyxrRUFBZTtBQUMzRDtBQUNBLHlCQUF5Qiw2QkFBNkIsdUJBQXVCLE9BQU87QUFDcEY7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixPQUFPLEdBQUcsV0FBVztBQUMvQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTixnQkFBZ0IsaUVBQW1CO0FBQ25DO0FBQ0E7QUFDQSxNQUFNLDBEQUFTLG1CQUFtQixhQUFhLEdBQUcsV0FBVyxHQUFHLGVBQWU7QUFDL0UsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsNEJBQTRCLElBQUk7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULCtCQUErQiwwQ0FBMEM7QUFDekUsT0FBTztBQUNQO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcaW50ZXJmYWNlXFxjbGllbnQtaW50ZXJmYWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbnRlcmZhY2UvY2xpZW50LWludGVyZmFjZS50c1xuaW1wb3J0ICogYXMgb2F1dGggZnJvbSBcIm9hdXRoNHdlYmFwaVwiO1xuaW1wb3J0IHsgS25vd25FcnJvciwgS25vd25FcnJvcnMgfSBmcm9tIFwiLi4va25vd24tZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBBY2Nlc3NUb2tlbiwgSW50ZXJuYWxTZXNzaW9uIH0gZnJvbSBcIi4uL3Nlc3Npb25zLmpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVNlY3VyZVJhbmRvbVN0cmluZyB9IGZyb20gXCIuLi91dGlscy9jcnlwdG8uanNcIjtcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IsIHRocm93RXJyIH0gZnJvbSBcIi4uL3V0aWxzL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgZ2xvYmFsVmFyIH0gZnJvbSBcIi4uL3V0aWxzL2dsb2JhbHMuanNcIjtcbmltcG9ydCB7IEhUVFBfTUVUSE9EUyB9IGZyb20gXCIuLi91dGlscy9odHRwLmpzXCI7XG5pbXBvcnQgeyBmaWx0ZXJVbmRlZmluZWQsIGZpbHRlclVuZGVmaW5lZE9yTnVsbCB9IGZyb20gXCIuLi91dGlscy9vYmplY3RzLmpzXCI7XG5pbXBvcnQgeyB3YWl0IH0gZnJvbSBcIi4uL3V0aWxzL3Byb21pc2VzLmpzXCI7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiLi4vdXRpbHMvcmVzdWx0cy5qc1wiO1xuaW1wb3J0IHsgZGVpbmRlbnQgfSBmcm9tIFwiLi4vdXRpbHMvc3RyaW5ncy5qc1wiO1xuaW1wb3J0IHsgdXJsU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3VybHMuanNcIjtcbnZhciBTdGFja0NsaWVudEludGVyZmFjZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgZ2V0IHByb2plY3RJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnByb2plY3RJZDtcbiAgfVxuICBnZXRBcGlVcmwoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXRCYXNlVXJsKCkgKyBcIi9hcGkvdjFcIjtcbiAgfVxuICBhc3luYyBydW5OZXR3b3JrRGlhZ25vc3RpY3Moc2Vzc2lvbiwgcmVxdWVzdFR5cGUpIHtcbiAgICBjb25zdCB0cnlSZXF1ZXN0ID0gYXN5bmMgKGNiKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjYigpO1xuICAgICAgICByZXR1cm4gXCJPS1wiO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gYCR7ZX1gO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2ZUcmFjZSA9IGF3YWl0IHRyeVJlcXVlc3QoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwczovLzEuMS4xLjEvY2RuLWNnaS90cmFjZVwiKTtcbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fTogJHthd2FpdCByZXMudGV4dCgpfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGFwaVJvb3QgPSBzZXNzaW9uICE9PSB2b2lkIDAgJiYgcmVxdWVzdFR5cGUgIT09IHZvaWQgMCA/IGF3YWl0IHRyeVJlcXVlc3QoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdElubmVyKFwiL1wiLCB7fSwgc2Vzc2lvbiwgcmVxdWVzdFR5cGUpO1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgICB0aHJvdyByZXMuZXJyb3I7XG4gICAgICB9XG4gICAgfSkgOiBcIk5vdCB0ZXN0ZWRcIjtcbiAgICBjb25zdCBiYXNlVXJsQmFja2VuZCA9IGF3YWl0IHRyeVJlcXVlc3QoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2gobmV3IFVSTChcIi9oZWFsdGhcIiwgdGhpcy5nZXRBcGlVcmwoKSkpO1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9OiAke2F3YWl0IHJlcy50ZXh0KCl9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcHJvZERhc2hib2FyZCA9IGF3YWl0IHRyeVJlcXVlc3QoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FwcC5zdGFjay1hdXRoLmNvbS9oZWFsdGhcIik7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH06ICR7YXdhaXQgcmVzLnRleHQoKX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBwcm9kQmFja2VuZCA9IGF3YWl0IHRyeVJlcXVlc3QoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FwaS5zdGFjay1hdXRoLmNvbS9oZWFsdGhcIik7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH06ICR7YXdhaXQgcmVzLnRleHQoKX1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgXCJuYXZpZ2F0b3I/Lm9uTGluZVwiOiBnbG9iYWxWYXIubmF2aWdhdG9yPy5vbkxpbmUsXG4gICAgICBjZlRyYWNlLFxuICAgICAgYXBpUm9vdCxcbiAgICAgIGJhc2VVcmxCYWNrZW5kLFxuICAgICAgcHJvZERhc2hib2FyZCxcbiAgICAgIHByb2RCYWNrZW5kXG4gICAgfTtcbiAgfVxuICBhc3luYyBfY3JlYXRlTmV0d29ya0Vycm9yKGNhdXNlLCBzZXNzaW9uLCByZXF1ZXN0VHlwZSkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoZGVpbmRlbnRgXG4gICAgICBTdGFjayBBdXRoIGlzIHVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi5cblxuICAgICAgSWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHN1cHBvcnQgYW5kIHByb3ZpZGUgYSBzY3JlZW5zaG90IG9mIHlvdXIgZW50aXJlIGJyb3dzZXIgY29uc29sZS5cblxuICAgICAgJHtjYXVzZX1cblxuICAgICAgJHtKU09OLnN0cmluZ2lmeShhd2FpdCB0aGlzLnJ1bk5ldHdvcmtEaWFnbm9zdGljcyhzZXNzaW9uLCByZXF1ZXN0VHlwZSksIG51bGwsIDIpfVxuICAgIGAsIHsgY2F1c2UgfSk7XG4gIH1cbiAgYXN5bmMgX25ldHdvcmtSZXRyeShjYiwgc2Vzc2lvbiwgcmVxdWVzdFR5cGUpIHtcbiAgICBjb25zdCByZXRyaWVkUmVzdWx0ID0gYXdhaXQgUmVzdWx0LnJldHJ5KFxuICAgICAgY2IsXG4gICAgICA1LFxuICAgICAgeyBleHBvbmVudGlhbERlbGF5QmFzZTogMWUzIH1cbiAgICApO1xuICAgIGlmIChyZXRyaWVkUmVzdWx0LnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICBpZiAoZ2xvYmFsVmFyLm5hdmlnYXRvciAmJiBnbG9iYWxWYXIubmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBvZmZsaW5lLiBQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uICh3aW5kb3cubmF2aWdhdG9yLm9uTGluZSBpcyBmYWxzZSlcIiwgeyBjYXVzZTogcmV0cmllZFJlc3VsdC5lcnJvciB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGF3YWl0IHRoaXMuX2NyZWF0ZU5ldHdvcmtFcnJvcihyZXRyaWVkUmVzdWx0LmVycm9yLCBzZXNzaW9uLCByZXF1ZXN0VHlwZSk7XG4gICAgfVxuICAgIHJldHVybiByZXRyaWVkUmVzdWx0LmRhdGE7XG4gIH1cbiAgYXN5bmMgX25ldHdvcmtSZXRyeUV4Y2VwdGlvbihjYiwgc2Vzc2lvbiwgcmVxdWVzdFR5cGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fbmV0d29ya1JldHJ5KGFzeW5jICgpID0+IGF3YWl0IFJlc3VsdC5mcm9tVGhyb3dpbmdBc3luYyhjYiksIHNlc3Npb24sIHJlcXVlc3RUeXBlKTtcbiAgfVxuICBhc3luYyBmZXRjaE5ld0FjY2Vzc1Rva2VuKHJlZnJlc2hUb2tlbikge1xuICAgIGlmICghKFwicHVibGlzaGFibGVDbGllbnRLZXlcIiBpbiB0aGlzLm9wdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBzZXNzaW9uIHRva2VuIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIGZvciBmZXRjaGluZyBuZXcgYWNjZXNzIHRva2VuLiBEaWQgeW91IHRyeSB0byBsb2cgaW4gb24gYSBTdGFja0FwcCBpbml0aWF0ZWQgd2l0aCB0aGUgYWRtaW4gc2Vzc2lvbj9cIik7XG4gICAgfVxuICAgIGNvbnN0IGFzID0ge1xuICAgICAgaXNzdWVyOiB0aGlzLm9wdGlvbnMuZ2V0QmFzZVVybCgpLFxuICAgICAgYWxnb3JpdGhtOiBcIm9hdXRoMlwiLFxuICAgICAgdG9rZW5fZW5kcG9pbnQ6IHRoaXMuZ2V0QXBpVXJsKCkgKyBcIi9hdXRoL29hdXRoL3Rva2VuXCJcbiAgICB9O1xuICAgIGNvbnN0IGNsaWVudCA9IHtcbiAgICAgIGNsaWVudF9pZDogdGhpcy5wcm9qZWN0SWQsXG4gICAgICBjbGllbnRfc2VjcmV0OiB0aGlzLm9wdGlvbnMucHVibGlzaGFibGVDbGllbnRLZXksXG4gICAgICB0b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZDogXCJjbGllbnRfc2VjcmV0X3Bvc3RcIlxuICAgIH07XG4gICAgY29uc3QgcmF3UmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9uZXR3b3JrUmV0cnlFeGNlcHRpb24oXG4gICAgICBhc3luYyAoKSA9PiBhd2FpdCBvYXV0aC5yZWZyZXNoVG9rZW5HcmFudFJlcXVlc3QoXG4gICAgICAgIGFzLFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIHJlZnJlc2hUb2tlbi50b2tlblxuICAgICAgKVxuICAgICk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmF3UmVzcG9uc2UpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgY29uc3QgZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcbiAgICAgIGlmIChLbm93bkVycm9ycy5SZWZyZXNoVG9rZW5FcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLmRhdGEub2spIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXNwb25zZS5kYXRhLnRleHQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNlbmQgcmVmcmVzaCB0b2tlbiByZXF1ZXN0OiAke3Jlc3BvbnNlLnN0YXR1c30gJHtib2R5fWApO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvYXV0aC5wcm9jZXNzUmVmcmVzaFRva2VuUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UuZGF0YSk7XG4gICAgaWYgKG9hdXRoLmlzT0F1dGgyRXJyb3IocmVzdWx0KSkge1xuICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJPQXV0aCBlcnJvclwiLCB7IHJlc3VsdCB9KTtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHQuYWNjZXNzX3Rva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIkFjY2VzcyB0b2tlbiBub3QgZm91bmQgaW4gdG9rZW4gZW5kcG9pbnQgcmVzcG9uc2UsIHRoaXMgaXMgd2VpcmQhXCIpO1xuICAgIH1cbiAgICByZXR1cm4gQWNjZXNzVG9rZW4uY3JlYXRlSWZWYWxpZChyZXN1bHQuYWNjZXNzX3Rva2VuKSA/PyB0aHJvd0VycihcIkFjY2VzcyB0b2tlbiBpbiBmZXRjaE5ld0FjY2Vzc1Rva2VuIGlzIGludmFsaWQsIGxvb2tzIGxpa2UgdGhlIGJhY2tlbmQgaXMgcmV0dXJuaW5nIGFuIGludmFsaWQgdG9rZW4hXCIsIHsgcmVzdWx0IH0pO1xuICB9XG4gIGFzeW5jIHNlbmRDbGllbnRSZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zLCBzZXNzaW9uLCByZXF1ZXN0VHlwZSA9IFwiY2xpZW50XCIpIHtcbiAgICBzZXNzaW9uID8/PSB0aGlzLmNyZWF0ZVNlc3Npb24oe1xuICAgICAgcmVmcmVzaFRva2VuOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX25ldHdvcmtSZXRyeShcbiAgICAgICgpID0+IHRoaXMuc2VuZENsaWVudFJlcXVlc3RJbm5lcihwYXRoLCByZXF1ZXN0T3B0aW9ucywgc2Vzc2lvbiwgcmVxdWVzdFR5cGUpLFxuICAgICAgc2Vzc2lvbixcbiAgICAgIHJlcXVlc3RUeXBlXG4gICAgKTtcbiAgfVxuICBjcmVhdGVTZXNzaW9uKG9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXNzaW9uID0gbmV3IEludGVybmFsU2Vzc2lvbih7XG4gICAgICByZWZyZXNoQWNjZXNzVG9rZW5DYWxsYmFjazogYXN5bmMgKHJlZnJlc2hUb2tlbikgPT4gYXdhaXQgdGhpcy5mZXRjaE5ld0FjY2Vzc1Rva2VuKHJlZnJlc2hUb2tlbiksXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cbiAgYXN5bmMgc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IocGF0aCwgcmVxdWVzdE9wdGlvbnMsIHRva2VuU3RvcmVPck51bGwsIGVycm9yc1RvQ2F0Y2gpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFJlc3VsdC5vayhhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zLCB0b2tlblN0b3JlT3JOdWxsKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZm9yIChjb25zdCBlcnJvclR5cGUgb2YgZXJyb3JzVG9DYXRjaCkge1xuICAgICAgICBpZiAoZXJyb3JUeXBlLmlzSW5zdGFuY2UoZSkpIHtcbiAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuICBhc3luYyBzZW5kQ2xpZW50UmVxdWVzdElubmVyKHBhdGgsIG9wdGlvbnMsIHNlc3Npb24sIHJlcXVlc3RUeXBlKSB7XG4gICAgbGV0IHRva2VuT2JqID0gYXdhaXQgc2Vzc2lvbi5nZXRPckZldGNoTGlrZWx5VmFsaWRUb2tlbnMoMmU0KTtcbiAgICBsZXQgYWRtaW5TZXNzaW9uID0gXCJwcm9qZWN0T3duZXJTZXNzaW9uXCIgaW4gdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLnByb2plY3RPd25lclNlc3Npb24gOiBudWxsO1xuICAgIGxldCBhZG1pblRva2VuT2JqID0gYWRtaW5TZXNzaW9uID8gYXdhaXQgYWRtaW5TZXNzaW9uLmdldE9yRmV0Y2hMaWtlbHlWYWxpZFRva2VucygyZTQpIDogbnVsbDtcbiAgICBhd2FpdCB0aGlzLm9wdGlvbnMucHJlcGFyZVJlcXVlc3Q/LigpO1xuICAgIGxldCB1cmwgPSB0aGlzLmdldEFwaVVybCgpICsgcGF0aDtcbiAgICBpZiAodXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGZldGNoIG1heSBiZSBjcm9zcy1vcmlnaW4sIGluIHdoaWNoIGNhc2Ugd2UgZG9uJ3Qgd2FudCB0byBzZW5kIGNvb2tpZXMgb2YgdGhlXG4gICAgICAgKiBvcmlnaW5hbCBvcmlnaW4gKHRoaXMgaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgYGNyZWRlbnRpYWxzYCkuXG4gICAgICAgKlxuICAgICAgICogVG8gaGVscCBkZWJ1Z2dpbmcsIGFsc28gb21pdCBjb29raWVzIG9uIHNhbWUtb3JpZ2luLCBzbyB3ZSBkb24ndCBhY2NpZGVudGFsbHlcbiAgICAgICAqIGltcGxlbWVudCByZWxpYW5jZSBvbiBjb29raWVzIGFueXdoZXJlLlxuICAgICAgICpcbiAgICAgICAqIEhvd2V2ZXIsIENsb3VkZmxhcmUgV29ya2VycyBkb24ndCBhY3R1YWxseSBzdXBwb3J0IGBjcmVkZW50aWFsc2AsIHNvIHdlIG9ubHkgc2V0IGl0XG4gICAgICAgKiBpZiBDbG91ZGZsYXJlLWV4Y2x1c2l2ZSBnbG9iYWxzIGFyZSBub3QgZGV0ZWN0ZWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGZsYXJlL3dvcmtlcnMtc2RrL2lzc3Vlcy8yNTE0XG4gICAgICAgKi9cbiAgICAgIC4uLlwiV2ViU29ja2V0UGFpclwiIGluIGdsb2JhbFZhciA/IHt9IDoge1xuICAgICAgICBjcmVkZW50aWFsczogXCJvbWl0XCJcbiAgICAgIH0sXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIlgtU3RhY2stT3ZlcnJpZGUtRXJyb3ItU3RhdHVzXCI6IFwidHJ1ZVwiLFxuICAgICAgICBcIlgtU3RhY2stUHJvamVjdC1JZFwiOiB0aGlzLnByb2plY3RJZCxcbiAgICAgICAgXCJYLVN0YWNrLUFjY2Vzcy1UeXBlXCI6IHJlcXVlc3RUeXBlLFxuICAgICAgICBcIlgtU3RhY2stQ2xpZW50LVZlcnNpb25cIjogdGhpcy5vcHRpb25zLmNsaWVudFZlcnNpb24sXG4gICAgICAgIC4uLnRva2VuT2JqID8ge1xuICAgICAgICAgIFwiWC1TdGFjay1BY2Nlc3MtVG9rZW5cIjogdG9rZW5PYmouYWNjZXNzVG9rZW4udG9rZW5cbiAgICAgICAgfSA6IHt9LFxuICAgICAgICAuLi50b2tlbk9iaj8ucmVmcmVzaFRva2VuID8ge1xuICAgICAgICAgIFwiWC1TdGFjay1SZWZyZXNoLVRva2VuXCI6IHRva2VuT2JqLnJlZnJlc2hUb2tlbi50b2tlblxuICAgICAgICB9IDoge30sXG4gICAgICAgIFwiWC1TdGFjay1BbGxvdy1Bbm9ueW1vdXMtVXNlclwiOiBcInRydWVcIixcbiAgICAgICAgLi4uXCJwdWJsaXNoYWJsZUNsaWVudEtleVwiIGluIHRoaXMub3B0aW9ucyA/IHtcbiAgICAgICAgICBcIlgtU3RhY2stUHVibGlzaGFibGUtQ2xpZW50LUtleVwiOiB0aGlzLm9wdGlvbnMucHVibGlzaGFibGVDbGllbnRLZXlcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICAuLi5hZG1pblRva2VuT2JqID8ge1xuICAgICAgICAgIFwiWC1TdGFjay1BZG1pbi1BY2Nlc3MtVG9rZW5cIjogYWRtaW5Ub2tlbk9iai5hY2Nlc3NUb2tlbi50b2tlblxuICAgICAgICB9IDoge30sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOZXh0LmpzIHVudGlsIHYxNSB3b3VsZCBjYWNoZSBmZXRjaCByZXF1ZXN0cyBieSBkZWZhdWx0LCBhbmQgZm9yY2VmdWxseSBkaXNhYmxpbmcgaXQgd2FzIG5lYXJseSBpbXBvc3NpYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGhlYWRlciBpcyB1c2VkIHRvIGNoYW5nZSB0aGUgY2FjaGUga2V5IGFuZCBoZW5jZSBhbHdheXMgZGlzYWJsZSBpdCwgYmVjYXVzZSB3ZSBkbyBvdXIgb3duIGNhY2hpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gd2UgZHJvcCBzdXBwb3J0IGZvciBOZXh0LmpzIDwxNSwgd2UgbWF5IGJlIGFibGUgdG8gcmVtb3ZlIHRoaXMgaGVhZGVyLCBidXQgcGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoaXMgaXNcbiAgICAgICAgICogdGhlIGNhc2UgKEkgaGF2ZW4ndCBhY3R1YWxseSB0ZXN0ZWQuKVxuICAgICAgICAgKi9cbiAgICAgICAgXCJYLVN0YWNrLVJhbmRvbS1Ob25jZVwiOiBnZW5lcmF0ZVNlY3VyZVJhbmRvbVN0cmluZygpLFxuICAgICAgICAvLyBkb24ndCBzaG93IGEgd2FybmluZyB3aGVuIHByb3h5aW5nIHRoZSBBUEkgdGhyb3VnaCBuZ3JvayAob25seSByZWxldmFudCBpZiB0aGUgQVBJIHVybCBpcyBhbiBuZ3JvayBzaXRlKVxuICAgICAgICBcIm5ncm9rLXNraXAtYnJvd3Nlci13YXJuaW5nXCI6IFwidHJ1ZVwiLFxuICAgICAgICAuLi50aGlzLm9wdGlvbnMuZXh0cmFSZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzXG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBDbG91ZGZsYXJlIFdvcmtlcnMgZG9lcyBub3Qgc3VwcG9ydCBjYWNoZSwgc28gZG9uJ3QgcGFzcyBpdCB0aGVyZVxuICAgICAgICovXG4gICAgICAuLi5cIldlYlNvY2tldFBhaXJcIiBpbiBnbG9iYWxWYXIgPyB7fSA6IHtcbiAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIlxuICAgICAgfVxuICAgIH07XG4gICAgbGV0IHJhd1JlcztcbiAgICB0cnkge1xuICAgICAgcmF3UmVzID0gYXdhaXQgZmV0Y2godXJsLCBwYXJhbXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgIGlmIChIVFRQX01FVEhPRFNbcGFyYW1zLm1ldGhvZCA/PyBcIkdFVFwiXS5pZGVtcG90ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBhd2FpdCB0aGlzLl9jcmVhdGVOZXR3b3JrRXJyb3IoZSwgc2Vzc2lvbiwgcmVxdWVzdFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBjb25zdCBwcm9jZXNzZWRSZXMgPSBhd2FpdCB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmF3UmVzKTtcbiAgICBpZiAocHJvY2Vzc2VkUmVzLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICBpZiAoS25vd25FcnJvcnMuSW52YWxpZEFjY2Vzc1Rva2VuLmlzSW5zdGFuY2UocHJvY2Vzc2VkUmVzLmVycm9yKSkge1xuICAgICAgICBpZiAoIXRva2VuT2JqKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJSZWNlaXZlZCBpbnZhbGlkIGFjY2VzcyB0b2tlbiwgYnV0IHNlc3Npb24gaXMgbm90IGxvZ2dlZCBpblwiLCB7IHRva2VuT2JqLCBwcm9jZXNzZWRSZXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2Vzc2lvbi5tYXJrQWNjZXNzVG9rZW5FeHBpcmVkKHRva2VuT2JqLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihwcm9jZXNzZWRSZXMuZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKGFkbWluU2Vzc2lvbiAmJiAoS25vd25FcnJvcnMuSW52YWxpZEFkbWluQWNjZXNzVG9rZW4uaXNJbnN0YW5jZShwcm9jZXNzZWRSZXMuZXJyb3IpIHx8IEtub3duRXJyb3JzLkFwaUtleU5vdEZvdW5kLmlzSW5zdGFuY2UocHJvY2Vzc2VkUmVzLmVycm9yKSkpIHtcbiAgICAgICAgaWYgKCFhZG1pblRva2VuT2JqKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJSZWNlaXZlZCBpbnZhbGlkIGFkbWluIGFjY2VzcyB0b2tlbiwgYnV0IGFkbWluIHNlc3Npb24gaXMgbm90IGxvZ2dlZCBpblwiLCB7IGFkbWluVG9rZW5PYmosIHByb2Nlc3NlZFJlcyB9KTtcbiAgICAgICAgfVxuICAgICAgICBhZG1pblNlc3Npb24ubWFya0FjY2Vzc1Rva2VuRXhwaXJlZChhZG1pblRva2VuT2JqLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihwcm9jZXNzZWRSZXMuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgcHJvY2Vzc2VkUmVzLmVycm9yO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBPYmplY3QuYXNzaWduKHByb2Nlc3NlZFJlcy5kYXRhLCB7XG4gICAgICB1c2VkVG9rZW5zOiB0b2tlbk9ialxuICAgIH0pO1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiBSZXN1bHQub2socmVzKTtcbiAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDQyOSkge1xuICAgICAgY29uc3QgcmV0cnlBZnRlciA9IHJlcy5oZWFkZXJzLmdldChcIlJldHJ5LUFmdGVyXCIpO1xuICAgICAgaWYgKHJldHJ5QWZ0ZXIgIT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFJhdGUgbGltaXRlZCB3aGlsZSBzZW5kaW5nIHJlcXVlc3QgdG8gJHt1cmx9LiBXaWxsIHJldHJ5IGFmdGVyICR7cmV0cnlBZnRlcn0gc2Vjb25kcy4uLmApO1xuICAgICAgICBhd2FpdCB3YWl0KE51bWJlcihyZXRyeUFmdGVyKSAqIDFlMyk7XG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IobmV3IEVycm9yKGBSYXRlIGxpbWl0ZWQsIHJldHJ5aW5nIGFmdGVyICR7cmV0cnlBZnRlcn0gc2Vjb25kc2ApKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGBSYXRlIGxpbWl0ZWQgd2hpbGUgc2VuZGluZyByZXF1ZXN0IHRvICR7dXJsfSwgbm8gcmV0cnktYWZ0ZXIgaGVhZGVyIHJlY2VpdmVkLiBSZXRyeWluZy4uLmApO1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihuZXcgRXJyb3IoXCJSYXRlIGxpbWl0ZWQsIG5vIHJldHJ5LWFmdGVyIGhlYWRlciByZWNlaXZlZFwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgIGNvbnN0IGVycm9yT2JqID0gbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoYEZhaWxlZCB0byBzZW5kIHJlcXVlc3QgdG8gJHt1cmx9OiAke3Jlcy5zdGF0dXN9ICR7ZXJyb3J9YCwgeyByZXF1ZXN0OiBwYXJhbXMsIHJlcywgcGF0aCB9KTtcbiAgICAgIGlmIChyZXMuc3RhdHVzID09PSA1MDggJiYgZXJyb3IuaW5jbHVkZXMoXCJJTkZJTklURV9MT09QX0RFVEVDVEVEXCIpKSB7XG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IoZXJyb3JPYmopO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3JPYmo7XG4gICAgfVxuICB9XG4gIGFzeW5jIF9wcm9jZXNzUmVzcG9uc2UocmF3UmVzKSB7XG4gICAgbGV0IHJlcyA9IHJhd1JlcztcbiAgICBpZiAocmF3UmVzLmhlYWRlcnMuaGFzKFwieC1zdGFjay1hY3R1YWwtc3RhdHVzXCIpKSB7XG4gICAgICBjb25zdCBhY3R1YWxTdGF0dXMgPSBOdW1iZXIocmF3UmVzLmhlYWRlcnMuZ2V0KFwieC1zdGFjay1hY3R1YWwtc3RhdHVzXCIpKTtcbiAgICAgIHJlcyA9IG5ldyBSZXNwb25zZShyYXdSZXMuYm9keSwge1xuICAgICAgICBzdGF0dXM6IGFjdHVhbFN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmF3UmVzLnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJhd1Jlcy5oZWFkZXJzXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlcy5oZWFkZXJzLmhhcyhcIngtc3RhY2sta25vd24tZXJyb3JcIikpIHtcbiAgICAgIGNvbnN0IGVycm9ySnNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBpZiAocmVzLmhlYWRlcnMuZ2V0KFwieC1zdGFjay1rbm93bi1lcnJvclwiKSAhPT0gZXJyb3JKc29uLmNvZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJNaXNtYXRjaCBiZXR3ZWVuIHgtc3RhY2sta25vd24tZXJyb3IgaGVhZGVyIGFuZCBlcnJvciBjb2RlIGluIGJvZHk7IHRoZSBzZXJ2ZXIncyByZXNwb25zZSBpcyBpbnZhbGlkXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXJyb3IgPSBLbm93bkVycm9yLmZyb21Kc29uKGVycm9ySnNvbik7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3VsdC5vayhyZXMpO1xuICB9XG4gIGFzeW5jIGNoZWNrRmVhdHVyZVN1cHBvcnQob3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXCIvY2hlY2stZmVhdHVyZS1zdXBwb3J0XCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucylcbiAgICB9LCBudWxsKTtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgfVxuICBhc3luYyBzZW5kRm9yZ290UGFzc3dvcmRFbWFpbChlbWFpbCwgY2FsbGJhY2tVcmwpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKFxuICAgICAgXCIvYXV0aC9wYXNzd29yZC9zZW5kLXJlc2V0LWNvZGVcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBjYWxsYmFja191cmw6IGNhbGxiYWNrVXJsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbCxcbiAgICAgIFtLbm93bkVycm9ycy5Vc2VyTm90Rm91bmRdXG4gICAgKTtcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHJlcy5lcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc2VuZFZlcmlmaWNhdGlvbkVtYWlsKGVtYWlsLCBjYWxsYmFja1VybCwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9jb250YWN0LWNoYW5uZWxzL3NlbmQtdmVyaWZpY2F0aW9uLWNvZGVcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBjYWxsYmFja191cmw6IGNhbGxiYWNrVXJsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgc2Vzc2lvbixcbiAgICAgIFtLbm93bkVycm9ycy5FbWFpbEFscmVhZHlWZXJpZmllZF1cbiAgICApO1xuICAgIGlmIChyZXMuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiByZXMuZXJyb3I7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNlbmRNYWdpY0xpbmtFbWFpbChlbWFpbCwgY2FsbGJhY2tVcmwpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKFxuICAgICAgXCIvYXV0aC9vdHAvc2VuZC1zaWduLWluLWNvZGVcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBjYWxsYmFja191cmw6IGNhbGxiYWNrVXJsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbCxcbiAgICAgIFtLbm93bkVycm9ycy5SZWRpcmVjdFVybE5vdFdoaXRlbGlzdGVkXVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKGF3YWl0IHJlcy5kYXRhLmpzb24oKSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHJlc2V0UGFzc3dvcmQob3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIm9ubHlWZXJpZnlDb2RlXCIgaW4gb3B0aW9ucyA/IFwiL2F1dGgvcGFzc3dvcmQvcmVzZXQvY2hlY2stY29kZVwiIDogXCIvYXV0aC9wYXNzd29yZC9yZXNldFwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNvZGU6IG9wdGlvbnMuY29kZSxcbiAgICAgICAgICAuLi5cInBhc3N3b3JkXCIgaW4gb3B0aW9ucyA/IHsgcGFzc3dvcmQ6IG9wdGlvbnMucGFzc3dvcmQgfSA6IHt9XG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbCxcbiAgICAgIFtLbm93bkVycm9ycy5WZXJpZmljYXRpb25Db2RlRXJyb3JdXG4gICAgKTtcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHJlcy5lcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgdXBkYXRlUGFzc3dvcmQob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9hdXRoL3Bhc3N3b3JkL3VwZGF0ZVwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG9sZF9wYXNzd29yZDogb3B0aW9ucy5vbGRQYXNzd29yZCxcbiAgICAgICAgICBuZXdfcGFzc3dvcmQ6IG9wdGlvbnMubmV3UGFzc3dvcmRcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlBhc3N3b3JkQ29uZmlybWF0aW9uTWlzbWF0Y2gsIEtub3duRXJyb3JzLlBhc3N3b3JkUmVxdWlyZW1lbnRzTm90TWV0XVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc2V0UGFzc3dvcmQob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9hdXRoL3Bhc3N3b3JkL3NldFwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucylcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlBhc3N3b3JkUmVxdWlyZW1lbnRzTm90TWV0XVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgdmVyaWZ5UGFzc3dvcmRSZXNldENvZGUoY29kZSkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucmVzZXRQYXNzd29yZCh7IGNvZGUsIG9ubHlWZXJpZnlDb2RlOiB0cnVlIH0pO1xuICAgIGlmIChyZXMuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzLmVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlc3VsdC5vayh2b2lkIDApO1xuICAgIH1cbiAgfVxuICBhc3luYyB2ZXJpZnlFbWFpbChjb2RlKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL2NvbnRhY3QtY2hhbm5lbHMvdmVyaWZ5XCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY29kZVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIG51bGwsXG4gICAgICBbS25vd25FcnJvcnMuVmVyaWZpY2F0aW9uQ29kZUVycm9yXVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGluaXRpYXRlUGFzc2tleVJlZ2lzdHJhdGlvbihvcHRpb25zLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL2F1dGgvcGFzc2tleS9pbml0aWF0ZS1wYXNza2V5LXJlZ2lzdHJhdGlvblwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucylcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW11cbiAgICApO1xuICAgIGlmIChyZXMuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzLmVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3VsdC5vayhhd2FpdCByZXMuZGF0YS5qc29uKCkpO1xuICB9XG4gIGFzeW5jIHJlZ2lzdGVyUGFzc2tleShvcHRpb25zLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL2F1dGgvcGFzc2tleS9yZWdpc3RlclwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucylcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlBhc3NrZXlSZWdpc3RyYXRpb25GYWlsZWRdXG4gICAgKTtcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHJlcy5lcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgfVxuICBhc3luYyBpbml0aWF0ZVBhc3NrZXlBdXRoZW50aWNhdGlvbihvcHRpb25zLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL2F1dGgvcGFzc2tleS9pbml0aWF0ZS1wYXNza2V5LWF1dGhlbnRpY2F0aW9uXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvcHRpb25zKVxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbXVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzdWx0Lm9rKGF3YWl0IHJlcy5kYXRhLmpzb24oKSk7XG4gIH1cbiAgYXN5bmMgc2VuZFRlYW1JbnZpdGF0aW9uKG9wdGlvbnMpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgXCIvdGVhbS1pbnZpdGF0aW9ucy9zZW5kLWNvZGVcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBlbWFpbDogb3B0aW9ucy5lbWFpbCxcbiAgICAgICAgICB0ZWFtX2lkOiBvcHRpb25zLnRlYW1JZCxcbiAgICAgICAgICBjYWxsYmFja191cmw6IG9wdGlvbnMuY2FsbGJhY2tVcmxcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBvcHRpb25zLnNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGFjY2VwdFRlYW1JbnZpdGF0aW9uKG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKFxuICAgICAgb3B0aW9ucy50eXBlID09PSBcImNoZWNrXCIgPyBcIi90ZWFtLWludml0YXRpb25zL2FjY2VwdC9jaGVjay1jb2RlXCIgOiBvcHRpb25zLnR5cGUgPT09IFwiZGV0YWlsc1wiID8gXCIvdGVhbS1pbnZpdGF0aW9ucy9hY2NlcHQvZGV0YWlsc1wiIDogXCIvdGVhbS1pbnZpdGF0aW9ucy9hY2NlcHRcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBjb2RlOiBvcHRpb25zLmNvZGVcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBvcHRpb25zLnNlc3Npb24sXG4gICAgICBbS25vd25FcnJvcnMuVmVyaWZpY2F0aW9uQ29kZUVycm9yXVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKGF3YWl0IHJlcy5kYXRhLmpzb24oKSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHRvdHBNZmEoYXR0ZW1wdENvZGUsIHRvdHAsIHNlc3Npb24pIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFwiL2F1dGgvbWZhL3NpZ24taW5cIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGNvZGU6IGF0dGVtcHRDb2RlLFxuICAgICAgICB0eXBlOiBcInRvdHBcIixcbiAgICAgICAgdG90cFxuICAgICAgfSlcbiAgICB9LCBzZXNzaW9uKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiB7XG4gICAgICBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzdWx0LnJlZnJlc2hfdG9rZW4sXG4gICAgICBuZXdVc2VyOiByZXN1bHQuaXNfbmV3X3VzZXJcbiAgICB9O1xuICB9XG4gIGFzeW5jIHNpZ25JbldpdGhDcmVkZW50aWFsKGVtYWlsLCBwYXNzd29yZCwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9hdXRoL3Bhc3N3b3JkL3NpZ24taW5cIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICBwYXNzd29yZFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbS25vd25FcnJvcnMuRW1haWxQYXNzd29yZE1pc21hdGNoXVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuZGF0YS5qc29uKCk7XG4gICAgcmV0dXJuIFJlc3VsdC5vayh7XG4gICAgICBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzdWx0LnJlZnJlc2hfdG9rZW5cbiAgICB9KTtcbiAgfVxuICBhc3luYyBzaWduVXBXaXRoQ3JlZGVudGlhbChlbWFpbCwgcGFzc3dvcmQsIGVtYWlsVmVyaWZpY2F0aW9uUmVkaXJlY3RVcmwsIHNlc3Npb24pIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKFxuICAgICAgXCIvYXV0aC9wYXNzd29yZC9zaWduLXVwXCIsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgdmVyaWZpY2F0aW9uX2NhbGxiYWNrX3VybDogZW1haWxWZXJpZmljYXRpb25SZWRpcmVjdFVybFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbS25vd25FcnJvcnMuVXNlcldpdGhFbWFpbEFscmVhZHlFeGlzdHMsIEtub3duRXJyb3JzLlBhc3N3b3JkUmVxdWlyZW1lbnRzTm90TWV0XVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuZGF0YS5qc29uKCk7XG4gICAgcmV0dXJuIFJlc3VsdC5vayh7XG4gICAgICBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzdWx0LnJlZnJlc2hfdG9rZW5cbiAgICB9KTtcbiAgfVxuICBhc3luYyBzaWduVXBBbm9ueW1vdXNseShzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL2F1dGgvYW5vbnltb3VzL3NpZ24tdXBcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbXVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXMuZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuZGF0YS5qc29uKCk7XG4gICAgcmV0dXJuIFJlc3VsdC5vayh7XG4gICAgICBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzdWx0LnJlZnJlc2hfdG9rZW5cbiAgICB9KTtcbiAgfVxuICBhc3luYyBzaWduSW5XaXRoTWFnaWNMaW5rKGNvZGUsIHNlc3Npb24pIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKFxuICAgICAgXCIvYXV0aC9vdHAvc2lnbi1pblwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNvZGVcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlZlcmlmaWNhdGlvbkNvZGVFcnJvcl1cbiAgICApO1xuICAgIGlmIChyZXMuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzLmVycm9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmRhdGEuanNvbigpO1xuICAgIHJldHVybiBSZXN1bHQub2soe1xuICAgICAgYWNjZXNzVG9rZW46IHJlc3VsdC5hY2Nlc3NfdG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW46IHJlc3VsdC5yZWZyZXNoX3Rva2VuLFxuICAgICAgbmV3VXNlcjogcmVzdWx0LmlzX25ld191c2VyXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgc2lnbkluV2l0aE1mYSh0b3RwLCBjb2RlLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL2F1dGgvbWZhL3NpZ24taW5cIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiBcInRvdHBcIixcbiAgICAgICAgICB0b3RwLFxuICAgICAgICAgIGNvZGVcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlZlcmlmaWNhdGlvbkNvZGVFcnJvcl1cbiAgICApO1xuICAgIGlmIChyZXMuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzLmVycm9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmRhdGEuanNvbigpO1xuICAgIHJldHVybiBSZXN1bHQub2soe1xuICAgICAgYWNjZXNzVG9rZW46IHJlc3VsdC5hY2Nlc3NfdG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW46IHJlc3VsdC5yZWZyZXNoX3Rva2VuLFxuICAgICAgbmV3VXNlcjogcmVzdWx0LmlzX25ld191c2VyXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgc2lnbkluV2l0aFBhc3NrZXkoYm9keSwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9hdXRoL3Bhc3NrZXkvc2lnbi1pblwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlBhc3NrZXlBdXRoZW50aWNhdGlvbkZhaWxlZF1cbiAgICApO1xuICAgIGlmIChyZXMuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzLmVycm9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmRhdGEuanNvbigpO1xuICAgIHJldHVybiBSZXN1bHQub2soe1xuICAgICAgYWNjZXNzVG9rZW46IHJlc3VsdC5hY2Nlc3NfdG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW46IHJlc3VsdC5yZWZyZXNoX3Rva2VuXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0T0F1dGhVcmwob3B0aW9ucykge1xuICAgIGNvbnN0IHVwZGF0ZWRSZWRpcmVjdFVybCA9IG5ldyBVUkwob3B0aW9ucy5yZWRpcmVjdFVybCk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgW1wiY29kZVwiLCBcInN0YXRlXCJdKSB7XG4gICAgICBpZiAodXBkYXRlZFJlZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5oYXMoa2V5KSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJSZWRpcmVjdCBVUkwgYWxyZWFkeSBjb250YWlucyBcIiArIGtleSArIFwiIHBhcmFtZXRlciwgcmVtb3ZpbmcgaXQgYXMgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgT0F1dGggY2FsbGJhY2tcIik7XG4gICAgICB9XG4gICAgICB1cGRhdGVkUmVkaXJlY3RVcmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBpZiAoIShcInB1Ymxpc2hhYmxlQ2xpZW50S2V5XCIgaW4gdGhpcy5vcHRpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWRtaW4gc2Vzc2lvbiB0b2tlbiBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCBmb3IgT0F1dGhcIik7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGhpcy5nZXRBcGlVcmwoKSArIFwiL2F1dGgvb2F1dGgvYXV0aG9yaXplL1wiICsgb3B0aW9ucy5wcm92aWRlci50b0xvd2VyQ2FzZSgpKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImNsaWVudF9pZFwiLCB0aGlzLnByb2plY3RJZCk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJjbGllbnRfc2VjcmV0XCIsIHRoaXMub3B0aW9ucy5wdWJsaXNoYWJsZUNsaWVudEtleSk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJyZWRpcmVjdF91cmlcIiwgdXBkYXRlZFJlZGlyZWN0VXJsLnRvU3RyaW5nKCkpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwic2NvcGVcIiwgXCJsZWdhY3lcIik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJzdGF0ZVwiLCBvcHRpb25zLnN0YXRlKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImdyYW50X3R5cGVcIiwgXCJhdXRob3JpemF0aW9uX2NvZGVcIik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJjb2RlX2NoYWxsZW5nZVwiLCBvcHRpb25zLmNvZGVDaGFsbGVuZ2UpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY29kZV9jaGFsbGVuZ2VfbWV0aG9kXCIsIFwiUzI1NlwiKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInJlc3BvbnNlX3R5cGVcIiwgXCJjb2RlXCIpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwidHlwZVwiLCBvcHRpb25zLnR5cGUpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiZXJyb3JfcmVkaXJlY3RfdXJsXCIsIG9wdGlvbnMuZXJyb3JSZWRpcmVjdFVybCk7XG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgb3B0aW9ucy5zZXNzaW9uLmdldE9yRmV0Y2hMaWtlbHlWYWxpZFRva2VucygyZTQpO1xuICAgIGlmICh0b2tlbnMpIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwidG9rZW5cIiwgdG9rZW5zLmFjY2Vzc1Rva2VuLnRva2VuKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYWZ0ZXJDYWxsYmFja1JlZGlyZWN0VXJsKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcImFmdGVyX2NhbGxiYWNrX3JlZGlyZWN0X3VybFwiLCBvcHRpb25zLmFmdGVyQ2FsbGJhY2tSZWRpcmVjdFVybCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnByb3ZpZGVyU2NvcGUpIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwicHJvdmlkZXJfc2NvcGVcIiwgb3B0aW9ucy5wcm92aWRlclNjb3BlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICB9XG4gIGFzeW5jIGNhbGxPQXV0aENhbGxiYWNrKG9wdGlvbnMpIHtcbiAgICBpZiAoIShcInB1Ymxpc2hhYmxlQ2xpZW50S2V5XCIgaW4gdGhpcy5vcHRpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWRtaW4gc2Vzc2lvbiB0b2tlbiBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCBmb3IgT0F1dGhcIik7XG4gICAgfVxuICAgIGNvbnN0IGFzID0ge1xuICAgICAgaXNzdWVyOiB0aGlzLm9wdGlvbnMuZ2V0QmFzZVVybCgpLFxuICAgICAgYWxnb3JpdGhtOiBcIm9hdXRoMlwiLFxuICAgICAgdG9rZW5fZW5kcG9pbnQ6IHRoaXMuZ2V0QXBpVXJsKCkgKyBcIi9hdXRoL29hdXRoL3Rva2VuXCJcbiAgICB9O1xuICAgIGNvbnN0IGNsaWVudCA9IHtcbiAgICAgIGNsaWVudF9pZDogdGhpcy5wcm9qZWN0SWQsXG4gICAgICBjbGllbnRfc2VjcmV0OiB0aGlzLm9wdGlvbnMucHVibGlzaGFibGVDbGllbnRLZXksXG4gICAgICB0b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZDogXCJjbGllbnRfc2VjcmV0X3Bvc3RcIlxuICAgIH07XG4gICAgY29uc3QgcGFyYW1zID0gYXdhaXQgdGhpcy5fbmV0d29ya1JldHJ5RXhjZXB0aW9uKFxuICAgICAgYXN5bmMgKCkgPT4gb2F1dGgudmFsaWRhdGVBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgb3B0aW9ucy5vYXV0aFBhcmFtcywgb3B0aW9ucy5zdGF0ZSlcbiAgICApO1xuICAgIGlmIChvYXV0aC5pc09BdXRoMkVycm9yKHBhcmFtcykpIHtcbiAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiRXJyb3IgdmFsaWRhdGluZyBvdXRlciBPQXV0aCByZXNwb25zZVwiLCB7IHBhcmFtcyB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvYXV0aC5hdXRob3JpemF0aW9uQ29kZUdyYW50UmVxdWVzdChcbiAgICAgIGFzLFxuICAgICAgY2xpZW50LFxuICAgICAgcGFyYW1zLFxuICAgICAgb3B0aW9ucy5yZWRpcmVjdFVyaSxcbiAgICAgIG9wdGlvbnMuY29kZVZlcmlmaWVyXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvYXV0aC5wcm9jZXNzQXV0aG9yaXphdGlvbkNvZGVPQXV0aDJSZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSk7XG4gICAgaWYgKG9hdXRoLmlzT0F1dGgyRXJyb3IocmVzdWx0KSkge1xuICAgICAgaWYgKFwiY29kZVwiIGluIHJlc3VsdCAmJiByZXN1bHQuY29kZSA9PT0gXCJNVUxUSV9GQUNUT1JfQVVUSEVOVElDQVRJT05fUkVRVUlSRURcIikge1xuICAgICAgICB0aHJvdyBuZXcgS25vd25FcnJvcnMuTXVsdGlGYWN0b3JBdXRoZW50aWNhdGlvblJlcXVpcmVkKHJlc3VsdC5kZXRhaWxzLmF0dGVtcHRfY29kZSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIk91dGVyIE9BdXRoIGVycm9yIGR1cmluZyBhdXRob3JpemF0aW9uIGNvZGUgcmVzcG9uc2VcIiwgeyByZXN1bHQgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuZXdVc2VyOiByZXN1bHQuaXNfbmV3X3VzZXIsXG4gICAgICBhZnRlckNhbGxiYWNrUmVkaXJlY3RVcmw6IHJlc3VsdC5hZnRlcl9jYWxsYmFja19yZWRpcmVjdF91cmwsXG4gICAgICBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzdWx0LnJlZnJlc2hfdG9rZW4gPz8gdGhyb3dFcnIoXCJSZWZyZXNoIHRva2VuIG5vdCBmb3VuZCBpbiBvdXRlciBPQXV0aCByZXNwb25zZVwiKVxuICAgIH07XG4gIH1cbiAgYXN5bmMgc2lnbk91dChzZXNzaW9uKSB7XG4gICAgY29uc3QgdG9rZW5PYmogPSBhd2FpdCBzZXNzaW9uLmdldE9yRmV0Y2hMaWtlbHlWYWxpZFRva2VucygyZTQpO1xuICAgIGlmICh0b2tlbk9iaikge1xuICAgICAgY29uc3QgcmVzT3JFcnJvciA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICAgIFwiL2F1dGgvc2Vzc2lvbnMvY3VycmVudFwiLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSlcbiAgICAgICAgfSxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgW0tub3duRXJyb3JzLlJlZnJlc2hUb2tlbkVycm9yXVxuICAgICAgKTtcbiAgICAgIGlmIChyZXNPckVycm9yLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGlmIChLbm93bkVycm9ycy5SZWZyZXNoVG9rZW5FcnJvci5pc0luc3RhbmNlKHJlc09yRXJyb3IuZXJyb3IpKSB7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yXCIsIHsgZXJyb3I6IHJlc09yRXJyb3IuZXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICB9XG4gICAgfVxuICAgIHNlc3Npb24ubWFya0ludmFsaWQoKTtcbiAgfVxuICBhc3luYyBnZXRDbGllbnRVc2VyQnlUb2tlbihzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2VPckVycm9yID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL3VzZXJzL21lXCIsXG4gICAgICB7fSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbS25vd25FcnJvcnMuQ2Fubm90R2V0T3duVXNlcldpdGhvdXRVc2VyXVxuICAgICk7XG4gICAgaWYgKHJlc3BvbnNlT3JFcnJvci5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgaWYgKEtub3duRXJyb3JzLkNhbm5vdEdldE93blVzZXJXaXRob3V0VXNlci5pc0luc3RhbmNlKHJlc3BvbnNlT3JFcnJvci5lcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIlVuZXhwZWN0ZWQgdW5jYXVnaHQgZXJyb3JcIiwgeyBjYXVzZTogcmVzcG9uc2VPckVycm9yLmVycm9yIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlT3JFcnJvci5kYXRhO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKCF1c2VyKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIlVzZXIgZW5kcG9pbnQgcmV0dXJuZWQgbnVsbDsgdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuXCIpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG4gIGFzeW5jIGxpc3RUZWFtSW52aXRhdGlvbnMob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIFwiL3RlYW0taW52aXRhdGlvbnM/XCIgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgdGVhbV9pZDogb3B0aW9ucy50ZWFtSWQgfSksXG4gICAgICB7fSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0Lml0ZW1zO1xuICB9XG4gIGFzeW5jIHJldm9rZVRlYW1JbnZpdGF0aW9uKGludml0YXRpb25JZCwgdGVhbUlkLCBzZXNzaW9uKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvdGVhbS1pbnZpdGF0aW9ucy8ke2ludml0YXRpb25JZH0/dGVhbV9pZD0ke3RlYW1JZH1gLFxuICAgICAgeyBtZXRob2Q6IFwiREVMRVRFXCIgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGxpc3RUZWFtTWVtYmVyUHJvZmlsZXMob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIFwiL3RlYW0tbWVtYmVyLXByb2ZpbGVzP1wiICsgbmV3IFVSTFNlYXJjaFBhcmFtcyhmaWx0ZXJVbmRlZmluZWQoe1xuICAgICAgICB0ZWFtX2lkOiBvcHRpb25zLnRlYW1JZCxcbiAgICAgICAgdXNlcl9pZDogb3B0aW9ucy51c2VySWRcbiAgICAgIH0pKSxcbiAgICAgIHt9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiByZXN1bHQuaXRlbXM7XG4gIH1cbiAgYXN5bmMgZ2V0VGVhbU1lbWJlclByb2ZpbGUob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvdGVhbS1tZW1iZXItcHJvZmlsZXMvJHtvcHRpb25zLnRlYW1JZH0vJHtvcHRpb25zLnVzZXJJZH1gLFxuICAgICAge30sXG4gICAgICBzZXNzaW9uXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGxlYXZlVGVhbSh0ZWFtSWQsIHNlc3Npb24pIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgYC90ZWFtLW1lbWJlcnNoaXBzLyR7dGVhbUlkfS9tZWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVRlYW1NZW1iZXJQcm9maWxlKG9wdGlvbnMsIHNlc3Npb24pIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgYC90ZWFtLW1lbWJlci1wcm9maWxlcy8ke29wdGlvbnMudGVhbUlkfS8ke29wdGlvbnMudXNlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5wcm9maWxlKVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVRlYW0ob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBgL3RlYW1zLyR7b3B0aW9ucy50ZWFtSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvcHRpb25zLmRhdGEpXG4gICAgICB9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gIH1cbiAgYXN5bmMgbGlzdEN1cnJlbnRVc2VyVGVhbVBlcm1pc3Npb25zKG9wdGlvbnMsIHNlc3Npb24pIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBgL3RlYW0tcGVybWlzc2lvbnM/dGVhbV9pZD0ke29wdGlvbnMudGVhbUlkfSZ1c2VyX2lkPW1lJnJlY3Vyc2l2ZT0ke29wdGlvbnMucmVjdXJzaXZlfWAsXG4gICAgICB7fSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0Lml0ZW1zO1xuICB9XG4gIGFzeW5jIGxpc3RDdXJyZW50VXNlclByb2plY3RQZXJtaXNzaW9ucyhvcHRpb25zLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgYC9wcm9qZWN0LXBlcm1pc3Npb25zP3VzZXJfaWQ9bWUmcmVjdXJzaXZlPSR7b3B0aW9ucy5yZWN1cnNpdmV9YCxcbiAgICAgIHt9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiByZXN1bHQuaXRlbXM7XG4gIH1cbiAgYXN5bmMgbGlzdEN1cnJlbnRVc2VyVGVhbXMoc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIFwiL3RlYW1zP3VzZXJfaWQ9bWVcIixcbiAgICAgIHt9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiByZXN1bHQuaXRlbXM7XG4gIH1cbiAgYXN5bmMgZ2V0Q2xpZW50UHJvamVjdCgpIHtcbiAgICBjb25zdCByZXNwb25zZU9yRXJyb3IgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKFwiL3Byb2plY3RzL2N1cnJlbnRcIiwge30sIG51bGwsIFtLbm93bkVycm9ycy5Qcm9qZWN0Tm90Rm91bmRdKTtcbiAgICBpZiAocmVzcG9uc2VPckVycm9yLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHJlc3BvbnNlT3JFcnJvci5lcnJvcik7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzcG9uc2VPckVycm9yLmRhdGE7XG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gUmVzdWx0Lm9rKHByb2plY3QpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUNsaWVudFVzZXIodXBkYXRlLCBzZXNzaW9uKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIFwiL3VzZXJzL21lXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlKVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGxpc3RQcm9qZWN0cyhzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFwiL2ludGVybmFsL3Byb2plY3RzXCIsIHt9LCBzZXNzaW9uKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbGlzdCBwcm9qZWN0czogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24uaXRlbXM7XG4gIH1cbiAgYXN5bmMgY3JlYXRlUHJvamVjdChwcm9qZWN0LCBzZXNzaW9uKSB7XG4gICAgY29uc3QgZmV0Y2hSZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBcIi9pbnRlcm5hbC9wcm9qZWN0c1wiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvamVjdClcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uXG4gICAgKTtcbiAgICBpZiAoIWZldGNoUmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgcHJvamVjdDogXCIgKyBmZXRjaFJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgYXdhaXQgZmV0Y2hSZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCBqc29uID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgYXN5bmMgY3JlYXRlUHJvdmlkZXJBY2Nlc3NUb2tlbihwcm92aWRlciwgc2NvcGUsIHNlc3Npb24pIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBgL2Nvbm5lY3RlZC1hY2NvdW50cy9tZS8ke3Byb3ZpZGVyfS9hY2Nlc3MtdG9rZW5gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzY29wZSB9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlQ2xpZW50VGVhbShkYXRhLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgXCIvdGVhbXNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBkZWxldGVUZWFtKHRlYW1JZCwgc2Vzc2lvbikge1xuICAgIGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBgL3RlYW1zLyR7dGVhbUlkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGRlbGV0ZUN1cnJlbnRVc2VyKHNlc3Npb24pIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgXCIvdXNlcnMvbWVcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiXG4gICAgICB9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlQ2xpZW50Q29udGFjdENoYW5uZWwoZGF0YSwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIFwiL2NvbnRhY3QtY2hhbm5lbHNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyB1cGRhdGVDbGllbnRDb250YWN0Q2hhbm5lbChpZCwgZGF0YSwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvY29udGFjdC1jaGFubmVscy9tZS8ke2lkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGRlbGV0ZUNsaWVudENvbnRhY3RDaGFubmVsKGlkLCBzZXNzaW9uKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvY29udGFjdC1jaGFubmVscy9tZS8ke2lkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGRlbGV0ZVNlc3Npb24oc2Vzc2lvbklkLCBzZXNzaW9uKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvYXV0aC9zZXNzaW9ucy8ke3Nlc3Npb25JZH0/dXNlcl9pZD1tZWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGxpc3RTZXNzaW9ucyhzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgXCIvYXV0aC9zZXNzaW9ucz91c2VyX2lkPW1lXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgbGlzdENsaWVudENvbnRhY3RDaGFubmVscyhzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgXCIvY29udGFjdC1jaGFubmVscz91c2VyX2lkPW1lXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24uaXRlbXM7XG4gIH1cbiAgYXN5bmMgc2VuZEN1cnJlbnRVc2VyQ29udGFjdENoYW5uZWxWZXJpZmljYXRpb25FbWFpbChjb250YWN0Q2hhbm5lbElkLCBjYWxsYmFja1VybCwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlT3JFcnJvciA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBgL2NvbnRhY3QtY2hhbm5lbHMvbWUvJHtjb250YWN0Q2hhbm5lbElkfS9zZW5kLXZlcmlmaWNhdGlvbi1jb2RlYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY2FsbGJhY2tfdXJsOiBjYWxsYmFja1VybCB9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbS25vd25FcnJvcnMuRW1haWxBbHJlYWR5VmVyaWZpZWRdXG4gICAgKTtcbiAgICBpZiAocmVzcG9uc2VPckVycm9yLnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHJlc3BvbnNlT3JFcnJvci5lcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgfVxuICBhc3luYyBjbGlMb2dpbihsb2dpbkNvZGUsIHJlZnJlc2hUb2tlbiwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlT3JFcnJvciA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9hdXRoL2NsaS9jb21wbGV0ZVwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGxvZ2luX2NvZGU6IGxvZ2luQ29kZSxcbiAgICAgICAgICByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW5cbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLlNjaGVtYUVycm9yXVxuICAgICk7XG4gICAgaWYgKHJlc3BvbnNlT3JFcnJvci5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXNwb25zZU9yRXJyb3IuZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gIH1cbiAgYXN5bmMgX2dldEFwaUtleVJlcXVlc3RJbmZvKG9wdGlvbnMpIHtcbiAgICBpZiAoXCJ1c2VyX2lkXCIgaW4gb3B0aW9ucyAmJiBcInRlYW1faWRcIiBpbiBvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIkNhbm5vdCBzcGVjaWZ5IGJvdGggdXNlcl9pZCBhbmQgdGVhbV9pZCBpbiBfZ2V0QXBpS2V5UmVxdWVzdEluZm9cIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlbmRwb2ludDogXCJ0ZWFtX2lkXCIgaW4gb3B0aW9ucyA/IFwiL3RlYW0tYXBpLWtleXNcIiA6IFwiL3VzZXItYXBpLWtleXNcIixcbiAgICAgIHF1ZXJ5UGFyYW1zOiBuZXcgVVJMU2VhcmNoUGFyYW1zKGZpbHRlclVuZGVmaW5lZE9yTnVsbChvcHRpb25zKSlcbiAgICB9O1xuICB9XG4gIGFzeW5jIGxpc3RQcm9qZWN0QXBpS2V5cyhvcHRpb25zLCBzZXNzaW9uLCByZXF1ZXN0VHlwZSkge1xuICAgIGNvbnN0IHNlbmRSZXF1ZXN0ID0gKHJlcXVlc3RUeXBlID09PSBcImNsaWVudFwiID8gdGhpcy5zZW5kQ2xpZW50UmVxdWVzdCA6IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QpLmJpbmQodGhpcyk7XG4gICAgY29uc3QgeyBlbmRwb2ludCwgcXVlcnlQYXJhbXMgfSA9IGF3YWl0IHRoaXMuX2dldEFwaUtleVJlcXVlc3RJbmZvKG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QoXG4gICAgICBgJHtlbmRwb2ludH0/JHtxdWVyeVBhcmFtcy50b1N0cmluZygpfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICByZXF1ZXN0VHlwZVxuICAgICk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4ganNvbi5pdGVtcztcbiAgfVxuICBhc3luYyBjcmVhdGVQcm9qZWN0QXBpS2V5KGRhdGEsIHNlc3Npb24sIHJlcXVlc3RUeXBlKSB7XG4gICAgY29uc3Qgc2VuZFJlcXVlc3QgPSAocmVxdWVzdFR5cGUgPT09IFwiY2xpZW50XCIgPyB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0IDogdGhpcy5zZW5kU2VydmVyUmVxdWVzdCkuYmluZCh0aGlzKTtcbiAgICBjb25zdCB7IGVuZHBvaW50IH0gPSBhd2FpdCB0aGlzLl9nZXRBcGlLZXlSZXF1ZXN0SW5mbyhkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KFxuICAgICAgYCR7ZW5kcG9pbnR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgc2Vzc2lvbixcbiAgICAgIHJlcXVlc3RUeXBlXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIGdldFByb2plY3RBcGlLZXkob3B0aW9ucywga2V5SWQsIHNlc3Npb24sIHJlcXVlc3RUeXBlKSB7XG4gICAgY29uc3Qgc2VuZFJlcXVlc3QgPSAocmVxdWVzdFR5cGUgPT09IFwiY2xpZW50XCIgPyB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0IDogdGhpcy5zZW5kU2VydmVyUmVxdWVzdCkuYmluZCh0aGlzKTtcbiAgICBjb25zdCB7IGVuZHBvaW50LCBxdWVyeVBhcmFtcyB9ID0gYXdhaXQgdGhpcy5fZ2V0QXBpS2V5UmVxdWVzdEluZm8ob3B0aW9ucyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdChcbiAgICAgIGAke2VuZHBvaW50fS8ke2tleUlkfT8ke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCl9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiXG4gICAgICB9LFxuICAgICAgc2Vzc2lvbixcbiAgICAgIHJlcXVlc3RUeXBlXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVByb2plY3RBcGlLZXkob3B0aW9ucywga2V5SWQsIGRhdGEsIHNlc3Npb24sIHJlcXVlc3RUeXBlKSB7XG4gICAgY29uc3Qgc2VuZFJlcXVlc3QgPSAocmVxdWVzdFR5cGUgPT09IFwiY2xpZW50XCIgPyB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0IDogdGhpcy5zZW5kU2VydmVyUmVxdWVzdCkuYmluZCh0aGlzKTtcbiAgICBjb25zdCB7IGVuZHBvaW50LCBxdWVyeVBhcmFtcyB9ID0gYXdhaXQgdGhpcy5fZ2V0QXBpS2V5UmVxdWVzdEluZm8ob3B0aW9ucyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdChcbiAgICAgIGAke2VuZHBvaW50fS8ke2tleUlkfT8ke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCl9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSxcbiAgICAgIHNlc3Npb24sXG4gICAgICByZXF1ZXN0VHlwZVxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBjaGVja1Byb2plY3RBcGlLZXkodHlwZSwgYXBpS2V5LCBzZXNzaW9uLCByZXF1ZXN0VHlwZSkge1xuICAgIGNvbnN0IHNlbmRSZXF1ZXN0ID0gKHJlcXVlc3RUeXBlID09PSBcImNsaWVudFwiID8gdGhpcy5zZW5kQ2xpZW50UmVxdWVzdEFuZENhdGNoS25vd25FcnJvciA6IHRoaXMuc2VuZFNlcnZlclJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IpLmJpbmQodGhpcyk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFJlcXVlc3QoXG4gICAgICBgLyR7dHlwZX0tYXBpLWtleXMvY2hlY2tgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhcGlfa2V5OiBhcGlLZXkgfSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgW0tub3duRXJyb3JzLkFwaUtleU5vdFZhbGlkXVxuICAgICk7XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXN1bHQuZGF0YS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgbGlzdE5vdGlmaWNhdGlvbkNhdGVnb3JpZXMoc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvZW1haWxzL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlL21lYCxcbiAgICAgIHt9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiByZXN1bHQuaXRlbXM7XG4gIH1cbiAgYXN5bmMgc2V0Tm90aWZpY2F0aW9uc0VuYWJsZWQobm90aWZpY2F0aW9uQ2F0ZWdvcnlJZCwgZW5hYmxlZCwgc2Vzc2lvbikge1xuICAgIGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBgL2VtYWlscy9ub3RpZmljYXRpb24tcHJlZmVyZW5jZS9tZS8ke25vdGlmaWNhdGlvbkNhdGVnb3J5SWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZW5hYmxlZFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGdldE9BdXRoUHJvdmlkZXIodXNlcklkLCBwcm92aWRlcklkLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgYC9vYXV0aC1wcm92aWRlcnMvJHt1c2VySWR9LyR7cHJvdmlkZXJJZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZU9BdXRoUHJvdmlkZXIodXNlcklkLCBwcm92aWRlcklkLCBkYXRhLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgYC9vYXV0aC1wcm92aWRlcnMvJHt1c2VySWR9LyR7cHJvdmlkZXJJZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBsaXN0T0F1dGhQcm92aWRlcnMob3B0aW9ucyA9IHt9LCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGZpbHRlclVuZGVmaW5lZChvcHRpb25zKSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgYC9vYXV0aC1wcm92aWRlcnMke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCkgPyBgPyR7cXVlcnlQYXJhbXMudG9TdHJpbmcoKX1gIDogXCJcIn1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5pdGVtcztcbiAgfVxuICBhc3luYyBkZWxldGVPQXV0aFByb3ZpZGVyKHVzZXJJZCwgcHJvdmlkZXJJZCwgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIGAvb2F1dGgtcHJvdmlkZXJzLyR7dXNlcklkfS8ke3Byb3ZpZGVySWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiXG4gICAgICB9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBnZXRJdGVtKG9wdGlvbnMsIHNlc3Npb24pIHtcbiAgICBsZXQgY3VzdG9tZXJUeXBlO1xuICAgIGxldCBjdXN0b21lcklkO1xuICAgIGlmIChcInVzZXJJZFwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGN1c3RvbWVyVHlwZSA9IFwidXNlclwiO1xuICAgICAgY3VzdG9tZXJJZCA9IG9wdGlvbnMudXNlcklkO1xuICAgIH0gZWxzZSBpZiAoXCJ0ZWFtSWRcIiBpbiBvcHRpb25zKSB7XG4gICAgICBjdXN0b21lclR5cGUgPSBcInRlYW1cIjtcbiAgICAgIGN1c3RvbWVySWQgPSBvcHRpb25zLnRlYW1JZDtcbiAgICB9IGVsc2UgaWYgKFwiY3VzdG9tQ3VzdG9tZXJJZFwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGN1c3RvbWVyVHlwZSA9IFwiY3VzdG9tXCI7XG4gICAgICBjdXN0b21lcklkID0gb3B0aW9ucy5jdXN0b21DdXN0b21lcklkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcImdldEl0ZW0gcmVxdWlyZXMgb25lIG9mIHVzZXJJZCwgdGVhbUlkLCBvciBjdXN0b21DdXN0b21lcklkXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3BheW1lbnRzL2l0ZW1zLyR7Y3VzdG9tZXJUeXBlfS8ke2N1c3RvbWVySWR9LyR7b3B0aW9ucy5pdGVtSWR9YCxcbiAgICAgIHt9LFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBjcmVhdGVDaGVja291dFVybChjdXN0b21lcl90eXBlLCBjdXN0b21lcl9pZCwgb2ZmZXJJZE9ySW5saW5lLCBzZXNzaW9uKSB7XG4gICAgY29uc3Qgb2ZmZXJCb2R5ID0gdHlwZW9mIG9mZmVySWRPcklubGluZSA9PT0gXCJzdHJpbmdcIiA/IHsgb2ZmZXJfaWQ6IG9mZmVySWRPcklubGluZSB9IDogeyBpbmxpbmVfb2ZmZXI6IG9mZmVySWRPcklubGluZSB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kQ2xpZW50UmVxdWVzdChcbiAgICAgIFwiL3BheW1lbnRzL3B1cmNoYXNlcy9jcmVhdGUtcHVyY2hhc2UtdXJsXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGN1c3RvbWVyX3R5cGUsIGN1c3RvbWVyX2lkLCAuLi5vZmZlckJvZHkgfSlcbiAgICAgIH0sXG4gICAgICBzZXNzaW9uXG4gICAgKTtcbiAgICBjb25zdCB7IHVybCB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiB1cmw7XG4gIH1cbn07XG5leHBvcnQge1xuICBTdGFja0NsaWVudEludGVyZmFjZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC1pbnRlcmZhY2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/client-interface.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/server-interface.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/interface/server-interface.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackServerInterface: () => (/* binding */ StackServerInterface)\n/* harmony export */ });\n/* harmony import */ var _helpers_vault_client_side_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/vault/client-side.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/helpers/vault/client-side.js\");\n/* harmony import */ var _known_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../known-errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js\");\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _utils_objects_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/objects.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _utils_results_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _utils_urls_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/urls.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js\");\n/* harmony import */ var _client_interface_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./client-interface.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/client-interface.js\");\n// src/interface/server-interface.ts\n\n\n\n\n\n\n\nvar StackServerInterface = class extends _client_interface_js__WEBPACK_IMPORTED_MODULE_6__.StackClientInterface {\n  constructor(options) {\n    super(options);\n    this.options = options;\n  }\n  async sendServerRequest(path, options, session, requestType = \"server\") {\n    return await this.sendClientRequest(\n      path,\n      {\n        ...options,\n        headers: {\n          \"x-stack-secret-server-key\": \"secretServerKey\" in this.options ? this.options.secretServerKey : \"\",\n          ...options.headers\n        }\n      },\n      session,\n      requestType\n    );\n  }\n  async sendServerRequestAndCatchKnownError(path, requestOptions, tokenStoreOrNull, errorsToCatch) {\n    try {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_4__.Result.ok(await this.sendServerRequest(path, requestOptions, tokenStoreOrNull));\n    } catch (e) {\n      for (const errorType of errorsToCatch) {\n        if (errorType.isInstance(e)) {\n          return _utils_results_js__WEBPACK_IMPORTED_MODULE_4__.Result.error(e);\n        }\n      }\n      throw e;\n    }\n  }\n  async createServerUser(data) {\n    const response = await this.sendServerRequest(\n      \"/users\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async getServerUserByToken(session) {\n    const responseOrError = await this.sendServerRequestAndCatchKnownError(\n      \"/users/me\",\n      {},\n      session,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CannotGetOwnUserWithoutUser]\n    );\n    if (responseOrError.status === \"error\") {\n      if (_known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CannotGetOwnUserWithoutUser.isInstance(responseOrError.error)) {\n        return null;\n      } else {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"Unexpected uncaught error\", { cause: responseOrError.error });\n      }\n    }\n    const response = responseOrError.data;\n    const user = await response.json();\n    if (!user) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"User endpoint returned null; this should never happen\");\n    return user;\n  }\n  async getServerUserById(userId) {\n    const responseOrError = await this.sendServerRequestAndCatchKnownError(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/users/${userId}`,\n      {},\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.UserNotFound]\n    );\n    if (responseOrError.status === \"error\") {\n      return _utils_results_js__WEBPACK_IMPORTED_MODULE_4__.Result.error(responseOrError.error);\n    }\n    const user = await responseOrError.data.json();\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_4__.Result.ok(user);\n  }\n  async listServerTeamInvitations(options) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-invitations?team_id=${options.teamId}`,\n      {},\n      null\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async revokeServerTeamInvitation(invitationId, teamId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-invitations/${invitationId}?team_id=${teamId}`,\n      { method: \"DELETE\" },\n      null\n    );\n  }\n  async listServerTeamMemberProfiles(options) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-member-profiles?team_id=${options.teamId}`,\n      {},\n      null\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async getServerTeamMemberProfile(options) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-member-profiles/${options.teamId}/${options.userId}`,\n      {},\n      null\n    );\n    return await response.json();\n  }\n  async listServerTeamPermissions(options, session) {\n    const response = await this.sendServerRequest(\n      `/team-permissions?${new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_3__.filterUndefined)({\n        user_id: options.userId,\n        team_id: options.teamId,\n        recursive: options.recursive.toString()\n      }))}`,\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async listServerProjectPermissions(options, session) {\n    const response = await this.sendServerRequest(\n      `/project-permissions?${new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_3__.filterUndefined)({\n        user_id: options.userId,\n        recursive: options.recursive.toString()\n      }))}`,\n      {},\n      session\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async listServerUsers(options) {\n    const searchParams = new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_3__.filterUndefined)({\n      cursor: options.cursor,\n      limit: options.limit?.toString(),\n      desc: options.desc?.toString(),\n      ...options.orderBy ? {\n        order_by: {\n          signedUpAt: \"signed_up_at\"\n        }[options.orderBy]\n      } : {},\n      ...options.query ? {\n        query: options.query\n      } : {},\n      ...options.includeAnonymous ? {\n        include_anonymous: \"true\"\n      } : {}\n    }));\n    const response = await this.sendServerRequest(\"/users?\" + searchParams.toString(), {}, null);\n    return await response.json();\n  }\n  async listServerTeams(options) {\n    const response = await this.sendServerRequest(\n      `/teams?${new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_3__.filterUndefined)({\n        user_id: options?.userId\n      }))}`,\n      {},\n      null\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async getServerTeam(teamId) {\n    const response = await this.sendServerRequest(\n      `/teams/${teamId}`,\n      {},\n      null\n    );\n    return await response.json();\n  }\n  async listServerTeamUsers(teamId) {\n    const response = await this.sendServerRequest(`/users?team_id=${teamId}`, {}, null);\n    const result = await response.json();\n    return result.items;\n  }\n  /* when passing a session, the user will be added to the team */\n  async createServerTeam(data) {\n    const response = await this.sendServerRequest(\n      \"/teams\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async updateServerTeam(teamId, data) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/teams/${teamId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteServerTeam(teamId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/teams/${teamId}`,\n      { method: \"DELETE\" },\n      null\n    );\n  }\n  async addServerUserToTeam(options) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-memberships/${options.teamId}/${options.userId}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n    return await response.json();\n  }\n  async removeServerUserFromTeam(options) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-memberships/${options.teamId}/${options.userId}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async updateServerUser(userId, update) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/users/${userId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(update)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async createServerProviderAccessToken(userId, provider, scope) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/connected-accounts/${userId}/${provider}/access-token`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ scope })\n      },\n      null\n    );\n    return await response.json();\n  }\n  async createServerUserSession(userId, expiresInMillis, isImpersonation) {\n    const response = await this.sendServerRequest(\n      \"/auth/sessions\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          expires_in_millis: expiresInMillis,\n          is_impersonation: isImpersonation\n        })\n      },\n      null\n    );\n    const result = await response.json();\n    return {\n      accessToken: result.access_token,\n      refreshToken: result.refresh_token\n    };\n  }\n  async leaveServerTeam(options) {\n    await this.sendClientRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-memberships/${options.teamId}/${options.userId}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async updateServerTeamMemberProfile(options) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-member-profiles/${options.teamId}/${options.userId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(options.profile)\n      },\n      null\n    );\n  }\n  async grantServerTeamUserPermission(teamId, userId, permissionId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-permissions/${teamId}/${userId}/${permissionId}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async grantServerProjectPermission(userId, permissionId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/project-permissions/${userId}/${permissionId}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async revokeServerTeamUserPermission(teamId, userId, permissionId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/team-permissions/${teamId}/${userId}/${permissionId}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async revokeServerProjectPermission(userId, permissionId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/project-permissions/${userId}/${permissionId}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async deleteServerUser(userId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/users/${userId}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      },\n      null\n    );\n  }\n  async createServerContactChannel(data) {\n    const response = await this.sendServerRequest(\n      \"/contact-channels\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async updateServerContactChannel(userId, contactChannelId, data) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/contact-channels/${userId}/${contactChannelId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteServerContactChannel(userId, contactChannelId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/contact-channels/${userId}/${contactChannelId}`,\n      {\n        method: \"DELETE\"\n      },\n      null\n    );\n  }\n  async listServerContactChannels(userId) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/contact-channels?user_id=${userId}`,\n      {\n        method: \"GET\"\n      },\n      null\n    );\n    const json = await response.json();\n    return json.items;\n  }\n  async listServerNotificationCategories(userId) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/emails/notification-preference/${userId}`,\n      {\n        method: \"GET\"\n      },\n      null\n    );\n    const json = await response.json();\n    return json.items;\n  }\n  async setServerNotificationsEnabled(userId, notificationCategoryId, enabled) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/emails/notification-preference/${userId}/${notificationCategoryId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          enabled\n        })\n      },\n      null\n    );\n  }\n  async sendServerContactChannelVerificationEmail(userId, contactChannelId, callbackUrl) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/contact-channels/${userId}/${contactChannelId}/send-verification-code`,\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({ callback_url: callbackUrl })\n      },\n      null\n    );\n  }\n  async listServerSessions(userId) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/auth/sessions?user_id=${userId}`,\n      {\n        method: \"GET\"\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteServerSession(sessionId) {\n    await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/auth/sessions/${sessionId}`,\n      {\n        method: \"DELETE\"\n      },\n      null\n    );\n  }\n  async sendServerTeamInvitation(options) {\n    await this.sendServerRequest(\n      \"/team-invitations/send-code\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: options.email,\n          team_id: options.teamId,\n          callback_url: options.callbackUrl\n        })\n      },\n      null\n    );\n  }\n  async updatePassword(options) {\n    const res = await this.sendServerRequestAndCatchKnownError(\n      \"/auth/password/update\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          old_password: options.oldPassword,\n          new_password: options.newPassword\n        })\n      },\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasswordConfirmationMismatch, _known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasswordRequirementsNotMet]\n    );\n    if (res.status === \"error\") {\n      return res.error;\n    }\n  }\n  // OAuth Providers CRUD operations\n  async createServerOAuthProvider(data) {\n    const response = await this.sendServerRequest(\n      \"/oauth-providers\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async listServerOAuthProviders(options = {}) {\n    const queryParams = new URLSearchParams((0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_3__.filterUndefined)(options));\n    const response = await this.sendServerRequest(\n      `/oauth-providers${queryParams.toString() ? `?${queryParams.toString()}` : \"\"}`,\n      {\n        method: \"GET\"\n      },\n      null\n    );\n    const result = await response.json();\n    return result.items;\n  }\n  async updateServerOAuthProvider(userId, providerId, data) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/oauth-providers/${userId}/${providerId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      },\n      null\n    );\n    return await response.json();\n  }\n  async deleteServerOAuthProvider(userId, providerId) {\n    const response = await this.sendServerRequest(\n      (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_5__.urlString)`/oauth-providers/${userId}/${providerId}`,\n      {\n        method: \"DELETE\"\n      },\n      null\n    );\n    return await response.json();\n  }\n  async sendEmail(options) {\n    const res = await this.sendServerRequest(\n      \"/emails/send-email\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_ids: options.userIds,\n          all_users: options.allUsers,\n          theme_id: options.themeId,\n          html: options.html,\n          subject: options.subject,\n          notification_category_name: options.notificationCategoryName,\n          template_id: options.templateId,\n          variables: options.variables,\n          draft_id: options.draftId\n        })\n      },\n      null\n    );\n    return _utils_results_js__WEBPACK_IMPORTED_MODULE_4__.Result.ok(void 0);\n  }\n  async updateItemQuantity(options, data) {\n    let customerType;\n    let customerId;\n    const itemId = options.itemId;\n    if (\"userId\" in options) {\n      customerType = \"user\";\n      customerId = options.userId;\n    } else if (\"teamId\" in options) {\n      customerType = \"team\";\n      customerId = options.teamId;\n    } else if (\"customCustomerId\" in options) {\n      customerType = \"custom\";\n      customerId = options.customCustomerId;\n    } else {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"updateItemQuantity requires one of userId, teamId, or customCustomerId\");\n    }\n    const queryParams = new URLSearchParams({ allow_negative: (data.allow_negative ?? false).toString() });\n    await this.sendServerRequest(\n      `/payments/items/${customerType}/${customerId}/${itemId}/update-quantity?${queryParams.toString()}`,\n      {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ delta: data.delta, expires_at: data.expires_at, description: data.description })\n      },\n      null\n    );\n  }\n  async getDataVaultStoreValue(secret, storeId, key) {\n    const hashedKey = await (0,_helpers_vault_client_side_js__WEBPACK_IMPORTED_MODULE_0__.hashKey)(secret, key);\n    const response = await this.sendServerRequestAndCatchKnownError(\n      `/data-vault/stores/${storeId}/get`,\n      {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ hashed_key: hashedKey })\n      },\n      null,\n      [_known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.DataVaultStoreHashedKeyDoesNotExist]\n    );\n    if (response.status === \"error\") {\n      if (_known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.DataVaultStoreHashedKeyDoesNotExist.isInstance(response.error)) {\n        return null;\n      } else {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"Unexpected uncaught error\", { cause: response.error });\n      }\n    }\n    const json = await response.data.json();\n    const encryptedValue = json.encrypted_value;\n    if (typeof encryptedValue !== \"string\") throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"encrypted_value is not a string\", { type: typeof encryptedValue });\n    return await (0,_helpers_vault_client_side_js__WEBPACK_IMPORTED_MODULE_0__.decryptValue)(secret, key, encryptedValue);\n  }\n  async setDataVaultStoreValue(secret, storeId, key, value) {\n    const hashedKey = await (0,_helpers_vault_client_side_js__WEBPACK_IMPORTED_MODULE_0__.hashKey)(secret, key);\n    const encryptedValue = await (0,_helpers_vault_client_side_js__WEBPACK_IMPORTED_MODULE_0__.encryptValue)(secret, key, value);\n    await this.sendServerRequest(\n      `/data-vault/stores/${storeId}/set`,\n      {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ hashed_key: hashedKey, encrypted_value: encryptedValue })\n      },\n      null\n    );\n  }\n};\n\n//# sourceMappingURL=server-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vaW50ZXJmYWNlL3NlcnZlci1pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNzRjtBQUNyQztBQUNRO0FBQ0g7QUFDVDtBQUNBO0FBR2Q7QUFDL0IseUNBQXlDLHNFQUFvQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CLE1BQU07QUFDTjtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE9BQU8seURBQVc7QUFDbEI7QUFDQTtBQUNBLFVBQVUseURBQVc7QUFDckI7QUFDQSxRQUFRO0FBQ1Isa0JBQWtCLGlFQUFtQixnQ0FBZ0MsOEJBQThCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlFQUFtQiwrQkFBK0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlEQUFTLFVBQVUsT0FBTztBQUNoQyxRQUFRO0FBQ1I7QUFDQSxPQUFPLHlEQUFXO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhLHFEQUFNO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLHFEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLE1BQU0seURBQVMsNkJBQTZCLGVBQWU7QUFDM0QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx5REFBUyxxQkFBcUIsYUFBYSxXQUFXLE9B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LGdDQUFnQyx1QkFBdUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsaUVBQW1CLHNDQUFzQyw2QkFBNkI7QUFDNUksaUJBQWlCLDJFQUFZO0FBQzdCO0FBQ0E7QUFDQSw0QkFBNEIsc0VBQU87QUFDbkMsaUNBQWlDLDJFQUFZO0FBQzdDO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBLG1CQUFtQixvQ0FBb0M7QUFDdkQsK0JBQStCLHdEQUF3RDtBQUN2RixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFxpbnRlcmZhY2VcXHNlcnZlci1pbnRlcmZhY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2ludGVyZmFjZS9zZXJ2ZXItaW50ZXJmYWNlLnRzXG5pbXBvcnQgeyBkZWNyeXB0VmFsdWUsIGVuY3J5cHRWYWx1ZSwgaGFzaEtleSB9IGZyb20gXCIuLi9oZWxwZXJzL3ZhdWx0L2NsaWVudC1zaWRlLmpzXCI7XG5pbXBvcnQgeyBLbm93bkVycm9ycyB9IGZyb20gXCIuLi9rbm93bi1lcnJvcnMuanNcIjtcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IgfSBmcm9tIFwiLi4vdXRpbHMvZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBmaWx0ZXJVbmRlZmluZWQgfSBmcm9tIFwiLi4vdXRpbHMvb2JqZWN0cy5qc1wiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIi4uL3V0aWxzL3Jlc3VsdHMuanNcIjtcbmltcG9ydCB7IHVybFN0cmluZyB9IGZyb20gXCIuLi91dGlscy91cmxzLmpzXCI7XG5pbXBvcnQge1xuICBTdGFja0NsaWVudEludGVyZmFjZVxufSBmcm9tIFwiLi9jbGllbnQtaW50ZXJmYWNlLmpzXCI7XG52YXIgU3RhY2tTZXJ2ZXJJbnRlcmZhY2UgPSBjbGFzcyBleHRlbmRzIFN0YWNrQ2xpZW50SW50ZXJmYWNlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgYXN5bmMgc2VuZFNlcnZlclJlcXVlc3QocGF0aCwgb3B0aW9ucywgc2Vzc2lvbiwgcmVxdWVzdFR5cGUgPSBcInNlcnZlclwiKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VuZENsaWVudFJlcXVlc3QoXG4gICAgICBwYXRoLFxuICAgICAge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJ4LXN0YWNrLXNlY3JldC1zZXJ2ZXIta2V5XCI6IFwic2VjcmV0U2VydmVyS2V5XCIgaW4gdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLnNlY3JldFNlcnZlcktleSA6IFwiXCIsXG4gICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzZXNzaW9uLFxuICAgICAgcmVxdWVzdFR5cGVcbiAgICApO1xuICB9XG4gIGFzeW5jIHNlbmRTZXJ2ZXJSZXF1ZXN0QW5kQ2F0Y2hLbm93bkVycm9yKHBhdGgsIHJlcXVlc3RPcHRpb25zLCB0b2tlblN0b3JlT3JOdWxsLCBlcnJvcnNUb0NhdGNoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBSZXN1bHQub2soYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucywgdG9rZW5TdG9yZU9yTnVsbCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGZvciAoY29uc3QgZXJyb3JUeXBlIG9mIGVycm9yc1RvQ2F0Y2gpIHtcbiAgICAgICAgaWYgKGVycm9yVHlwZS5pc0luc3RhbmNlKGUpKSB7XG4gICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY3JlYXRlU2VydmVyVXNlcihkYXRhKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgXCIvdXNlcnNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBnZXRTZXJ2ZXJVc2VyQnlUb2tlbihzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2VPckVycm9yID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIFwiL3VzZXJzL21lXCIsXG4gICAgICB7fSxcbiAgICAgIHNlc3Npb24sXG4gICAgICBbS25vd25FcnJvcnMuQ2Fubm90R2V0T3duVXNlcldpdGhvdXRVc2VyXVxuICAgICk7XG4gICAgaWYgKHJlc3BvbnNlT3JFcnJvci5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgaWYgKEtub3duRXJyb3JzLkNhbm5vdEdldE93blVzZXJXaXRob3V0VXNlci5pc0luc3RhbmNlKHJlc3BvbnNlT3JFcnJvci5lcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIlVuZXhwZWN0ZWQgdW5jYXVnaHQgZXJyb3JcIiwgeyBjYXVzZTogcmVzcG9uc2VPckVycm9yLmVycm9yIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlT3JFcnJvci5kYXRhO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKCF1c2VyKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIlVzZXIgZW5kcG9pbnQgcmV0dXJuZWQgbnVsbDsgdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuXCIpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG4gIGFzeW5jIGdldFNlcnZlclVzZXJCeUlkKHVzZXJJZCkge1xuICAgIGNvbnN0IHJlc3BvbnNlT3JFcnJvciA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICB1cmxTdHJpbmdgL3VzZXJzLyR7dXNlcklkfWAsXG4gICAgICB7fSxcbiAgICAgIG51bGwsXG4gICAgICBbS25vd25FcnJvcnMuVXNlck5vdEZvdW5kXVxuICAgICk7XG4gICAgaWYgKHJlc3BvbnNlT3JFcnJvci5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXNwb25zZU9yRXJyb3IuZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcmVzcG9uc2VPckVycm9yLmRhdGEuanNvbigpO1xuICAgIHJldHVybiBSZXN1bHQub2sodXNlcik7XG4gIH1cbiAgYXN5bmMgbGlzdFNlcnZlclRlYW1JbnZpdGF0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC90ZWFtLWludml0YXRpb25zP3RlYW1faWQ9JHtvcHRpb25zLnRlYW1JZH1gLFxuICAgICAge30sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5pdGVtcztcbiAgfVxuICBhc3luYyByZXZva2VTZXJ2ZXJUZWFtSW52aXRhdGlvbihpbnZpdGF0aW9uSWQsIHRlYW1JZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3RlYW0taW52aXRhdGlvbnMvJHtpbnZpdGF0aW9uSWR9P3RlYW1faWQ9JHt0ZWFtSWR9YCxcbiAgICAgIHsgbWV0aG9kOiBcIkRFTEVURVwiIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxuICBhc3luYyBsaXN0U2VydmVyVGVhbU1lbWJlclByb2ZpbGVzKG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3RlYW0tbWVtYmVyLXByb2ZpbGVzP3RlYW1faWQ9JHtvcHRpb25zLnRlYW1JZH1gLFxuICAgICAge30sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5pdGVtcztcbiAgfVxuICBhc3luYyBnZXRTZXJ2ZXJUZWFtTWVtYmVyUHJvZmlsZShvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC90ZWFtLW1lbWJlci1wcm9maWxlcy8ke29wdGlvbnMudGVhbUlkfS8ke29wdGlvbnMudXNlcklkfWAsXG4gICAgICB7fSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgbGlzdFNlcnZlclRlYW1QZXJtaXNzaW9ucyhvcHRpb25zLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgYC90ZWFtLXBlcm1pc3Npb25zPyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhmaWx0ZXJVbmRlZmluZWQoe1xuICAgICAgICB1c2VyX2lkOiBvcHRpb25zLnVzZXJJZCxcbiAgICAgICAgdGVhbV9pZDogb3B0aW9ucy50ZWFtSWQsXG4gICAgICAgIHJlY3Vyc2l2ZTogb3B0aW9ucy5yZWN1cnNpdmUudG9TdHJpbmcoKVxuICAgICAgfSkpfWAsXG4gICAgICB7fSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0Lml0ZW1zO1xuICB9XG4gIGFzeW5jIGxpc3RTZXJ2ZXJQcm9qZWN0UGVybWlzc2lvbnMob3B0aW9ucywgc2Vzc2lvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIGAvcHJvamVjdC1wZXJtaXNzaW9ucz8ke25ldyBVUkxTZWFyY2hQYXJhbXMoZmlsdGVyVW5kZWZpbmVkKHtcbiAgICAgICAgdXNlcl9pZDogb3B0aW9ucy51c2VySWQsXG4gICAgICAgIHJlY3Vyc2l2ZTogb3B0aW9ucy5yZWN1cnNpdmUudG9TdHJpbmcoKVxuICAgICAgfSkpfWAsXG4gICAgICB7fSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0Lml0ZW1zO1xuICB9XG4gIGFzeW5jIGxpc3RTZXJ2ZXJVc2VycyhvcHRpb25zKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhmaWx0ZXJVbmRlZmluZWQoe1xuICAgICAgY3Vyc29yOiBvcHRpb25zLmN1cnNvcixcbiAgICAgIGxpbWl0OiBvcHRpb25zLmxpbWl0Py50b1N0cmluZygpLFxuICAgICAgZGVzYzogb3B0aW9ucy5kZXNjPy50b1N0cmluZygpLFxuICAgICAgLi4ub3B0aW9ucy5vcmRlckJ5ID8ge1xuICAgICAgICBvcmRlcl9ieToge1xuICAgICAgICAgIHNpZ25lZFVwQXQ6IFwic2lnbmVkX3VwX2F0XCJcbiAgICAgICAgfVtvcHRpb25zLm9yZGVyQnldXG4gICAgICB9IDoge30sXG4gICAgICAuLi5vcHRpb25zLnF1ZXJ5ID8ge1xuICAgICAgICBxdWVyeTogb3B0aW9ucy5xdWVyeVxuICAgICAgfSA6IHt9LFxuICAgICAgLi4ub3B0aW9ucy5pbmNsdWRlQW5vbnltb3VzID8ge1xuICAgICAgICBpbmNsdWRlX2Fub255bW91czogXCJ0cnVlXCJcbiAgICAgIH0gOiB7fVxuICAgIH0pKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXCIvdXNlcnM/XCIgKyBzZWFyY2hQYXJhbXMudG9TdHJpbmcoKSwge30sIG51bGwpO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgbGlzdFNlcnZlclRlYW1zKG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICBgL3RlYW1zPyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhmaWx0ZXJVbmRlZmluZWQoe1xuICAgICAgICB1c2VyX2lkOiBvcHRpb25zPy51c2VySWRcbiAgICAgIH0pKX1gLFxuICAgICAge30sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5pdGVtcztcbiAgfVxuICBhc3luYyBnZXRTZXJ2ZXJUZWFtKHRlYW1JZCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIGAvdGVhbXMvJHt0ZWFtSWR9YCxcbiAgICAgIHt9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBsaXN0U2VydmVyVGVhbVVzZXJzKHRlYW1JZCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChgL3VzZXJzP3RlYW1faWQ9JHt0ZWFtSWR9YCwge30sIG51bGwpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0Lml0ZW1zO1xuICB9XG4gIC8qIHdoZW4gcGFzc2luZyBhIHNlc3Npb24sIHRoZSB1c2VyIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHRlYW0gKi9cbiAgYXN5bmMgY3JlYXRlU2VydmVyVGVhbShkYXRhKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgXCIvdGVhbXNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyB1cGRhdGVTZXJ2ZXJUZWFtKHRlYW1JZCwgZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvdGVhbXMvJHt0ZWFtSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlU2VydmVyVGVhbSh0ZWFtSWQpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC90ZWFtcy8ke3RlYW1JZH1gLFxuICAgICAgeyBtZXRob2Q6IFwiREVMRVRFXCIgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIGFkZFNlcnZlclVzZXJUb1RlYW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvdGVhbS1tZW1iZXJzaGlwcy8ke29wdGlvbnMudGVhbUlkfS8ke29wdGlvbnMudXNlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG4gIGFzeW5jIHJlbW92ZVNlcnZlclVzZXJGcm9tVGVhbShvcHRpb25zKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvdGVhbS1tZW1iZXJzaGlwcy8ke29wdGlvbnMudGVhbUlkfS8ke29wdGlvbnMudXNlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVNlcnZlclVzZXIodXNlcklkLCB1cGRhdGUpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3VzZXJzLyR7dXNlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlKVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlU2VydmVyUHJvdmlkZXJBY2Nlc3NUb2tlbih1c2VySWQsIHByb3ZpZGVyLCBzY29wZSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvY29ubmVjdGVkLWFjY291bnRzLyR7dXNlcklkfS8ke3Byb3ZpZGVyfS9hY2Nlc3MtdG9rZW5gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzY29wZSB9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlU2VydmVyVXNlclNlc3Npb24odXNlcklkLCBleHBpcmVzSW5NaWxsaXMsIGlzSW1wZXJzb25hdGlvbikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIFwiL2F1dGgvc2Vzc2lvbnNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgZXhwaXJlc19pbl9taWxsaXM6IGV4cGlyZXNJbk1pbGxpcyxcbiAgICAgICAgICBpc19pbXBlcnNvbmF0aW9uOiBpc0ltcGVyc29uYXRpb25cbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjY2Vzc1Rva2VuOiByZXN1bHQuYWNjZXNzX3Rva2VuLFxuICAgICAgcmVmcmVzaFRva2VuOiByZXN1bHQucmVmcmVzaF90b2tlblxuICAgIH07XG4gIH1cbiAgYXN5bmMgbGVhdmVTZXJ2ZXJUZWFtKG9wdGlvbnMpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC90ZWFtLW1lbWJlcnNoaXBzLyR7b3B0aW9ucy50ZWFtSWR9LyR7b3B0aW9ucy51c2VySWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlU2VydmVyVGVhbU1lbWJlclByb2ZpbGUob3B0aW9ucykge1xuICAgIGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3RlYW0tbWVtYmVyLXByb2ZpbGVzLyR7b3B0aW9ucy50ZWFtSWR9LyR7b3B0aW9ucy51c2VySWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvcHRpb25zLnByb2ZpbGUpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgZ3JhbnRTZXJ2ZXJUZWFtVXNlclBlcm1pc3Npb24odGVhbUlkLCB1c2VySWQsIHBlcm1pc3Npb25JZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3RlYW0tcGVybWlzc2lvbnMvJHt0ZWFtSWR9LyR7dXNlcklkfS8ke3Blcm1pc3Npb25JZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgZ3JhbnRTZXJ2ZXJQcm9qZWN0UGVybWlzc2lvbih1c2VySWQsIHBlcm1pc3Npb25JZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3Byb2plY3QtcGVybWlzc2lvbnMvJHt1c2VySWR9LyR7cGVybWlzc2lvbklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxuICBhc3luYyByZXZva2VTZXJ2ZXJUZWFtVXNlclBlcm1pc3Npb24odGVhbUlkLCB1c2VySWQsIHBlcm1pc3Npb25JZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3RlYW0tcGVybWlzc2lvbnMvJHt0ZWFtSWR9LyR7dXNlcklkfS8ke3Blcm1pc3Npb25JZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxuICBhc3luYyByZXZva2VTZXJ2ZXJQcm9qZWN0UGVybWlzc2lvbih1c2VySWQsIHBlcm1pc3Npb25JZCkge1xuICAgIGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL3Byb2plY3QtcGVybWlzc2lvbnMvJHt1c2VySWR9LyR7cGVybWlzc2lvbklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIGRlbGV0ZVNlcnZlclVzZXIodXNlcklkKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvdXNlcnMvJHt1c2VySWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlU2VydmVyQ29udGFjdENoYW5uZWwoZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIFwiL2NvbnRhY3QtY2hhbm5lbHNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyB1cGRhdGVTZXJ2ZXJDb250YWN0Q2hhbm5lbCh1c2VySWQsIGNvbnRhY3RDaGFubmVsSWQsIGRhdGEpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL2NvbnRhY3QtY2hhbm5lbHMvJHt1c2VySWR9LyR7Y29udGFjdENoYW5uZWxJZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBkZWxldGVTZXJ2ZXJDb250YWN0Q2hhbm5lbCh1c2VySWQsIGNvbnRhY3RDaGFubmVsSWQpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC9jb250YWN0LWNoYW5uZWxzLyR7dXNlcklkfS8ke2NvbnRhY3RDaGFubmVsSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgbGlzdFNlcnZlckNvbnRhY3RDaGFubmVscyh1c2VySWQpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL2NvbnRhY3QtY2hhbm5lbHM/dXNlcl9pZD0ke3VzZXJJZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBqc29uLml0ZW1zO1xuICB9XG4gIGFzeW5jIGxpc3RTZXJ2ZXJOb3RpZmljYXRpb25DYXRlZ29yaWVzKHVzZXJJZCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvZW1haWxzL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlLyR7dXNlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24uaXRlbXM7XG4gIH1cbiAgYXN5bmMgc2V0U2VydmVyTm90aWZpY2F0aW9uc0VuYWJsZWQodXNlcklkLCBub3RpZmljYXRpb25DYXRlZ29yeUlkLCBlbmFibGVkKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvZW1haWxzL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlLyR7dXNlcklkfS8ke25vdGlmaWNhdGlvbkNhdGVnb3J5SWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZW5hYmxlZFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIHNlbmRTZXJ2ZXJDb250YWN0Q2hhbm5lbFZlcmlmaWNhdGlvbkVtYWlsKHVzZXJJZCwgY29udGFjdENoYW5uZWxJZCwgY2FsbGJhY2tVcmwpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC9jb250YWN0LWNoYW5uZWxzLyR7dXNlcklkfS8ke2NvbnRhY3RDaGFubmVsSWR9L3NlbmQtdmVyaWZpY2F0aW9uLWNvZGVgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYWxsYmFja191cmw6IGNhbGxiYWNrVXJsIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgbGlzdFNlcnZlclNlc3Npb25zKHVzZXJJZCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2AvYXV0aC9zZXNzaW9ucz91c2VyX2lkPSR7dXNlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlU2VydmVyU2Vzc2lvbihzZXNzaW9uSWQpIHtcbiAgICBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgdXJsU3RyaW5nYC9hdXRoL3Nlc3Npb25zLyR7c2Vzc2lvbklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG4gIGFzeW5jIHNlbmRTZXJ2ZXJUZWFtSW52aXRhdGlvbihvcHRpb25zKSB7XG4gICAgYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIFwiL3RlYW0taW52aXRhdGlvbnMvc2VuZC1jb2RlXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZW1haWw6IG9wdGlvbnMuZW1haWwsXG4gICAgICAgICAgdGVhbV9pZDogb3B0aW9ucy50ZWFtSWQsXG4gICAgICAgICAgY2FsbGJhY2tfdXJsOiBvcHRpb25zLmNhbGxiYWNrVXJsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlUGFzc3dvcmQob3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3RBbmRDYXRjaEtub3duRXJyb3IoXG4gICAgICBcIi9hdXRoL3Bhc3N3b3JkL3VwZGF0ZVwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG9sZF9wYXNzd29yZDogb3B0aW9ucy5vbGRQYXNzd29yZCxcbiAgICAgICAgICBuZXdfcGFzc3dvcmQ6IG9wdGlvbnMubmV3UGFzc3dvcmRcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBudWxsLFxuICAgICAgW0tub3duRXJyb3JzLlBhc3N3b3JkQ29uZmlybWF0aW9uTWlzbWF0Y2gsIEtub3duRXJyb3JzLlBhc3N3b3JkUmVxdWlyZW1lbnRzTm90TWV0XVxuICAgICk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIHJlcy5lcnJvcjtcbiAgICB9XG4gIH1cbiAgLy8gT0F1dGggUHJvdmlkZXJzIENSVUQgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVTZXJ2ZXJPQXV0aFByb3ZpZGVyKGRhdGEpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICBcIi9vYXV0aC1wcm92aWRlcnNcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuICBhc3luYyBsaXN0U2VydmVyT0F1dGhQcm92aWRlcnMob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGZpbHRlclVuZGVmaW5lZChvcHRpb25zKSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgYC9vYXV0aC1wcm92aWRlcnMke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCkgPyBgPyR7cXVlcnlQYXJhbXMudG9TdHJpbmcoKX1gIDogXCJcIn1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5pdGVtcztcbiAgfVxuICBhc3luYyB1cGRhdGVTZXJ2ZXJPQXV0aFByb3ZpZGVyKHVzZXJJZCwgcHJvdmlkZXJJZCwgZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIHVybFN0cmluZ2Avb2F1dGgtcHJvdmlkZXJzLyR7dXNlcklkfS8ke3Byb3ZpZGVySWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlU2VydmVyT0F1dGhQcm92aWRlcih1c2VySWQsIHByb3ZpZGVySWQpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFNlcnZlclJlcXVlc3QoXG4gICAgICB1cmxTdHJpbmdgL29hdXRoLXByb3ZpZGVycy8ke3VzZXJJZH0vJHtwcm92aWRlcklkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxuICAgICAgfSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgYXN5bmMgc2VuZEVtYWlsKG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgXCIvZW1haWxzL3NlbmQtZW1haWxcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyX2lkczogb3B0aW9ucy51c2VySWRzLFxuICAgICAgICAgIGFsbF91c2Vyczogb3B0aW9ucy5hbGxVc2VycyxcbiAgICAgICAgICB0aGVtZV9pZDogb3B0aW9ucy50aGVtZUlkLFxuICAgICAgICAgIGh0bWw6IG9wdGlvbnMuaHRtbCxcbiAgICAgICAgICBzdWJqZWN0OiBvcHRpb25zLnN1YmplY3QsXG4gICAgICAgICAgbm90aWZpY2F0aW9uX2NhdGVnb3J5X25hbWU6IG9wdGlvbnMubm90aWZpY2F0aW9uQ2F0ZWdvcnlOYW1lLFxuICAgICAgICAgIHRlbXBsYXRlX2lkOiBvcHRpb25zLnRlbXBsYXRlSWQsXG4gICAgICAgICAgdmFyaWFibGVzOiBvcHRpb25zLnZhcmlhYmxlcyxcbiAgICAgICAgICBkcmFmdF9pZDogb3B0aW9ucy5kcmFmdElkXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIFJlc3VsdC5vayh2b2lkIDApO1xuICB9XG4gIGFzeW5jIHVwZGF0ZUl0ZW1RdWFudGl0eShvcHRpb25zLCBkYXRhKSB7XG4gICAgbGV0IGN1c3RvbWVyVHlwZTtcbiAgICBsZXQgY3VzdG9tZXJJZDtcbiAgICBjb25zdCBpdGVtSWQgPSBvcHRpb25zLml0ZW1JZDtcbiAgICBpZiAoXCJ1c2VySWRcIiBpbiBvcHRpb25zKSB7XG4gICAgICBjdXN0b21lclR5cGUgPSBcInVzZXJcIjtcbiAgICAgIGN1c3RvbWVySWQgPSBvcHRpb25zLnVzZXJJZDtcbiAgICB9IGVsc2UgaWYgKFwidGVhbUlkXCIgaW4gb3B0aW9ucykge1xuICAgICAgY3VzdG9tZXJUeXBlID0gXCJ0ZWFtXCI7XG4gICAgICBjdXN0b21lcklkID0gb3B0aW9ucy50ZWFtSWQ7XG4gICAgfSBlbHNlIGlmIChcImN1c3RvbUN1c3RvbWVySWRcIiBpbiBvcHRpb25zKSB7XG4gICAgICBjdXN0b21lclR5cGUgPSBcImN1c3RvbVwiO1xuICAgICAgY3VzdG9tZXJJZCA9IG9wdGlvbnMuY3VzdG9tQ3VzdG9tZXJJZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJ1cGRhdGVJdGVtUXVhbnRpdHkgcmVxdWlyZXMgb25lIG9mIHVzZXJJZCwgdGVhbUlkLCBvciBjdXN0b21DdXN0b21lcklkXCIpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBhbGxvd19uZWdhdGl2ZTogKGRhdGEuYWxsb3dfbmVnYXRpdmUgPz8gZmFsc2UpLnRvU3RyaW5nKCkgfSk7XG4gICAgYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdChcbiAgICAgIGAvcGF5bWVudHMvaXRlbXMvJHtjdXN0b21lclR5cGV9LyR7Y3VzdG9tZXJJZH0vJHtpdGVtSWR9L3VwZGF0ZS1xdWFudGl0eT8ke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCl9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGRlbHRhOiBkYXRhLmRlbHRhLCBleHBpcmVzX2F0OiBkYXRhLmV4cGlyZXNfYXQsIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uIH0pXG4gICAgICB9LFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cbiAgYXN5bmMgZ2V0RGF0YVZhdWx0U3RvcmVWYWx1ZShzZWNyZXQsIHN0b3JlSWQsIGtleSkge1xuICAgIGNvbnN0IGhhc2hlZEtleSA9IGF3YWl0IGhhc2hLZXkoc2VjcmV0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kU2VydmVyUmVxdWVzdEFuZENhdGNoS25vd25FcnJvcihcbiAgICAgIGAvZGF0YS12YXVsdC9zdG9yZXMvJHtzdG9yZUlkfS9nZXRgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaGFzaGVkX2tleTogaGFzaGVkS2V5IH0pXG4gICAgICB9LFxuICAgICAgbnVsbCxcbiAgICAgIFtLbm93bkVycm9ycy5EYXRhVmF1bHRTdG9yZUhhc2hlZEtleURvZXNOb3RFeGlzdF1cbiAgICApO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgaWYgKEtub3duRXJyb3JzLkRhdGFWYXVsdFN0b3JlSGFzaGVkS2V5RG9lc05vdEV4aXN0LmlzSW5zdGFuY2UocmVzcG9uc2UuZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJVbmV4cGVjdGVkIHVuY2F1Z2h0IGVycm9yXCIsIHsgY2F1c2U6IHJlc3BvbnNlLmVycm9yIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuZGF0YS5qc29uKCk7XG4gICAgY29uc3QgZW5jcnlwdGVkVmFsdWUgPSBqc29uLmVuY3J5cHRlZF92YWx1ZTtcbiAgICBpZiAodHlwZW9mIGVuY3J5cHRlZFZhbHVlICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcImVuY3J5cHRlZF92YWx1ZSBpcyBub3QgYSBzdHJpbmdcIiwgeyB0eXBlOiB0eXBlb2YgZW5jcnlwdGVkVmFsdWUgfSk7XG4gICAgcmV0dXJuIGF3YWl0IGRlY3J5cHRWYWx1ZShzZWNyZXQsIGtleSwgZW5jcnlwdGVkVmFsdWUpO1xuICB9XG4gIGFzeW5jIHNldERhdGFWYXVsdFN0b3JlVmFsdWUoc2VjcmV0LCBzdG9yZUlkLCBrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgaGFzaGVkS2V5ID0gYXdhaXQgaGFzaEtleShzZWNyZXQsIGtleSk7XG4gICAgY29uc3QgZW5jcnlwdGVkVmFsdWUgPSBhd2FpdCBlbmNyeXB0VmFsdWUoc2VjcmV0LCBrZXksIHZhbHVlKTtcbiAgICBhd2FpdCB0aGlzLnNlbmRTZXJ2ZXJSZXF1ZXN0KFxuICAgICAgYC9kYXRhLXZhdWx0L3N0b3Jlcy8ke3N0b3JlSWR9L3NldGAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBoYXNoZWRfa2V5OiBoYXNoZWRLZXksIGVuY3J5cHRlZF92YWx1ZTogZW5jcnlwdGVkVmFsdWUgfSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIFN0YWNrU2VydmVySW50ZXJmYWNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWludGVyZmFjZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/interface/server-interface.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KnownError: () => (/* binding */ KnownError),\n/* harmony export */   KnownErrors: () => (/* binding */ KnownErrors)\n/* harmony export */ });\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _utils_functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/functions.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/functions.js\");\n/* harmony import */ var _utils_strings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n// src/known-errors.tsx\n\n\n\nvar KnownError = class extends _utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.StatusError {\n  constructor(statusCode, humanReadableMessage, details) {\n    super(\n      statusCode,\n      humanReadableMessage\n    );\n    this.statusCode = statusCode;\n    this.humanReadableMessage = humanReadableMessage;\n    this.details = details;\n    this.__stackKnownErrorBrand = \"stack-known-error-brand-sentinel\";\n    this.name = \"KnownError\";\n  }\n  static isKnownError(error) {\n    return typeof error === \"object\" && error !== null && \"__stackKnownErrorBrand\" in error && error.__stackKnownErrorBrand === \"stack-known-error-brand-sentinel\";\n  }\n  getBody() {\n    return new TextEncoder().encode(JSON.stringify(this.toDescriptiveJson(), void 0, 2));\n  }\n  getHeaders() {\n    return {\n      \"Content-Type\": [\"application/json; charset=utf-8\"],\n      \"X-Stack-Known-Error\": [this.errorCode]\n    };\n  }\n  toDescriptiveJson() {\n    return {\n      code: this.errorCode,\n      ...this.details ? { details: this.details } : {},\n      error: this.humanReadableMessage\n    };\n  }\n  get errorCode() {\n    return this.constructor.errorCode ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(`Can't find error code for this KnownError. Is its constructor a KnownErrorConstructor? ${this}`);\n  }\n  static constructorArgsFromJson(json) {\n    return [\n      400,\n      json.message,\n      json\n    ];\n  }\n  static fromJson(json) {\n    for (const [_, KnownErrorType] of Object.entries(KnownErrors)) {\n      if (json.code === KnownErrorType.prototype.errorCode) {\n        const constructorArgs = KnownErrorType.constructorArgsFromJson(json);\n        return new KnownErrorType(\n          ...constructorArgs\n        );\n      }\n    }\n    throw new Error(`Unknown KnownError code. You may need to update your version of Stack to see more detailed information. ${json.code}: ${json.message}`);\n  }\n};\nvar knownErrorConstructorErrorCodeSentinel = Symbol(\"knownErrorConstructorErrorCodeSentinel\");\nfunction createKnownErrorConstructor(SuperClass, errorCode, create, constructorArgsFromJson) {\n  const createFn = create === \"inherit\" ? _utils_functions_js__WEBPACK_IMPORTED_MODULE_1__.identityArgs : create;\n  const constructorArgsFromJsonFn = constructorArgsFromJson === \"inherit\" ? SuperClass.constructorArgsFromJson : constructorArgsFromJson;\n  class KnownErrorImpl extends SuperClass {\n    constructor(...args) {\n      super(...createFn(...args));\n      this.name = `KnownError<${errorCode}>`;\n      this.constructorArgs = args;\n    }\n    static constructorArgsFromJson(json) {\n      return constructorArgsFromJsonFn(json.details);\n    }\n    static isInstance(error) {\n      if (!KnownError.isKnownError(error)) return false;\n      let current = error;\n      while (true) {\n        current = Object.getPrototypeOf(current);\n        if (!current) break;\n        if (\"errorCode\" in current.constructor && current.constructor.errorCode === errorCode) return true;\n      }\n      return false;\n    }\n  }\n  KnownErrorImpl.errorCode = errorCode;\n  ;\n  return KnownErrorImpl;\n}\nvar UnsupportedError = createKnownErrorConstructor(\n  KnownError,\n  \"UNSUPPORTED_ERROR\",\n  (originalErrorCode) => [\n    500,\n    `An error occurred that is not currently supported (possibly because it was added in a version of Stack that is newer than this client). The original unsupported error code was: ${originalErrorCode}`,\n    {\n      originalErrorCode\n    }\n  ],\n  (json) => [\n    json?.originalErrorCode ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"originalErrorCode not found in UnsupportedError details\")\n  ]\n);\nvar BodyParsingError = createKnownErrorConstructor(\n  KnownError,\n  \"BODY_PARSING_ERROR\",\n  (message) => [\n    400,\n    message\n  ],\n  (json) => [json.message]\n);\nvar SchemaError = createKnownErrorConstructor(\n  KnownError,\n  \"SCHEMA_ERROR\",\n  (message) => [\n    400,\n    message || (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"SchemaError requires a message\"),\n    {\n      message\n    }\n  ],\n  (json) => [json.message]\n);\nvar AllOverloadsFailed = createKnownErrorConstructor(\n  KnownError,\n  \"ALL_OVERLOADS_FAILED\",\n  (overloadErrors) => [\n    400,\n    (0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_2__.deindent)`\n      This endpoint has multiple overloads, but they all failed to process the request.\n\n        ${overloadErrors.map((e, i) => (0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_2__.deindent)`\n          Overload ${i + 1}: ${JSON.stringify(e, void 0, 2)}\n        `).join(\"\\n\\n\")}\n    `,\n    {\n      overload_errors: overloadErrors\n    }\n  ],\n  (json) => [\n    json?.overload_errors ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"overload_errors not found in AllOverloadsFailed details\")\n  ]\n);\nvar ProjectAuthenticationError = createKnownErrorConstructor(\n  KnownError,\n  \"PROJECT_AUTHENTICATION_ERROR\",\n  \"inherit\",\n  \"inherit\"\n);\nvar InvalidProjectAuthentication = createKnownErrorConstructor(\n  ProjectAuthenticationError,\n  \"INVALID_PROJECT_AUTHENTICATION\",\n  \"inherit\",\n  \"inherit\"\n);\nvar ProjectKeyWithoutAccessType = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"PROJECT_KEY_WITHOUT_ACCESS_TYPE\",\n  () => [\n    400,\n    \"Either an API key or an admin access token was provided, but the x-stack-access-type header is missing. Set it to 'client', 'server', or 'admin' as appropriate.\"\n  ],\n  () => []\n);\nvar InvalidAccessType = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"INVALID_ACCESS_TYPE\",\n  (accessType) => [\n    400,\n    `The x-stack-access-type header must be 'client', 'server', or 'admin', but was '${accessType}'.`\n  ],\n  (json) => [\n    json?.accessType ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"accessType not found in InvalidAccessType details\")\n  ]\n);\nvar AccessTypeWithoutProjectId = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"ACCESS_TYPE_WITHOUT_PROJECT_ID\",\n  (accessType) => [\n    400,\n    (0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_2__.deindent)`\n      The x-stack-access-type header was '${accessType}', but the x-stack-project-id header was not provided.\n      \n      For more information, see the docs on REST API authentication: https://docs.stack-auth.com/rest-api/overview#authentication\n    `,\n    {\n      request_type: accessType\n    }\n  ],\n  (json) => [json.request_type]\n);\nvar AccessTypeRequired = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"ACCESS_TYPE_REQUIRED\",\n  () => [\n    400,\n    (0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_2__.deindent)`\n      You must specify an access level for this Stack project. Make sure project API keys are provided (eg. x-stack-publishable-client-key) and you set the x-stack-access-type header to 'client', 'server', or 'admin'.\n      \n      For more information, see the docs on REST API authentication: https://docs.stack-auth.com/rest-api/overview#authentication\n    `\n  ],\n  () => []\n);\nvar InsufficientAccessType = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"INSUFFICIENT_ACCESS_TYPE\",\n  (actualAccessType, allowedAccessTypes) => [\n    401,\n    `The x-stack-access-type header must be ${allowedAccessTypes.map((s) => `'${s}'`).join(\" or \")}, but was '${actualAccessType}'.`,\n    {\n      actual_access_type: actualAccessType,\n      allowed_access_types: allowedAccessTypes\n    }\n  ],\n  (json) => [\n    json.actual_access_type,\n    json.allowed_access_types\n  ]\n);\nvar InvalidPublishableClientKey = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"INVALID_PUBLISHABLE_CLIENT_KEY\",\n  (projectId) => [\n    401,\n    `The publishable key is not valid for the project ${JSON.stringify(projectId)}. Does the project and/or the key exist?`,\n    {\n      project_id: projectId\n    }\n  ],\n  (json) => [json.project_id]\n);\nvar InvalidSecretServerKey = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"INVALID_SECRET_SERVER_KEY\",\n  (projectId) => [\n    401,\n    `The secret server key is not valid for the project ${JSON.stringify(projectId)}. Does the project and/or the key exist?`,\n    {\n      project_id: projectId\n    }\n  ],\n  (json) => [json.project_id]\n);\nvar InvalidSuperSecretAdminKey = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"INVALID_SUPER_SECRET_ADMIN_KEY\",\n  (projectId) => [\n    401,\n    `The super secret admin key is not valid for the project ${JSON.stringify(projectId)}. Does the project and/or the key exist?`,\n    {\n      project_id: projectId\n    }\n  ],\n  (json) => [json.project_id]\n);\nvar InvalidAdminAccessToken = createKnownErrorConstructor(\n  InvalidProjectAuthentication,\n  \"INVALID_ADMIN_ACCESS_TOKEN\",\n  \"inherit\",\n  \"inherit\"\n);\nvar UnparsableAdminAccessToken = createKnownErrorConstructor(\n  InvalidAdminAccessToken,\n  \"UNPARSABLE_ADMIN_ACCESS_TOKEN\",\n  () => [\n    401,\n    \"Admin access token is not parsable.\"\n  ],\n  () => []\n);\nvar AdminAccessTokenExpired = createKnownErrorConstructor(\n  InvalidAdminAccessToken,\n  \"ADMIN_ACCESS_TOKEN_EXPIRED\",\n  (expiredAt) => [\n    401,\n    `Admin access token has expired. Please refresh it and try again.${expiredAt ? ` (The access token expired at ${expiredAt.toISOString()}.)` : \"\"}`,\n    { expired_at_millis: expiredAt?.getTime() ?? null }\n  ],\n  (json) => [json.expired_at_millis ?? void 0]\n);\nvar InvalidProjectForAdminAccessToken = createKnownErrorConstructor(\n  InvalidAdminAccessToken,\n  \"INVALID_PROJECT_FOR_ADMIN_ACCESS_TOKEN\",\n  () => [\n    401,\n    \"Admin access tokens must be created on the internal project.\"\n  ],\n  () => []\n);\nvar AdminAccessTokenIsNotAdmin = createKnownErrorConstructor(\n  InvalidAdminAccessToken,\n  \"ADMIN_ACCESS_TOKEN_IS_NOT_ADMIN\",\n  () => [\n    401,\n    \"Admin access token does not have the required permissions to access this project.\"\n  ],\n  () => []\n);\nvar ProjectAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationError,\n  \"PROJECT_AUTHENTICATION_REQUIRED\",\n  \"inherit\",\n  \"inherit\"\n);\nvar ClientAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationRequired,\n  \"CLIENT_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"The publishable client key must be provided.\"\n  ],\n  () => []\n);\nvar ServerAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationRequired,\n  \"SERVER_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"The secret server key must be provided.\"\n  ],\n  () => []\n);\nvar ClientOrServerAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationRequired,\n  \"CLIENT_OR_SERVER_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"Either the publishable client key or the secret server key must be provided.\"\n  ],\n  () => []\n);\nvar ClientOrAdminAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationRequired,\n  \"CLIENT_OR_ADMIN_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"Either the publishable client key or the super secret admin key must be provided.\"\n  ],\n  () => []\n);\nvar ClientOrServerOrAdminAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationRequired,\n  \"CLIENT_OR_SERVER_OR_ADMIN_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"Either the publishable client key, the secret server key, or the super secret admin key must be provided.\"\n  ],\n  () => []\n);\nvar AdminAuthenticationRequired = createKnownErrorConstructor(\n  ProjectAuthenticationRequired,\n  \"ADMIN_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"The super secret admin key must be provided.\"\n  ],\n  () => []\n);\nvar ExpectedInternalProject = createKnownErrorConstructor(\n  ProjectAuthenticationError,\n  \"EXPECTED_INTERNAL_PROJECT\",\n  () => [\n    401,\n    \"The project ID is expected to be internal.\"\n  ],\n  () => []\n);\nvar SessionAuthenticationError = createKnownErrorConstructor(\n  KnownError,\n  \"SESSION_AUTHENTICATION_ERROR\",\n  \"inherit\",\n  \"inherit\"\n);\nvar InvalidSessionAuthentication = createKnownErrorConstructor(\n  SessionAuthenticationError,\n  \"INVALID_SESSION_AUTHENTICATION\",\n  \"inherit\",\n  \"inherit\"\n);\nvar InvalidAccessToken = createKnownErrorConstructor(\n  InvalidSessionAuthentication,\n  \"INVALID_ACCESS_TOKEN\",\n  \"inherit\",\n  \"inherit\"\n);\nvar UnparsableAccessToken = createKnownErrorConstructor(\n  InvalidAccessToken,\n  \"UNPARSABLE_ACCESS_TOKEN\",\n  () => [\n    401,\n    \"Access token is not parsable.\"\n  ],\n  () => []\n);\nvar AccessTokenExpired = createKnownErrorConstructor(\n  InvalidAccessToken,\n  \"ACCESS_TOKEN_EXPIRED\",\n  (expiredAt) => [\n    401,\n    `Access token has expired. Please refresh it and try again.${expiredAt ? ` (The access token expired at ${expiredAt.toISOString()}.)` : \"\"}`,\n    { expired_at_millis: expiredAt?.getTime() ?? null }\n  ],\n  (json) => [json.expired_at_millis ? new Date(json.expired_at_millis) : void 0]\n);\nvar InvalidProjectForAccessToken = createKnownErrorConstructor(\n  InvalidAccessToken,\n  \"INVALID_PROJECT_FOR_ACCESS_TOKEN\",\n  (expectedProjectId, actualProjectId) => [\n    401,\n    `Access token not valid for this project. Expected project ID ${JSON.stringify(expectedProjectId)}, but the token is for project ID ${JSON.stringify(actualProjectId)}.`,\n    {\n      expected_project_id: expectedProjectId,\n      actual_project_id: actualProjectId\n    }\n  ],\n  (json) => [json.expected_project_id, json.actual_project_id]\n);\nvar RefreshTokenError = createKnownErrorConstructor(\n  KnownError,\n  \"REFRESH_TOKEN_ERROR\",\n  \"inherit\",\n  \"inherit\"\n);\nvar RefreshTokenNotFoundOrExpired = createKnownErrorConstructor(\n  RefreshTokenError,\n  \"REFRESH_TOKEN_NOT_FOUND_OR_EXPIRED\",\n  () => [\n    401,\n    \"Refresh token not found for this project, or the session has expired/been revoked.\"\n  ],\n  () => []\n);\nvar CannotDeleteCurrentSession = createKnownErrorConstructor(\n  RefreshTokenError,\n  \"CANNOT_DELETE_CURRENT_SESSION\",\n  () => [\n    400,\n    \"Cannot delete the current session.\"\n  ],\n  () => []\n);\nvar ProviderRejected = createKnownErrorConstructor(\n  RefreshTokenError,\n  \"PROVIDER_REJECTED\",\n  () => [\n    401,\n    \"The provider refused to refresh their token. This usually means that the provider used to authenticate the user no longer regards this session as valid, and the user must re-authenticate.\"\n  ],\n  () => []\n);\nvar UserWithEmailAlreadyExists = createKnownErrorConstructor(\n  KnownError,\n  \"USER_EMAIL_ALREADY_EXISTS\",\n  (email, wouldWorkIfEmailWasVerified = false) => [\n    409,\n    `A user with email ${JSON.stringify(email)} already exists${wouldWorkIfEmailWasVerified ? \" but the email is not verified. Please login to your existing account with the method you used to sign up, and then verify your email to sign in with this login method.\" : \".\"}`,\n    {\n      email,\n      would_work_if_email_was_verified: wouldWorkIfEmailWasVerified\n    }\n  ],\n  (json) => [json.email, json.would_work_if_email_was_verified ?? false]\n);\nvar EmailNotVerified = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_NOT_VERIFIED\",\n  () => [\n    400,\n    \"The email is not verified.\"\n  ],\n  () => []\n);\nvar CannotGetOwnUserWithoutUser = createKnownErrorConstructor(\n  KnownError,\n  \"CANNOT_GET_OWN_USER_WITHOUT_USER\",\n  () => [\n    400,\n    \"You have specified 'me' as a userId, but did not provide authentication for a user.\"\n  ],\n  () => []\n);\nvar UserIdDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"USER_ID_DOES_NOT_EXIST\",\n  (userId) => [\n    400,\n    `The given user with the ID ${userId} does not exist.`,\n    {\n      user_id: userId\n    }\n  ],\n  (json) => [json.user_id]\n);\nvar UserNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"USER_NOT_FOUND\",\n  () => [\n    404,\n    \"User not found.\"\n  ],\n  () => []\n);\nvar ProjectNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"PROJECT_NOT_FOUND\",\n  (projectId) => {\n    if (typeof projectId !== \"string\") throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"projectId of KnownErrors.ProjectNotFound must be a string\");\n    return [\n      404,\n      `Project ${projectId} not found or is not accessible with the current user.`,\n      {\n        project_id: projectId\n      }\n    ];\n  },\n  (json) => [json.project_id]\n);\nvar CurrentProjectNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"CURRENT_PROJECT_NOT_FOUND\",\n  (projectId) => [\n    400,\n    `The current project with ID ${projectId} was not found. Please check the value of the x-stack-project-id header.`,\n    {\n      project_id: projectId\n    }\n  ],\n  (json) => [json.project_id]\n);\nvar BranchDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"BRANCH_DOES_NOT_EXIST\",\n  (branchId) => [\n    400,\n    `The branch with ID ${branchId} does not exist.`,\n    {\n      branch_id: branchId\n    }\n  ],\n  (json) => [json.branch_id]\n);\nvar SignUpNotEnabled = createKnownErrorConstructor(\n  KnownError,\n  \"SIGN_UP_NOT_ENABLED\",\n  () => [\n    400,\n    \"Creation of new accounts is not enabled for this project. Please ask the project owner to enable it.\"\n  ],\n  () => []\n);\nvar PasswordAuthenticationNotEnabled = createKnownErrorConstructor(\n  KnownError,\n  \"PASSWORD_AUTHENTICATION_NOT_ENABLED\",\n  () => [\n    400,\n    \"Password authentication is not enabled for this project.\"\n  ],\n  () => []\n);\nvar DataVaultStoreDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"DATA_VAULT_STORE_DOES_NOT_EXIST\",\n  (storeId) => [\n    400,\n    `Data vault store with ID ${storeId} does not exist.`,\n    {\n      store_id: storeId\n    }\n  ],\n  (json) => [json.store_id]\n);\nvar DataVaultStoreHashedKeyDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"DATA_VAULT_STORE_HASHED_KEY_DOES_NOT_EXIST\",\n  (storeId, hashedKey) => [\n    400,\n    `Data vault store with ID ${storeId} does not contain a key with hash ${hashedKey}.`,\n    {\n      store_id: storeId,\n      hashed_key: hashedKey\n    }\n  ],\n  (json) => [json.store_id, json.hashed_key]\n);\nvar PasskeyAuthenticationNotEnabled = createKnownErrorConstructor(\n  KnownError,\n  \"PASSKEY_AUTHENTICATION_NOT_ENABLED\",\n  () => [\n    400,\n    \"Passkey authentication is not enabled for this project.\"\n  ],\n  () => []\n);\nvar AnonymousAccountsNotEnabled = createKnownErrorConstructor(\n  KnownError,\n  \"ANONYMOUS_ACCOUNTS_NOT_ENABLED\",\n  () => [\n    400,\n    \"Anonymous accounts are not enabled for this project.\"\n  ],\n  () => []\n);\nvar AnonymousAuthenticationNotAllowed = createKnownErrorConstructor(\n  KnownError,\n  \"ANONYMOUS_AUTHENTICATION_NOT_ALLOWED\",\n  () => [\n    401,\n    \"X-Stack-Access-Token is for an anonymous user, but anonymous users are not enabled. Set the X-Stack-Allow-Anonymous-User header of this request to 'true' to allow anonymous users.\"\n  ],\n  () => []\n);\nvar EmailPasswordMismatch = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_PASSWORD_MISMATCH\",\n  () => [\n    400,\n    \"Wrong e-mail or password.\"\n  ],\n  () => []\n);\nvar RedirectUrlNotWhitelisted = createKnownErrorConstructor(\n  KnownError,\n  \"REDIRECT_URL_NOT_WHITELISTED\",\n  () => [\n    400,\n    \"Redirect URL not whitelisted. Did you forget to add this domain to the trusted domains list on the Stack Auth dashboard?\"\n  ],\n  () => []\n);\nvar PasswordRequirementsNotMet = createKnownErrorConstructor(\n  KnownError,\n  \"PASSWORD_REQUIREMENTS_NOT_MET\",\n  \"inherit\",\n  \"inherit\"\n);\nvar PasswordTooShort = createKnownErrorConstructor(\n  PasswordRequirementsNotMet,\n  \"PASSWORD_TOO_SHORT\",\n  (minLength) => [\n    400,\n    `Password too short. Minimum length is ${minLength}.`,\n    {\n      min_length: minLength\n    }\n  ],\n  (json) => [\n    json?.min_length ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"min_length not found in PasswordTooShort details\")\n  ]\n);\nvar PasswordTooLong = createKnownErrorConstructor(\n  PasswordRequirementsNotMet,\n  \"PASSWORD_TOO_LONG\",\n  (maxLength) => [\n    400,\n    `Password too long. Maximum length is ${maxLength}.`,\n    {\n      maxLength\n    }\n  ],\n  (json) => [\n    json?.maxLength ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"maxLength not found in PasswordTooLong details\")\n  ]\n);\nvar UserDoesNotHavePassword = createKnownErrorConstructor(\n  KnownError,\n  \"USER_DOES_NOT_HAVE_PASSWORD\",\n  () => [\n    400,\n    \"This user does not have password authentication enabled.\"\n  ],\n  () => []\n);\nvar VerificationCodeError = createKnownErrorConstructor(\n  KnownError,\n  \"VERIFICATION_ERROR\",\n  \"inherit\",\n  \"inherit\"\n);\nvar VerificationCodeNotFound = createKnownErrorConstructor(\n  VerificationCodeError,\n  \"VERIFICATION_CODE_NOT_FOUND\",\n  () => [\n    404,\n    \"The verification code does not exist for this project.\"\n  ],\n  () => []\n);\nvar VerificationCodeExpired = createKnownErrorConstructor(\n  VerificationCodeError,\n  \"VERIFICATION_CODE_EXPIRED\",\n  () => [\n    400,\n    \"The verification code has expired.\"\n  ],\n  () => []\n);\nvar VerificationCodeAlreadyUsed = createKnownErrorConstructor(\n  VerificationCodeError,\n  \"VERIFICATION_CODE_ALREADY_USED\",\n  () => [\n    409,\n    \"The verification link has already been used.\"\n  ],\n  () => []\n);\nvar VerificationCodeMaxAttemptsReached = createKnownErrorConstructor(\n  VerificationCodeError,\n  \"VERIFICATION_CODE_MAX_ATTEMPTS_REACHED\",\n  () => [\n    400,\n    \"The verification code nonce has reached the maximum number of attempts. This code is not valid anymore.\"\n  ],\n  () => []\n);\nvar PasswordConfirmationMismatch = createKnownErrorConstructor(\n  KnownError,\n  \"PASSWORD_CONFIRMATION_MISMATCH\",\n  () => [\n    400,\n    \"Passwords do not match.\"\n  ],\n  () => []\n);\nvar EmailAlreadyVerified = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_ALREADY_VERIFIED\",\n  () => [\n    409,\n    \"The e-mail is already verified.\"\n  ],\n  () => []\n);\nvar EmailNotAssociatedWithUser = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_NOT_ASSOCIATED_WITH_USER\",\n  () => [\n    400,\n    \"The e-mail is not associated with a user that could log in with that e-mail.\"\n  ],\n  () => []\n);\nvar EmailIsNotPrimaryEmail = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_IS_NOT_PRIMARY_EMAIL\",\n  (email, primaryEmail) => [\n    400,\n    `The given e-mail (${email}) must equal the user's primary e-mail (${primaryEmail}).`,\n    {\n      email,\n      primary_email: primaryEmail\n    }\n  ],\n  (json) => [json.email, json.primary_email]\n);\nvar PasskeyRegistrationFailed = createKnownErrorConstructor(\n  KnownError,\n  \"PASSKEY_REGISTRATION_FAILED\",\n  (message) => [\n    400,\n    message\n  ],\n  (json) => [json.message]\n);\nvar PasskeyWebAuthnError = createKnownErrorConstructor(\n  KnownError,\n  \"PASSKEY_WEBAUTHN_ERROR\",\n  (message, code) => [\n    400,\n    message,\n    {\n      message,\n      code\n    }\n  ],\n  (json) => [json.message, json.code]\n);\nvar PasskeyAuthenticationFailed = createKnownErrorConstructor(\n  KnownError,\n  \"PASSKEY_AUTHENTICATION_FAILED\",\n  (message) => [\n    400,\n    message\n  ],\n  (json) => [json.message]\n);\nvar PermissionNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"PERMISSION_NOT_FOUND\",\n  (permissionId) => [\n    404,\n    `Permission \"${permissionId}\" not found. Make sure you created it on the dashboard.`,\n    {\n      permission_id: permissionId\n    }\n  ],\n  (json) => [json.permission_id]\n);\nvar PermissionScopeMismatch = createKnownErrorConstructor(\n  KnownError,\n  \"WRONG_PERMISSION_SCOPE\",\n  (permissionId, expectedScope, actualScope) => [\n    404,\n    `Permission ${JSON.stringify(permissionId)} not found. (It was found for a different scope ${JSON.stringify(actualScope)}, but scope ${JSON.stringify(expectedScope)} was expected.)`,\n    {\n      permission_id: permissionId,\n      expected_scope: expectedScope,\n      actual_scope: actualScope\n    }\n  ],\n  (json) => [json.permission_id, json.expected_scope, json.actual_scope]\n);\nvar ContainedPermissionNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"CONTAINED_PERMISSION_NOT_FOUND\",\n  (permissionId) => [\n    400,\n    `Contained permission with ID \"${permissionId}\" not found. Make sure you created it on the dashboard.`,\n    {\n      permission_id: permissionId\n    }\n  ],\n  (json) => [json.permission_id]\n);\nvar TeamNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"TEAM_NOT_FOUND\",\n  (teamId) => [\n    404,\n    `Team ${teamId} not found.`,\n    {\n      team_id: teamId\n    }\n  ],\n  (json) => [json.team_id]\n);\nvar TeamAlreadyExists = createKnownErrorConstructor(\n  KnownError,\n  \"TEAM_ALREADY_EXISTS\",\n  (teamId) => [\n    409,\n    `Team ${teamId} already exists.`,\n    {\n      team_id: teamId\n    }\n  ],\n  (json) => [json.team_id]\n);\nvar TeamMembershipNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"TEAM_MEMBERSHIP_NOT_FOUND\",\n  (teamId, userId) => [\n    404,\n    `User ${userId} is not found in team ${teamId}.`,\n    {\n      team_id: teamId,\n      user_id: userId\n    }\n  ],\n  (json) => [json.team_id, json.user_id]\n);\nvar EmailTemplateAlreadyExists = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_TEMPLATE_ALREADY_EXISTS\",\n  () => [\n    409,\n    \"Email template already exists.\"\n  ],\n  () => []\n);\nvar OAuthConnectionNotConnectedToUser = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_CONNECTION_NOT_CONNECTED_TO_USER\",\n  () => [\n    400,\n    \"The OAuth connection is not connected to any user.\"\n  ],\n  () => []\n);\nvar OAuthConnectionAlreadyConnectedToAnotherUser = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_CONNECTION_ALREADY_CONNECTED_TO_ANOTHER_USER\",\n  () => [\n    409,\n    \"The OAuth connection is already connected to another user.\"\n  ],\n  () => []\n);\nvar OAuthConnectionDoesNotHaveRequiredScope = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_CONNECTION_DOES_NOT_HAVE_REQUIRED_SCOPE\",\n  () => [\n    400,\n    \"The OAuth connection does not have the required scope.\"\n  ],\n  () => []\n);\nvar OAuthExtraScopeNotAvailableWithSharedOAuthKeys = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_EXTRA_SCOPE_NOT_AVAILABLE_WITH_SHARED_OAUTH_KEYS\",\n  () => [\n    400,\n    \"Extra scopes are not available with shared OAuth keys. Please add your own OAuth keys on the Stack dashboard to use extra scopes.\"\n  ],\n  () => []\n);\nvar OAuthAccessTokenNotAvailableWithSharedOAuthKeys = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_ACCESS_TOKEN_NOT_AVAILABLE_WITH_SHARED_OAUTH_KEYS\",\n  () => [\n    400,\n    \"Access tokens are not available with shared OAuth keys. Please add your own OAuth keys on the Stack dashboard to use access tokens.\"\n  ],\n  () => []\n);\nvar InvalidOAuthClientIdOrSecret = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_OAUTH_CLIENT_ID_OR_SECRET\",\n  (clientId) => [\n    400,\n    \"The OAuth client ID or secret is invalid. The client ID must be equal to the project ID (potentially with a hash and a branch ID), and the client secret must be a publishable client key.\",\n    {\n      client_id: clientId ?? null\n    }\n  ],\n  (json) => [json.client_id ?? void 0]\n);\nvar InvalidScope = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_SCOPE\",\n  (scope) => [\n    400,\n    `The scope \"${scope}\" is not a valid OAuth scope for Stack.`\n  ],\n  (json) => [json.scope]\n);\nvar UserAlreadyConnectedToAnotherOAuthConnection = createKnownErrorConstructor(\n  KnownError,\n  \"USER_ALREADY_CONNECTED_TO_ANOTHER_OAUTH_CONNECTION\",\n  () => [\n    409,\n    \"The user is already connected to another OAuth account. Did you maybe selected the wrong account?\"\n  ],\n  () => []\n);\nvar OuterOAuthTimeout = createKnownErrorConstructor(\n  KnownError,\n  \"OUTER_OAUTH_TIMEOUT\",\n  () => [\n    408,\n    \"The OAuth flow has timed out. Please sign in again.\"\n  ],\n  () => []\n);\nvar OAuthProviderNotFoundOrNotEnabled = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_PROVIDER_NOT_FOUND_OR_NOT_ENABLED\",\n  () => [\n    400,\n    \"The OAuth provider is not found or not enabled.\"\n  ],\n  () => []\n);\nvar OAuthProviderAccountIdAlreadyUsedForSignIn = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_PROVIDER_ACCOUNT_ID_ALREADY_USED_FOR_SIGN_IN\",\n  () => [\n    400,\n    `A provider with the same account ID is already used for signing in.`\n  ],\n  () => []\n);\nvar MultiFactorAuthenticationRequired = createKnownErrorConstructor(\n  KnownError,\n  \"MULTI_FACTOR_AUTHENTICATION_REQUIRED\",\n  (attemptCode) => [\n    400,\n    `Multi-factor authentication is required for this user.`,\n    {\n      attempt_code: attemptCode\n    }\n  ],\n  (json) => [json.attempt_code]\n);\nvar InvalidTotpCode = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_TOTP_CODE\",\n  () => [\n    400,\n    \"The TOTP code is invalid. Please try again.\"\n  ],\n  () => []\n);\nvar UserAuthenticationRequired = createKnownErrorConstructor(\n  KnownError,\n  \"USER_AUTHENTICATION_REQUIRED\",\n  () => [\n    401,\n    \"User authentication required for this endpoint.\"\n  ],\n  () => []\n);\nvar TeamMembershipAlreadyExists = createKnownErrorConstructor(\n  KnownError,\n  \"TEAM_MEMBERSHIP_ALREADY_EXISTS\",\n  () => [\n    409,\n    \"Team membership already exists.\"\n  ],\n  () => []\n);\nvar ProjectPermissionRequired = createKnownErrorConstructor(\n  KnownError,\n  \"PROJECT_PERMISSION_REQUIRED\",\n  (userId, permissionId) => [\n    401,\n    `User ${userId} does not have permission ${permissionId}.`,\n    {\n      user_id: userId,\n      permission_id: permissionId\n    }\n  ],\n  (json) => [json.user_id, json.permission_id]\n);\nvar TeamPermissionRequired = createKnownErrorConstructor(\n  KnownError,\n  \"TEAM_PERMISSION_REQUIRED\",\n  (teamId, userId, permissionId) => [\n    401,\n    `User ${userId} does not have permission ${permissionId} in team ${teamId}.`,\n    {\n      team_id: teamId,\n      user_id: userId,\n      permission_id: permissionId\n    }\n  ],\n  (json) => [json.team_id, json.user_id, json.permission_id]\n);\nvar TeamPermissionNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"TEAM_PERMISSION_NOT_FOUND\",\n  (teamId, userId, permissionId) => [\n    401,\n    `User ${userId} does not have permission ${permissionId} in team ${teamId}.`,\n    {\n      team_id: teamId,\n      user_id: userId,\n      permission_id: permissionId\n    }\n  ],\n  (json) => [json.team_id, json.user_id, json.permission_id]\n);\nvar InvalidSharedOAuthProviderId = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_SHARED_OAUTH_PROVIDER_ID\",\n  (providerId) => [\n    400,\n    `The shared OAuth provider with ID ${providerId} is not valid.`,\n    {\n      provider_id: providerId\n    }\n  ],\n  (json) => [json.provider_id]\n);\nvar InvalidStandardOAuthProviderId = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_STANDARD_OAUTH_PROVIDER_ID\",\n  (providerId) => [\n    400,\n    `The standard OAuth provider with ID ${providerId} is not valid.`,\n    {\n      provider_id: providerId\n    }\n  ],\n  (json) => [json.provider_id]\n);\nvar InvalidAuthorizationCode = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_AUTHORIZATION_CODE\",\n  () => [\n    400,\n    \"The given authorization code is invalid.\"\n  ],\n  () => []\n);\nvar OAuthProviderAccessDenied = createKnownErrorConstructor(\n  KnownError,\n  \"OAUTH_PROVIDER_ACCESS_DENIED\",\n  () => [\n    400,\n    \"The OAuth provider denied access to the user.\"\n  ],\n  () => []\n);\nvar ContactChannelAlreadyUsedForAuthBySomeoneElse = createKnownErrorConstructor(\n  KnownError,\n  \"CONTACT_CHANNEL_ALREADY_USED_FOR_AUTH_BY_SOMEONE_ELSE\",\n  (type, contactChannelValue, wouldWorkIfEmailWasVerified = false) => [\n    409,\n    `This ${type} ${contactChannelValue ? `\"(${contactChannelValue})\"` : \"\"} is already used for authentication by another account${wouldWorkIfEmailWasVerified ? \" but the email is not verified. Please login to your existing account with the method you used to sign up, and then verify your email to sign in with this login method.\" : \".\"}`,\n    {\n      type,\n      contact_channel_value: contactChannelValue ?? null,\n      would_work_if_email_was_verified: wouldWorkIfEmailWasVerified\n    }\n  ],\n  (json) => [json.type, json.contact_channel_value, json.would_work_if_email_was_verified ?? false]\n);\nvar InvalidPollingCodeError = createKnownErrorConstructor(\n  KnownError,\n  \"INVALID_POLLING_CODE\",\n  (details) => [\n    400,\n    \"The polling code is invalid or does not exist.\",\n    details\n  ],\n  (json) => [json]\n);\nvar CliAuthError = createKnownErrorConstructor(\n  KnownError,\n  \"CLI_AUTH_ERROR\",\n  (message) => [\n    400,\n    message\n  ],\n  (json) => [json.message]\n);\nvar CliAuthExpiredError = createKnownErrorConstructor(\n  KnownError,\n  \"CLI_AUTH_EXPIRED_ERROR\",\n  (message = \"CLI authentication request expired. Please try again.\") => [\n    400,\n    message\n  ],\n  (json) => [json.message]\n);\nvar CliAuthUsedError = createKnownErrorConstructor(\n  KnownError,\n  \"CLI_AUTH_USED_ERROR\",\n  (message = \"This authentication token has already been used.\") => [\n    400,\n    message\n  ],\n  (json) => [json.message]\n);\nvar ApiKeyNotValid = createKnownErrorConstructor(\n  KnownError,\n  \"API_KEY_NOT_VALID\",\n  \"inherit\",\n  \"inherit\"\n);\nvar ApiKeyExpired = createKnownErrorConstructor(\n  ApiKeyNotValid,\n  \"API_KEY_EXPIRED\",\n  () => [\n    401,\n    \"API key has expired.\"\n  ],\n  () => []\n);\nvar ApiKeyRevoked = createKnownErrorConstructor(\n  ApiKeyNotValid,\n  \"API_KEY_REVOKED\",\n  () => [\n    401,\n    \"API key has been revoked.\"\n  ],\n  () => []\n);\nvar WrongApiKeyType = createKnownErrorConstructor(\n  ApiKeyNotValid,\n  \"WRONG_API_KEY_TYPE\",\n  (expectedType, actualType) => [\n    400,\n    `This endpoint is for ${expectedType} API keys, but a ${actualType} API key was provided.`,\n    { expected_type: expectedType, actual_type: actualType }\n  ],\n  (json) => [json.expected_type, json.actual_type]\n);\nvar ApiKeyNotFound = createKnownErrorConstructor(\n  ApiKeyNotValid,\n  \"API_KEY_NOT_FOUND\",\n  () => [\n    404,\n    \"API key not found.\"\n  ],\n  () => []\n);\nvar PublicApiKeyCannotBeRevoked = createKnownErrorConstructor(\n  ApiKeyNotValid,\n  \"PUBLIC_API_KEY_CANNOT_BE_REVOKED\",\n  () => [\n    400,\n    \"Public API keys cannot be revoked by the secretscanner endpoint.\"\n  ],\n  () => []\n);\nvar PermissionIdAlreadyExists = createKnownErrorConstructor(\n  KnownError,\n  \"PERMISSION_ID_ALREADY_EXISTS\",\n  (permissionId) => [\n    400,\n    `Permission with ID \"${permissionId}\" already exists. Choose a different ID.`,\n    {\n      permission_id: permissionId\n    }\n  ],\n  (json) => [json.permission_id]\n);\nvar EmailRenderingError = createKnownErrorConstructor(\n  KnownError,\n  \"EMAIL_RENDERING_ERROR\",\n  (error) => [\n    400,\n    `Failed to render email with theme: ${error}`,\n    { error }\n  ],\n  (json) => [json.error]\n);\nvar RequiresCustomEmailServer = createKnownErrorConstructor(\n  KnownError,\n  \"REQUIRES_CUSTOM_EMAIL_SERVER\",\n  () => [\n    400,\n    `This action requires a custom SMTP server. Please edit your email server configuration and try again.`\n  ],\n  () => []\n);\nvar ItemNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"ITEM_NOT_FOUND\",\n  (itemId) => [\n    404,\n    `Item with ID \"${itemId}\" not found.`,\n    {\n      item_id: itemId\n    }\n  ],\n  (json) => [json.item_id]\n);\nvar ItemCustomerTypeDoesNotMatch = createKnownErrorConstructor(\n  KnownError,\n  \"ITEM_CUSTOMER_TYPE_DOES_NOT_MATCH\",\n  (itemId, customerId, itemCustomerType, actualCustomerType) => [\n    400,\n    `The ${actualCustomerType} with ID ${JSON.stringify(customerId)} is not a valid customer for the item with ID ${JSON.stringify(itemId)}. ${itemCustomerType ? `The item is configured to only be available for ${itemCustomerType} customers, but the customer is a ${actualCustomerType}.` : `The item is missing a customer type field. Please make sure it is set up correctly in your project configuration.`}`,\n    {\n      item_id: itemId,\n      customer_id: customerId,\n      item_customer_type: itemCustomerType ?? null,\n      actual_customer_type: actualCustomerType\n    }\n  ],\n  (json) => [json.item_id, json.customer_id, json.item_customer_type ?? void 0, json.actual_customer_type]\n);\nvar CustomerDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"CUSTOMER_DOES_NOT_EXIST\",\n  (customerId) => [\n    400,\n    `Customer with ID ${JSON.stringify(customerId)} does not exist.`,\n    {\n      customer_id: customerId\n    }\n  ],\n  (json) => [json.customer_id]\n);\nvar OfferDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"OFFER_DOES_NOT_EXIST\",\n  (offerId, accessType) => [\n    400,\n    `Offer with ID ${JSON.stringify(offerId)} does not exist${accessType === \"client\" ? \" or you don't have permissions to access it.\" : \".\"}`,\n    {\n      offer_id: offerId,\n      access_type: accessType\n    }\n  ],\n  (json) => [json.offer_id, json.access_type]\n);\nvar OfferCustomerTypeDoesNotMatch = createKnownErrorConstructor(\n  KnownError,\n  \"OFFER_CUSTOMER_TYPE_DOES_NOT_MATCH\",\n  (offerId, customerId, offerCustomerType, actualCustomerType) => [\n    400,\n    `The ${actualCustomerType} with ID ${JSON.stringify(customerId)} is not a valid customer for the inline offer that has been passed in. ${offerCustomerType ? `The offer is configured to only be available for ${offerCustomerType} customers, but the customer is a ${actualCustomerType}.` : `The offer is missing a customer type field. Please make sure it is set up correctly in your project configuration.`}`,\n    {\n      offer_id: offerId ?? null,\n      customer_id: customerId,\n      offer_customer_type: offerCustomerType ?? null,\n      actual_customer_type: actualCustomerType\n    }\n  ],\n  (json) => [json.offer_id ?? void 0, json.customer_id, json.offer_customer_type ?? void 0, json.actual_customer_type]\n);\nvar ItemQuantityInsufficientAmount = createKnownErrorConstructor(\n  KnownError,\n  \"ITEM_QUANTITY_INSUFFICIENT_AMOUNT\",\n  (itemId, customerId, quantity) => [\n    400,\n    `The item with ID ${JSON.stringify(itemId)} has an insufficient quantity for the customer with ID ${JSON.stringify(customerId)}. An attempt was made to charge ${quantity} credits.`,\n    {\n      item_id: itemId,\n      customer_id: customerId,\n      quantity\n    }\n  ],\n  (json) => [json.item_id, json.customer_id, json.quantity]\n);\nvar StripeAccountInfoNotFound = createKnownErrorConstructor(\n  KnownError,\n  \"STRIPE_ACCOUNT_INFO_NOT_FOUND\",\n  () => [\n    404,\n    \"Stripe account information not found. Please make sure the user has onboarded with Stripe.\"\n  ],\n  () => []\n);\nvar WorkflowTokenDoesNotExist = createKnownErrorConstructor(\n  KnownError,\n  \"WORKFLOW_TOKEN_DOES_NOT_EXIST\",\n  () => [\n    400,\n    \"The workflow token you specified does not exist. Make sure the value in x-stack-workflow-token is correct.\"\n  ],\n  () => []\n);\nvar WorkflowTokenExpired = createKnownErrorConstructor(\n  KnownError,\n  \"WORKFLOW_TOKEN_EXPIRED\",\n  () => [\n    400,\n    \"The workflow token you specified has expired. Make sure the value in x-stack-workflow-token is correct.\"\n  ],\n  () => []\n);\nvar KnownErrors = {\n  CannotDeleteCurrentSession,\n  UnsupportedError,\n  BodyParsingError,\n  SchemaError,\n  AllOverloadsFailed,\n  ProjectAuthenticationError,\n  PermissionIdAlreadyExists,\n  CliAuthError,\n  CliAuthExpiredError,\n  CliAuthUsedError,\n  InvalidProjectAuthentication,\n  ProjectKeyWithoutAccessType,\n  InvalidAccessType,\n  AccessTypeWithoutProjectId,\n  AccessTypeRequired,\n  CannotGetOwnUserWithoutUser,\n  InsufficientAccessType,\n  InvalidPublishableClientKey,\n  InvalidSecretServerKey,\n  InvalidSuperSecretAdminKey,\n  InvalidAdminAccessToken,\n  UnparsableAdminAccessToken,\n  AdminAccessTokenExpired,\n  InvalidProjectForAdminAccessToken,\n  AdminAccessTokenIsNotAdmin,\n  ProjectAuthenticationRequired,\n  ClientAuthenticationRequired,\n  ServerAuthenticationRequired,\n  ClientOrServerAuthenticationRequired,\n  ClientOrAdminAuthenticationRequired,\n  ClientOrServerOrAdminAuthenticationRequired,\n  AdminAuthenticationRequired,\n  ExpectedInternalProject,\n  SessionAuthenticationError,\n  InvalidSessionAuthentication,\n  InvalidAccessToken,\n  UnparsableAccessToken,\n  AccessTokenExpired,\n  InvalidProjectForAccessToken,\n  RefreshTokenError,\n  ProviderRejected,\n  RefreshTokenNotFoundOrExpired,\n  UserWithEmailAlreadyExists,\n  EmailNotVerified,\n  UserIdDoesNotExist,\n  UserNotFound,\n  ApiKeyNotFound,\n  PublicApiKeyCannotBeRevoked,\n  ProjectNotFound,\n  CurrentProjectNotFound,\n  BranchDoesNotExist,\n  SignUpNotEnabled,\n  PasswordAuthenticationNotEnabled,\n  PasskeyAuthenticationNotEnabled,\n  AnonymousAccountsNotEnabled,\n  AnonymousAuthenticationNotAllowed,\n  EmailPasswordMismatch,\n  RedirectUrlNotWhitelisted,\n  PasswordRequirementsNotMet,\n  PasswordTooShort,\n  PasswordTooLong,\n  UserDoesNotHavePassword,\n  VerificationCodeError,\n  VerificationCodeNotFound,\n  VerificationCodeExpired,\n  VerificationCodeAlreadyUsed,\n  VerificationCodeMaxAttemptsReached,\n  PasswordConfirmationMismatch,\n  EmailAlreadyVerified,\n  EmailNotAssociatedWithUser,\n  EmailIsNotPrimaryEmail,\n  PasskeyRegistrationFailed,\n  PasskeyWebAuthnError,\n  PasskeyAuthenticationFailed,\n  PermissionNotFound,\n  PermissionScopeMismatch,\n  ContainedPermissionNotFound,\n  TeamNotFound,\n  TeamMembershipNotFound,\n  EmailTemplateAlreadyExists,\n  OAuthConnectionNotConnectedToUser,\n  OAuthConnectionAlreadyConnectedToAnotherUser,\n  OAuthConnectionDoesNotHaveRequiredScope,\n  OAuthExtraScopeNotAvailableWithSharedOAuthKeys,\n  OAuthAccessTokenNotAvailableWithSharedOAuthKeys,\n  InvalidOAuthClientIdOrSecret,\n  InvalidScope,\n  UserAlreadyConnectedToAnotherOAuthConnection,\n  OuterOAuthTimeout,\n  OAuthProviderNotFoundOrNotEnabled,\n  OAuthProviderAccountIdAlreadyUsedForSignIn,\n  MultiFactorAuthenticationRequired,\n  InvalidTotpCode,\n  UserAuthenticationRequired,\n  TeamMembershipAlreadyExists,\n  ProjectPermissionRequired,\n  TeamPermissionRequired,\n  InvalidSharedOAuthProviderId,\n  InvalidStandardOAuthProviderId,\n  InvalidAuthorizationCode,\n  TeamPermissionNotFound,\n  OAuthProviderAccessDenied,\n  ContactChannelAlreadyUsedForAuthBySomeoneElse,\n  InvalidPollingCodeError,\n  ApiKeyNotValid,\n  ApiKeyExpired,\n  ApiKeyRevoked,\n  WrongApiKeyType,\n  EmailRenderingError,\n  RequiresCustomEmailServer,\n  ItemNotFound,\n  ItemCustomerTypeDoesNotMatch,\n  CustomerDoesNotExist,\n  OfferDoesNotExist,\n  OfferCustomerTypeDoesNotMatch,\n  ItemQuantityInsufficientAmount,\n  StripeAccountInfoNotFound,\n  DataVaultStoreDoesNotExist,\n  DataVaultStoreHashedKeyDoesNotExist,\n  WorkflowTokenDoesNotExist,\n  WorkflowTokenExpired\n};\nvar knownErrorCodes = /* @__PURE__ */ new Set();\nfor (const [_, KnownError2] of Object.entries(KnownErrors)) {\n  if (knownErrorCodes.has(KnownError2.errorCode)) {\n    throw new Error(`Duplicate known error code: ${KnownError2.errorCode}`);\n  }\n  knownErrorCodes.add(KnownError2.errorCode);\n}\n\n//# sourceMappingURL=known-errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20va25vd24tZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDK0U7QUFDM0I7QUFDTjtBQUM5QywrQkFBK0IseURBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdCQUF3QixJQUFJO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDBEQUFRLDJGQUEyRixLQUFLO0FBQ2pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrSEFBK0gsVUFBVSxJQUFJLGFBQWE7QUFDMUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsNkRBQVk7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsVUFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdMQUF3TCxrQkFBa0I7QUFDMU07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwREFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsVUFBVTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBEQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFVBQVU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxzQkFBc0I7QUFDekU7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxca25vd24tZXJyb3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9rbm93bi1lcnJvcnMudHN4XG5pbXBvcnQgeyBTdGFja0Fzc2VydGlvbkVycm9yLCBTdGF0dXNFcnJvciwgdGhyb3dFcnIgfSBmcm9tIFwiLi91dGlscy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGlkZW50aXR5QXJncyB9IGZyb20gXCIuL3V0aWxzL2Z1bmN0aW9ucy5qc1wiO1xuaW1wb3J0IHsgZGVpbmRlbnQgfSBmcm9tIFwiLi91dGlscy9zdHJpbmdzLmpzXCI7XG52YXIgS25vd25FcnJvciA9IGNsYXNzIGV4dGVuZHMgU3RhdHVzRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihzdGF0dXNDb2RlLCBodW1hblJlYWRhYmxlTWVzc2FnZSwgZGV0YWlscykge1xuICAgIHN1cGVyKFxuICAgICAgc3RhdHVzQ29kZSxcbiAgICAgIGh1bWFuUmVhZGFibGVNZXNzYWdlXG4gICAgKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHRoaXMuaHVtYW5SZWFkYWJsZU1lc3NhZ2UgPSBodW1hblJlYWRhYmxlTWVzc2FnZTtcbiAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgIHRoaXMuX19zdGFja0tub3duRXJyb3JCcmFuZCA9IFwic3RhY2sta25vd24tZXJyb3ItYnJhbmQtc2VudGluZWxcIjtcbiAgICB0aGlzLm5hbWUgPSBcIktub3duRXJyb3JcIjtcbiAgfVxuICBzdGF0aWMgaXNLbm93bkVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJiBlcnJvciAhPT0gbnVsbCAmJiBcIl9fc3RhY2tLbm93bkVycm9yQnJhbmRcIiBpbiBlcnJvciAmJiBlcnJvci5fX3N0YWNrS25vd25FcnJvckJyYW5kID09PSBcInN0YWNrLWtub3duLWVycm9yLWJyYW5kLXNlbnRpbmVsXCI7XG4gIH1cbiAgZ2V0Qm9keSgpIHtcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHRoaXMudG9EZXNjcmlwdGl2ZUpzb24oKSwgdm9pZCAwLCAyKSk7XG4gIH1cbiAgZ2V0SGVhZGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogW1wiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiXSxcbiAgICAgIFwiWC1TdGFjay1Lbm93bi1FcnJvclwiOiBbdGhpcy5lcnJvckNvZGVdXG4gICAgfTtcbiAgfVxuICB0b0Rlc2NyaXB0aXZlSnNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogdGhpcy5lcnJvckNvZGUsXG4gICAgICAuLi50aGlzLmRldGFpbHMgPyB7IGRldGFpbHM6IHRoaXMuZGV0YWlscyB9IDoge30sXG4gICAgICBlcnJvcjogdGhpcy5odW1hblJlYWRhYmxlTWVzc2FnZVxuICAgIH07XG4gIH1cbiAgZ2V0IGVycm9yQ29kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5lcnJvckNvZGUgPz8gdGhyb3dFcnIoYENhbid0IGZpbmQgZXJyb3IgY29kZSBmb3IgdGhpcyBLbm93bkVycm9yLiBJcyBpdHMgY29uc3RydWN0b3IgYSBLbm93bkVycm9yQ29uc3RydWN0b3I/ICR7dGhpc31gKTtcbiAgfVxuICBzdGF0aWMgY29uc3RydWN0b3JBcmdzRnJvbUpzb24oanNvbikge1xuICAgIHJldHVybiBbXG4gICAgICA0MDAsXG4gICAgICBqc29uLm1lc3NhZ2UsXG4gICAgICBqc29uXG4gICAgXTtcbiAgfVxuICBzdGF0aWMgZnJvbUpzb24oanNvbikge1xuICAgIGZvciAoY29uc3QgW18sIEtub3duRXJyb3JUeXBlXSBvZiBPYmplY3QuZW50cmllcyhLbm93bkVycm9ycykpIHtcbiAgICAgIGlmIChqc29uLmNvZGUgPT09IEtub3duRXJyb3JUeXBlLnByb3RvdHlwZS5lcnJvckNvZGUpIHtcbiAgICAgICAgY29uc3QgY29uc3RydWN0b3JBcmdzID0gS25vd25FcnJvclR5cGUuY29uc3RydWN0b3JBcmdzRnJvbUpzb24oanNvbik7XG4gICAgICAgIHJldHVybiBuZXcgS25vd25FcnJvclR5cGUoXG4gICAgICAgICAgLi4uY29uc3RydWN0b3JBcmdzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBLbm93bkVycm9yIGNvZGUuIFlvdSBtYXkgbmVlZCB0byB1cGRhdGUgeW91ciB2ZXJzaW9uIG9mIFN0YWNrIHRvIHNlZSBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uLiAke2pzb24uY29kZX06ICR7anNvbi5tZXNzYWdlfWApO1xuICB9XG59O1xudmFyIGtub3duRXJyb3JDb25zdHJ1Y3RvckVycm9yQ29kZVNlbnRpbmVsID0gU3ltYm9sKFwia25vd25FcnJvckNvbnN0cnVjdG9yRXJyb3JDb2RlU2VudGluZWxcIik7XG5mdW5jdGlvbiBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoU3VwZXJDbGFzcywgZXJyb3JDb2RlLCBjcmVhdGUsIGNvbnN0cnVjdG9yQXJnc0Zyb21Kc29uKSB7XG4gIGNvbnN0IGNyZWF0ZUZuID0gY3JlYXRlID09PSBcImluaGVyaXRcIiA/IGlkZW50aXR5QXJncyA6IGNyZWF0ZTtcbiAgY29uc3QgY29uc3RydWN0b3JBcmdzRnJvbUpzb25GbiA9IGNvbnN0cnVjdG9yQXJnc0Zyb21Kc29uID09PSBcImluaGVyaXRcIiA/IFN1cGVyQ2xhc3MuY29uc3RydWN0b3JBcmdzRnJvbUpzb24gOiBjb25zdHJ1Y3RvckFyZ3NGcm9tSnNvbjtcbiAgY2xhc3MgS25vd25FcnJvckltcGwgZXh0ZW5kcyBTdXBlckNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICBzdXBlciguLi5jcmVhdGVGbiguLi5hcmdzKSk7XG4gICAgICB0aGlzLm5hbWUgPSBgS25vd25FcnJvcjwke2Vycm9yQ29kZX0+YDtcbiAgICAgIHRoaXMuY29uc3RydWN0b3JBcmdzID0gYXJncztcbiAgICB9XG4gICAgc3RhdGljIGNvbnN0cnVjdG9yQXJnc0Zyb21Kc29uKGpzb24pIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3RvckFyZ3NGcm9tSnNvbkZuKGpzb24uZGV0YWlscyk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgICBpZiAoIUtub3duRXJyb3IuaXNLbm93bkVycm9yKGVycm9yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgbGV0IGN1cnJlbnQgPSBlcnJvcjtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGN1cnJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3VycmVudCk7XG4gICAgICAgIGlmICghY3VycmVudCkgYnJlYWs7XG4gICAgICAgIGlmIChcImVycm9yQ29kZVwiIGluIGN1cnJlbnQuY29uc3RydWN0b3IgJiYgY3VycmVudC5jb25zdHJ1Y3Rvci5lcnJvckNvZGUgPT09IGVycm9yQ29kZSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIEtub3duRXJyb3JJbXBsLmVycm9yQ29kZSA9IGVycm9yQ29kZTtcbiAgO1xuICByZXR1cm4gS25vd25FcnJvckltcGw7XG59XG52YXIgVW5zdXBwb3J0ZWRFcnJvciA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJVTlNVUFBPUlRFRF9FUlJPUlwiLFxuICAob3JpZ2luYWxFcnJvckNvZGUpID0+IFtcbiAgICA1MDAsXG4gICAgYEFuIGVycm9yIG9jY3VycmVkIHRoYXQgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgKHBvc3NpYmx5IGJlY2F1c2UgaXQgd2FzIGFkZGVkIGluIGEgdmVyc2lvbiBvZiBTdGFjayB0aGF0IGlzIG5ld2VyIHRoYW4gdGhpcyBjbGllbnQpLiBUaGUgb3JpZ2luYWwgdW5zdXBwb3J0ZWQgZXJyb3IgY29kZSB3YXM6ICR7b3JpZ2luYWxFcnJvckNvZGV9YCxcbiAgICB7XG4gICAgICBvcmlnaW5hbEVycm9yQ29kZVxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtcbiAgICBqc29uPy5vcmlnaW5hbEVycm9yQ29kZSA/PyB0aHJvd0VycihcIm9yaWdpbmFsRXJyb3JDb2RlIG5vdCBmb3VuZCBpbiBVbnN1cHBvcnRlZEVycm9yIGRldGFpbHNcIilcbiAgXVxuKTtcbnZhciBCb2R5UGFyc2luZ0Vycm9yID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkJPRFlfUEFSU0lOR19FUlJPUlwiLFxuICAobWVzc2FnZSkgPT4gW1xuICAgIDQwMCxcbiAgICBtZXNzYWdlXG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5tZXNzYWdlXVxuKTtcbnZhciBTY2hlbWFFcnJvciA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJTQ0hFTUFfRVJST1JcIixcbiAgKG1lc3NhZ2UpID0+IFtcbiAgICA0MDAsXG4gICAgbWVzc2FnZSB8fCB0aHJvd0VycihcIlNjaGVtYUVycm9yIHJlcXVpcmVzIGEgbWVzc2FnZVwiKSxcbiAgICB7XG4gICAgICBtZXNzYWdlXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ubWVzc2FnZV1cbik7XG52YXIgQWxsT3ZlcmxvYWRzRmFpbGVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkFMTF9PVkVSTE9BRFNfRkFJTEVEXCIsXG4gIChvdmVybG9hZEVycm9ycykgPT4gW1xuICAgIDQwMCxcbiAgICBkZWluZGVudGBcbiAgICAgIFRoaXMgZW5kcG9pbnQgaGFzIG11bHRpcGxlIG92ZXJsb2FkcywgYnV0IHRoZXkgYWxsIGZhaWxlZCB0byBwcm9jZXNzIHRoZSByZXF1ZXN0LlxuXG4gICAgICAgICR7b3ZlcmxvYWRFcnJvcnMubWFwKChlLCBpKSA9PiBkZWluZGVudGBcbiAgICAgICAgICBPdmVybG9hZCAke2kgKyAxfTogJHtKU09OLnN0cmluZ2lmeShlLCB2b2lkIDAsIDIpfVxuICAgICAgICBgKS5qb2luKFwiXFxuXFxuXCIpfVxuICAgIGAsXG4gICAge1xuICAgICAgb3ZlcmxvYWRfZXJyb3JzOiBvdmVybG9hZEVycm9yc1xuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtcbiAgICBqc29uPy5vdmVybG9hZF9lcnJvcnMgPz8gdGhyb3dFcnIoXCJvdmVybG9hZF9lcnJvcnMgbm90IGZvdW5kIGluIEFsbE92ZXJsb2Fkc0ZhaWxlZCBkZXRhaWxzXCIpXG4gIF1cbik7XG52YXIgUHJvamVjdEF1dGhlbnRpY2F0aW9uRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiUFJPSkVDVF9BVVRIRU5USUNBVElPTl9FUlJPUlwiLFxuICBcImluaGVyaXRcIixcbiAgXCJpbmhlcml0XCJcbik7XG52YXIgSW52YWxpZFByb2plY3RBdXRoZW50aWNhdGlvbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUHJvamVjdEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIFwiSU5WQUxJRF9QUk9KRUNUX0FVVEhFTlRJQ0FUSU9OXCIsXG4gIFwiaW5oZXJpdFwiLFxuICBcImluaGVyaXRcIlxuKTtcbnZhciBQcm9qZWN0S2V5V2l0aG91dEFjY2Vzc1R5cGUgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEludmFsaWRQcm9qZWN0QXV0aGVudGljYXRpb24sXG4gIFwiUFJPSkVDVF9LRVlfV0lUSE9VVF9BQ0NFU1NfVFlQRVwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiRWl0aGVyIGFuIEFQSSBrZXkgb3IgYW4gYWRtaW4gYWNjZXNzIHRva2VuIHdhcyBwcm92aWRlZCwgYnV0IHRoZSB4LXN0YWNrLWFjY2Vzcy10eXBlIGhlYWRlciBpcyBtaXNzaW5nLiBTZXQgaXQgdG8gJ2NsaWVudCcsICdzZXJ2ZXInLCBvciAnYWRtaW4nIGFzIGFwcHJvcHJpYXRlLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIEludmFsaWRBY2Nlc3NUeXBlID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBJbnZhbGlkUHJvamVjdEF1dGhlbnRpY2F0aW9uLFxuICBcIklOVkFMSURfQUNDRVNTX1RZUEVcIixcbiAgKGFjY2Vzc1R5cGUpID0+IFtcbiAgICA0MDAsXG4gICAgYFRoZSB4LXN0YWNrLWFjY2Vzcy10eXBlIGhlYWRlciBtdXN0IGJlICdjbGllbnQnLCAnc2VydmVyJywgb3IgJ2FkbWluJywgYnV0IHdhcyAnJHthY2Nlc3NUeXBlfScuYFxuICBdLFxuICAoanNvbikgPT4gW1xuICAgIGpzb24/LmFjY2Vzc1R5cGUgPz8gdGhyb3dFcnIoXCJhY2Nlc3NUeXBlIG5vdCBmb3VuZCBpbiBJbnZhbGlkQWNjZXNzVHlwZSBkZXRhaWxzXCIpXG4gIF1cbik7XG52YXIgQWNjZXNzVHlwZVdpdGhvdXRQcm9qZWN0SWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEludmFsaWRQcm9qZWN0QXV0aGVudGljYXRpb24sXG4gIFwiQUNDRVNTX1RZUEVfV0lUSE9VVF9QUk9KRUNUX0lEXCIsXG4gIChhY2Nlc3NUeXBlKSA9PiBbXG4gICAgNDAwLFxuICAgIGRlaW5kZW50YFxuICAgICAgVGhlIHgtc3RhY2stYWNjZXNzLXR5cGUgaGVhZGVyIHdhcyAnJHthY2Nlc3NUeXBlfScsIGJ1dCB0aGUgeC1zdGFjay1wcm9qZWN0LWlkIGhlYWRlciB3YXMgbm90IHByb3ZpZGVkLlxuICAgICAgXG4gICAgICBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBkb2NzIG9uIFJFU1QgQVBJIGF1dGhlbnRpY2F0aW9uOiBodHRwczovL2RvY3Muc3RhY2stYXV0aC5jb20vcmVzdC1hcGkvb3ZlcnZpZXcjYXV0aGVudGljYXRpb25cbiAgICBgLFxuICAgIHtcbiAgICAgIHJlcXVlc3RfdHlwZTogYWNjZXNzVHlwZVxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnJlcXVlc3RfdHlwZV1cbik7XG52YXIgQWNjZXNzVHlwZVJlcXVpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBJbnZhbGlkUHJvamVjdEF1dGhlbnRpY2F0aW9uLFxuICBcIkFDQ0VTU19UWVBFX1JFUVVJUkVEXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgZGVpbmRlbnRgXG4gICAgICBZb3UgbXVzdCBzcGVjaWZ5IGFuIGFjY2VzcyBsZXZlbCBmb3IgdGhpcyBTdGFjayBwcm9qZWN0LiBNYWtlIHN1cmUgcHJvamVjdCBBUEkga2V5cyBhcmUgcHJvdmlkZWQgKGVnLiB4LXN0YWNrLXB1Ymxpc2hhYmxlLWNsaWVudC1rZXkpIGFuZCB5b3Ugc2V0IHRoZSB4LXN0YWNrLWFjY2Vzcy10eXBlIGhlYWRlciB0byAnY2xpZW50JywgJ3NlcnZlcicsIG9yICdhZG1pbicuXG4gICAgICBcbiAgICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIGRvY3Mgb24gUkVTVCBBUEkgYXV0aGVudGljYXRpb246IGh0dHBzOi8vZG9jcy5zdGFjay1hdXRoLmNvbS9yZXN0LWFwaS9vdmVydmlldyNhdXRoZW50aWNhdGlvblxuICAgIGBcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgSW5zdWZmaWNpZW50QWNjZXNzVHlwZSA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgSW52YWxpZFByb2plY3RBdXRoZW50aWNhdGlvbixcbiAgXCJJTlNVRkZJQ0lFTlRfQUNDRVNTX1RZUEVcIixcbiAgKGFjdHVhbEFjY2Vzc1R5cGUsIGFsbG93ZWRBY2Nlc3NUeXBlcykgPT4gW1xuICAgIDQwMSxcbiAgICBgVGhlIHgtc3RhY2stYWNjZXNzLXR5cGUgaGVhZGVyIG11c3QgYmUgJHthbGxvd2VkQWNjZXNzVHlwZXMubWFwKChzKSA9PiBgJyR7c30nYCkuam9pbihcIiBvciBcIil9LCBidXQgd2FzICcke2FjdHVhbEFjY2Vzc1R5cGV9Jy5gLFxuICAgIHtcbiAgICAgIGFjdHVhbF9hY2Nlc3NfdHlwZTogYWN0dWFsQWNjZXNzVHlwZSxcbiAgICAgIGFsbG93ZWRfYWNjZXNzX3R5cGVzOiBhbGxvd2VkQWNjZXNzVHlwZXNcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbXG4gICAganNvbi5hY3R1YWxfYWNjZXNzX3R5cGUsXG4gICAganNvbi5hbGxvd2VkX2FjY2Vzc190eXBlc1xuICBdXG4pO1xudmFyIEludmFsaWRQdWJsaXNoYWJsZUNsaWVudEtleSA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgSW52YWxpZFByb2plY3RBdXRoZW50aWNhdGlvbixcbiAgXCJJTlZBTElEX1BVQkxJU0hBQkxFX0NMSUVOVF9LRVlcIixcbiAgKHByb2plY3RJZCkgPT4gW1xuICAgIDQwMSxcbiAgICBgVGhlIHB1Ymxpc2hhYmxlIGtleSBpcyBub3QgdmFsaWQgZm9yIHRoZSBwcm9qZWN0ICR7SlNPTi5zdHJpbmdpZnkocHJvamVjdElkKX0uIERvZXMgdGhlIHByb2plY3QgYW5kL29yIHRoZSBrZXkgZXhpc3Q/YCxcbiAgICB7XG4gICAgICBwcm9qZWN0X2lkOiBwcm9qZWN0SWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5wcm9qZWN0X2lkXVxuKTtcbnZhciBJbnZhbGlkU2VjcmV0U2VydmVyS2V5ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBJbnZhbGlkUHJvamVjdEF1dGhlbnRpY2F0aW9uLFxuICBcIklOVkFMSURfU0VDUkVUX1NFUlZFUl9LRVlcIixcbiAgKHByb2plY3RJZCkgPT4gW1xuICAgIDQwMSxcbiAgICBgVGhlIHNlY3JldCBzZXJ2ZXIga2V5IGlzIG5vdCB2YWxpZCBmb3IgdGhlIHByb2plY3QgJHtKU09OLnN0cmluZ2lmeShwcm9qZWN0SWQpfS4gRG9lcyB0aGUgcHJvamVjdCBhbmQvb3IgdGhlIGtleSBleGlzdD9gLFxuICAgIHtcbiAgICAgIHByb2plY3RfaWQ6IHByb2plY3RJZFxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnByb2plY3RfaWRdXG4pO1xudmFyIEludmFsaWRTdXBlclNlY3JldEFkbWluS2V5ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBJbnZhbGlkUHJvamVjdEF1dGhlbnRpY2F0aW9uLFxuICBcIklOVkFMSURfU1VQRVJfU0VDUkVUX0FETUlOX0tFWVwiLFxuICAocHJvamVjdElkKSA9PiBbXG4gICAgNDAxLFxuICAgIGBUaGUgc3VwZXIgc2VjcmV0IGFkbWluIGtleSBpcyBub3QgdmFsaWQgZm9yIHRoZSBwcm9qZWN0ICR7SlNPTi5zdHJpbmdpZnkocHJvamVjdElkKX0uIERvZXMgdGhlIHByb2plY3QgYW5kL29yIHRoZSBrZXkgZXhpc3Q/YCxcbiAgICB7XG4gICAgICBwcm9qZWN0X2lkOiBwcm9qZWN0SWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5wcm9qZWN0X2lkXVxuKTtcbnZhciBJbnZhbGlkQWRtaW5BY2Nlc3NUb2tlbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgSW52YWxpZFByb2plY3RBdXRoZW50aWNhdGlvbixcbiAgXCJJTlZBTElEX0FETUlOX0FDQ0VTU19UT0tFTlwiLFxuICBcImluaGVyaXRcIixcbiAgXCJpbmhlcml0XCJcbik7XG52YXIgVW5wYXJzYWJsZUFkbWluQWNjZXNzVG9rZW4gPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEludmFsaWRBZG1pbkFjY2Vzc1Rva2VuLFxuICBcIlVOUEFSU0FCTEVfQURNSU5fQUNDRVNTX1RPS0VOXCIsXG4gICgpID0+IFtcbiAgICA0MDEsXG4gICAgXCJBZG1pbiBhY2Nlc3MgdG9rZW4gaXMgbm90IHBhcnNhYmxlLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIEFkbWluQWNjZXNzVG9rZW5FeHBpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBJbnZhbGlkQWRtaW5BY2Nlc3NUb2tlbixcbiAgXCJBRE1JTl9BQ0NFU1NfVE9LRU5fRVhQSVJFRFwiLFxuICAoZXhwaXJlZEF0KSA9PiBbXG4gICAgNDAxLFxuICAgIGBBZG1pbiBhY2Nlc3MgdG9rZW4gaGFzIGV4cGlyZWQuIFBsZWFzZSByZWZyZXNoIGl0IGFuZCB0cnkgYWdhaW4uJHtleHBpcmVkQXQgPyBgIChUaGUgYWNjZXNzIHRva2VuIGV4cGlyZWQgYXQgJHtleHBpcmVkQXQudG9JU09TdHJpbmcoKX0uKWAgOiBcIlwifWAsXG4gICAgeyBleHBpcmVkX2F0X21pbGxpczogZXhwaXJlZEF0Py5nZXRUaW1lKCkgPz8gbnVsbCB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5leHBpcmVkX2F0X21pbGxpcyA/PyB2b2lkIDBdXG4pO1xudmFyIEludmFsaWRQcm9qZWN0Rm9yQWRtaW5BY2Nlc3NUb2tlbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgSW52YWxpZEFkbWluQWNjZXNzVG9rZW4sXG4gIFwiSU5WQUxJRF9QUk9KRUNUX0ZPUl9BRE1JTl9BQ0NFU1NfVE9LRU5cIixcbiAgKCkgPT4gW1xuICAgIDQwMSxcbiAgICBcIkFkbWluIGFjY2VzcyB0b2tlbnMgbXVzdCBiZSBjcmVhdGVkIG9uIHRoZSBpbnRlcm5hbCBwcm9qZWN0LlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIEFkbWluQWNjZXNzVG9rZW5Jc05vdEFkbWluID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBJbnZhbGlkQWRtaW5BY2Nlc3NUb2tlbixcbiAgXCJBRE1JTl9BQ0NFU1NfVE9LRU5fSVNfTk9UX0FETUlOXCIsXG4gICgpID0+IFtcbiAgICA0MDEsXG4gICAgXCJBZG1pbiBhY2Nlc3MgdG9rZW4gZG9lcyBub3QgaGF2ZSB0aGUgcmVxdWlyZWQgcGVybWlzc2lvbnMgdG8gYWNjZXNzIHRoaXMgcHJvamVjdC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBQcm9qZWN0QXV0aGVudGljYXRpb25SZXF1aXJlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUHJvamVjdEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIFwiUFJPSkVDVF9BVVRIRU5USUNBVElPTl9SRVFVSVJFRFwiLFxuICBcImluaGVyaXRcIixcbiAgXCJpbmhlcml0XCJcbik7XG52YXIgQ2xpZW50QXV0aGVudGljYXRpb25SZXF1aXJlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUHJvamVjdEF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIFwiQ0xJRU5UX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEXCIsXG4gICgpID0+IFtcbiAgICA0MDEsXG4gICAgXCJUaGUgcHVibGlzaGFibGUgY2xpZW50IGtleSBtdXN0IGJlIHByb3ZpZGVkLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFNlcnZlckF1dGhlbnRpY2F0aW9uUmVxdWlyZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIFByb2plY3RBdXRoZW50aWNhdGlvblJlcXVpcmVkLFxuICBcIlNFUlZFUl9BVVRIRU5USUNBVElPTl9SRVFVSVJFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiVGhlIHNlY3JldCBzZXJ2ZXIga2V5IG11c3QgYmUgcHJvdmlkZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQ2xpZW50T3JTZXJ2ZXJBdXRoZW50aWNhdGlvblJlcXVpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBQcm9qZWN0QXV0aGVudGljYXRpb25SZXF1aXJlZCxcbiAgXCJDTElFTlRfT1JfU0VSVkVSX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEXCIsXG4gICgpID0+IFtcbiAgICA0MDEsXG4gICAgXCJFaXRoZXIgdGhlIHB1Ymxpc2hhYmxlIGNsaWVudCBrZXkgb3IgdGhlIHNlY3JldCBzZXJ2ZXIga2V5IG11c3QgYmUgcHJvdmlkZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQ2xpZW50T3JBZG1pbkF1dGhlbnRpY2F0aW9uUmVxdWlyZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIFByb2plY3RBdXRoZW50aWNhdGlvblJlcXVpcmVkLFxuICBcIkNMSUVOVF9PUl9BRE1JTl9BVVRIRU5USUNBVElPTl9SRVFVSVJFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiRWl0aGVyIHRoZSBwdWJsaXNoYWJsZSBjbGllbnQga2V5IG9yIHRoZSBzdXBlciBzZWNyZXQgYWRtaW4ga2V5IG11c3QgYmUgcHJvdmlkZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQ2xpZW50T3JTZXJ2ZXJPckFkbWluQXV0aGVudGljYXRpb25SZXF1aXJlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUHJvamVjdEF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIFwiQ0xJRU5UX09SX1NFUlZFUl9PUl9BRE1JTl9BVVRIRU5USUNBVElPTl9SRVFVSVJFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiRWl0aGVyIHRoZSBwdWJsaXNoYWJsZSBjbGllbnQga2V5LCB0aGUgc2VjcmV0IHNlcnZlciBrZXksIG9yIHRoZSBzdXBlciBzZWNyZXQgYWRtaW4ga2V5IG11c3QgYmUgcHJvdmlkZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQWRtaW5BdXRoZW50aWNhdGlvblJlcXVpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBQcm9qZWN0QXV0aGVudGljYXRpb25SZXF1aXJlZCxcbiAgXCJBRE1JTl9BVVRIRU5USUNBVElPTl9SRVFVSVJFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiVGhlIHN1cGVyIHNlY3JldCBhZG1pbiBrZXkgbXVzdCBiZSBwcm92aWRlZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBFeHBlY3RlZEludGVybmFsUHJvamVjdCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUHJvamVjdEF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIFwiRVhQRUNURURfSU5URVJOQUxfUFJPSkVDVFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiVGhlIHByb2plY3QgSUQgaXMgZXhwZWN0ZWQgdG8gYmUgaW50ZXJuYWwuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgU2Vzc2lvbkF1dGhlbnRpY2F0aW9uRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiU0VTU0lPTl9BVVRIRU5USUNBVElPTl9FUlJPUlwiLFxuICBcImluaGVyaXRcIixcbiAgXCJpbmhlcml0XCJcbik7XG52YXIgSW52YWxpZFNlc3Npb25BdXRoZW50aWNhdGlvbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgU2Vzc2lvbkF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIFwiSU5WQUxJRF9TRVNTSU9OX0FVVEhFTlRJQ0FUSU9OXCIsXG4gIFwiaW5oZXJpdFwiLFxuICBcImluaGVyaXRcIlxuKTtcbnZhciBJbnZhbGlkQWNjZXNzVG9rZW4gPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEludmFsaWRTZXNzaW9uQXV0aGVudGljYXRpb24sXG4gIFwiSU5WQUxJRF9BQ0NFU1NfVE9LRU5cIixcbiAgXCJpbmhlcml0XCIsXG4gIFwiaW5oZXJpdFwiXG4pO1xudmFyIFVucGFyc2FibGVBY2Nlc3NUb2tlbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgSW52YWxpZEFjY2Vzc1Rva2VuLFxuICBcIlVOUEFSU0FCTEVfQUNDRVNTX1RPS0VOXCIsXG4gICgpID0+IFtcbiAgICA0MDEsXG4gICAgXCJBY2Nlc3MgdG9rZW4gaXMgbm90IHBhcnNhYmxlLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIEFjY2Vzc1Rva2VuRXhwaXJlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgSW52YWxpZEFjY2Vzc1Rva2VuLFxuICBcIkFDQ0VTU19UT0tFTl9FWFBJUkVEXCIsXG4gIChleHBpcmVkQXQpID0+IFtcbiAgICA0MDEsXG4gICAgYEFjY2VzcyB0b2tlbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlZnJlc2ggaXQgYW5kIHRyeSBhZ2Fpbi4ke2V4cGlyZWRBdCA/IGAgKFRoZSBhY2Nlc3MgdG9rZW4gZXhwaXJlZCBhdCAke2V4cGlyZWRBdC50b0lTT1N0cmluZygpfS4pYCA6IFwiXCJ9YCxcbiAgICB7IGV4cGlyZWRfYXRfbWlsbGlzOiBleHBpcmVkQXQ/LmdldFRpbWUoKSA/PyBudWxsIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLmV4cGlyZWRfYXRfbWlsbGlzID8gbmV3IERhdGUoanNvbi5leHBpcmVkX2F0X21pbGxpcykgOiB2b2lkIDBdXG4pO1xudmFyIEludmFsaWRQcm9qZWN0Rm9yQWNjZXNzVG9rZW4gPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEludmFsaWRBY2Nlc3NUb2tlbixcbiAgXCJJTlZBTElEX1BST0pFQ1RfRk9SX0FDQ0VTU19UT0tFTlwiLFxuICAoZXhwZWN0ZWRQcm9qZWN0SWQsIGFjdHVhbFByb2plY3RJZCkgPT4gW1xuICAgIDQwMSxcbiAgICBgQWNjZXNzIHRva2VuIG5vdCB2YWxpZCBmb3IgdGhpcyBwcm9qZWN0LiBFeHBlY3RlZCBwcm9qZWN0IElEICR7SlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRQcm9qZWN0SWQpfSwgYnV0IHRoZSB0b2tlbiBpcyBmb3IgcHJvamVjdCBJRCAke0pTT04uc3RyaW5naWZ5KGFjdHVhbFByb2plY3RJZCl9LmAsXG4gICAge1xuICAgICAgZXhwZWN0ZWRfcHJvamVjdF9pZDogZXhwZWN0ZWRQcm9qZWN0SWQsXG4gICAgICBhY3R1YWxfcHJvamVjdF9pZDogYWN0dWFsUHJvamVjdElkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uZXhwZWN0ZWRfcHJvamVjdF9pZCwganNvbi5hY3R1YWxfcHJvamVjdF9pZF1cbik7XG52YXIgUmVmcmVzaFRva2VuRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiUkVGUkVTSF9UT0tFTl9FUlJPUlwiLFxuICBcImluaGVyaXRcIixcbiAgXCJpbmhlcml0XCJcbik7XG52YXIgUmVmcmVzaFRva2VuTm90Rm91bmRPckV4cGlyZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIFJlZnJlc2hUb2tlbkVycm9yLFxuICBcIlJFRlJFU0hfVE9LRU5fTk9UX0ZPVU5EX09SX0VYUElSRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMSxcbiAgICBcIlJlZnJlc2ggdG9rZW4gbm90IGZvdW5kIGZvciB0aGlzIHByb2plY3QsIG9yIHRoZSBzZXNzaW9uIGhhcyBleHBpcmVkL2JlZW4gcmV2b2tlZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBDYW5ub3REZWxldGVDdXJyZW50U2Vzc2lvbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUmVmcmVzaFRva2VuRXJyb3IsXG4gIFwiQ0FOTk9UX0RFTEVURV9DVVJSRU5UX1NFU1NJT05cIixcbiAgKCkgPT4gW1xuICAgIDQwMCxcbiAgICBcIkNhbm5vdCBkZWxldGUgdGhlIGN1cnJlbnQgc2Vzc2lvbi5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBQcm92aWRlclJlamVjdGVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBSZWZyZXNoVG9rZW5FcnJvcixcbiAgXCJQUk9WSURFUl9SRUpFQ1RFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiVGhlIHByb3ZpZGVyIHJlZnVzZWQgdG8gcmVmcmVzaCB0aGVpciB0b2tlbi4gVGhpcyB1c3VhbGx5IG1lYW5zIHRoYXQgdGhlIHByb3ZpZGVyIHVzZWQgdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyIG5vIGxvbmdlciByZWdhcmRzIHRoaXMgc2Vzc2lvbiBhcyB2YWxpZCwgYW5kIHRoZSB1c2VyIG11c3QgcmUtYXV0aGVudGljYXRlLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFVzZXJXaXRoRW1haWxBbHJlYWR5RXhpc3RzID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlVTRVJfRU1BSUxfQUxSRUFEWV9FWElTVFNcIixcbiAgKGVtYWlsLCB3b3VsZFdvcmtJZkVtYWlsV2FzVmVyaWZpZWQgPSBmYWxzZSkgPT4gW1xuICAgIDQwOSxcbiAgICBgQSB1c2VyIHdpdGggZW1haWwgJHtKU09OLnN0cmluZ2lmeShlbWFpbCl9IGFscmVhZHkgZXhpc3RzJHt3b3VsZFdvcmtJZkVtYWlsV2FzVmVyaWZpZWQgPyBcIiBidXQgdGhlIGVtYWlsIGlzIG5vdCB2ZXJpZmllZC4gUGxlYXNlIGxvZ2luIHRvIHlvdXIgZXhpc3RpbmcgYWNjb3VudCB3aXRoIHRoZSBtZXRob2QgeW91IHVzZWQgdG8gc2lnbiB1cCwgYW5kIHRoZW4gdmVyaWZ5IHlvdXIgZW1haWwgdG8gc2lnbiBpbiB3aXRoIHRoaXMgbG9naW4gbWV0aG9kLlwiIDogXCIuXCJ9YCxcbiAgICB7XG4gICAgICBlbWFpbCxcbiAgICAgIHdvdWxkX3dvcmtfaWZfZW1haWxfd2FzX3ZlcmlmaWVkOiB3b3VsZFdvcmtJZkVtYWlsV2FzVmVyaWZpZWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5lbWFpbCwganNvbi53b3VsZF93b3JrX2lmX2VtYWlsX3dhc192ZXJpZmllZCA/PyBmYWxzZV1cbik7XG52YXIgRW1haWxOb3RWZXJpZmllZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJFTUFJTF9OT1RfVkVSSUZJRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMCxcbiAgICBcIlRoZSBlbWFpbCBpcyBub3QgdmVyaWZpZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQ2Fubm90R2V0T3duVXNlcldpdGhvdXRVc2VyID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkNBTk5PVF9HRVRfT1dOX1VTRVJfV0lUSE9VVF9VU0VSXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJZb3UgaGF2ZSBzcGVjaWZpZWQgJ21lJyBhcyBhIHVzZXJJZCwgYnV0IGRpZCBub3QgcHJvdmlkZSBhdXRoZW50aWNhdGlvbiBmb3IgYSB1c2VyLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFVzZXJJZERvZXNOb3RFeGlzdCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJVU0VSX0lEX0RPRVNfTk9UX0VYSVNUXCIsXG4gICh1c2VySWQpID0+IFtcbiAgICA0MDAsXG4gICAgYFRoZSBnaXZlbiB1c2VyIHdpdGggdGhlIElEICR7dXNlcklkfSBkb2VzIG5vdCBleGlzdC5gLFxuICAgIHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZFxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnVzZXJfaWRdXG4pO1xudmFyIFVzZXJOb3RGb3VuZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJVU0VSX05PVF9GT1VORFwiLFxuICAoKSA9PiBbXG4gICAgNDA0LFxuICAgIFwiVXNlciBub3QgZm91bmQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgUHJvamVjdE5vdEZvdW5kID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlBST0pFQ1RfTk9UX0ZPVU5EXCIsXG4gIChwcm9qZWN0SWQpID0+IHtcbiAgICBpZiAodHlwZW9mIHByb2plY3RJZCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJwcm9qZWN0SWQgb2YgS25vd25FcnJvcnMuUHJvamVjdE5vdEZvdW5kIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgcmV0dXJuIFtcbiAgICAgIDQwNCxcbiAgICAgIGBQcm9qZWN0ICR7cHJvamVjdElkfSBub3QgZm91bmQgb3IgaXMgbm90IGFjY2Vzc2libGUgd2l0aCB0aGUgY3VycmVudCB1c2VyLmAsXG4gICAgICB7XG4gICAgICAgIHByb2plY3RfaWQ6IHByb2plY3RJZFxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIChqc29uKSA9PiBbanNvbi5wcm9qZWN0X2lkXVxuKTtcbnZhciBDdXJyZW50UHJvamVjdE5vdEZvdW5kID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkNVUlJFTlRfUFJPSkVDVF9OT1RfRk9VTkRcIixcbiAgKHByb2plY3RJZCkgPT4gW1xuICAgIDQwMCxcbiAgICBgVGhlIGN1cnJlbnQgcHJvamVjdCB3aXRoIElEICR7cHJvamVjdElkfSB3YXMgbm90IGZvdW5kLiBQbGVhc2UgY2hlY2sgdGhlIHZhbHVlIG9mIHRoZSB4LXN0YWNrLXByb2plY3QtaWQgaGVhZGVyLmAsXG4gICAge1xuICAgICAgcHJvamVjdF9pZDogcHJvamVjdElkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ucHJvamVjdF9pZF1cbik7XG52YXIgQnJhbmNoRG9lc05vdEV4aXN0ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkJSQU5DSF9ET0VTX05PVF9FWElTVFwiLFxuICAoYnJhbmNoSWQpID0+IFtcbiAgICA0MDAsXG4gICAgYFRoZSBicmFuY2ggd2l0aCBJRCAke2JyYW5jaElkfSBkb2VzIG5vdCBleGlzdC5gLFxuICAgIHtcbiAgICAgIGJyYW5jaF9pZDogYnJhbmNoSWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5icmFuY2hfaWRdXG4pO1xudmFyIFNpZ25VcE5vdEVuYWJsZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiU0lHTl9VUF9OT1RfRU5BQkxFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiQ3JlYXRpb24gb2YgbmV3IGFjY291bnRzIGlzIG5vdCBlbmFibGVkIGZvciB0aGlzIHByb2plY3QuIFBsZWFzZSBhc2sgdGhlIHByb2plY3Qgb3duZXIgdG8gZW5hYmxlIGl0LlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFBhc3N3b3JkQXV0aGVudGljYXRpb25Ob3RFbmFibGVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlBBU1NXT1JEX0FVVEhFTlRJQ0FUSU9OX05PVF9FTkFCTEVEXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJQYXNzd29yZCBhdXRoZW50aWNhdGlvbiBpcyBub3QgZW5hYmxlZCBmb3IgdGhpcyBwcm9qZWN0LlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIERhdGFWYXVsdFN0b3JlRG9lc05vdEV4aXN0ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkRBVEFfVkFVTFRfU1RPUkVfRE9FU19OT1RfRVhJU1RcIixcbiAgKHN0b3JlSWQpID0+IFtcbiAgICA0MDAsXG4gICAgYERhdGEgdmF1bHQgc3RvcmUgd2l0aCBJRCAke3N0b3JlSWR9IGRvZXMgbm90IGV4aXN0LmAsXG4gICAge1xuICAgICAgc3RvcmVfaWQ6IHN0b3JlSWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5zdG9yZV9pZF1cbik7XG52YXIgRGF0YVZhdWx0U3RvcmVIYXNoZWRLZXlEb2VzTm90RXhpc3QgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiREFUQV9WQVVMVF9TVE9SRV9IQVNIRURfS0VZX0RPRVNfTk9UX0VYSVNUXCIsXG4gIChzdG9yZUlkLCBoYXNoZWRLZXkpID0+IFtcbiAgICA0MDAsXG4gICAgYERhdGEgdmF1bHQgc3RvcmUgd2l0aCBJRCAke3N0b3JlSWR9IGRvZXMgbm90IGNvbnRhaW4gYSBrZXkgd2l0aCBoYXNoICR7aGFzaGVkS2V5fS5gLFxuICAgIHtcbiAgICAgIHN0b3JlX2lkOiBzdG9yZUlkLFxuICAgICAgaGFzaGVkX2tleTogaGFzaGVkS2V5XG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uc3RvcmVfaWQsIGpzb24uaGFzaGVkX2tleV1cbik7XG52YXIgUGFzc2tleUF1dGhlbnRpY2F0aW9uTm90RW5hYmxlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJQQVNTS0VZX0FVVEhFTlRJQ0FUSU9OX05PVF9FTkFCTEVEXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJQYXNza2V5IGF1dGhlbnRpY2F0aW9uIGlzIG5vdCBlbmFibGVkIGZvciB0aGlzIHByb2plY3QuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQW5vbnltb3VzQWNjb3VudHNOb3RFbmFibGVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkFOT05ZTU9VU19BQ0NPVU5UU19OT1RfRU5BQkxFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiQW5vbnltb3VzIGFjY291bnRzIGFyZSBub3QgZW5hYmxlZCBmb3IgdGhpcyBwcm9qZWN0LlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIEFub255bW91c0F1dGhlbnRpY2F0aW9uTm90QWxsb3dlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJBTk9OWU1PVVNfQVVUSEVOVElDQVRJT05fTk9UX0FMTE9XRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMSxcbiAgICBcIlgtU3RhY2stQWNjZXNzLVRva2VuIGlzIGZvciBhbiBhbm9ueW1vdXMgdXNlciwgYnV0IGFub255bW91cyB1c2VycyBhcmUgbm90IGVuYWJsZWQuIFNldCB0aGUgWC1TdGFjay1BbGxvdy1Bbm9ueW1vdXMtVXNlciBoZWFkZXIgb2YgdGhpcyByZXF1ZXN0IHRvICd0cnVlJyB0byBhbGxvdyBhbm9ueW1vdXMgdXNlcnMuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgRW1haWxQYXNzd29yZE1pc21hdGNoID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkVNQUlMX1BBU1NXT1JEX01JU01BVENIXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJXcm9uZyBlLW1haWwgb3IgcGFzc3dvcmQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgUmVkaXJlY3RVcmxOb3RXaGl0ZWxpc3RlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJSRURJUkVDVF9VUkxfTk9UX1dISVRFTElTVEVEXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJSZWRpcmVjdCBVUkwgbm90IHdoaXRlbGlzdGVkLiBEaWQgeW91IGZvcmdldCB0byBhZGQgdGhpcyBkb21haW4gdG8gdGhlIHRydXN0ZWQgZG9tYWlucyBsaXN0IG9uIHRoZSBTdGFjayBBdXRoIGRhc2hib2FyZD9cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBQYXNzd29yZFJlcXVpcmVtZW50c05vdE1ldCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJQQVNTV09SRF9SRVFVSVJFTUVOVFNfTk9UX01FVFwiLFxuICBcImluaGVyaXRcIixcbiAgXCJpbmhlcml0XCJcbik7XG52YXIgUGFzc3dvcmRUb29TaG9ydCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgUGFzc3dvcmRSZXF1aXJlbWVudHNOb3RNZXQsXG4gIFwiUEFTU1dPUkRfVE9PX1NIT1JUXCIsXG4gIChtaW5MZW5ndGgpID0+IFtcbiAgICA0MDAsXG4gICAgYFBhc3N3b3JkIHRvbyBzaG9ydC4gTWluaW11bSBsZW5ndGggaXMgJHttaW5MZW5ndGh9LmAsXG4gICAge1xuICAgICAgbWluX2xlbmd0aDogbWluTGVuZ3RoXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW1xuICAgIGpzb24/Lm1pbl9sZW5ndGggPz8gdGhyb3dFcnIoXCJtaW5fbGVuZ3RoIG5vdCBmb3VuZCBpbiBQYXNzd29yZFRvb1Nob3J0IGRldGFpbHNcIilcbiAgXVxuKTtcbnZhciBQYXNzd29yZFRvb0xvbmcgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIFBhc3N3b3JkUmVxdWlyZW1lbnRzTm90TWV0LFxuICBcIlBBU1NXT1JEX1RPT19MT05HXCIsXG4gIChtYXhMZW5ndGgpID0+IFtcbiAgICA0MDAsXG4gICAgYFBhc3N3b3JkIHRvbyBsb25nLiBNYXhpbXVtIGxlbmd0aCBpcyAke21heExlbmd0aH0uYCxcbiAgICB7XG4gICAgICBtYXhMZW5ndGhcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbXG4gICAganNvbj8ubWF4TGVuZ3RoID8/IHRocm93RXJyKFwibWF4TGVuZ3RoIG5vdCBmb3VuZCBpbiBQYXNzd29yZFRvb0xvbmcgZGV0YWlsc1wiKVxuICBdXG4pO1xudmFyIFVzZXJEb2VzTm90SGF2ZVBhc3N3b3JkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlVTRVJfRE9FU19OT1RfSEFWRV9QQVNTV09SRFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhpcyB1c2VyIGRvZXMgbm90IGhhdmUgcGFzc3dvcmQgYXV0aGVudGljYXRpb24gZW5hYmxlZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBWZXJpZmljYXRpb25Db2RlRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiVkVSSUZJQ0FUSU9OX0VSUk9SXCIsXG4gIFwiaW5oZXJpdFwiLFxuICBcImluaGVyaXRcIlxuKTtcbnZhciBWZXJpZmljYXRpb25Db2RlTm90Rm91bmQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIFZlcmlmaWNhdGlvbkNvZGVFcnJvcixcbiAgXCJWRVJJRklDQVRJT05fQ09ERV9OT1RfRk9VTkRcIixcbiAgKCkgPT4gW1xuICAgIDQwNCxcbiAgICBcIlRoZSB2ZXJpZmljYXRpb24gY29kZSBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBwcm9qZWN0LlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFZlcmlmaWNhdGlvbkNvZGVFeHBpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBWZXJpZmljYXRpb25Db2RlRXJyb3IsXG4gIFwiVkVSSUZJQ0FUSU9OX0NPREVfRVhQSVJFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhlIHZlcmlmaWNhdGlvbiBjb2RlIGhhcyBleHBpcmVkLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFZlcmlmaWNhdGlvbkNvZGVBbHJlYWR5VXNlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgVmVyaWZpY2F0aW9uQ29kZUVycm9yLFxuICBcIlZFUklGSUNBVElPTl9DT0RFX0FMUkVBRFlfVVNFRFwiLFxuICAoKSA9PiBbXG4gICAgNDA5LFxuICAgIFwiVGhlIHZlcmlmaWNhdGlvbiBsaW5rIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBWZXJpZmljYXRpb25Db2RlTWF4QXR0ZW1wdHNSZWFjaGVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBWZXJpZmljYXRpb25Db2RlRXJyb3IsXG4gIFwiVkVSSUZJQ0FUSU9OX0NPREVfTUFYX0FUVEVNUFRTX1JFQUNIRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMCxcbiAgICBcIlRoZSB2ZXJpZmljYXRpb24gY29kZSBub25jZSBoYXMgcmVhY2hlZCB0aGUgbWF4aW11bSBudW1iZXIgb2YgYXR0ZW1wdHMuIFRoaXMgY29kZSBpcyBub3QgdmFsaWQgYW55bW9yZS5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBQYXNzd29yZENvbmZpcm1hdGlvbk1pc21hdGNoID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlBBU1NXT1JEX0NPTkZJUk1BVElPTl9NSVNNQVRDSFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiUGFzc3dvcmRzIGRvIG5vdCBtYXRjaC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBFbWFpbEFscmVhZHlWZXJpZmllZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJFTUFJTF9BTFJFQURZX1ZFUklGSUVEXCIsXG4gICgpID0+IFtcbiAgICA0MDksXG4gICAgXCJUaGUgZS1tYWlsIGlzIGFscmVhZHkgdmVyaWZpZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgRW1haWxOb3RBc3NvY2lhdGVkV2l0aFVzZXIgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiRU1BSUxfTk9UX0FTU09DSUFURURfV0lUSF9VU0VSXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJUaGUgZS1tYWlsIGlzIG5vdCBhc3NvY2lhdGVkIHdpdGggYSB1c2VyIHRoYXQgY291bGQgbG9nIGluIHdpdGggdGhhdCBlLW1haWwuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgRW1haWxJc05vdFByaW1hcnlFbWFpbCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJFTUFJTF9JU19OT1RfUFJJTUFSWV9FTUFJTFwiLFxuICAoZW1haWwsIHByaW1hcnlFbWFpbCkgPT4gW1xuICAgIDQwMCxcbiAgICBgVGhlIGdpdmVuIGUtbWFpbCAoJHtlbWFpbH0pIG11c3QgZXF1YWwgdGhlIHVzZXIncyBwcmltYXJ5IGUtbWFpbCAoJHtwcmltYXJ5RW1haWx9KS5gLFxuICAgIHtcbiAgICAgIGVtYWlsLFxuICAgICAgcHJpbWFyeV9lbWFpbDogcHJpbWFyeUVtYWlsXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uZW1haWwsIGpzb24ucHJpbWFyeV9lbWFpbF1cbik7XG52YXIgUGFzc2tleVJlZ2lzdHJhdGlvbkZhaWxlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJQQVNTS0VZX1JFR0lTVFJBVElPTl9GQUlMRURcIixcbiAgKG1lc3NhZ2UpID0+IFtcbiAgICA0MDAsXG4gICAgbWVzc2FnZVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ubWVzc2FnZV1cbik7XG52YXIgUGFzc2tleVdlYkF1dGhuRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiUEFTU0tFWV9XRUJBVVRITl9FUlJPUlwiLFxuICAobWVzc2FnZSwgY29kZSkgPT4gW1xuICAgIDQwMCxcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBjb2RlXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ubWVzc2FnZSwganNvbi5jb2RlXVxuKTtcbnZhciBQYXNza2V5QXV0aGVudGljYXRpb25GYWlsZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiUEFTU0tFWV9BVVRIRU5USUNBVElPTl9GQUlMRURcIixcbiAgKG1lc3NhZ2UpID0+IFtcbiAgICA0MDAsXG4gICAgbWVzc2FnZVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ubWVzc2FnZV1cbik7XG52YXIgUGVybWlzc2lvbk5vdEZvdW5kID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlBFUk1JU1NJT05fTk9UX0ZPVU5EXCIsXG4gIChwZXJtaXNzaW9uSWQpID0+IFtcbiAgICA0MDQsXG4gICAgYFBlcm1pc3Npb24gXCIke3Blcm1pc3Npb25JZH1cIiBub3QgZm91bmQuIE1ha2Ugc3VyZSB5b3UgY3JlYXRlZCBpdCBvbiB0aGUgZGFzaGJvYXJkLmAsXG4gICAge1xuICAgICAgcGVybWlzc2lvbl9pZDogcGVybWlzc2lvbklkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ucGVybWlzc2lvbl9pZF1cbik7XG52YXIgUGVybWlzc2lvblNjb3BlTWlzbWF0Y2ggPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiV1JPTkdfUEVSTUlTU0lPTl9TQ09QRVwiLFxuICAocGVybWlzc2lvbklkLCBleHBlY3RlZFNjb3BlLCBhY3R1YWxTY29wZSkgPT4gW1xuICAgIDQwNCxcbiAgICBgUGVybWlzc2lvbiAke0pTT04uc3RyaW5naWZ5KHBlcm1pc3Npb25JZCl9IG5vdCBmb3VuZC4gKEl0IHdhcyBmb3VuZCBmb3IgYSBkaWZmZXJlbnQgc2NvcGUgJHtKU09OLnN0cmluZ2lmeShhY3R1YWxTY29wZSl9LCBidXQgc2NvcGUgJHtKU09OLnN0cmluZ2lmeShleHBlY3RlZFNjb3BlKX0gd2FzIGV4cGVjdGVkLilgLFxuICAgIHtcbiAgICAgIHBlcm1pc3Npb25faWQ6IHBlcm1pc3Npb25JZCxcbiAgICAgIGV4cGVjdGVkX3Njb3BlOiBleHBlY3RlZFNjb3BlLFxuICAgICAgYWN0dWFsX3Njb3BlOiBhY3R1YWxTY29wZVxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnBlcm1pc3Npb25faWQsIGpzb24uZXhwZWN0ZWRfc2NvcGUsIGpzb24uYWN0dWFsX3Njb3BlXVxuKTtcbnZhciBDb250YWluZWRQZXJtaXNzaW9uTm90Rm91bmQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiQ09OVEFJTkVEX1BFUk1JU1NJT05fTk9UX0ZPVU5EXCIsXG4gIChwZXJtaXNzaW9uSWQpID0+IFtcbiAgICA0MDAsXG4gICAgYENvbnRhaW5lZCBwZXJtaXNzaW9uIHdpdGggSUQgXCIke3Blcm1pc3Npb25JZH1cIiBub3QgZm91bmQuIE1ha2Ugc3VyZSB5b3UgY3JlYXRlZCBpdCBvbiB0aGUgZGFzaGJvYXJkLmAsXG4gICAge1xuICAgICAgcGVybWlzc2lvbl9pZDogcGVybWlzc2lvbklkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ucGVybWlzc2lvbl9pZF1cbik7XG52YXIgVGVhbU5vdEZvdW5kID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlRFQU1fTk9UX0ZPVU5EXCIsXG4gICh0ZWFtSWQpID0+IFtcbiAgICA0MDQsXG4gICAgYFRlYW0gJHt0ZWFtSWR9IG5vdCBmb3VuZC5gLFxuICAgIHtcbiAgICAgIHRlYW1faWQ6IHRlYW1JZFxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnRlYW1faWRdXG4pO1xudmFyIFRlYW1BbHJlYWR5RXhpc3RzID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlRFQU1fQUxSRUFEWV9FWElTVFNcIixcbiAgKHRlYW1JZCkgPT4gW1xuICAgIDQwOSxcbiAgICBgVGVhbSAke3RlYW1JZH0gYWxyZWFkeSBleGlzdHMuYCxcbiAgICB7XG4gICAgICB0ZWFtX2lkOiB0ZWFtSWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi50ZWFtX2lkXVxuKTtcbnZhciBUZWFtTWVtYmVyc2hpcE5vdEZvdW5kID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlRFQU1fTUVNQkVSU0hJUF9OT1RfRk9VTkRcIixcbiAgKHRlYW1JZCwgdXNlcklkKSA9PiBbXG4gICAgNDA0LFxuICAgIGBVc2VyICR7dXNlcklkfSBpcyBub3QgZm91bmQgaW4gdGVhbSAke3RlYW1JZH0uYCxcbiAgICB7XG4gICAgICB0ZWFtX2lkOiB0ZWFtSWQsXG4gICAgICB1c2VyX2lkOiB1c2VySWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi50ZWFtX2lkLCBqc29uLnVzZXJfaWRdXG4pO1xudmFyIEVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkVNQUlMX1RFTVBMQVRFX0FMUkVBRFlfRVhJU1RTXCIsXG4gICgpID0+IFtcbiAgICA0MDksXG4gICAgXCJFbWFpbCB0ZW1wbGF0ZSBhbHJlYWR5IGV4aXN0cy5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBPQXV0aENvbm5lY3Rpb25Ob3RDb25uZWN0ZWRUb1VzZXIgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiT0FVVEhfQ09OTkVDVElPTl9OT1RfQ09OTkVDVEVEX1RPX1VTRVJcIixcbiAgKCkgPT4gW1xuICAgIDQwMCxcbiAgICBcIlRoZSBPQXV0aCBjb25uZWN0aW9uIGlzIG5vdCBjb25uZWN0ZWQgdG8gYW55IHVzZXIuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgT0F1dGhDb25uZWN0aW9uQWxyZWFkeUNvbm5lY3RlZFRvQW5vdGhlclVzZXIgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiT0FVVEhfQ09OTkVDVElPTl9BTFJFQURZX0NPTk5FQ1RFRF9UT19BTk9USEVSX1VTRVJcIixcbiAgKCkgPT4gW1xuICAgIDQwOSxcbiAgICBcIlRoZSBPQXV0aCBjb25uZWN0aW9uIGlzIGFscmVhZHkgY29ubmVjdGVkIHRvIGFub3RoZXIgdXNlci5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBPQXV0aENvbm5lY3Rpb25Eb2VzTm90SGF2ZVJlcXVpcmVkU2NvcGUgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiT0FVVEhfQ09OTkVDVElPTl9ET0VTX05PVF9IQVZFX1JFUVVJUkVEX1NDT1BFXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJUaGUgT0F1dGggY29ubmVjdGlvbiBkb2VzIG5vdCBoYXZlIHRoZSByZXF1aXJlZCBzY29wZS5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBPQXV0aEV4dHJhU2NvcGVOb3RBdmFpbGFibGVXaXRoU2hhcmVkT0F1dGhLZXlzID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIk9BVVRIX0VYVFJBX1NDT1BFX05PVF9BVkFJTEFCTEVfV0lUSF9TSEFSRURfT0FVVEhfS0VZU1wiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiRXh0cmEgc2NvcGVzIGFyZSBub3QgYXZhaWxhYmxlIHdpdGggc2hhcmVkIE9BdXRoIGtleXMuIFBsZWFzZSBhZGQgeW91ciBvd24gT0F1dGgga2V5cyBvbiB0aGUgU3RhY2sgZGFzaGJvYXJkIHRvIHVzZSBleHRyYSBzY29wZXMuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgT0F1dGhBY2Nlc3NUb2tlbk5vdEF2YWlsYWJsZVdpdGhTaGFyZWRPQXV0aEtleXMgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiT0FVVEhfQUNDRVNTX1RPS0VOX05PVF9BVkFJTEFCTEVfV0lUSF9TSEFSRURfT0FVVEhfS0VZU1wiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiQWNjZXNzIHRva2VucyBhcmUgbm90IGF2YWlsYWJsZSB3aXRoIHNoYXJlZCBPQXV0aCBrZXlzLiBQbGVhc2UgYWRkIHlvdXIgb3duIE9BdXRoIGtleXMgb24gdGhlIFN0YWNrIGRhc2hib2FyZCB0byB1c2UgYWNjZXNzIHRva2Vucy5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBJbnZhbGlkT0F1dGhDbGllbnRJZE9yU2VjcmV0ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIklOVkFMSURfT0FVVEhfQ0xJRU5UX0lEX09SX1NFQ1JFVFwiLFxuICAoY2xpZW50SWQpID0+IFtcbiAgICA0MDAsXG4gICAgXCJUaGUgT0F1dGggY2xpZW50IElEIG9yIHNlY3JldCBpcyBpbnZhbGlkLiBUaGUgY2xpZW50IElEIG11c3QgYmUgZXF1YWwgdG8gdGhlIHByb2plY3QgSUQgKHBvdGVudGlhbGx5IHdpdGggYSBoYXNoIGFuZCBhIGJyYW5jaCBJRCksIGFuZCB0aGUgY2xpZW50IHNlY3JldCBtdXN0IGJlIGEgcHVibGlzaGFibGUgY2xpZW50IGtleS5cIixcbiAgICB7XG4gICAgICBjbGllbnRfaWQ6IGNsaWVudElkID8/IG51bGxcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5jbGllbnRfaWQgPz8gdm9pZCAwXVxuKTtcbnZhciBJbnZhbGlkU2NvcGUgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiSU5WQUxJRF9TQ09QRVwiLFxuICAoc2NvcGUpID0+IFtcbiAgICA0MDAsXG4gICAgYFRoZSBzY29wZSBcIiR7c2NvcGV9XCIgaXMgbm90IGEgdmFsaWQgT0F1dGggc2NvcGUgZm9yIFN0YWNrLmBcbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnNjb3BlXVxuKTtcbnZhciBVc2VyQWxyZWFkeUNvbm5lY3RlZFRvQW5vdGhlck9BdXRoQ29ubmVjdGlvbiA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJVU0VSX0FMUkVBRFlfQ09OTkVDVEVEX1RPX0FOT1RIRVJfT0FVVEhfQ09OTkVDVElPTlwiLFxuICAoKSA9PiBbXG4gICAgNDA5LFxuICAgIFwiVGhlIHVzZXIgaXMgYWxyZWFkeSBjb25uZWN0ZWQgdG8gYW5vdGhlciBPQXV0aCBhY2NvdW50LiBEaWQgeW91IG1heWJlIHNlbGVjdGVkIHRoZSB3cm9uZyBhY2NvdW50P1wiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIE91dGVyT0F1dGhUaW1lb3V0ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIk9VVEVSX09BVVRIX1RJTUVPVVRcIixcbiAgKCkgPT4gW1xuICAgIDQwOCxcbiAgICBcIlRoZSBPQXV0aCBmbG93IGhhcyB0aW1lZCBvdXQuIFBsZWFzZSBzaWduIGluIGFnYWluLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIE9BdXRoUHJvdmlkZXJOb3RGb3VuZE9yTm90RW5hYmxlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJPQVVUSF9QUk9WSURFUl9OT1RfRk9VTkRfT1JfTk9UX0VOQUJMRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMCxcbiAgICBcIlRoZSBPQXV0aCBwcm92aWRlciBpcyBub3QgZm91bmQgb3Igbm90IGVuYWJsZWQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgT0F1dGhQcm92aWRlckFjY291bnRJZEFscmVhZHlVc2VkRm9yU2lnbkluID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIk9BVVRIX1BST1ZJREVSX0FDQ09VTlRfSURfQUxSRUFEWV9VU0VEX0ZPUl9TSUdOX0lOXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgYEEgcHJvdmlkZXIgd2l0aCB0aGUgc2FtZSBhY2NvdW50IElEIGlzIGFscmVhZHkgdXNlZCBmb3Igc2lnbmluZyBpbi5gXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIE11bHRpRmFjdG9yQXV0aGVudGljYXRpb25SZXF1aXJlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJNVUxUSV9GQUNUT1JfQVVUSEVOVElDQVRJT05fUkVRVUlSRURcIixcbiAgKGF0dGVtcHRDb2RlKSA9PiBbXG4gICAgNDAwLFxuICAgIGBNdWx0aS1mYWN0b3IgYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgZm9yIHRoaXMgdXNlci5gLFxuICAgIHtcbiAgICAgIGF0dGVtcHRfY29kZTogYXR0ZW1wdENvZGVcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5hdHRlbXB0X2NvZGVdXG4pO1xudmFyIEludmFsaWRUb3RwQ29kZSA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJJTlZBTElEX1RPVFBfQ09ERVwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhlIFRPVFAgY29kZSBpcyBpbnZhbGlkLiBQbGVhc2UgdHJ5IGFnYWluLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFVzZXJBdXRoZW50aWNhdGlvblJlcXVpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlVTRVJfQVVUSEVOVElDQVRJT05fUkVRVUlSRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMSxcbiAgICBcIlVzZXIgYXV0aGVudGljYXRpb24gcmVxdWlyZWQgZm9yIHRoaXMgZW5kcG9pbnQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgVGVhbU1lbWJlcnNoaXBBbHJlYWR5RXhpc3RzID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIlRFQU1fTUVNQkVSU0hJUF9BTFJFQURZX0VYSVNUU1wiLFxuICAoKSA9PiBbXG4gICAgNDA5LFxuICAgIFwiVGVhbSBtZW1iZXJzaGlwIGFscmVhZHkgZXhpc3RzLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFByb2plY3RQZXJtaXNzaW9uUmVxdWlyZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiUFJPSkVDVF9QRVJNSVNTSU9OX1JFUVVJUkVEXCIsXG4gICh1c2VySWQsIHBlcm1pc3Npb25JZCkgPT4gW1xuICAgIDQwMSxcbiAgICBgVXNlciAke3VzZXJJZH0gZG9lcyBub3QgaGF2ZSBwZXJtaXNzaW9uICR7cGVybWlzc2lvbklkfS5gLFxuICAgIHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIHBlcm1pc3Npb25faWQ6IHBlcm1pc3Npb25JZFxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLnVzZXJfaWQsIGpzb24ucGVybWlzc2lvbl9pZF1cbik7XG52YXIgVGVhbVBlcm1pc3Npb25SZXF1aXJlZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJURUFNX1BFUk1JU1NJT05fUkVRVUlSRURcIixcbiAgKHRlYW1JZCwgdXNlcklkLCBwZXJtaXNzaW9uSWQpID0+IFtcbiAgICA0MDEsXG4gICAgYFVzZXIgJHt1c2VySWR9IGRvZXMgbm90IGhhdmUgcGVybWlzc2lvbiAke3Blcm1pc3Npb25JZH0gaW4gdGVhbSAke3RlYW1JZH0uYCxcbiAgICB7XG4gICAgICB0ZWFtX2lkOiB0ZWFtSWQsXG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBwZXJtaXNzaW9uX2lkOiBwZXJtaXNzaW9uSWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi50ZWFtX2lkLCBqc29uLnVzZXJfaWQsIGpzb24ucGVybWlzc2lvbl9pZF1cbik7XG52YXIgVGVhbVBlcm1pc3Npb25Ob3RGb3VuZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJURUFNX1BFUk1JU1NJT05fTk9UX0ZPVU5EXCIsXG4gICh0ZWFtSWQsIHVzZXJJZCwgcGVybWlzc2lvbklkKSA9PiBbXG4gICAgNDAxLFxuICAgIGBVc2VyICR7dXNlcklkfSBkb2VzIG5vdCBoYXZlIHBlcm1pc3Npb24gJHtwZXJtaXNzaW9uSWR9IGluIHRlYW0gJHt0ZWFtSWR9LmAsXG4gICAge1xuICAgICAgdGVhbV9pZDogdGVhbUlkLFxuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgcGVybWlzc2lvbl9pZDogcGVybWlzc2lvbklkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24udGVhbV9pZCwganNvbi51c2VyX2lkLCBqc29uLnBlcm1pc3Npb25faWRdXG4pO1xudmFyIEludmFsaWRTaGFyZWRPQXV0aFByb3ZpZGVySWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiSU5WQUxJRF9TSEFSRURfT0FVVEhfUFJPVklERVJfSURcIixcbiAgKHByb3ZpZGVySWQpID0+IFtcbiAgICA0MDAsXG4gICAgYFRoZSBzaGFyZWQgT0F1dGggcHJvdmlkZXIgd2l0aCBJRCAke3Byb3ZpZGVySWR9IGlzIG5vdCB2YWxpZC5gLFxuICAgIHtcbiAgICAgIHByb3ZpZGVyX2lkOiBwcm92aWRlcklkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ucHJvdmlkZXJfaWRdXG4pO1xudmFyIEludmFsaWRTdGFuZGFyZE9BdXRoUHJvdmlkZXJJZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJJTlZBTElEX1NUQU5EQVJEX09BVVRIX1BST1ZJREVSX0lEXCIsXG4gIChwcm92aWRlcklkKSA9PiBbXG4gICAgNDAwLFxuICAgIGBUaGUgc3RhbmRhcmQgT0F1dGggcHJvdmlkZXIgd2l0aCBJRCAke3Byb3ZpZGVySWR9IGlzIG5vdCB2YWxpZC5gLFxuICAgIHtcbiAgICAgIHByb3ZpZGVyX2lkOiBwcm92aWRlcklkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ucHJvdmlkZXJfaWRdXG4pO1xudmFyIEludmFsaWRBdXRob3JpemF0aW9uQ29kZSA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJJTlZBTElEX0FVVEhPUklaQVRJT05fQ09ERVwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhlIGdpdmVuIGF1dGhvcml6YXRpb24gY29kZSBpcyBpbnZhbGlkLlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIE9BdXRoUHJvdmlkZXJBY2Nlc3NEZW5pZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiT0FVVEhfUFJPVklERVJfQUNDRVNTX0RFTklFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhlIE9BdXRoIHByb3ZpZGVyIGRlbmllZCBhY2Nlc3MgdG8gdGhlIHVzZXIuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgQ29udGFjdENoYW5uZWxBbHJlYWR5VXNlZEZvckF1dGhCeVNvbWVvbmVFbHNlID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkNPTlRBQ1RfQ0hBTk5FTF9BTFJFQURZX1VTRURfRk9SX0FVVEhfQllfU09NRU9ORV9FTFNFXCIsXG4gICh0eXBlLCBjb250YWN0Q2hhbm5lbFZhbHVlLCB3b3VsZFdvcmtJZkVtYWlsV2FzVmVyaWZpZWQgPSBmYWxzZSkgPT4gW1xuICAgIDQwOSxcbiAgICBgVGhpcyAke3R5cGV9ICR7Y29udGFjdENoYW5uZWxWYWx1ZSA/IGBcIigke2NvbnRhY3RDaGFubmVsVmFsdWV9KVwiYCA6IFwiXCJ9IGlzIGFscmVhZHkgdXNlZCBmb3IgYXV0aGVudGljYXRpb24gYnkgYW5vdGhlciBhY2NvdW50JHt3b3VsZFdvcmtJZkVtYWlsV2FzVmVyaWZpZWQgPyBcIiBidXQgdGhlIGVtYWlsIGlzIG5vdCB2ZXJpZmllZC4gUGxlYXNlIGxvZ2luIHRvIHlvdXIgZXhpc3RpbmcgYWNjb3VudCB3aXRoIHRoZSBtZXRob2QgeW91IHVzZWQgdG8gc2lnbiB1cCwgYW5kIHRoZW4gdmVyaWZ5IHlvdXIgZW1haWwgdG8gc2lnbiBpbiB3aXRoIHRoaXMgbG9naW4gbWV0aG9kLlwiIDogXCIuXCJ9YCxcbiAgICB7XG4gICAgICB0eXBlLFxuICAgICAgY29udGFjdF9jaGFubmVsX3ZhbHVlOiBjb250YWN0Q2hhbm5lbFZhbHVlID8/IG51bGwsXG4gICAgICB3b3VsZF93b3JrX2lmX2VtYWlsX3dhc192ZXJpZmllZDogd291bGRXb3JrSWZFbWFpbFdhc1ZlcmlmaWVkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24udHlwZSwganNvbi5jb250YWN0X2NoYW5uZWxfdmFsdWUsIGpzb24ud291bGRfd29ya19pZl9lbWFpbF93YXNfdmVyaWZpZWQgPz8gZmFsc2VdXG4pO1xudmFyIEludmFsaWRQb2xsaW5nQ29kZUVycm9yID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIklOVkFMSURfUE9MTElOR19DT0RFXCIsXG4gIChkZXRhaWxzKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhlIHBvbGxpbmcgY29kZSBpcyBpbnZhbGlkIG9yIGRvZXMgbm90IGV4aXN0LlwiLFxuICAgIGRldGFpbHNcbiAgXSxcbiAgKGpzb24pID0+IFtqc29uXVxuKTtcbnZhciBDbGlBdXRoRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiQ0xJX0FVVEhfRVJST1JcIixcbiAgKG1lc3NhZ2UpID0+IFtcbiAgICA0MDAsXG4gICAgbWVzc2FnZVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ubWVzc2FnZV1cbik7XG52YXIgQ2xpQXV0aEV4cGlyZWRFcnJvciA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJDTElfQVVUSF9FWFBJUkVEX0VSUk9SXCIsXG4gIChtZXNzYWdlID0gXCJDTEkgYXV0aGVudGljYXRpb24gcmVxdWVzdCBleHBpcmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKSA9PiBbXG4gICAgNDAwLFxuICAgIG1lc3NhZ2VcbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLm1lc3NhZ2VdXG4pO1xudmFyIENsaUF1dGhVc2VkRXJyb3IgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiQ0xJX0FVVEhfVVNFRF9FUlJPUlwiLFxuICAobWVzc2FnZSA9IFwiVGhpcyBhdXRoZW50aWNhdGlvbiB0b2tlbiBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpID0+IFtcbiAgICA0MDAsXG4gICAgbWVzc2FnZVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ubWVzc2FnZV1cbik7XG52YXIgQXBpS2V5Tm90VmFsaWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiQVBJX0tFWV9OT1RfVkFMSURcIixcbiAgXCJpbmhlcml0XCIsXG4gIFwiaW5oZXJpdFwiXG4pO1xudmFyIEFwaUtleUV4cGlyZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEFwaUtleU5vdFZhbGlkLFxuICBcIkFQSV9LRVlfRVhQSVJFRFwiLFxuICAoKSA9PiBbXG4gICAgNDAxLFxuICAgIFwiQVBJIGtleSBoYXMgZXhwaXJlZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBBcGlLZXlSZXZva2VkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBBcGlLZXlOb3RWYWxpZCxcbiAgXCJBUElfS0VZX1JFVk9LRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMSxcbiAgICBcIkFQSSBrZXkgaGFzIGJlZW4gcmV2b2tlZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBXcm9uZ0FwaUtleVR5cGUgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEFwaUtleU5vdFZhbGlkLFxuICBcIldST05HX0FQSV9LRVlfVFlQRVwiLFxuICAoZXhwZWN0ZWRUeXBlLCBhY3R1YWxUeXBlKSA9PiBbXG4gICAgNDAwLFxuICAgIGBUaGlzIGVuZHBvaW50IGlzIGZvciAke2V4cGVjdGVkVHlwZX0gQVBJIGtleXMsIGJ1dCBhICR7YWN0dWFsVHlwZX0gQVBJIGtleSB3YXMgcHJvdmlkZWQuYCxcbiAgICB7IGV4cGVjdGVkX3R5cGU6IGV4cGVjdGVkVHlwZSwgYWN0dWFsX3R5cGU6IGFjdHVhbFR5cGUgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uZXhwZWN0ZWRfdHlwZSwganNvbi5hY3R1YWxfdHlwZV1cbik7XG52YXIgQXBpS2V5Tm90Rm91bmQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEFwaUtleU5vdFZhbGlkLFxuICBcIkFQSV9LRVlfTk9UX0ZPVU5EXCIsXG4gICgpID0+IFtcbiAgICA0MDQsXG4gICAgXCJBUEkga2V5IG5vdCBmb3VuZC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBQdWJsaWNBcGlLZXlDYW5ub3RCZVJldm9rZWQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEFwaUtleU5vdFZhbGlkLFxuICBcIlBVQkxJQ19BUElfS0VZX0NBTk5PVF9CRV9SRVZPS0VEXCIsXG4gICgpID0+IFtcbiAgICA0MDAsXG4gICAgXCJQdWJsaWMgQVBJIGtleXMgY2Fubm90IGJlIHJldm9rZWQgYnkgdGhlIHNlY3JldHNjYW5uZXIgZW5kcG9pbnQuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgUGVybWlzc2lvbklkQWxyZWFkeUV4aXN0cyA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJQRVJNSVNTSU9OX0lEX0FMUkVBRFlfRVhJU1RTXCIsXG4gIChwZXJtaXNzaW9uSWQpID0+IFtcbiAgICA0MDAsXG4gICAgYFBlcm1pc3Npb24gd2l0aCBJRCBcIiR7cGVybWlzc2lvbklkfVwiIGFscmVhZHkgZXhpc3RzLiBDaG9vc2UgYSBkaWZmZXJlbnQgSUQuYCxcbiAgICB7XG4gICAgICBwZXJtaXNzaW9uX2lkOiBwZXJtaXNzaW9uSWRcbiAgICB9XG4gIF0sXG4gIChqc29uKSA9PiBbanNvbi5wZXJtaXNzaW9uX2lkXVxuKTtcbnZhciBFbWFpbFJlbmRlcmluZ0Vycm9yID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIkVNQUlMX1JFTkRFUklOR19FUlJPUlwiLFxuICAoZXJyb3IpID0+IFtcbiAgICA0MDAsXG4gICAgYEZhaWxlZCB0byByZW5kZXIgZW1haWwgd2l0aCB0aGVtZTogJHtlcnJvcn1gLFxuICAgIHsgZXJyb3IgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uZXJyb3JdXG4pO1xudmFyIFJlcXVpcmVzQ3VzdG9tRW1haWxTZXJ2ZXIgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiUkVRVUlSRVNfQ1VTVE9NX0VNQUlMX1NFUlZFUlwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIGBUaGlzIGFjdGlvbiByZXF1aXJlcyBhIGN1c3RvbSBTTVRQIHNlcnZlci4gUGxlYXNlIGVkaXQgeW91ciBlbWFpbCBzZXJ2ZXIgY29uZmlndXJhdGlvbiBhbmQgdHJ5IGFnYWluLmBcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgSXRlbU5vdEZvdW5kID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIklURU1fTk9UX0ZPVU5EXCIsXG4gIChpdGVtSWQpID0+IFtcbiAgICA0MDQsXG4gICAgYEl0ZW0gd2l0aCBJRCBcIiR7aXRlbUlkfVwiIG5vdCBmb3VuZC5gLFxuICAgIHtcbiAgICAgIGl0ZW1faWQ6IGl0ZW1JZFxuICAgIH1cbiAgXSxcbiAgKGpzb24pID0+IFtqc29uLml0ZW1faWRdXG4pO1xudmFyIEl0ZW1DdXN0b21lclR5cGVEb2VzTm90TWF0Y2ggPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiSVRFTV9DVVNUT01FUl9UWVBFX0RPRVNfTk9UX01BVENIXCIsXG4gIChpdGVtSWQsIGN1c3RvbWVySWQsIGl0ZW1DdXN0b21lclR5cGUsIGFjdHVhbEN1c3RvbWVyVHlwZSkgPT4gW1xuICAgIDQwMCxcbiAgICBgVGhlICR7YWN0dWFsQ3VzdG9tZXJUeXBlfSB3aXRoIElEICR7SlNPTi5zdHJpbmdpZnkoY3VzdG9tZXJJZCl9IGlzIG5vdCBhIHZhbGlkIGN1c3RvbWVyIGZvciB0aGUgaXRlbSB3aXRoIElEICR7SlNPTi5zdHJpbmdpZnkoaXRlbUlkKX0uICR7aXRlbUN1c3RvbWVyVHlwZSA/IGBUaGUgaXRlbSBpcyBjb25maWd1cmVkIHRvIG9ubHkgYmUgYXZhaWxhYmxlIGZvciAke2l0ZW1DdXN0b21lclR5cGV9IGN1c3RvbWVycywgYnV0IHRoZSBjdXN0b21lciBpcyBhICR7YWN0dWFsQ3VzdG9tZXJUeXBlfS5gIDogYFRoZSBpdGVtIGlzIG1pc3NpbmcgYSBjdXN0b21lciB0eXBlIGZpZWxkLiBQbGVhc2UgbWFrZSBzdXJlIGl0IGlzIHNldCB1cCBjb3JyZWN0bHkgaW4geW91ciBwcm9qZWN0IGNvbmZpZ3VyYXRpb24uYH1gLFxuICAgIHtcbiAgICAgIGl0ZW1faWQ6IGl0ZW1JZCxcbiAgICAgIGN1c3RvbWVyX2lkOiBjdXN0b21lcklkLFxuICAgICAgaXRlbV9jdXN0b21lcl90eXBlOiBpdGVtQ3VzdG9tZXJUeXBlID8/IG51bGwsXG4gICAgICBhY3R1YWxfY3VzdG9tZXJfdHlwZTogYWN0dWFsQ3VzdG9tZXJUeXBlXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uaXRlbV9pZCwganNvbi5jdXN0b21lcl9pZCwganNvbi5pdGVtX2N1c3RvbWVyX3R5cGUgPz8gdm9pZCAwLCBqc29uLmFjdHVhbF9jdXN0b21lcl90eXBlXVxuKTtcbnZhciBDdXN0b21lckRvZXNOb3RFeGlzdCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJDVVNUT01FUl9ET0VTX05PVF9FWElTVFwiLFxuICAoY3VzdG9tZXJJZCkgPT4gW1xuICAgIDQwMCxcbiAgICBgQ3VzdG9tZXIgd2l0aCBJRCAke0pTT04uc3RyaW5naWZ5KGN1c3RvbWVySWQpfSBkb2VzIG5vdCBleGlzdC5gLFxuICAgIHtcbiAgICAgIGN1c3RvbWVyX2lkOiBjdXN0b21lcklkXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uY3VzdG9tZXJfaWRdXG4pO1xudmFyIE9mZmVyRG9lc05vdEV4aXN0ID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIk9GRkVSX0RPRVNfTk9UX0VYSVNUXCIsXG4gIChvZmZlcklkLCBhY2Nlc3NUeXBlKSA9PiBbXG4gICAgNDAwLFxuICAgIGBPZmZlciB3aXRoIElEICR7SlNPTi5zdHJpbmdpZnkob2ZmZXJJZCl9IGRvZXMgbm90IGV4aXN0JHthY2Nlc3NUeXBlID09PSBcImNsaWVudFwiID8gXCIgb3IgeW91IGRvbid0IGhhdmUgcGVybWlzc2lvbnMgdG8gYWNjZXNzIGl0LlwiIDogXCIuXCJ9YCxcbiAgICB7XG4gICAgICBvZmZlcl9pZDogb2ZmZXJJZCxcbiAgICAgIGFjY2Vzc190eXBlOiBhY2Nlc3NUeXBlXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ub2ZmZXJfaWQsIGpzb24uYWNjZXNzX3R5cGVdXG4pO1xudmFyIE9mZmVyQ3VzdG9tZXJUeXBlRG9lc05vdE1hdGNoID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIk9GRkVSX0NVU1RPTUVSX1RZUEVfRE9FU19OT1RfTUFUQ0hcIixcbiAgKG9mZmVySWQsIGN1c3RvbWVySWQsIG9mZmVyQ3VzdG9tZXJUeXBlLCBhY3R1YWxDdXN0b21lclR5cGUpID0+IFtcbiAgICA0MDAsXG4gICAgYFRoZSAke2FjdHVhbEN1c3RvbWVyVHlwZX0gd2l0aCBJRCAke0pTT04uc3RyaW5naWZ5KGN1c3RvbWVySWQpfSBpcyBub3QgYSB2YWxpZCBjdXN0b21lciBmb3IgdGhlIGlubGluZSBvZmZlciB0aGF0IGhhcyBiZWVuIHBhc3NlZCBpbi4gJHtvZmZlckN1c3RvbWVyVHlwZSA/IGBUaGUgb2ZmZXIgaXMgY29uZmlndXJlZCB0byBvbmx5IGJlIGF2YWlsYWJsZSBmb3IgJHtvZmZlckN1c3RvbWVyVHlwZX0gY3VzdG9tZXJzLCBidXQgdGhlIGN1c3RvbWVyIGlzIGEgJHthY3R1YWxDdXN0b21lclR5cGV9LmAgOiBgVGhlIG9mZmVyIGlzIG1pc3NpbmcgYSBjdXN0b21lciB0eXBlIGZpZWxkLiBQbGVhc2UgbWFrZSBzdXJlIGl0IGlzIHNldCB1cCBjb3JyZWN0bHkgaW4geW91ciBwcm9qZWN0IGNvbmZpZ3VyYXRpb24uYH1gLFxuICAgIHtcbiAgICAgIG9mZmVyX2lkOiBvZmZlcklkID8/IG51bGwsXG4gICAgICBjdXN0b21lcl9pZDogY3VzdG9tZXJJZCxcbiAgICAgIG9mZmVyX2N1c3RvbWVyX3R5cGU6IG9mZmVyQ3VzdG9tZXJUeXBlID8/IG51bGwsXG4gICAgICBhY3R1YWxfY3VzdG9tZXJfdHlwZTogYWN0dWFsQ3VzdG9tZXJUeXBlXG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24ub2ZmZXJfaWQgPz8gdm9pZCAwLCBqc29uLmN1c3RvbWVyX2lkLCBqc29uLm9mZmVyX2N1c3RvbWVyX3R5cGUgPz8gdm9pZCAwLCBqc29uLmFjdHVhbF9jdXN0b21lcl90eXBlXVxuKTtcbnZhciBJdGVtUXVhbnRpdHlJbnN1ZmZpY2llbnRBbW91bnQgPSBjcmVhdGVLbm93bkVycm9yQ29uc3RydWN0b3IoXG4gIEtub3duRXJyb3IsXG4gIFwiSVRFTV9RVUFOVElUWV9JTlNVRkZJQ0lFTlRfQU1PVU5UXCIsXG4gIChpdGVtSWQsIGN1c3RvbWVySWQsIHF1YW50aXR5KSA9PiBbXG4gICAgNDAwLFxuICAgIGBUaGUgaXRlbSB3aXRoIElEICR7SlNPTi5zdHJpbmdpZnkoaXRlbUlkKX0gaGFzIGFuIGluc3VmZmljaWVudCBxdWFudGl0eSBmb3IgdGhlIGN1c3RvbWVyIHdpdGggSUQgJHtKU09OLnN0cmluZ2lmeShjdXN0b21lcklkKX0uIEFuIGF0dGVtcHQgd2FzIG1hZGUgdG8gY2hhcmdlICR7cXVhbnRpdHl9IGNyZWRpdHMuYCxcbiAgICB7XG4gICAgICBpdGVtX2lkOiBpdGVtSWQsXG4gICAgICBjdXN0b21lcl9pZDogY3VzdG9tZXJJZCxcbiAgICAgIHF1YW50aXR5XG4gICAgfVxuICBdLFxuICAoanNvbikgPT4gW2pzb24uaXRlbV9pZCwganNvbi5jdXN0b21lcl9pZCwganNvbi5xdWFudGl0eV1cbik7XG52YXIgU3RyaXBlQWNjb3VudEluZm9Ob3RGb3VuZCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJTVFJJUEVfQUNDT1VOVF9JTkZPX05PVF9GT1VORFwiLFxuICAoKSA9PiBbXG4gICAgNDA0LFxuICAgIFwiU3RyaXBlIGFjY291bnQgaW5mb3JtYXRpb24gbm90IGZvdW5kLiBQbGVhc2UgbWFrZSBzdXJlIHRoZSB1c2VyIGhhcyBvbmJvYXJkZWQgd2l0aCBTdHJpcGUuXCJcbiAgXSxcbiAgKCkgPT4gW11cbik7XG52YXIgV29ya2Zsb3dUb2tlbkRvZXNOb3RFeGlzdCA9IGNyZWF0ZUtub3duRXJyb3JDb25zdHJ1Y3RvcihcbiAgS25vd25FcnJvcixcbiAgXCJXT1JLRkxPV19UT0tFTl9ET0VTX05PVF9FWElTVFwiLFxuICAoKSA9PiBbXG4gICAgNDAwLFxuICAgIFwiVGhlIHdvcmtmbG93IHRva2VuIHlvdSBzcGVjaWZpZWQgZG9lcyBub3QgZXhpc3QuIE1ha2Ugc3VyZSB0aGUgdmFsdWUgaW4geC1zdGFjay13b3JrZmxvdy10b2tlbiBpcyBjb3JyZWN0LlwiXG4gIF0sXG4gICgpID0+IFtdXG4pO1xudmFyIFdvcmtmbG93VG9rZW5FeHBpcmVkID0gY3JlYXRlS25vd25FcnJvckNvbnN0cnVjdG9yKFxuICBLbm93bkVycm9yLFxuICBcIldPUktGTE9XX1RPS0VOX0VYUElSRURcIixcbiAgKCkgPT4gW1xuICAgIDQwMCxcbiAgICBcIlRoZSB3b3JrZmxvdyB0b2tlbiB5b3Ugc3BlY2lmaWVkIGhhcyBleHBpcmVkLiBNYWtlIHN1cmUgdGhlIHZhbHVlIGluIHgtc3RhY2std29ya2Zsb3ctdG9rZW4gaXMgY29ycmVjdC5cIlxuICBdLFxuICAoKSA9PiBbXVxuKTtcbnZhciBLbm93bkVycm9ycyA9IHtcbiAgQ2Fubm90RGVsZXRlQ3VycmVudFNlc3Npb24sXG4gIFVuc3VwcG9ydGVkRXJyb3IsXG4gIEJvZHlQYXJzaW5nRXJyb3IsXG4gIFNjaGVtYUVycm9yLFxuICBBbGxPdmVybG9hZHNGYWlsZWQsXG4gIFByb2plY3RBdXRoZW50aWNhdGlvbkVycm9yLFxuICBQZXJtaXNzaW9uSWRBbHJlYWR5RXhpc3RzLFxuICBDbGlBdXRoRXJyb3IsXG4gIENsaUF1dGhFeHBpcmVkRXJyb3IsXG4gIENsaUF1dGhVc2VkRXJyb3IsXG4gIEludmFsaWRQcm9qZWN0QXV0aGVudGljYXRpb24sXG4gIFByb2plY3RLZXlXaXRob3V0QWNjZXNzVHlwZSxcbiAgSW52YWxpZEFjY2Vzc1R5cGUsXG4gIEFjY2Vzc1R5cGVXaXRob3V0UHJvamVjdElkLFxuICBBY2Nlc3NUeXBlUmVxdWlyZWQsXG4gIENhbm5vdEdldE93blVzZXJXaXRob3V0VXNlcixcbiAgSW5zdWZmaWNpZW50QWNjZXNzVHlwZSxcbiAgSW52YWxpZFB1Ymxpc2hhYmxlQ2xpZW50S2V5LFxuICBJbnZhbGlkU2VjcmV0U2VydmVyS2V5LFxuICBJbnZhbGlkU3VwZXJTZWNyZXRBZG1pbktleSxcbiAgSW52YWxpZEFkbWluQWNjZXNzVG9rZW4sXG4gIFVucGFyc2FibGVBZG1pbkFjY2Vzc1Rva2VuLFxuICBBZG1pbkFjY2Vzc1Rva2VuRXhwaXJlZCxcbiAgSW52YWxpZFByb2plY3RGb3JBZG1pbkFjY2Vzc1Rva2VuLFxuICBBZG1pbkFjY2Vzc1Rva2VuSXNOb3RBZG1pbixcbiAgUHJvamVjdEF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIENsaWVudEF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIFNlcnZlckF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIENsaWVudE9yU2VydmVyQXV0aGVudGljYXRpb25SZXF1aXJlZCxcbiAgQ2xpZW50T3JBZG1pbkF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIENsaWVudE9yU2VydmVyT3JBZG1pbkF1dGhlbnRpY2F0aW9uUmVxdWlyZWQsXG4gIEFkbWluQXV0aGVudGljYXRpb25SZXF1aXJlZCxcbiAgRXhwZWN0ZWRJbnRlcm5hbFByb2plY3QsXG4gIFNlc3Npb25BdXRoZW50aWNhdGlvbkVycm9yLFxuICBJbnZhbGlkU2Vzc2lvbkF1dGhlbnRpY2F0aW9uLFxuICBJbnZhbGlkQWNjZXNzVG9rZW4sXG4gIFVucGFyc2FibGVBY2Nlc3NUb2tlbixcbiAgQWNjZXNzVG9rZW5FeHBpcmVkLFxuICBJbnZhbGlkUHJvamVjdEZvckFjY2Vzc1Rva2VuLFxuICBSZWZyZXNoVG9rZW5FcnJvcixcbiAgUHJvdmlkZXJSZWplY3RlZCxcbiAgUmVmcmVzaFRva2VuTm90Rm91bmRPckV4cGlyZWQsXG4gIFVzZXJXaXRoRW1haWxBbHJlYWR5RXhpc3RzLFxuICBFbWFpbE5vdFZlcmlmaWVkLFxuICBVc2VySWREb2VzTm90RXhpc3QsXG4gIFVzZXJOb3RGb3VuZCxcbiAgQXBpS2V5Tm90Rm91bmQsXG4gIFB1YmxpY0FwaUtleUNhbm5vdEJlUmV2b2tlZCxcbiAgUHJvamVjdE5vdEZvdW5kLFxuICBDdXJyZW50UHJvamVjdE5vdEZvdW5kLFxuICBCcmFuY2hEb2VzTm90RXhpc3QsXG4gIFNpZ25VcE5vdEVuYWJsZWQsXG4gIFBhc3N3b3JkQXV0aGVudGljYXRpb25Ob3RFbmFibGVkLFxuICBQYXNza2V5QXV0aGVudGljYXRpb25Ob3RFbmFibGVkLFxuICBBbm9ueW1vdXNBY2NvdW50c05vdEVuYWJsZWQsXG4gIEFub255bW91c0F1dGhlbnRpY2F0aW9uTm90QWxsb3dlZCxcbiAgRW1haWxQYXNzd29yZE1pc21hdGNoLFxuICBSZWRpcmVjdFVybE5vdFdoaXRlbGlzdGVkLFxuICBQYXNzd29yZFJlcXVpcmVtZW50c05vdE1ldCxcbiAgUGFzc3dvcmRUb29TaG9ydCxcbiAgUGFzc3dvcmRUb29Mb25nLFxuICBVc2VyRG9lc05vdEhhdmVQYXNzd29yZCxcbiAgVmVyaWZpY2F0aW9uQ29kZUVycm9yLFxuICBWZXJpZmljYXRpb25Db2RlTm90Rm91bmQsXG4gIFZlcmlmaWNhdGlvbkNvZGVFeHBpcmVkLFxuICBWZXJpZmljYXRpb25Db2RlQWxyZWFkeVVzZWQsXG4gIFZlcmlmaWNhdGlvbkNvZGVNYXhBdHRlbXB0c1JlYWNoZWQsXG4gIFBhc3N3b3JkQ29uZmlybWF0aW9uTWlzbWF0Y2gsXG4gIEVtYWlsQWxyZWFkeVZlcmlmaWVkLFxuICBFbWFpbE5vdEFzc29jaWF0ZWRXaXRoVXNlcixcbiAgRW1haWxJc05vdFByaW1hcnlFbWFpbCxcbiAgUGFzc2tleVJlZ2lzdHJhdGlvbkZhaWxlZCxcbiAgUGFzc2tleVdlYkF1dGhuRXJyb3IsXG4gIFBhc3NrZXlBdXRoZW50aWNhdGlvbkZhaWxlZCxcbiAgUGVybWlzc2lvbk5vdEZvdW5kLFxuICBQZXJtaXNzaW9uU2NvcGVNaXNtYXRjaCxcbiAgQ29udGFpbmVkUGVybWlzc2lvbk5vdEZvdW5kLFxuICBUZWFtTm90Rm91bmQsXG4gIFRlYW1NZW1iZXJzaGlwTm90Rm91bmQsXG4gIEVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzLFxuICBPQXV0aENvbm5lY3Rpb25Ob3RDb25uZWN0ZWRUb1VzZXIsXG4gIE9BdXRoQ29ubmVjdGlvbkFscmVhZHlDb25uZWN0ZWRUb0Fub3RoZXJVc2VyLFxuICBPQXV0aENvbm5lY3Rpb25Eb2VzTm90SGF2ZVJlcXVpcmVkU2NvcGUsXG4gIE9BdXRoRXh0cmFTY29wZU5vdEF2YWlsYWJsZVdpdGhTaGFyZWRPQXV0aEtleXMsXG4gIE9BdXRoQWNjZXNzVG9rZW5Ob3RBdmFpbGFibGVXaXRoU2hhcmVkT0F1dGhLZXlzLFxuICBJbnZhbGlkT0F1dGhDbGllbnRJZE9yU2VjcmV0LFxuICBJbnZhbGlkU2NvcGUsXG4gIFVzZXJBbHJlYWR5Q29ubmVjdGVkVG9Bbm90aGVyT0F1dGhDb25uZWN0aW9uLFxuICBPdXRlck9BdXRoVGltZW91dCxcbiAgT0F1dGhQcm92aWRlck5vdEZvdW5kT3JOb3RFbmFibGVkLFxuICBPQXV0aFByb3ZpZGVyQWNjb3VudElkQWxyZWFkeVVzZWRGb3JTaWduSW4sXG4gIE11bHRpRmFjdG9yQXV0aGVudGljYXRpb25SZXF1aXJlZCxcbiAgSW52YWxpZFRvdHBDb2RlLFxuICBVc2VyQXV0aGVudGljYXRpb25SZXF1aXJlZCxcbiAgVGVhbU1lbWJlcnNoaXBBbHJlYWR5RXhpc3RzLFxuICBQcm9qZWN0UGVybWlzc2lvblJlcXVpcmVkLFxuICBUZWFtUGVybWlzc2lvblJlcXVpcmVkLFxuICBJbnZhbGlkU2hhcmVkT0F1dGhQcm92aWRlcklkLFxuICBJbnZhbGlkU3RhbmRhcmRPQXV0aFByb3ZpZGVySWQsXG4gIEludmFsaWRBdXRob3JpemF0aW9uQ29kZSxcbiAgVGVhbVBlcm1pc3Npb25Ob3RGb3VuZCxcbiAgT0F1dGhQcm92aWRlckFjY2Vzc0RlbmllZCxcbiAgQ29udGFjdENoYW5uZWxBbHJlYWR5VXNlZEZvckF1dGhCeVNvbWVvbmVFbHNlLFxuICBJbnZhbGlkUG9sbGluZ0NvZGVFcnJvcixcbiAgQXBpS2V5Tm90VmFsaWQsXG4gIEFwaUtleUV4cGlyZWQsXG4gIEFwaUtleVJldm9rZWQsXG4gIFdyb25nQXBpS2V5VHlwZSxcbiAgRW1haWxSZW5kZXJpbmdFcnJvcixcbiAgUmVxdWlyZXNDdXN0b21FbWFpbFNlcnZlcixcbiAgSXRlbU5vdEZvdW5kLFxuICBJdGVtQ3VzdG9tZXJUeXBlRG9lc05vdE1hdGNoLFxuICBDdXN0b21lckRvZXNOb3RFeGlzdCxcbiAgT2ZmZXJEb2VzTm90RXhpc3QsXG4gIE9mZmVyQ3VzdG9tZXJUeXBlRG9lc05vdE1hdGNoLFxuICBJdGVtUXVhbnRpdHlJbnN1ZmZpY2llbnRBbW91bnQsXG4gIFN0cmlwZUFjY291bnRJbmZvTm90Rm91bmQsXG4gIERhdGFWYXVsdFN0b3JlRG9lc05vdEV4aXN0LFxuICBEYXRhVmF1bHRTdG9yZUhhc2hlZEtleURvZXNOb3RFeGlzdCxcbiAgV29ya2Zsb3dUb2tlbkRvZXNOb3RFeGlzdCxcbiAgV29ya2Zsb3dUb2tlbkV4cGlyZWRcbn07XG52YXIga25vd25FcnJvckNvZGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbmZvciAoY29uc3QgW18sIEtub3duRXJyb3IyXSBvZiBPYmplY3QuZW50cmllcyhLbm93bkVycm9ycykpIHtcbiAgaWYgKGtub3duRXJyb3JDb2Rlcy5oYXMoS25vd25FcnJvcjIuZXJyb3JDb2RlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIGtub3duIGVycm9yIGNvZGU6ICR7S25vd25FcnJvcjIuZXJyb3JDb2RlfWApO1xuICB9XG4gIGtub3duRXJyb3JDb2Rlcy5hZGQoS25vd25FcnJvcjIuZXJyb3JDb2RlKTtcbn1cbmV4cG9ydCB7XG4gIEtub3duRXJyb3IsXG4gIEtub3duRXJyb3JzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a25vd24tZXJyb3JzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/schema-fields.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/schema-fields.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReplaceFieldWithOwnUserId: () => (/* binding */ ReplaceFieldWithOwnUserId),\n/* harmony export */   accessTokenPayloadSchema: () => (/* binding */ accessTokenPayloadSchema),\n/* harmony export */   accessTokenResponseSchema: () => (/* binding */ accessTokenResponseSchema),\n/* harmony export */   adaptSchema: () => (/* binding */ adaptSchema),\n/* harmony export */   adminAuthTypeSchema: () => (/* binding */ adminAuthTypeSchema),\n/* harmony export */   base64Schema: () => (/* binding */ base64Schema),\n/* harmony export */   basicAuthorizationHeaderSchema: () => (/* binding */ basicAuthorizationHeaderSchema),\n/* harmony export */   clientOrHigherAuthTypeSchema: () => (/* binding */ clientOrHigherAuthTypeSchema),\n/* harmony export */   contactChannelIdSchema: () => (/* binding */ contactChannelIdSchema),\n/* harmony export */   contactChannelIsPrimarySchema: () => (/* binding */ contactChannelIsPrimarySchema),\n/* harmony export */   contactChannelIsVerifiedSchema: () => (/* binding */ contactChannelIsVerifiedSchema),\n/* harmony export */   contactChannelTypeSchema: () => (/* binding */ contactChannelTypeSchema),\n/* harmony export */   contactChannelUsedForAuthSchema: () => (/* binding */ contactChannelUsedForAuthSchema),\n/* harmony export */   contactChannelValueSchema: () => (/* binding */ contactChannelValueSchema),\n/* harmony export */   containedPermissionIdsSchema: () => (/* binding */ containedPermissionIdsSchema),\n/* harmony export */   customPermissionDefinitionIdSchema: () => (/* binding */ customPermissionDefinitionIdSchema),\n/* harmony export */   customerTypeSchema: () => (/* binding */ customerTypeSchema),\n/* harmony export */   dayIntervalOrNeverSchema: () => (/* binding */ dayIntervalOrNeverSchema),\n/* harmony export */   dayIntervalSchema: () => (/* binding */ dayIntervalSchema),\n/* harmony export */   emailHostSchema: () => (/* binding */ emailHostSchema),\n/* harmony export */   emailOtpSignInCallbackUrlSchema: () => (/* binding */ emailOtpSignInCallbackUrlSchema),\n/* harmony export */   emailPasswordSchema: () => (/* binding */ emailPasswordSchema),\n/* harmony export */   emailPortSchema: () => (/* binding */ emailPortSchema),\n/* harmony export */   emailSchema: () => (/* binding */ emailSchema),\n/* harmony export */   emailSenderEmailSchema: () => (/* binding */ emailSenderEmailSchema),\n/* harmony export */   emailSenderNameSchema: () => (/* binding */ emailSenderNameSchema),\n/* harmony export */   emailTemplateListSchema: () => (/* binding */ emailTemplateListSchema),\n/* harmony export */   emailThemeListSchema: () => (/* binding */ emailThemeListSchema),\n/* harmony export */   emailThemeSchema: () => (/* binding */ emailThemeSchema),\n/* harmony export */   emailTypeSchema: () => (/* binding */ emailTypeSchema),\n/* harmony export */   emailUsernameSchema: () => (/* binding */ emailUsernameSchema),\n/* harmony export */   emailVerificationCallbackUrlSchema: () => (/* binding */ emailVerificationCallbackUrlSchema),\n/* harmony export */   ensureObjectSchema: () => (/* binding */ ensureObjectSchema),\n/* harmony export */   handlerPathSchema: () => (/* binding */ handlerPathSchema),\n/* harmony export */   inlineOfferSchema: () => (/* binding */ inlineOfferSchema),\n/* harmony export */   intervalOrNeverSchema: () => (/* binding */ intervalOrNeverSchema),\n/* harmony export */   intervalSchema: () => (/* binding */ intervalSchema),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   jsonStringOrEmptySchema: () => (/* binding */ jsonStringOrEmptySchema),\n/* harmony export */   jsonStringSchema: () => (/* binding */ jsonStringSchema),\n/* harmony export */   moneyAmountSchema: () => (/* binding */ moneyAmountSchema),\n/* harmony export */   neonAuthorizationHeaderSchema: () => (/* binding */ neonAuthorizationHeaderSchema),\n/* harmony export */   oauthAccountMergeStrategySchema: () => (/* binding */ oauthAccountMergeStrategySchema),\n/* harmony export */   oauthClientIdSchema: () => (/* binding */ oauthClientIdSchema),\n/* harmony export */   oauthClientSecretSchema: () => (/* binding */ oauthClientSecretSchema),\n/* harmony export */   oauthEnabledSchema: () => (/* binding */ oauthEnabledSchema),\n/* harmony export */   oauthFacebookConfigIdSchema: () => (/* binding */ oauthFacebookConfigIdSchema),\n/* harmony export */   oauthIdSchema: () => (/* binding */ oauthIdSchema),\n/* harmony export */   oauthMicrosoftTenantIdSchema: () => (/* binding */ oauthMicrosoftTenantIdSchema),\n/* harmony export */   oauthProviderAccountIdSchema: () => (/* binding */ oauthProviderAccountIdSchema),\n/* harmony export */   oauthProviderAllowConnectedAccountsSchema: () => (/* binding */ oauthProviderAllowConnectedAccountsSchema),\n/* harmony export */   oauthProviderAllowSignInSchema: () => (/* binding */ oauthProviderAllowSignInSchema),\n/* harmony export */   oauthProviderEmailSchema: () => (/* binding */ oauthProviderEmailSchema),\n/* harmony export */   oauthProviderIdSchema: () => (/* binding */ oauthProviderIdSchema),\n/* harmony export */   oauthProviderProviderConfigIdSchema: () => (/* binding */ oauthProviderProviderConfigIdSchema),\n/* harmony export */   oauthProviderTypeSchema: () => (/* binding */ oauthProviderTypeSchema),\n/* harmony export */   oauthTypeSchema: () => (/* binding */ oauthTypeSchema),\n/* harmony export */   offerPriceSchema: () => (/* binding */ offerPriceSchema),\n/* harmony export */   offerSchema: () => (/* binding */ offerSchema),\n/* harmony export */   passwordSchema: () => (/* binding */ passwordSchema),\n/* harmony export */   permissionDefinitionIdSchema: () => (/* binding */ permissionDefinitionIdSchema),\n/* harmony export */   priceOrIncludeByDefaultSchema: () => (/* binding */ priceOrIncludeByDefaultSchema),\n/* harmony export */   primaryEmailAuthEnabledSchema: () => (/* binding */ primaryEmailAuthEnabledSchema),\n/* harmony export */   primaryEmailSchema: () => (/* binding */ primaryEmailSchema),\n/* harmony export */   primaryEmailVerifiedSchema: () => (/* binding */ primaryEmailVerifiedSchema),\n/* harmony export */   profileImageUrlSchema: () => (/* binding */ profileImageUrlSchema),\n/* harmony export */   projectAllowLocalhostSchema: () => (/* binding */ projectAllowLocalhostSchema),\n/* harmony export */   projectBranchIdSchema: () => (/* binding */ projectBranchIdSchema),\n/* harmony export */   projectClientTeamCreationEnabledSchema: () => (/* binding */ projectClientTeamCreationEnabledSchema),\n/* harmony export */   projectClientUserDeletionEnabledSchema: () => (/* binding */ projectClientUserDeletionEnabledSchema),\n/* harmony export */   projectConfigIdSchema: () => (/* binding */ projectConfigIdSchema),\n/* harmony export */   projectCreateTeamOnSignUpSchema: () => (/* binding */ projectCreateTeamOnSignUpSchema),\n/* harmony export */   projectCreatedAtMillisSchema: () => (/* binding */ projectCreatedAtMillisSchema),\n/* harmony export */   projectCredentialEnabledSchema: () => (/* binding */ projectCredentialEnabledSchema),\n/* harmony export */   projectDescriptionSchema: () => (/* binding */ projectDescriptionSchema),\n/* harmony export */   projectDisplayNameSchema: () => (/* binding */ projectDisplayNameSchema),\n/* harmony export */   projectFullLogoUrlSchema: () => (/* binding */ projectFullLogoUrlSchema),\n/* harmony export */   projectIdSchema: () => (/* binding */ projectIdSchema),\n/* harmony export */   projectIsProductionModeSchema: () => (/* binding */ projectIsProductionModeSchema),\n/* harmony export */   projectLogoUrlSchema: () => (/* binding */ projectLogoUrlSchema),\n/* harmony export */   projectMagicLinkEnabledSchema: () => (/* binding */ projectMagicLinkEnabledSchema),\n/* harmony export */   projectPasskeyEnabledSchema: () => (/* binding */ projectPasskeyEnabledSchema),\n/* harmony export */   projectSignUpEnabledSchema: () => (/* binding */ projectSignUpEnabledSchema),\n/* harmony export */   refreshTokenResponseSchema: () => (/* binding */ refreshTokenResponseSchema),\n/* harmony export */   selectedTeamIdSchema: () => (/* binding */ selectedTeamIdSchema),\n/* harmony export */   serverOrHigherAuthTypeSchema: () => (/* binding */ serverOrHigherAuthTypeSchema),\n/* harmony export */   signInEmailSchema: () => (/* binding */ signInEmailSchema),\n/* harmony export */   signInResponseSchema: () => (/* binding */ signInResponseSchema),\n/* harmony export */   signedUpAtMillisSchema: () => (/* binding */ signedUpAtMillisSchema),\n/* harmony export */   strictEmailSchema: () => (/* binding */ strictEmailSchema),\n/* harmony export */   teamClientMetadataSchema: () => (/* binding */ teamClientMetadataSchema),\n/* harmony export */   teamClientReadOnlyMetadataSchema: () => (/* binding */ teamClientReadOnlyMetadataSchema),\n/* harmony export */   teamCreatedAtMillisSchema: () => (/* binding */ teamCreatedAtMillisSchema),\n/* harmony export */   teamCreatorUserIdSchema: () => (/* binding */ teamCreatorUserIdSchema),\n/* harmony export */   teamDisplayNameSchema: () => (/* binding */ teamDisplayNameSchema),\n/* harmony export */   teamIdSchema: () => (/* binding */ teamIdSchema),\n/* harmony export */   teamInvitationCallbackUrlSchema: () => (/* binding */ teamInvitationCallbackUrlSchema),\n/* harmony export */   teamInvitationEmailSchema: () => (/* binding */ teamInvitationEmailSchema),\n/* harmony export */   teamMemberDisplayNameSchema: () => (/* binding */ teamMemberDisplayNameSchema),\n/* harmony export */   teamMemberProfileImageUrlSchema: () => (/* binding */ teamMemberProfileImageUrlSchema),\n/* harmony export */   teamPermissionDescriptionSchema: () => (/* binding */ teamPermissionDescriptionSchema),\n/* harmony export */   teamProfileImageUrlSchema: () => (/* binding */ teamProfileImageUrlSchema),\n/* harmony export */   teamServerMetadataSchema: () => (/* binding */ teamServerMetadataSchema),\n/* harmony export */   teamSystemPermissions: () => (/* binding */ teamSystemPermissions),\n/* harmony export */   templateThemeIdSchema: () => (/* binding */ templateThemeIdSchema),\n/* harmony export */   urlSchema: () => (/* binding */ urlSchema),\n/* harmony export */   userClientMetadataSchema: () => (/* binding */ userClientMetadataSchema),\n/* harmony export */   userClientReadOnlyMetadataSchema: () => (/* binding */ userClientReadOnlyMetadataSchema),\n/* harmony export */   userDisplayNameSchema: () => (/* binding */ userDisplayNameSchema),\n/* harmony export */   userHasPasswordSchema: () => (/* binding */ userHasPasswordSchema),\n/* harmony export */   userIdOrMeSchema: () => (/* binding */ userIdOrMeSchema),\n/* harmony export */   userIdSchema: () => (/* binding */ userIdSchema),\n/* harmony export */   userLastActiveAtMillisSchema: () => (/* binding */ userLastActiveAtMillisSchema),\n/* harmony export */   userOAuthProviderSchema: () => (/* binding */ userOAuthProviderSchema),\n/* harmony export */   userOtpAuthEnabledMutationSchema: () => (/* binding */ userOtpAuthEnabledMutationSchema),\n/* harmony export */   userOtpAuthEnabledSchema: () => (/* binding */ userOtpAuthEnabledSchema),\n/* harmony export */   userPasskeyAuthEnabledSchema: () => (/* binding */ userPasskeyAuthEnabledSchema),\n/* harmony export */   userPasswordHashMutationSchema: () => (/* binding */ userPasswordHashMutationSchema),\n/* harmony export */   userPasswordMutationSchema: () => (/* binding */ userPasswordMutationSchema),\n/* harmony export */   userServerMetadataSchema: () => (/* binding */ userServerMetadataSchema),\n/* harmony export */   userSpecifiedIdSchema: () => (/* binding */ userSpecifiedIdSchema),\n/* harmony export */   userTotpSecretMutationSchema: () => (/* binding */ userTotpSecretMutationSchema),\n/* harmony export */   wildcardUrlSchema: () => (/* binding */ wildcardUrlSchema),\n/* harmony export */   yupArray: () => (/* binding */ yupArray),\n/* harmony export */   yupBoolean: () => (/* binding */ yupBoolean),\n/* harmony export */   yupDate: () => (/* binding */ yupDate),\n/* harmony export */   yupDefinedAndNonEmptyWhen: () => (/* binding */ yupDefinedAndNonEmptyWhen),\n/* harmony export */   yupDefinedWhen: () => (/* binding */ yupDefinedWhen),\n/* harmony export */   yupMixed: () => (/* binding */ yupMixed),\n/* harmony export */   yupNever: () => (/* binding */ yupNever),\n/* harmony export */   yupNumber: () => (/* binding */ yupNumber),\n/* harmony export */   yupObject: () => (/* binding */ yupObject),\n/* harmony export */   yupObjectWithAutoDefault: () => (/* binding */ yupObjectWithAutoDefault),\n/* harmony export */   yupRecord: () => (/* binding */ yupRecord),\n/* harmony export */   yupString: () => (/* binding */ yupString),\n/* harmony export */   yupTuple: () => (/* binding */ yupTuple),\n/* harmony export */   yupUnion: () => (/* binding */ yupUnion),\n/* harmony export */   yupValidate: () => (/* binding */ yupValidate)\n/* harmony export */ });\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! yup */ \"(app-pages-browser)/./node_modules/yup/index.esm.js\");\n/* harmony import */ var _known_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./known-errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/known-errors.js\");\n/* harmony import */ var _utils_bytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/bytes.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js\");\n/* harmony import */ var _utils_currency_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/currency-constants.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/currency-constants.js\");\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _utils_http_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/http.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/http.js\");\n/* harmony import */ var _utils_oauth_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/oauth.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/oauth.js\");\n/* harmony import */ var _utils_objects_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/objects.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _utils_strings_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* harmony import */ var _utils_urls_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/urls.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js\");\n/* harmony import */ var _utils_uuids_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/uuids.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// src/schema-fields.ts\n\n\n\n\n\n\n\n\n\n\n\nvar MAX_IMAGE_SIZE_BASE64_BYTES = 1e6;\nyup__WEBPACK_IMPORTED_MODULE_0__.addMethod(yup__WEBPACK_IMPORTED_MODULE_0__.string, \"nonEmpty\", function(message) {\n  return this.test(\n    \"non-empty\",\n    message ?? (({ path }) => `${path} must not be empty`),\n    (value) => {\n      return value !== \"\";\n    }\n  );\n});\nyup__WEBPACK_IMPORTED_MODULE_0__.addMethod(yup__WEBPACK_IMPORTED_MODULE_0__.Schema, \"hasNested\", function(path) {\n  if (!path.match(/^[a-zA-Z0-9_$:-]+$/)) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(`yupSchema.hasNested can currently only be used with alphanumeric keys, underscores, dollar signs, colons, and hyphens. Fix this in the future. Provided key: ${JSON.stringify(path)}`);\n  const schemaInfo = this.meta()?.stackSchemaInfo;\n  if (schemaInfo?.type === \"record\") {\n    return schemaInfo.keySchema.isValidSync(path);\n  } else if (schemaInfo?.type === \"union\") {\n    return schemaInfo.items.some((s) => s.hasNested(path));\n  } else {\n    try {\n      yup__WEBPACK_IMPORTED_MODULE_0__.reach(this, path);\n      return true;\n    } catch (e) {\n      if (e instanceof Error && e.message.includes(\"The schema does not contain the path\")) {\n        return false;\n      }\n      throw e;\n    }\n  }\n});\nyup__WEBPACK_IMPORTED_MODULE_0__.addMethod(yup__WEBPACK_IMPORTED_MODULE_0__.Schema, \"getNested\", function(path) {\n  if (!path.match(/^[a-zA-Z0-9_$:-]+$/)) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(`yupSchema.getNested can currently only be used with alphanumeric keys, underscores, dollar signs, colons, and hyphens. Fix this in the future. Provided key: ${path}`);\n  if (!this.hasNested(path)) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(`Tried to call yupSchema.getNested, but key is not present in the schema. Provided key: ${path}`, { path, schema: this });\n  const schemaInfo = this.meta()?.stackSchemaInfo;\n  if (schemaInfo?.type === \"record\") {\n    return schemaInfo.valueSchema;\n  } else if (schemaInfo?.type === \"union\") {\n    const schemasWithNested = schemaInfo.items.filter((s) => s.hasNested(path));\n    return yupUnion(...schemasWithNested.map((s) => s.getNested(path)));\n  } else {\n    return yup__WEBPACK_IMPORTED_MODULE_0__.reach(this, path);\n  }\n});\nasync function yupValidate(schema, obj, options) {\n  try {\n    return await schema.validate(obj, {\n      ...(0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_7__.omit)(options ?? {}, [\"currentUserId\"]),\n      context: {\n        ...options?.context,\n        stackAllowUserIdMe: options?.currentUserId !== void 0\n      }\n    });\n  } catch (error) {\n    if (error instanceof ReplaceFieldWithOwnUserId) {\n      const currentUserId = options?.currentUserId;\n      if (!currentUserId) throw new _known_errors_js__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CannotGetOwnUserWithoutUser();\n      let pathRemaining = error.path;\n      const fieldPath = [];\n      while (pathRemaining.length > 0) {\n        if (pathRemaining.startsWith(\"[\")) {\n          const index = pathRemaining.indexOf(\"]\");\n          if (index < 0) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(\"Invalid path\");\n          fieldPath.push(JSON.parse(pathRemaining.slice(1, index)));\n          pathRemaining = pathRemaining.slice(index + 1);\n        } else {\n          let dotIndex = pathRemaining.indexOf(\".\");\n          if (dotIndex === -1) dotIndex = pathRemaining.length;\n          fieldPath.push(pathRemaining.slice(0, dotIndex));\n          pathRemaining = pathRemaining.slice(dotIndex + 1);\n        }\n      }\n      const newObj = (0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_7__.deepPlainClone)(obj);\n      let it = newObj;\n      for (const field of fieldPath.slice(0, -1)) {\n        if (!Object.prototype.hasOwnProperty.call(it, field)) {\n          throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(`Segment ${field} of path ${error.path} not found in object`);\n        }\n        it = it[field];\n      }\n      it[fieldPath[fieldPath.length - 1]] = currentUserId;\n      return await yupValidate(schema, newObj, options);\n    }\n    throw error;\n  }\n}\nvar _idDescription = (identify) => `The unique identifier of the ${identify}`;\nvar _displayNameDescription = (identify) => `Human-readable ${identify} display name. This is not a unique identifier.`;\nvar _clientMetaDataDescription = (identify) => `Client metadata. Used as a data store, accessible from the client side. Do not store information that should not be exposed to the client.`;\nvar _clientReadOnlyMetaDataDescription = (identify) => `Client read-only, server-writable metadata. Used as a data store, accessible from the client side. Do not store information that should not be exposed to the client. The client can read this data, but cannot modify it. This is useful for things like subscription status.`;\nvar _profileImageUrlDescription = (identify) => `URL of the profile image for ${identify}. Can be a Base64 encoded image. Must be smaller than 100KB. Please compress and crop to a square before passing in.`;\nvar _serverMetaDataDescription = (identify) => `Server metadata. Used as a data store, only accessible from the server side. You can store secret information related to the ${identify} here.`;\nvar _atMillisDescription = (identify) => `(the number of milliseconds since epoch, January 1, 1970, UTC)`;\nvar _createdAtMillisDescription = (identify) => `The time the ${identify} was created ${_atMillisDescription(identify)}`;\nvar _signedUpAtMillisDescription = `The time the user signed up ${_atMillisDescription}`;\nvar _lastActiveAtMillisDescription = `The time the user was last active ${_atMillisDescription}`;\nfunction yupString(...args) {\n  return yup__WEBPACK_IMPORTED_MODULE_0__.string(...args).meta({ stackSchemaInfo: { type: \"string\" } });\n}\nfunction yupNumber(...args) {\n  return yup__WEBPACK_IMPORTED_MODULE_0__.number(...args).meta({ stackSchemaInfo: { type: \"number\" } });\n}\nfunction yupBoolean(...args) {\n  return yup__WEBPACK_IMPORTED_MODULE_0__.boolean(...args).meta({ stackSchemaInfo: { type: \"boolean\" } });\n}\nfunction yupDate(...args) {\n  return yup__WEBPACK_IMPORTED_MODULE_0__.date(...args).meta({ stackSchemaInfo: { type: \"date\" } });\n}\nfunction _yupMixedInternal(...args) {\n  return yup__WEBPACK_IMPORTED_MODULE_0__.mixed(...args);\n}\nfunction yupMixed(...args) {\n  return _yupMixedInternal(...args).meta({ stackSchemaInfo: { type: \"mixed\" } });\n}\nfunction yupArray(...args) {\n  return yup__WEBPACK_IMPORTED_MODULE_0__.array(...args).meta({ stackSchemaInfo: { type: \"array\" } });\n}\nfunction yupTuple(schemas) {\n  if (schemas.length === 0) throw new Error(\"yupTuple must have at least one schema\");\n  return yup__WEBPACK_IMPORTED_MODULE_0__.tuple(schemas).meta({ stackSchemaInfo: { type: \"tuple\", items: schemas } });\n}\nfunction yupObjectWithAutoDefault(...args) {\n  const object2 = yup__WEBPACK_IMPORTED_MODULE_0__.object(...args).test(\n    \"no-unknown-object-properties\",\n    ({ path }) => `${path} contains unknown properties`,\n    (value, context) => {\n      if (context.options.context?.noUnknownPathPrefixes?.some((prefix) => context.path.startsWith(prefix))) {\n        if (context.schema.spec.noUnknown !== false) {\n          const availableKeys = new Set(Object.keys(context.schema.fields));\n          const unknownKeys = Object.keys(value ?? {}).filter((key) => !availableKeys.has(key));\n          if (unknownKeys.length > 0) {\n            return context.createError({\n              message: `${context.path || \"Object\"} contains unknown properties: ${unknownKeys.join(\", \")}`,\n              path: context.path,\n              params: { unknownKeys, availableKeys }\n            });\n          }\n        }\n      }\n      return true;\n    }\n  ).meta({ stackSchemaInfo: { type: \"object\" } });\n  return object2;\n}\nfunction yupObject(...args) {\n  const object2 = yupObjectWithAutoDefault(...args);\n  return object2.default(void 0);\n}\nfunction yupNever() {\n  return _yupMixedInternal().meta({ stackSchemaInfo: { type: \"never\" } }).test(\"never\", \"This value should never be reached\", () => false);\n}\nfunction yupUnion(...args) {\n  if (args.length === 0) throw new Error(\"yupUnion must have at least one schema\");\n  return _yupMixedInternal().meta({ stackSchemaInfo: { type: \"union\", items: args } }).test(\"is-one-of\", \"Invalid value\", async (value, context) => {\n    if (value == null) return true;\n    const errors = [];\n    for (const schema of args) {\n      try {\n        await yupValidate(schema, value, context.options);\n        return true;\n      } catch (e) {\n        errors.push(e);\n      }\n    }\n    return context.createError({\n      message: (0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_8__.deindent)`\n        ${context.path} is not matched by any of the provided schemas:\n          ${errors.map((e, i) => (0,_utils_strings_js__WEBPACK_IMPORTED_MODULE_8__.deindent)`\n            Schema ${i}:\n              ${e.errors.join(\"\\n\")}\n          `).join(\"\\n\")}`,\n      path: context.path\n    });\n  });\n}\nfunction yupRecord(keySchema, valueSchema) {\n  return yupObject().meta({ stackSchemaInfo: { type: \"record\", keySchema, valueSchema } }).unknown(true).test(\n    \"record\",\n    \"${path} must be a record of valid values\",\n    async function(value, context) {\n      if (value == null) return true;\n      const { path, createError } = this;\n      if (typeof value !== \"object\") {\n        return createError({ message: `${path} must be an object` });\n      }\n      for (const key of Object.keys(value)) {\n        await yupValidate(keySchema, key, context.options);\n        try {\n          await yupValidate(valueSchema, value[key], {\n            ...context.options,\n            context: {\n              ...context.options.context,\n              path: path ? `${path}.${key}` : key\n            }\n          });\n        } catch (e) {\n          return createError({\n            path: path ? `${path}.${key}` : key,\n            message: e.message\n          });\n        }\n      }\n      return true;\n    }\n  );\n}\nfunction ensureObjectSchema(schema) {\n  if (!(schema instanceof yup__WEBPACK_IMPORTED_MODULE_0__.ObjectSchema)) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(`assertObjectSchema: schema is not an ObjectSchema: ${schema.describe().type}`);\n  return schema;\n}\nvar adaptSchema = yupMixed();\nvar urlSchema = yupString().test({\n  name: \"no-spaces\",\n  message: (params) => `${params.path} contains spaces`,\n  test: (value) => value == null || !value.includes(\" \")\n}).test({\n  name: \"url\",\n  message: (params) => `${params.path} is not a valid URL`,\n  test: (value) => value == null || (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_9__.isValidUrl)(value)\n});\nvar wildcardUrlSchema = yupString().test({\n  name: \"no-spaces\",\n  message: (params) => `${params.path} contains spaces`,\n  test: (value) => value == null || !value.includes(\" \")\n}).test({\n  name: \"wildcard-url\",\n  message: (params) => `${params.path} is not a valid URL or wildcard URL pattern`,\n  test: (value) => {\n    if (value == null) return true;\n    if (!value.includes(\"*\")) {\n      return (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_9__.isValidUrl)(value);\n    }\n    try {\n      const PLACEHOLDER = \"wildcard-placeholder\";\n      const normalizedUrl = value.replace(/\\*/g, PLACEHOLDER);\n      const url = new URL(normalizedUrl);\n      if (url.username.includes(PLACEHOLDER) || url.password.includes(PLACEHOLDER) || url.pathname.includes(PLACEHOLDER) || url.search.includes(PLACEHOLDER) || url.hash.includes(PLACEHOLDER)) {\n        return false;\n      }\n      if (url.protocol !== \"http:\" && url.protocol !== \"https:\") {\n        return false;\n      }\n      const hostPattern = url.hostname.split(PLACEHOLDER).join(\"*\");\n      return (0,_utils_urls_js__WEBPACK_IMPORTED_MODULE_9__.isValidHostnameWithWildcards)(hostPattern);\n    } catch (e) {\n      return false;\n    }\n  }\n});\nvar jsonSchema = yupMixed().nullable().defined().transform((value) => JSON.parse(JSON.stringify(value)));\nvar jsonStringSchema = yupString().test(\"json\", (params) => `${params.path} is not valid JSON`, (value) => {\n  if (value == null) return true;\n  try {\n    JSON.parse(value);\n    return true;\n  } catch (error) {\n    return false;\n  }\n});\nvar jsonStringOrEmptySchema = yupString().test(\"json\", (params) => `${params.path} is not valid JSON`, (value) => {\n  if (!value) return true;\n  try {\n    JSON.parse(value);\n    return true;\n  } catch (error) {\n    return false;\n  }\n});\nvar base64Schema = yupString().test(\"is-base64\", (params) => `${params.path} is not valid base64`, (value) => {\n  if (value == null) return true;\n  return (0,_utils_bytes_js__WEBPACK_IMPORTED_MODULE_2__.isBase64)(value);\n});\nvar passwordSchema = yupString().max(70);\nvar intervalSchema = yupTuple([yupNumber().min(0).integer().defined(), yupString().oneOf([\"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\", \"month\", \"year\"]).defined()]);\nvar dayIntervalSchema = yupTuple([yupNumber().min(0).integer().defined(), yupString().oneOf([\"day\", \"week\", \"month\", \"year\"]).defined()]);\nvar intervalOrNeverSchema = yupUnion(intervalSchema.defined(), yupString().oneOf([\"never\"]).defined());\nvar dayIntervalOrNeverSchema = yupUnion(dayIntervalSchema.defined(), yupString().oneOf([\"never\"]).defined());\nvar userSpecifiedIdSchema = (idName) => yupString().max(63).matches(/^[a-zA-Z_][a-zA-Z0-9_-]*$/, `${idName} must start with a letter, underscore, or number, and contain only letters, numbers, underscores, and hyphens`);\nvar moneyAmountSchema = (currency) => yupString().test(\"money-amount\", \"Invalid money amount\", (value, context) => {\n  if (value == null) return true;\n  const regex = /^([0-9]+)(\\.([0-9]+))?$/;\n  const match = value.match(regex);\n  if (!match) return context.createError({ message: \"Money amount must be in the format of <number> or <number>.<number>\" });\n  const whole = match[1];\n  const decimals = match[3];\n  if (decimals && decimals.length > currency.decimals) return context.createError({ message: `Too many decimals; ${currency.code} only has ${currency.decimals} decimals` });\n  if (whole !== \"0\" && whole.startsWith(\"0\")) return context.createError({ message: \"Money amount must not have leading zeros\" });\n  return true;\n});\nvar strictEmailSchema = (message) => yupString().email(message).max(256).matches(/^[^.]+(\\.[^.]+)*@.*\\.[^.][^.]+$/, message);\nvar emailSchema = yupString().email();\nvar clientOrHigherAuthTypeSchema = yupString().oneOf([\"client\", \"server\", \"admin\"]).defined();\nvar serverOrHigherAuthTypeSchema = yupString().oneOf([\"server\", \"admin\"]).defined();\nvar adminAuthTypeSchema = yupString().oneOf([\"admin\"]).defined();\nvar projectIdSchema = yupString().test((v) => v === void 0 || v === \"internal\" || (0,_utils_uuids_js__WEBPACK_IMPORTED_MODULE_10__.isUuid)(v)).meta({ openapiField: { description: _idDescription(\"project\"), exampleValue: \"e0b52f4d-dece-408c-af49-d23061bb0f8d\" } });\nvar projectBranchIdSchema = yupString().nonEmpty().max(255).meta({ openapiField: { description: _idDescription(\"project branch\"), exampleValue: \"main\" } });\nvar projectDisplayNameSchema = yupString().meta({ openapiField: { description: _displayNameDescription(\"project\"), exampleValue: \"MyMusic\" } });\nvar projectLogoUrlSchema = urlSchema.max(MAX_IMAGE_SIZE_BASE64_BYTES).meta({ openapiField: { description: \"URL of the logo for the project. This is usually a close to 1:1 image of the company logo.\", exampleValue: \"https://example.com/logo.png\" } });\nvar projectFullLogoUrlSchema = urlSchema.max(MAX_IMAGE_SIZE_BASE64_BYTES).meta({ openapiField: { description: \"URL of the full logo for the project. This is usually a vertical image with the logo and the company name.\", exampleValue: \"https://example.com/full-logo.png\" } });\nvar projectDescriptionSchema = yupString().nullable().meta({ openapiField: { description: \"A human readable description of the project\", exampleValue: \"A music streaming service\" } });\nvar projectCreatedAtMillisSchema = yupNumber().meta({ openapiField: { description: _createdAtMillisDescription(\"project\"), exampleValue: 163e10 } });\nvar projectIsProductionModeSchema = yupBoolean().meta({ openapiField: { description: \"Whether the project is in production mode\", exampleValue: true } });\nvar projectConfigIdSchema = yupString().meta({ openapiField: { description: _idDescription(\"project config\"), exampleValue: \"d09201f0-54f5-40bd-89ff-6d1815ddad24\" } });\nvar projectAllowLocalhostSchema = yupBoolean().meta({ openapiField: { description: \"Whether localhost is allowed as a domain for this project. Should only be allowed in development mode\", exampleValue: true } });\nvar projectCreateTeamOnSignUpSchema = yupBoolean().meta({ openapiField: { description: \"Whether a team should be created for each user that signs up\", exampleValue: true } });\nvar projectMagicLinkEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether magic link authentication is enabled for this project\", exampleValue: true } });\nvar projectPasskeyEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether passkey authentication is enabled for this project\", exampleValue: true } });\nvar projectClientTeamCreationEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether client users can create teams\", exampleValue: true } });\nvar projectClientUserDeletionEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether client users can delete their own account from the client\", exampleValue: true } });\nvar projectSignUpEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether users can sign up new accounts, or whether they are only allowed to sign in to existing accounts. Regardless of this option, the server API can always create new users with the `POST /users` endpoint.\", exampleValue: true } });\nvar projectCredentialEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether email password authentication is enabled for this project\", exampleValue: true } });\nvar oauthIdSchema = yupString().oneOf(_utils_oauth_js__WEBPACK_IMPORTED_MODULE_6__.allProviders).meta({ openapiField: { description: `OAuth provider ID, one of ${_utils_oauth_js__WEBPACK_IMPORTED_MODULE_6__.allProviders.map((x) => `\\`${x}\\``).join(\", \")}`, exampleValue: \"google\" } });\nvar oauthEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether the OAuth provider is enabled. If an provider is first enabled, then disabled, it will be shown in the list but with enabled=false\", exampleValue: true } });\nvar oauthTypeSchema = yupString().oneOf([\"shared\", \"standard\"]).meta({ openapiField: { description: 'OAuth provider type, one of shared, standard. \"shared\" uses Stack shared OAuth keys and it is only meant for development. \"standard\" uses your own OAuth keys and will show your logo and company name when signing in with the provider.', exampleValue: \"standard\" } });\nvar oauthClientIdSchema = yupString().meta({ openapiField: { description: 'OAuth client ID. Needs to be specified when using type=\"standard\"', exampleValue: \"google-oauth-client-id\" } });\nvar oauthClientSecretSchema = yupString().meta({ openapiField: { description: 'OAuth client secret. Needs to be specified when using type=\"standard\"', exampleValue: \"google-oauth-client-secret\" } });\nvar oauthFacebookConfigIdSchema = yupString().meta({ openapiField: { description: \"The configuration id for Facebook business login (for things like ads and marketing). This is only required if you are using the standard OAuth with Facebook and you are using Facebook business login.\" } });\nvar oauthMicrosoftTenantIdSchema = yupString().meta({ openapiField: { description: \"The Microsoft tenant id for Microsoft directory. This is only required if you are using the standard OAuth with Microsoft and you have an Azure AD tenant.\" } });\nvar oauthAccountMergeStrategySchema = yupString().oneOf([\"link_method\", \"raise_error\", \"allow_duplicates\"]).meta({ openapiField: { description: \"Determines how to handle OAuth logins that match an existing user by email. `link_method` adds the OAuth method to the existing user. `raise_error` rejects the login with an error. `allow_duplicates` creates a new user.\", exampleValue: \"link_method\" } });\nvar emailTypeSchema = yupString().oneOf([\"shared\", \"standard\"]).meta({ openapiField: { description: 'Email provider type, one of shared, standard. \"shared\" uses Stack shared email provider and it is only meant for development. \"standard\" uses your own email server and will have your email address as the sender.', exampleValue: \"standard\" } });\nvar emailSenderNameSchema = yupString().meta({ openapiField: { description: 'Email sender name. Needs to be specified when using type=\"standard\"', exampleValue: \"Stack\" } });\nvar emailHostSchema = yupString().meta({ openapiField: { description: 'Email host. Needs to be specified when using type=\"standard\"', exampleValue: \"smtp.your-domain.com\" } });\nvar emailPortSchema = yupNumber().min(0).max(65535).meta({ openapiField: { description: 'Email port. Needs to be specified when using type=\"standard\"', exampleValue: 587 } });\nvar emailUsernameSchema = yupString().meta({ openapiField: { description: 'Email username. Needs to be specified when using type=\"standard\"', exampleValue: \"smtp-email\" } });\nvar emailSenderEmailSchema = emailSchema.meta({ openapiField: { description: 'Email sender email. Needs to be specified when using type=\"standard\"', exampleValue: \"example@your-domain.com\" } });\nvar emailPasswordSchema = passwordSchema.meta({ openapiField: { description: 'Email password. Needs to be specified when using type=\"standard\"', exampleValue: \"your-email-password\" } });\nvar handlerPathSchema = yupString().test(\"is-handler-path\", \"Handler path must start with /\", (value) => value?.startsWith(\"/\")).meta({ openapiField: { description: 'Handler path. If you did not setup a custom handler path, it should be \"/handler\" by default. It needs to start with /', exampleValue: \"/handler\" } });\nvar emailThemeSchema = yupString().meta({ openapiField: { description: \"Email theme id for the project. Determines the visual style of emails sent by the project.\" } });\nvar emailThemeListSchema = yupRecord(\n  yupString().uuid(),\n  yupObject({\n    displayName: yupString().meta({ openapiField: { description: \"Email theme name\", exampleValue: \"Default Light\" } }).defined(),\n    tsxSource: yupString().meta({ openapiField: { description: \"Email theme source code tsx component\" } }).defined()\n  })\n).meta({ openapiField: { description: \"Record of email theme IDs to their display name and source code\" } });\nvar templateThemeIdSchema = yupMixed().test((v) => v === void 0 || v === false || v === null || typeof v === \"string\" && (0,_utils_uuids_js__WEBPACK_IMPORTED_MODULE_10__.isUuid)(v)).meta({ openapiField: { description: \"Email theme id for the template\" } }).optional();\nvar emailTemplateListSchema = yupRecord(\n  yupString().uuid(),\n  yupObject({\n    displayName: yupString().meta({ openapiField: { description: \"Email template name\", exampleValue: \"Email Verification\" } }).defined(),\n    tsxSource: yupString().meta({ openapiField: { description: \"Email template source code tsx component\" } }).defined(),\n    // themeId can be one of three values:\n    // 1. A valid theme id\n    // 2. false, which means the template uses no theme\n    // 3. undefined/not given, which means the template uses the project's active theme\n    themeId: templateThemeIdSchema\n  })\n).meta({ openapiField: { description: \"Record of email template IDs to their display name and source code\" } });\nvar customerTypeSchema = yupString().oneOf([\"user\", \"team\", \"custom\"]);\nvar validateHasAtLeastOneSupportedCurrency = (value, context) => {\n  if (!value) return true;\n  const currencies = Object.keys(value).filter((key) => _utils_currency_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_CURRENCIES.some((c) => c.code === key));\n  if (currencies.length === 0) {\n    return context.createError({ message: \"At least one currency is required\" });\n  }\n  return true;\n};\nvar offerPriceSchema = yupObject({\n  ...(0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_7__.typedFromEntries)(_utils_currency_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_CURRENCIES.map((currency) => [currency.code, moneyAmountSchema(currency).optional()])),\n  interval: dayIntervalSchema.optional(),\n  serverOnly: yupBoolean(),\n  freeTrial: dayIntervalSchema.optional()\n}).test(\"at-least-one-currency\", (value, context) => validateHasAtLeastOneSupportedCurrency(value, context));\nvar priceOrIncludeByDefaultSchema = yupUnion(\n  yupString().oneOf([\"include-by-default\"]).meta({ openapiField: { description: \"Makes this item free and includes it by default for all customers.\", exampleValue: \"include-by-default\" } }),\n  yupRecord(\n    userSpecifiedIdSchema(\"priceId\"),\n    offerPriceSchema\n  )\n);\nvar offerSchema = yupObject({\n  displayName: yupString(),\n  groupId: userSpecifiedIdSchema(\"groupId\").optional().meta({ openapiField: { description: \"The ID of the group this offer belongs to. Within a group, all offers are mutually exclusive unless they are an add-on to another offer in the group.\", exampleValue: \"group-id\" } }),\n  isAddOnTo: yupUnion(\n    yupBoolean().isFalse(),\n    yupRecord(\n      userSpecifiedIdSchema(\"offerId\"),\n      yupBoolean().isTrue().defined()\n    )\n  ).optional().meta({ openapiField: { description: \"The offers that this offer is an add-on to. If this is set, the customer must already have one of the offers in the record to be able to purchase this offer.\", exampleValue: { \"offer-id\": true } } }),\n  customerType: customerTypeSchema.defined(),\n  freeTrial: dayIntervalSchema.optional(),\n  serverOnly: yupBoolean(),\n  stackable: yupBoolean(),\n  prices: priceOrIncludeByDefaultSchema.defined(),\n  includedItems: yupRecord(\n    userSpecifiedIdSchema(\"itemId\"),\n    yupObject({\n      quantity: yupNumber().defined(),\n      repeat: dayIntervalOrNeverSchema.optional(),\n      expires: yupString().oneOf([\"never\", \"when-purchase-expires\", \"when-repeated\"]).optional()\n    })\n  )\n});\nvar inlineOfferSchema = yupObject({\n  display_name: yupString().defined(),\n  customer_type: customerTypeSchema.defined(),\n  free_trial: dayIntervalSchema.optional(),\n  server_only: yupBoolean().oneOf([true]).default(true),\n  prices: yupRecord(\n    userSpecifiedIdSchema(\"priceId\"),\n    yupObject({\n      ...(0,_utils_objects_js__WEBPACK_IMPORTED_MODULE_7__.typedFromEntries)(_utils_currency_constants_js__WEBPACK_IMPORTED_MODULE_3__.SUPPORTED_CURRENCIES.map((currency) => [currency.code, moneyAmountSchema(currency).optional()])),\n      interval: dayIntervalSchema.optional(),\n      free_trial: dayIntervalSchema.optional()\n    }).test(\"at-least-one-currency\", (value, context) => validateHasAtLeastOneSupportedCurrency(value, context))\n  ),\n  included_items: yupRecord(\n    userSpecifiedIdSchema(\"itemId\"),\n    yupObject({\n      quantity: yupNumber(),\n      repeat: dayIntervalOrNeverSchema.optional(),\n      expires: yupString().oneOf([\"never\", \"when-purchase-expires\", \"when-repeated\"]).optional()\n    })\n  )\n});\nvar ReplaceFieldWithOwnUserId = class extends Error {\n  constructor(path) {\n    super(`This error should be caught by whoever validated the schema, and the field in the path '${path}' should be replaced with the current user's id. This is a workaround to yup not providing access to the context inside the transform function.`);\n    this.path = path;\n  }\n};\nvar userIdMeSentinelUuid = \"cad564fd-f81b-43f4-b390-98abf3fcc17e\";\nvar userIdOrMeSchema = yupString().uuid().transform((v) => {\n  if (v === \"me\") return userIdMeSentinelUuid;\n  else return v;\n}).test((v, context) => {\n  if (!(\"stackAllowUserIdMe\" in (context.options.context ?? {}))) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(\"userIdOrMeSchema is not allowed in this context. Make sure you're using yupValidate from schema-fields.ts to validate, instead of schema.validate(...).\");\n  if (!context.options.context?.stackAllowUserIdMe) throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.StackAssertionError(\"userIdOrMeSchema is not allowed in this context. Make sure you're passing in the currentUserId option in yupValidate.\");\n  if (v === userIdMeSentinelUuid) throw new ReplaceFieldWithOwnUserId(context.path);\n  return true;\n}).meta({ openapiField: { description: \"The ID of the user, or the special value `me` for the currently authenticated user\", exampleValue: \"3241a285-8329-4d69-8f3d-316e08cf140c\" } });\nvar userIdSchema = yupString().uuid().meta({ openapiField: { description: _idDescription(\"user\"), exampleValue: \"3241a285-8329-4d69-8f3d-316e08cf140c\" } });\nvar primaryEmailSchema = emailSchema.meta({ openapiField: { description: \"Primary email\", exampleValue: \"johndoe@example.com\" } });\nvar primaryEmailAuthEnabledSchema = yupBoolean().meta({ openapiField: { description: \"Whether the primary email is used for authentication. If this is set to `false`, the user will not be able to sign in with the primary email with password or OTP\", exampleValue: true } });\nvar primaryEmailVerifiedSchema = yupBoolean().meta({ openapiField: { description: \"Whether the primary email has been verified to belong to this user\", exampleValue: true } });\nvar userDisplayNameSchema = yupString().nullable().max(256).meta({ openapiField: { description: _displayNameDescription(\"user\"), exampleValue: \"John Doe\" } });\nvar selectedTeamIdSchema = yupString().uuid().meta({ openapiField: { description: \"ID of the team currently selected by the user\", exampleValue: \"team-id\" } });\nvar profileImageUrlSchema = urlSchema.max(MAX_IMAGE_SIZE_BASE64_BYTES).meta({ openapiField: { description: _profileImageUrlDescription(\"user\"), exampleValue: \"https://example.com/image.jpg\" } });\nvar signedUpAtMillisSchema = yupNumber().meta({ openapiField: { description: _signedUpAtMillisDescription, exampleValue: 163e10 } });\nvar userClientMetadataSchema = jsonSchema.meta({ openapiField: { description: _clientMetaDataDescription(\"user\"), exampleValue: { key: \"value\" } } });\nvar userClientReadOnlyMetadataSchema = jsonSchema.meta({ openapiField: { description: _clientReadOnlyMetaDataDescription(\"user\"), exampleValue: { key: \"value\" } } });\nvar userServerMetadataSchema = jsonSchema.meta({ openapiField: { description: _serverMetaDataDescription(\"user\"), exampleValue: { key: \"value\" } } });\nvar userOAuthProviderSchema = yupObject({\n  id: yupString().defined(),\n  type: yupString().oneOf(_utils_oauth_js__WEBPACK_IMPORTED_MODULE_6__.allProviders).defined(),\n  provider_user_id: yupString().defined()\n});\nvar userLastActiveAtMillisSchema = yupNumber().nullable().meta({ openapiField: { description: _lastActiveAtMillisDescription, exampleValue: 163e10 } });\nvar userPasskeyAuthEnabledSchema = yupBoolean().meta({ openapiField: { hidden: true, description: \"Whether the user has passkeys enabled\", exampleValue: false } });\nvar userOtpAuthEnabledSchema = yupBoolean().meta({ openapiField: { hidden: true, description: \"Whether the user has OTP/magic link enabled. \", exampleValue: true } });\nvar userOtpAuthEnabledMutationSchema = yupBoolean().meta({ openapiField: { hidden: true, description: \"Whether the user has OTP/magic link enabled. Note that only accounts with verified emails can sign-in with OTP.\", exampleValue: true } });\nvar userHasPasswordSchema = yupBoolean().meta({ openapiField: { hidden: true, description: \"Whether the user has a password set. If the user does not have a password set, they will not be able to sign in with email/password.\", exampleValue: true } });\nvar userPasswordMutationSchema = passwordSchema.nullable().meta({ openapiField: { description: \"Sets the user's password. Doing so revokes all current sessions.\", exampleValue: \"my-new-password\" } }).max(70);\nvar userPasswordHashMutationSchema = yupString().nonEmpty().meta({ openapiField: { description: \"If `password` is not given, sets the user's password hash to the given string in Modular Crypt Format (ex.: `$2a$10$VIhIOofSMqGdGlL4wzE//e.77dAQGqNtF/1dT7bqCrVtQuInWy2qi`). Doing so revokes all current sessions.\" } });\nvar userTotpSecretMutationSchema = base64Schema.nullable().meta({ openapiField: { description: \"Enables 2FA and sets a TOTP secret for the user. Set to null to disable 2FA.\", exampleValue: \"dG90cC1zZWNyZXQ=\" } });\nvar accessTokenPayloadSchema = yupObject({\n  sub: yupString().defined(),\n  exp: yupNumber().optional(),\n  iss: yupString().defined(),\n  aud: yupString().defined(),\n  project_id: yupString().defined(),\n  branch_id: yupString().defined(),\n  refresh_token_id: yupString().defined(),\n  role: yupString().oneOf([\"authenticated\"]).defined(),\n  name: yupString().defined().nullable(),\n  email: yupString().defined().nullable(),\n  email_verified: yupBoolean().defined(),\n  selected_team_id: yupString().defined().nullable(),\n  is_anonymous: yupBoolean().defined()\n});\nvar signInEmailSchema = strictEmailSchema(void 0).meta({ openapiField: { description: \"The email to sign in with.\", exampleValue: \"johndoe@example.com\" } });\nvar emailOtpSignInCallbackUrlSchema = urlSchema.meta({ openapiField: { description: \"The base callback URL to construct the magic link from. A query parameter `code` with the verification code will be appended to it. The page should then make a request to the `/auth/otp/sign-in` endpoint.\", exampleValue: \"https://example.com/handler/magic-link-callback\" } });\nvar emailVerificationCallbackUrlSchema = urlSchema.meta({ openapiField: { description: \"The base callback URL to construct a verification link for the verification e-mail. A query parameter `code` with the verification code will be appended to it. The page should then make a request to the `/contact-channels/verify` endpoint.\", exampleValue: \"https://example.com/handler/email-verification\" } });\nvar accessTokenResponseSchema = yupString().meta({ openapiField: { description: \"Short-lived access token that can be used to authenticate the user\", exampleValue: \"eyJhmMiJB2TO...diI4QT\" } });\nvar refreshTokenResponseSchema = yupString().meta({ openapiField: { description: \"Long-lived refresh token that can be used to obtain a new access token\", exampleValue: \"i8ns3aq2...14y\" } });\nvar signInResponseSchema = yupObject({\n  refresh_token: refreshTokenResponseSchema.defined(),\n  access_token: accessTokenResponseSchema.defined(),\n  is_new_user: yupBoolean().meta({ openapiField: { description: \"Whether the user is a new user\", exampleValue: true } }).defined(),\n  user_id: userIdSchema.defined()\n});\nvar teamSystemPermissions = [\n  \"$update_team\",\n  \"$delete_team\",\n  \"$read_members\",\n  \"$remove_members\",\n  \"$invite_members\",\n  \"$manage_api_keys\"\n];\nvar permissionDefinitionIdSchema = yupString().matches(/^\\$?[a-z0-9_:]+$/, 'Only lowercase letters, numbers, \":\", \"_\" and optional \"$\" at the beginning are allowed').test(\"is-system-permission\", \"System permissions must start with a dollar sign\", (value, ctx) => {\n  if (!value) return true;\n  if (value.startsWith(\"$\") && !teamSystemPermissions.includes(value)) {\n    return ctx.createError({ message: \"Invalid system permission\" });\n  }\n  return true;\n}).meta({ openapiField: { description: `The permission ID used to uniquely identify a permission. Can either be a custom permission with lowercase letters, numbers, \\`:\\`, and \\`_\\` characters, or one of the system permissions: ${teamSystemPermissions.map((x) => `\\`${x}\\``).join(\", \")}`, exampleValue: \"read_secret_info\" } });\nvar customPermissionDefinitionIdSchema = yupString().matches(/^[a-z0-9_:]+$/, 'Only lowercase letters, numbers, \":\", \"_\" are allowed').meta({ openapiField: { description: 'The permission ID used to uniquely identify a permission. Can only contain lowercase letters, numbers, \":\", and \"_\" characters', exampleValue: \"read_secret_info\" } });\nvar teamPermissionDescriptionSchema = yupString().meta({ openapiField: { description: \"A human-readable description of the permission\", exampleValue: \"Read secret information\" } });\nvar containedPermissionIdsSchema = yupArray(permissionDefinitionIdSchema.defined()).meta({ openapiField: { description: \"The IDs of the permissions that are contained in this permission\", exampleValue: [\"read_public_info\"] } });\nvar teamIdSchema = yupString().uuid().meta({ openapiField: { description: _idDescription(\"team\"), exampleValue: \"ad962777-8244-496a-b6a2-e0c6a449c79e\" } });\nvar teamDisplayNameSchema = yupString().meta({ openapiField: { description: _displayNameDescription(\"team\"), exampleValue: \"My Team\" } });\nvar teamProfileImageUrlSchema = urlSchema.max(1e6).meta({ openapiField: { description: _profileImageUrlDescription(\"team\"), exampleValue: \"https://example.com/image.jpg\" } });\nvar teamClientMetadataSchema = jsonSchema.meta({ openapiField: { description: _clientMetaDataDescription(\"team\"), exampleValue: { key: \"value\" } } });\nvar teamClientReadOnlyMetadataSchema = jsonSchema.meta({ openapiField: { description: _clientReadOnlyMetaDataDescription(\"team\"), exampleValue: { key: \"value\" } } });\nvar teamServerMetadataSchema = jsonSchema.meta({ openapiField: { description: _serverMetaDataDescription(\"team\"), exampleValue: { key: \"value\" } } });\nvar teamCreatedAtMillisSchema = yupNumber().meta({ openapiField: { description: _createdAtMillisDescription(\"team\"), exampleValue: 163e10 } });\nvar teamInvitationEmailSchema = emailSchema.meta({ openapiField: { description: \"The email of the user to invite.\", exampleValue: \"johndoe@example.com\" } });\nvar teamInvitationCallbackUrlSchema = urlSchema.meta({ openapiField: { description: \"The base callback URL to construct an invite link with. A query parameter `code` with the verification code will be appended to it. The page should then make a request to the `/team-invitations/accept` endpoint.\", exampleValue: \"https://example.com/handler/team-invitation\" } });\nvar teamCreatorUserIdSchema = userIdOrMeSchema.meta({ openapiField: { description: 'The ID of the creator of the team. If not specified, the user will not be added to the team. Can be either \"me\" or the ID of the user. Only used on the client side.', exampleValue: \"me\" } });\nvar teamMemberDisplayNameSchema = yupString().meta({ openapiField: { description: _displayNameDescription(\"team member\") + \" Note that this is separate from the display_name of the user.\", exampleValue: \"John Doe\" } });\nvar teamMemberProfileImageUrlSchema = urlSchema.max(1e6).meta({ openapiField: { description: _profileImageUrlDescription(\"team member\"), exampleValue: \"https://example.com/image.jpg\" } });\nvar contactChannelIdSchema = yupString().uuid().meta({ openapiField: { description: _idDescription(\"contact channel\"), exampleValue: \"b3d396b8-c574-4c80-97b3-50031675ceb2\" } });\nvar contactChannelTypeSchema = yupString().oneOf([\"email\"]).meta({ openapiField: { description: `The type of the contact channel. Currently only \"email\" is supported.`, exampleValue: \"email\" } });\nvar contactChannelValueSchema = yupString().when(\"type\", {\n  is: \"email\",\n  then: (schema) => schema.email()\n}).meta({ openapiField: { description: \"The value of the contact channel. For email, this should be a valid email address.\", exampleValue: \"johndoe@example.com\" } });\nvar contactChannelUsedForAuthSchema = yupBoolean().meta({ openapiField: { description: \"Whether the contact channel is used for authentication. If this is set to `true`, the user will be able to sign in with the contact channel with password or OTP.\", exampleValue: true } });\nvar contactChannelIsVerifiedSchema = yupBoolean().meta({ openapiField: { description: \"Whether the contact channel has been verified. If this is set to `true`, the contact channel has been verified to belong to the user.\", exampleValue: true } });\nvar contactChannelIsPrimarySchema = yupBoolean().meta({ openapiField: { description: \"Whether the contact channel is the primary contact channel. If this is set to `true`, it will be used for authentication and notifications by default.\", exampleValue: true } });\nvar oauthProviderIdSchema = yupString().uuid().meta({ openapiField: { description: _idDescription(\"OAuth provider\"), exampleValue: \"b3d396b8-c574-4c80-97b3-50031675ceb2\" } });\nvar oauthProviderEmailSchema = emailSchema.meta({ openapiField: { description: \"Email of the OAuth provider. This is used to display and identify the OAuth provider in the UI.\", exampleValue: \"test@gmail.com\" } });\nvar oauthProviderTypeSchema = yupString().oneOf(_utils_oauth_js__WEBPACK_IMPORTED_MODULE_6__.allProviders).meta({ openapiField: { description: `OAuth provider type, one of ${_utils_oauth_js__WEBPACK_IMPORTED_MODULE_6__.allProviders.map((x) => `\\`${x}\\``).join(\", \")}`, exampleValue: \"google\" } });\nvar oauthProviderAllowSignInSchema = yupBoolean().meta({ openapiField: { description: \"Whether the user can use this OAuth provider to sign in. Only one OAuth provider per type can have this set to `true`.\", exampleValue: true } });\nvar oauthProviderAllowConnectedAccountsSchema = yupBoolean().meta({ openapiField: { description: \"Whether the user can use this OAuth provider as connected account. Multiple OAuth providers per type can have this set to `true`.\", exampleValue: true } });\nvar oauthProviderAccountIdSchema = yupString().meta({ openapiField: { description: \"Account ID of the OAuth provider. This uniquely identifies the account on the provider side.\", exampleValue: \"google-account-id-12345\" } });\nvar oauthProviderProviderConfigIdSchema = yupString().meta({ openapiField: { description: \"Provider config ID of the OAuth provider. This uniquely identifies the provider config on config.json file\", exampleValue: \"google\" } });\nvar basicAuthorizationHeaderSchema = yupString().test(\"is-basic-authorization-header\", 'Authorization header must be in the format \"Basic <base64>\"', (value) => {\n  if (!value) return true;\n  return (0,_utils_http_js__WEBPACK_IMPORTED_MODULE_5__.decodeBasicAuthorizationHeader)(value) !== null;\n});\nvar neonAuthorizationHeaderSchema = basicAuthorizationHeaderSchema.test(\"is-authorization-header\", \"Invalid client_id:client_secret values; did you use the correct values for the integration?\", (value) => {\n  if (!value) return true;\n  const [clientId, clientSecret] = (0,_utils_http_js__WEBPACK_IMPORTED_MODULE_5__.decodeBasicAuthorizationHeader)(value) ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_4__.throwErr)(`Authz header invalid? This should've been validated by basicAuthorizationHeaderSchema: ${value}`);\n  for (const neonClientConfig of JSON.parse(process.env.STACK_INTEGRATION_CLIENTS_CONFIG || \"[]\")) {\n    if (clientId === neonClientConfig.client_id && clientSecret === neonClientConfig.client_secret) return true;\n  }\n  return false;\n});\nfunction yupDefinedWhen(schema, triggers) {\n  const entries = Object.entries(triggers);\n  return schema.when(entries.map(([key]) => key), {\n    is: (...values) => entries.every(([key, value], index) => value === values[index]),\n    then: (schema2) => schema2.defined(),\n    otherwise: (schema2) => schema2.optional()\n  });\n}\nfunction yupDefinedAndNonEmptyWhen(schema, triggers) {\n  const entries = Object.entries(triggers);\n  return schema.when(entries.map(([key]) => key), {\n    is: (...values) => entries.every(([key, value], index) => value === values[index]),\n    then: (schema2) => schema2.defined().nonEmpty(),\n    otherwise: (schema2) => schema2.optional()\n  });\n}\n\n//# sourceMappingURL=schema-fields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vc2NoZW1hLWZpZWxkcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUMyQjtBQUNxQjtBQUNKO0FBQ3lCO0FBQ0g7QUFDRDtBQUNqQjtBQUM0QjtBQUM5QjtBQUM2QjtBQUNqQztBQUMxQztBQUNBLDBDQUFhLENBQUMsdUNBQVU7QUFDeEI7QUFDQTtBQUNBLG1CQUFtQixNQUFNLFFBQVEsTUFBTTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwwQ0FBYSxDQUFDLHVDQUFVO0FBQ3hCLG1EQUFtRCxpRUFBbUIsaUtBQWlLLHFCQUFxQjtBQUM1UDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxNQUFNLHNDQUFTO0FBQ2Y7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDBDQUFhLENBQUMsdUNBQVU7QUFDeEIsbURBQW1ELGlFQUFtQixpS0FBaUssS0FBSztBQUM1Tyx1Q0FBdUMsaUVBQW1CLDJGQUEyRixLQUFLLEtBQUssb0JBQW9CO0FBQ25MO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLFdBQVcsc0NBQVM7QUFDcEI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1REFBSSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0NBQW9DLHlEQUFXO0FBQy9DO0FB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XERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFxzY2hlbWEtZmllbGRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zY2hlbWEtZmllbGRzLnRzXG5pbXBvcnQgKiBhcyB5dXAgZnJvbSBcInl1cFwiO1xuaW1wb3J0IHsgS25vd25FcnJvcnMgfSBmcm9tIFwiLi9rbm93bi1lcnJvcnMuanNcIjtcbmltcG9ydCB7IGlzQmFzZTY0IH0gZnJvbSBcIi4vdXRpbHMvYnl0ZXMuanNcIjtcbmltcG9ydCB7IFNVUFBPUlRFRF9DVVJSRU5DSUVTIH0gZnJvbSBcIi4vdXRpbHMvY3VycmVuY3ktY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBTdGFja0Fzc2VydGlvbkVycm9yLCB0aHJvd0VyciB9IGZyb20gXCIuL3V0aWxzL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgZGVjb2RlQmFzaWNBdXRob3JpemF0aW9uSGVhZGVyIH0gZnJvbSBcIi4vdXRpbHMvaHR0cC5qc1wiO1xuaW1wb3J0IHsgYWxsUHJvdmlkZXJzIH0gZnJvbSBcIi4vdXRpbHMvb2F1dGguanNcIjtcbmltcG9ydCB7IGRlZXBQbGFpbkNsb25lLCBvbWl0LCB0eXBlZEZyb21FbnRyaWVzIH0gZnJvbSBcIi4vdXRpbHMvb2JqZWN0cy5qc1wiO1xuaW1wb3J0IHsgZGVpbmRlbnQgfSBmcm9tIFwiLi91dGlscy9zdHJpbmdzLmpzXCI7XG5pbXBvcnQgeyBpc1ZhbGlkSG9zdG5hbWVXaXRoV2lsZGNhcmRzLCBpc1ZhbGlkVXJsIH0gZnJvbSBcIi4vdXRpbHMvdXJscy5qc1wiO1xuaW1wb3J0IHsgaXNVdWlkIH0gZnJvbSBcIi4vdXRpbHMvdXVpZHMuanNcIjtcbnZhciBNQVhfSU1BR0VfU0laRV9CQVNFNjRfQllURVMgPSAxZTY7XG55dXAuYWRkTWV0aG9kKHl1cC5zdHJpbmcsIFwibm9uRW1wdHlcIiwgZnVuY3Rpb24obWVzc2FnZSkge1xuICByZXR1cm4gdGhpcy50ZXN0KFxuICAgIFwibm9uLWVtcHR5XCIsXG4gICAgbWVzc2FnZSA/PyAoKHsgcGF0aCB9KSA9PiBgJHtwYXRofSBtdXN0IG5vdCBiZSBlbXB0eWApLFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgcmV0dXJuIHZhbHVlICE9PSBcIlwiO1xuICAgIH1cbiAgKTtcbn0pO1xueXVwLmFkZE1ldGhvZCh5dXAuU2NoZW1hLCBcImhhc05lc3RlZFwiLCBmdW5jdGlvbihwYXRoKSB7XG4gIGlmICghcGF0aC5tYXRjaCgvXlthLXpBLVowLTlfJDotXSskLykpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGB5dXBTY2hlbWEuaGFzTmVzdGVkIGNhbiBjdXJyZW50bHkgb25seSBiZSB1c2VkIHdpdGggYWxwaGFudW1lcmljIGtleXMsIHVuZGVyc2NvcmVzLCBkb2xsYXIgc2lnbnMsIGNvbG9ucywgYW5kIGh5cGhlbnMuIEZpeCB0aGlzIGluIHRoZSBmdXR1cmUuIFByb3ZpZGVkIGtleTogJHtKU09OLnN0cmluZ2lmeShwYXRoKX1gKTtcbiAgY29uc3Qgc2NoZW1hSW5mbyA9IHRoaXMubWV0YSgpPy5zdGFja1NjaGVtYUluZm87XG4gIGlmIChzY2hlbWFJbmZvPy50eXBlID09PSBcInJlY29yZFwiKSB7XG4gICAgcmV0dXJuIHNjaGVtYUluZm8ua2V5U2NoZW1hLmlzVmFsaWRTeW5jKHBhdGgpO1xuICB9IGVsc2UgaWYgKHNjaGVtYUluZm8/LnR5cGUgPT09IFwidW5pb25cIikge1xuICAgIHJldHVybiBzY2hlbWFJbmZvLml0ZW1zLnNvbWUoKHMpID0+IHMuaGFzTmVzdGVkKHBhdGgpKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgeXVwLnJlYWNoKHRoaXMsIHBhdGgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UuaW5jbHVkZXMoXCJUaGUgc2NoZW1hIGRvZXMgbm90IGNvbnRhaW4gdGhlIHBhdGhcIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbn0pO1xueXVwLmFkZE1ldGhvZCh5dXAuU2NoZW1hLCBcImdldE5lc3RlZFwiLCBmdW5jdGlvbihwYXRoKSB7XG4gIGlmICghcGF0aC5tYXRjaCgvXlthLXpBLVowLTlfJDotXSskLykpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGB5dXBTY2hlbWEuZ2V0TmVzdGVkIGNhbiBjdXJyZW50bHkgb25seSBiZSB1c2VkIHdpdGggYWxwaGFudW1lcmljIGtleXMsIHVuZGVyc2NvcmVzLCBkb2xsYXIgc2lnbnMsIGNvbG9ucywgYW5kIGh5cGhlbnMuIEZpeCB0aGlzIGluIHRoZSBmdXR1cmUuIFByb3ZpZGVkIGtleTogJHtwYXRofWApO1xuICBpZiAoIXRoaXMuaGFzTmVzdGVkKHBhdGgpKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgVHJpZWQgdG8gY2FsbCB5dXBTY2hlbWEuZ2V0TmVzdGVkLCBidXQga2V5IGlzIG5vdCBwcmVzZW50IGluIHRoZSBzY2hlbWEuIFByb3ZpZGVkIGtleTogJHtwYXRofWAsIHsgcGF0aCwgc2NoZW1hOiB0aGlzIH0pO1xuICBjb25zdCBzY2hlbWFJbmZvID0gdGhpcy5tZXRhKCk/LnN0YWNrU2NoZW1hSW5mbztcbiAgaWYgKHNjaGVtYUluZm8/LnR5cGUgPT09IFwicmVjb3JkXCIpIHtcbiAgICByZXR1cm4gc2NoZW1hSW5mby52YWx1ZVNjaGVtYTtcbiAgfSBlbHNlIGlmIChzY2hlbWFJbmZvPy50eXBlID09PSBcInVuaW9uXCIpIHtcbiAgICBjb25zdCBzY2hlbWFzV2l0aE5lc3RlZCA9IHNjaGVtYUluZm8uaXRlbXMuZmlsdGVyKChzKSA9PiBzLmhhc05lc3RlZChwYXRoKSk7XG4gICAgcmV0dXJuIHl1cFVuaW9uKC4uLnNjaGVtYXNXaXRoTmVzdGVkLm1hcCgocykgPT4gcy5nZXROZXN0ZWQocGF0aCkpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geXVwLnJlYWNoKHRoaXMsIHBhdGgpO1xuICB9XG59KTtcbmFzeW5jIGZ1bmN0aW9uIHl1cFZhbGlkYXRlKHNjaGVtYSwgb2JqLCBvcHRpb25zKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHNjaGVtYS52YWxpZGF0ZShvYmosIHtcbiAgICAgIC4uLm9taXQob3B0aW9ucyA/PyB7fSwgW1wiY3VycmVudFVzZXJJZFwiXSksXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIC4uLm9wdGlvbnM/LmNvbnRleHQsXG4gICAgICAgIHN0YWNrQWxsb3dVc2VySWRNZTogb3B0aW9ucz8uY3VycmVudFVzZXJJZCAhPT0gdm9pZCAwXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUmVwbGFjZUZpZWxkV2l0aE93blVzZXJJZCkge1xuICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IG9wdGlvbnM/LmN1cnJlbnRVc2VySWQ7XG4gICAgICBpZiAoIWN1cnJlbnRVc2VySWQpIHRocm93IG5ldyBLbm93bkVycm9ycy5DYW5ub3RHZXRPd25Vc2VyV2l0aG91dFVzZXIoKTtcbiAgICAgIGxldCBwYXRoUmVtYWluaW5nID0gZXJyb3IucGF0aDtcbiAgICAgIGNvbnN0IGZpZWxkUGF0aCA9IFtdO1xuICAgICAgd2hpbGUgKHBhdGhSZW1haW5pbmcubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAocGF0aFJlbWFpbmluZy5zdGFydHNXaXRoKFwiW1wiKSkge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGF0aFJlbWFpbmluZy5pbmRleE9mKFwiXVwiKTtcbiAgICAgICAgICBpZiAoaW5kZXggPCAwKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIkludmFsaWQgcGF0aFwiKTtcbiAgICAgICAgICBmaWVsZFBhdGgucHVzaChKU09OLnBhcnNlKHBhdGhSZW1haW5pbmcuc2xpY2UoMSwgaW5kZXgpKSk7XG4gICAgICAgICAgcGF0aFJlbWFpbmluZyA9IHBhdGhSZW1haW5pbmcuc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgZG90SW5kZXggPSBwYXRoUmVtYWluaW5nLmluZGV4T2YoXCIuXCIpO1xuICAgICAgICAgIGlmIChkb3RJbmRleCA9PT0gLTEpIGRvdEluZGV4ID0gcGF0aFJlbWFpbmluZy5sZW5ndGg7XG4gICAgICAgICAgZmllbGRQYXRoLnB1c2gocGF0aFJlbWFpbmluZy5zbGljZSgwLCBkb3RJbmRleCkpO1xuICAgICAgICAgIHBhdGhSZW1haW5pbmcgPSBwYXRoUmVtYWluaW5nLnNsaWNlKGRvdEluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld09iaiA9IGRlZXBQbGFpbkNsb25lKG9iaik7XG4gICAgICBsZXQgaXQgPSBuZXdPYmo7XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkUGF0aC5zbGljZSgwLCAtMSkpIHtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaXQsIGZpZWxkKSkge1xuICAgICAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGBTZWdtZW50ICR7ZmllbGR9IG9mIHBhdGggJHtlcnJvci5wYXRofSBub3QgZm91bmQgaW4gb2JqZWN0YCk7XG4gICAgICAgIH1cbiAgICAgICAgaXQgPSBpdFtmaWVsZF07XG4gICAgICB9XG4gICAgICBpdFtmaWVsZFBhdGhbZmllbGRQYXRoLmxlbmd0aCAtIDFdXSA9IGN1cnJlbnRVc2VySWQ7XG4gICAgICByZXR1cm4gYXdhaXQgeXVwVmFsaWRhdGUoc2NoZW1hLCBuZXdPYmosIG9wdGlvbnMpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxudmFyIF9pZERlc2NyaXB0aW9uID0gKGlkZW50aWZ5KSA9PiBgVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSAke2lkZW50aWZ5fWA7XG52YXIgX2Rpc3BsYXlOYW1lRGVzY3JpcHRpb24gPSAoaWRlbnRpZnkpID0+IGBIdW1hbi1yZWFkYWJsZSAke2lkZW50aWZ5fSBkaXNwbGF5IG5hbWUuIFRoaXMgaXMgbm90IGEgdW5pcXVlIGlkZW50aWZpZXIuYDtcbnZhciBfY2xpZW50TWV0YURhdGFEZXNjcmlwdGlvbiA9IChpZGVudGlmeSkgPT4gYENsaWVudCBtZXRhZGF0YS4gVXNlZCBhcyBhIGRhdGEgc3RvcmUsIGFjY2Vzc2libGUgZnJvbSB0aGUgY2xpZW50IHNpZGUuIERvIG5vdCBzdG9yZSBpbmZvcm1hdGlvbiB0aGF0IHNob3VsZCBub3QgYmUgZXhwb3NlZCB0byB0aGUgY2xpZW50LmA7XG52YXIgX2NsaWVudFJlYWRPbmx5TWV0YURhdGFEZXNjcmlwdGlvbiA9IChpZGVudGlmeSkgPT4gYENsaWVudCByZWFkLW9ubHksIHNlcnZlci13cml0YWJsZSBtZXRhZGF0YS4gVXNlZCBhcyBhIGRhdGEgc3RvcmUsIGFjY2Vzc2libGUgZnJvbSB0aGUgY2xpZW50IHNpZGUuIERvIG5vdCBzdG9yZSBpbmZvcm1hdGlvbiB0aGF0IHNob3VsZCBub3QgYmUgZXhwb3NlZCB0byB0aGUgY2xpZW50LiBUaGUgY2xpZW50IGNhbiByZWFkIHRoaXMgZGF0YSwgYnV0IGNhbm5vdCBtb2RpZnkgaXQuIFRoaXMgaXMgdXNlZnVsIGZvciB0aGluZ3MgbGlrZSBzdWJzY3JpcHRpb24gc3RhdHVzLmA7XG52YXIgX3Byb2ZpbGVJbWFnZVVybERlc2NyaXB0aW9uID0gKGlkZW50aWZ5KSA9PiBgVVJMIG9mIHRoZSBwcm9maWxlIGltYWdlIGZvciAke2lkZW50aWZ5fS4gQ2FuIGJlIGEgQmFzZTY0IGVuY29kZWQgaW1hZ2UuIE11c3QgYmUgc21hbGxlciB0aGFuIDEwMEtCLiBQbGVhc2UgY29tcHJlc3MgYW5kIGNyb3AgdG8gYSBzcXVhcmUgYmVmb3JlIHBhc3NpbmcgaW4uYDtcbnZhciBfc2VydmVyTWV0YURhdGFEZXNjcmlwdGlvbiA9IChpZGVudGlmeSkgPT4gYFNlcnZlciBtZXRhZGF0YS4gVXNlZCBhcyBhIGRhdGEgc3RvcmUsIG9ubHkgYWNjZXNzaWJsZSBmcm9tIHRoZSBzZXJ2ZXIgc2lkZS4gWW91IGNhbiBzdG9yZSBzZWNyZXQgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgJHtpZGVudGlmeX0gaGVyZS5gO1xudmFyIF9hdE1pbGxpc0Rlc2NyaXB0aW9uID0gKGlkZW50aWZ5KSA9PiBgKHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIGVwb2NoLCBKYW51YXJ5IDEsIDE5NzAsIFVUQylgO1xudmFyIF9jcmVhdGVkQXRNaWxsaXNEZXNjcmlwdGlvbiA9IChpZGVudGlmeSkgPT4gYFRoZSB0aW1lIHRoZSAke2lkZW50aWZ5fSB3YXMgY3JlYXRlZCAke19hdE1pbGxpc0Rlc2NyaXB0aW9uKGlkZW50aWZ5KX1gO1xudmFyIF9zaWduZWRVcEF0TWlsbGlzRGVzY3JpcHRpb24gPSBgVGhlIHRpbWUgdGhlIHVzZXIgc2lnbmVkIHVwICR7X2F0TWlsbGlzRGVzY3JpcHRpb259YDtcbnZhciBfbGFzdEFjdGl2ZUF0TWlsbGlzRGVzY3JpcHRpb24gPSBgVGhlIHRpbWUgdGhlIHVzZXIgd2FzIGxhc3QgYWN0aXZlICR7X2F0TWlsbGlzRGVzY3JpcHRpb259YDtcbmZ1bmN0aW9uIHl1cFN0cmluZyguLi5hcmdzKSB7XG4gIHJldHVybiB5dXAuc3RyaW5nKC4uLmFyZ3MpLm1ldGEoeyBzdGFja1NjaGVtYUluZm86IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0pO1xufVxuZnVuY3Rpb24geXVwTnVtYmVyKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIHl1cC5udW1iZXIoLi4uYXJncykubWV0YSh7IHN0YWNrU2NoZW1hSW5mbzogeyB0eXBlOiBcIm51bWJlclwiIH0gfSk7XG59XG5mdW5jdGlvbiB5dXBCb29sZWFuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIHl1cC5ib29sZWFuKC4uLmFyZ3MpLm1ldGEoeyBzdGFja1NjaGVtYUluZm86IHsgdHlwZTogXCJib29sZWFuXCIgfSB9KTtcbn1cbmZ1bmN0aW9uIHl1cERhdGUoLi4uYXJncykge1xuICByZXR1cm4geXVwLmRhdGUoLi4uYXJncykubWV0YSh7IHN0YWNrU2NoZW1hSW5mbzogeyB0eXBlOiBcImRhdGVcIiB9IH0pO1xufVxuZnVuY3Rpb24gX3l1cE1peGVkSW50ZXJuYWwoLi4uYXJncykge1xuICByZXR1cm4geXVwLm1peGVkKC4uLmFyZ3MpO1xufVxuZnVuY3Rpb24geXVwTWl4ZWQoLi4uYXJncykge1xuICByZXR1cm4gX3l1cE1peGVkSW50ZXJuYWwoLi4uYXJncykubWV0YSh7IHN0YWNrU2NoZW1hSW5mbzogeyB0eXBlOiBcIm1peGVkXCIgfSB9KTtcbn1cbmZ1bmN0aW9uIHl1cEFycmF5KC4uLmFyZ3MpIHtcbiAgcmV0dXJuIHl1cC5hcnJheSguLi5hcmdzKS5tZXRhKHsgc3RhY2tTY2hlbWFJbmZvOiB7IHR5cGU6IFwiYXJyYXlcIiB9IH0pO1xufVxuZnVuY3Rpb24geXVwVHVwbGUoc2NoZW1hcykge1xuICBpZiAoc2NoZW1hcy5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihcInl1cFR1cGxlIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgc2NoZW1hXCIpO1xuICByZXR1cm4geXVwLnR1cGxlKHNjaGVtYXMpLm1ldGEoeyBzdGFja1NjaGVtYUluZm86IHsgdHlwZTogXCJ0dXBsZVwiLCBpdGVtczogc2NoZW1hcyB9IH0pO1xufVxuZnVuY3Rpb24geXVwT2JqZWN0V2l0aEF1dG9EZWZhdWx0KC4uLmFyZ3MpIHtcbiAgY29uc3Qgb2JqZWN0MiA9IHl1cC5vYmplY3QoLi4uYXJncykudGVzdChcbiAgICBcIm5vLXVua25vd24tb2JqZWN0LXByb3BlcnRpZXNcIixcbiAgICAoeyBwYXRoIH0pID0+IGAke3BhdGh9IGNvbnRhaW5zIHVua25vd24gcHJvcGVydGllc2AsXG4gICAgKHZhbHVlLCBjb250ZXh0KSA9PiB7XG4gICAgICBpZiAoY29udGV4dC5vcHRpb25zLmNvbnRleHQ/Lm5vVW5rbm93blBhdGhQcmVmaXhlcz8uc29tZSgocHJlZml4KSA9PiBjb250ZXh0LnBhdGguc3RhcnRzV2l0aChwcmVmaXgpKSkge1xuICAgICAgICBpZiAoY29udGV4dC5zY2hlbWEuc3BlYy5ub1Vua25vd24gIT09IGZhbHNlKSB7XG4gICAgICAgICAgY29uc3QgYXZhaWxhYmxlS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoY29udGV4dC5zY2hlbWEuZmllbGRzKSk7XG4gICAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSA/PyB7fSkuZmlsdGVyKChrZXkpID0+ICFhdmFpbGFibGVLZXlzLmhhcyhrZXkpKTtcbiAgICAgICAgICBpZiAodW5rbm93bktleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY3JlYXRlRXJyb3Ioe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtjb250ZXh0LnBhdGggfHwgXCJPYmplY3RcIn0gY29udGFpbnMgdW5rbm93biBwcm9wZXJ0aWVzOiAke3Vua25vd25LZXlzLmpvaW4oXCIsIFwiKX1gLFxuICAgICAgICAgICAgICBwYXRoOiBjb250ZXh0LnBhdGgsXG4gICAgICAgICAgICAgIHBhcmFtczogeyB1bmtub3duS2V5cywgYXZhaWxhYmxlS2V5cyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgKS5tZXRhKHsgc3RhY2tTY2hlbWFJbmZvOiB7IHR5cGU6IFwib2JqZWN0XCIgfSB9KTtcbiAgcmV0dXJuIG9iamVjdDI7XG59XG5mdW5jdGlvbiB5dXBPYmplY3QoLi4uYXJncykge1xuICBjb25zdCBvYmplY3QyID0geXVwT2JqZWN0V2l0aEF1dG9EZWZhdWx0KC4uLmFyZ3MpO1xuICByZXR1cm4gb2JqZWN0Mi5kZWZhdWx0KHZvaWQgMCk7XG59XG5mdW5jdGlvbiB5dXBOZXZlcigpIHtcbiAgcmV0dXJuIF95dXBNaXhlZEludGVybmFsKCkubWV0YSh7IHN0YWNrU2NoZW1hSW5mbzogeyB0eXBlOiBcIm5ldmVyXCIgfSB9KS50ZXN0KFwibmV2ZXJcIiwgXCJUaGlzIHZhbHVlIHNob3VsZCBuZXZlciBiZSByZWFjaGVkXCIsICgpID0+IGZhbHNlKTtcbn1cbmZ1bmN0aW9uIHl1cFVuaW9uKC4uLmFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJ5dXBVbmlvbiBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHNjaGVtYVwiKTtcbiAgcmV0dXJuIF95dXBNaXhlZEludGVybmFsKCkubWV0YSh7IHN0YWNrU2NoZW1hSW5mbzogeyB0eXBlOiBcInVuaW9uXCIsIGl0ZW1zOiBhcmdzIH0gfSkudGVzdChcImlzLW9uZS1vZlwiLCBcIkludmFsaWQgdmFsdWVcIiwgYXN5bmMgKHZhbHVlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGZvciAoY29uc3Qgc2NoZW1hIG9mIGFyZ3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHl1cFZhbGlkYXRlKHNjaGVtYSwgdmFsdWUsIGNvbnRleHQub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuY3JlYXRlRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogZGVpbmRlbnRgXG4gICAgICAgICR7Y29udGV4dC5wYXRofSBpcyBub3QgbWF0Y2hlZCBieSBhbnkgb2YgdGhlIHByb3ZpZGVkIHNjaGVtYXM6XG4gICAgICAgICAgJHtlcnJvcnMubWFwKChlLCBpKSA9PiBkZWluZGVudGBcbiAgICAgICAgICAgIFNjaGVtYSAke2l9OlxuICAgICAgICAgICAgICAke2UuZXJyb3JzLmpvaW4oXCJcXG5cIil9XG4gICAgICAgICAgYCkuam9pbihcIlxcblwiKX1gLFxuICAgICAgcGF0aDogY29udGV4dC5wYXRoXG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24geXVwUmVjb3JkKGtleVNjaGVtYSwgdmFsdWVTY2hlbWEpIHtcbiAgcmV0dXJuIHl1cE9iamVjdCgpLm1ldGEoeyBzdGFja1NjaGVtYUluZm86IHsgdHlwZTogXCJyZWNvcmRcIiwga2V5U2NoZW1hLCB2YWx1ZVNjaGVtYSB9IH0pLnVua25vd24odHJ1ZSkudGVzdChcbiAgICBcInJlY29yZFwiLFxuICAgIFwiJHtwYXRofSBtdXN0IGJlIGEgcmVjb3JkIG9mIHZhbGlkIHZhbHVlc1wiLFxuICAgIGFzeW5jIGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgICBjb25zdCB7IHBhdGgsIGNyZWF0ZUVycm9yIH0gPSB0aGlzO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3IoeyBtZXNzYWdlOiBgJHtwYXRofSBtdXN0IGJlIGFuIG9iamVjdGAgfSk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh2YWx1ZSkpIHtcbiAgICAgICAgYXdhaXQgeXVwVmFsaWRhdGUoa2V5U2NoZW1hLCBrZXksIGNvbnRleHQub3B0aW9ucyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgeXVwVmFsaWRhdGUodmFsdWVTY2hlbWEsIHZhbHVlW2tleV0sIHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQub3B0aW9ucyxcbiAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgLi4uY29udGV4dC5vcHRpb25zLmNvbnRleHQsXG4gICAgICAgICAgICAgIHBhdGg6IHBhdGggPyBgJHtwYXRofS4ke2tleX1gIDoga2V5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3Ioe1xuICAgICAgICAgICAgcGF0aDogcGF0aCA/IGAke3BhdGh9LiR7a2V5fWAgOiBrZXksXG4gICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gZW5zdXJlT2JqZWN0U2NoZW1hKHNjaGVtYSkge1xuICBpZiAoIShzY2hlbWEgaW5zdGFuY2VvZiB5dXAuT2JqZWN0U2NoZW1hKSkgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoYGFzc2VydE9iamVjdFNjaGVtYTogc2NoZW1hIGlzIG5vdCBhbiBPYmplY3RTY2hlbWE6ICR7c2NoZW1hLmRlc2NyaWJlKCkudHlwZX1gKTtcbiAgcmV0dXJuIHNjaGVtYTtcbn1cbnZhciBhZGFwdFNjaGVtYSA9IHl1cE1peGVkKCk7XG52YXIgdXJsU2NoZW1hID0geXVwU3RyaW5nKCkudGVzdCh7XG4gIG5hbWU6IFwibm8tc3BhY2VzXCIsXG4gIG1lc3NhZ2U6IChwYXJhbXMpID0+IGAke3BhcmFtcy5wYXRofSBjb250YWlucyBzcGFjZXNgLFxuICB0ZXN0OiAodmFsdWUpID0+IHZhbHVlID09IG51bGwgfHwgIXZhbHVlLmluY2x1ZGVzKFwiIFwiKVxufSkudGVzdCh7XG4gIG5hbWU6IFwidXJsXCIsXG4gIG1lc3NhZ2U6IChwYXJhbXMpID0+IGAke3BhcmFtcy5wYXRofSBpcyBub3QgYSB2YWxpZCBVUkxgLFxuICB0ZXN0OiAodmFsdWUpID0+IHZhbHVlID09IG51bGwgfHwgaXNWYWxpZFVybCh2YWx1ZSlcbn0pO1xudmFyIHdpbGRjYXJkVXJsU2NoZW1hID0geXVwU3RyaW5nKCkudGVzdCh7XG4gIG5hbWU6IFwibm8tc3BhY2VzXCIsXG4gIG1lc3NhZ2U6IChwYXJhbXMpID0+IGAke3BhcmFtcy5wYXRofSBjb250YWlucyBzcGFjZXNgLFxuICB0ZXN0OiAodmFsdWUpID0+IHZhbHVlID09IG51bGwgfHwgIXZhbHVlLmluY2x1ZGVzKFwiIFwiKVxufSkudGVzdCh7XG4gIG5hbWU6IFwid2lsZGNhcmQtdXJsXCIsXG4gIG1lc3NhZ2U6IChwYXJhbXMpID0+IGAke3BhcmFtcy5wYXRofSBpcyBub3QgYSB2YWxpZCBVUkwgb3Igd2lsZGNhcmQgVVJMIHBhdHRlcm5gLFxuICB0ZXN0OiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCF2YWx1ZS5pbmNsdWRlcyhcIipcIikpIHtcbiAgICAgIHJldHVybiBpc1ZhbGlkVXJsKHZhbHVlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFBMQUNFSE9MREVSID0gXCJ3aWxkY2FyZC1wbGFjZWhvbGRlclwiO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFVybCA9IHZhbHVlLnJlcGxhY2UoL1xcKi9nLCBQTEFDRUhPTERFUik7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKG5vcm1hbGl6ZWRVcmwpO1xuICAgICAgaWYgKHVybC51c2VybmFtZS5pbmNsdWRlcyhQTEFDRUhPTERFUikgfHwgdXJsLnBhc3N3b3JkLmluY2x1ZGVzKFBMQUNFSE9MREVSKSB8fCB1cmwucGF0aG5hbWUuaW5jbHVkZXMoUExBQ0VIT0xERVIpIHx8IHVybC5zZWFyY2guaW5jbHVkZXMoUExBQ0VIT0xERVIpIHx8IHVybC5oYXNoLmluY2x1ZGVzKFBMQUNFSE9MREVSKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodXJsLnByb3RvY29sICE9PSBcImh0dHA6XCIgJiYgdXJsLnByb3RvY29sICE9PSBcImh0dHBzOlwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhvc3RQYXR0ZXJuID0gdXJsLmhvc3RuYW1lLnNwbGl0KFBMQUNFSE9MREVSKS5qb2luKFwiKlwiKTtcbiAgICAgIHJldHVybiBpc1ZhbGlkSG9zdG5hbWVXaXRoV2lsZGNhcmRzKGhvc3RQYXR0ZXJuKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59KTtcbnZhciBqc29uU2NoZW1hID0geXVwTWl4ZWQoKS5udWxsYWJsZSgpLmRlZmluZWQoKS50cmFuc2Zvcm0oKHZhbHVlKSA9PiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSkpO1xudmFyIGpzb25TdHJpbmdTY2hlbWEgPSB5dXBTdHJpbmcoKS50ZXN0KFwianNvblwiLCAocGFyYW1zKSA9PiBgJHtwYXJhbXMucGF0aH0gaXMgbm90IHZhbGlkIEpTT05gLCAodmFsdWUpID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0cnVlO1xuICB0cnkge1xuICAgIEpTT04ucGFyc2UodmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSk7XG52YXIganNvblN0cmluZ09yRW1wdHlTY2hlbWEgPSB5dXBTdHJpbmcoKS50ZXN0KFwianNvblwiLCAocGFyYW1zKSA9PiBgJHtwYXJhbXMucGF0aH0gaXMgbm90IHZhbGlkIEpTT05gLCAodmFsdWUpID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG4gIHRyeSB7XG4gICAgSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KTtcbnZhciBiYXNlNjRTY2hlbWEgPSB5dXBTdHJpbmcoKS50ZXN0KFwiaXMtYmFzZTY0XCIsIChwYXJhbXMpID0+IGAke3BhcmFtcy5wYXRofSBpcyBub3QgdmFsaWQgYmFzZTY0YCwgKHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGlzQmFzZTY0KHZhbHVlKTtcbn0pO1xudmFyIHBhc3N3b3JkU2NoZW1hID0geXVwU3RyaW5nKCkubWF4KDcwKTtcbnZhciBpbnRlcnZhbFNjaGVtYSA9IHl1cFR1cGxlKFt5dXBOdW1iZXIoKS5taW4oMCkuaW50ZWdlcigpLmRlZmluZWQoKSwgeXVwU3RyaW5nKCkub25lT2YoW1wibWlsbGlzZWNvbmRcIiwgXCJzZWNvbmRcIiwgXCJtaW51dGVcIiwgXCJob3VyXCIsIFwiZGF5XCIsIFwid2Vla1wiLCBcIm1vbnRoXCIsIFwieWVhclwiXSkuZGVmaW5lZCgpXSk7XG52YXIgZGF5SW50ZXJ2YWxTY2hlbWEgPSB5dXBUdXBsZShbeXVwTnVtYmVyKCkubWluKDApLmludGVnZXIoKS5kZWZpbmVkKCksIHl1cFN0cmluZygpLm9uZU9mKFtcImRheVwiLCBcIndlZWtcIiwgXCJtb250aFwiLCBcInllYXJcIl0pLmRlZmluZWQoKV0pO1xudmFyIGludGVydmFsT3JOZXZlclNjaGVtYSA9IHl1cFVuaW9uKGludGVydmFsU2NoZW1hLmRlZmluZWQoKSwgeXVwU3RyaW5nKCkub25lT2YoW1wibmV2ZXJcIl0pLmRlZmluZWQoKSk7XG52YXIgZGF5SW50ZXJ2YWxPck5ldmVyU2NoZW1hID0geXVwVW5pb24oZGF5SW50ZXJ2YWxTY2hlbWEuZGVmaW5lZCgpLCB5dXBTdHJpbmcoKS5vbmVPZihbXCJuZXZlclwiXSkuZGVmaW5lZCgpKTtcbnZhciB1c2VyU3BlY2lmaWVkSWRTY2hlbWEgPSAoaWROYW1lKSA9PiB5dXBTdHJpbmcoKS5tYXgoNjMpLm1hdGNoZXMoL15bYS16QS1aX11bYS16QS1aMC05Xy1dKiQvLCBgJHtpZE5hbWV9IG11c3Qgc3RhcnQgd2l0aCBhIGxldHRlciwgdW5kZXJzY29yZSwgb3IgbnVtYmVyLCBhbmQgY29udGFpbiBvbmx5IGxldHRlcnMsIG51bWJlcnMsIHVuZGVyc2NvcmVzLCBhbmQgaHlwaGVuc2ApO1xudmFyIG1vbmV5QW1vdW50U2NoZW1hID0gKGN1cnJlbmN5KSA9PiB5dXBTdHJpbmcoKS50ZXN0KFwibW9uZXktYW1vdW50XCIsIFwiSW52YWxpZCBtb25leSBhbW91bnRcIiwgKHZhbHVlLCBjb250ZXh0KSA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgY29uc3QgcmVnZXggPSAvXihbMC05XSspKFxcLihbMC05XSspKT8kLztcbiAgY29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaChyZWdleCk7XG4gIGlmICghbWF0Y2gpIHJldHVybiBjb250ZXh0LmNyZWF0ZUVycm9yKHsgbWVzc2FnZTogXCJNb25leSBhbW91bnQgbXVzdCBiZSBpbiB0aGUgZm9ybWF0IG9mIDxudW1iZXI+IG9yIDxudW1iZXI+LjxudW1iZXI+XCIgfSk7XG4gIGNvbnN0IHdob2xlID0gbWF0Y2hbMV07XG4gIGNvbnN0IGRlY2ltYWxzID0gbWF0Y2hbM107XG4gIGlmIChkZWNpbWFscyAmJiBkZWNpbWFscy5sZW5ndGggPiBjdXJyZW5jeS5kZWNpbWFscykgcmV0dXJuIGNvbnRleHQuY3JlYXRlRXJyb3IoeyBtZXNzYWdlOiBgVG9vIG1hbnkgZGVjaW1hbHM7ICR7Y3VycmVuY3kuY29kZX0gb25seSBoYXMgJHtjdXJyZW5jeS5kZWNpbWFsc30gZGVjaW1hbHNgIH0pO1xuICBpZiAod2hvbGUgIT09IFwiMFwiICYmIHdob2xlLnN0YXJ0c1dpdGgoXCIwXCIpKSByZXR1cm4gY29udGV4dC5jcmVhdGVFcnJvcih7IG1lc3NhZ2U6IFwiTW9uZXkgYW1vdW50IG11c3Qgbm90IGhhdmUgbGVhZGluZyB6ZXJvc1wiIH0pO1xuICByZXR1cm4gdHJ1ZTtcbn0pO1xudmFyIHN0cmljdEVtYWlsU2NoZW1hID0gKG1lc3NhZ2UpID0+IHl1cFN0cmluZygpLmVtYWlsKG1lc3NhZ2UpLm1heCgyNTYpLm1hdGNoZXMoL15bXi5dKyhcXC5bXi5dKykqQC4qXFwuW14uXVteLl0rJC8sIG1lc3NhZ2UpO1xudmFyIGVtYWlsU2NoZW1hID0geXVwU3RyaW5nKCkuZW1haWwoKTtcbnZhciBjbGllbnRPckhpZ2hlckF1dGhUeXBlU2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoW1wiY2xpZW50XCIsIFwic2VydmVyXCIsIFwiYWRtaW5cIl0pLmRlZmluZWQoKTtcbnZhciBzZXJ2ZXJPckhpZ2hlckF1dGhUeXBlU2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoW1wic2VydmVyXCIsIFwiYWRtaW5cIl0pLmRlZmluZWQoKTtcbnZhciBhZG1pbkF1dGhUeXBlU2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoW1wiYWRtaW5cIl0pLmRlZmluZWQoKTtcbnZhciBwcm9qZWN0SWRTY2hlbWEgPSB5dXBTdHJpbmcoKS50ZXN0KCh2KSA9PiB2ID09PSB2b2lkIDAgfHwgdiA9PT0gXCJpbnRlcm5hbFwiIHx8IGlzVXVpZCh2KSkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogX2lkRGVzY3JpcHRpb24oXCJwcm9qZWN0XCIpLCBleGFtcGxlVmFsdWU6IFwiZTBiNTJmNGQtZGVjZS00MDhjLWFmNDktZDIzMDYxYmIwZjhkXCIgfSB9KTtcbnZhciBwcm9qZWN0QnJhbmNoSWRTY2hlbWEgPSB5dXBTdHJpbmcoKS5ub25FbXB0eSgpLm1heCgyNTUpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9pZERlc2NyaXB0aW9uKFwicHJvamVjdCBicmFuY2hcIiksIGV4YW1wbGVWYWx1ZTogXCJtYWluXCIgfSB9KTtcbnZhciBwcm9qZWN0RGlzcGxheU5hbWVTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfZGlzcGxheU5hbWVEZXNjcmlwdGlvbihcInByb2plY3RcIiksIGV4YW1wbGVWYWx1ZTogXCJNeU11c2ljXCIgfSB9KTtcbnZhciBwcm9qZWN0TG9nb1VybFNjaGVtYSA9IHVybFNjaGVtYS5tYXgoTUFYX0lNQUdFX1NJWkVfQkFTRTY0X0JZVEVTKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIlVSTCBvZiB0aGUgbG9nbyBmb3IgdGhlIHByb2plY3QuIFRoaXMgaXMgdXN1YWxseSBhIGNsb3NlIHRvIDE6MSBpbWFnZSBvZiB0aGUgY29tcGFueSBsb2dvLlwiLCBleGFtcGxlVmFsdWU6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9sb2dvLnBuZ1wiIH0gfSk7XG52YXIgcHJvamVjdEZ1bGxMb2dvVXJsU2NoZW1hID0gdXJsU2NoZW1hLm1heChNQVhfSU1BR0VfU0laRV9CQVNFNjRfQllURVMpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVVJMIG9mIHRoZSBmdWxsIGxvZ28gZm9yIHRoZSBwcm9qZWN0LiBUaGlzIGlzIHVzdWFsbHkgYSB2ZXJ0aWNhbCBpbWFnZSB3aXRoIHRoZSBsb2dvIGFuZCB0aGUgY29tcGFueSBuYW1lLlwiLCBleGFtcGxlVmFsdWU6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9mdWxsLWxvZ28ucG5nXCIgfSB9KTtcbnZhciBwcm9qZWN0RGVzY3JpcHRpb25TY2hlbWEgPSB5dXBTdHJpbmcoKS5udWxsYWJsZSgpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiQSBodW1hbiByZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgcHJvamVjdFwiLCBleGFtcGxlVmFsdWU6IFwiQSBtdXNpYyBzdHJlYW1pbmcgc2VydmljZVwiIH0gfSk7XG52YXIgcHJvamVjdENyZWF0ZWRBdE1pbGxpc1NjaGVtYSA9IHl1cE51bWJlcigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9jcmVhdGVkQXRNaWxsaXNEZXNjcmlwdGlvbihcInByb2plY3RcIiksIGV4YW1wbGVWYWx1ZTogMTYzZTEwIH0gfSk7XG52YXIgcHJvamVjdElzUHJvZHVjdGlvbk1vZGVTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHRoZSBwcm9qZWN0IGlzIGluIHByb2R1Y3Rpb24gbW9kZVwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBwcm9qZWN0Q29uZmlnSWRTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfaWREZXNjcmlwdGlvbihcInByb2plY3QgY29uZmlnXCIpLCBleGFtcGxlVmFsdWU6IFwiZDA5MjAxZjAtNTRmNS00MGJkLTg5ZmYtNmQxODE1ZGRhZDI0XCIgfSB9KTtcbnZhciBwcm9qZWN0QWxsb3dMb2NhbGhvc3RTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIGxvY2FsaG9zdCBpcyBhbGxvd2VkIGFzIGEgZG9tYWluIGZvciB0aGlzIHByb2plY3QuIFNob3VsZCBvbmx5IGJlIGFsbG93ZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZVwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBwcm9qZWN0Q3JlYXRlVGVhbU9uU2lnblVwU2NoZW1hID0geXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiV2hldGhlciBhIHRlYW0gc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIGVhY2ggdXNlciB0aGF0IHNpZ25zIHVwXCIsIGV4YW1wbGVWYWx1ZTogdHJ1ZSB9IH0pO1xudmFyIHByb2plY3RNYWdpY0xpbmtFbmFibGVkU2NoZW1hID0geXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiV2hldGhlciBtYWdpYyBsaW5rIGF1dGhlbnRpY2F0aW9uIGlzIGVuYWJsZWQgZm9yIHRoaXMgcHJvamVjdFwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBwcm9qZWN0UGFzc2tleUVuYWJsZWRTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHBhc3NrZXkgYXV0aGVudGljYXRpb24gaXMgZW5hYmxlZCBmb3IgdGhpcyBwcm9qZWN0XCIsIGV4YW1wbGVWYWx1ZTogdHJ1ZSB9IH0pO1xudmFyIHByb2plY3RDbGllbnRUZWFtQ3JlYXRpb25FbmFibGVkU2NoZW1hID0geXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiV2hldGhlciBjbGllbnQgdXNlcnMgY2FuIGNyZWF0ZSB0ZWFtc1wiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBwcm9qZWN0Q2xpZW50VXNlckRlbGV0aW9uRW5hYmxlZFNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgY2xpZW50IHVzZXJzIGNhbiBkZWxldGUgdGhlaXIgb3duIGFjY291bnQgZnJvbSB0aGUgY2xpZW50XCIsIGV4YW1wbGVWYWx1ZTogdHJ1ZSB9IH0pO1xudmFyIHByb2plY3RTaWduVXBFbmFibGVkU2NoZW1hID0geXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiV2hldGhlciB1c2VycyBjYW4gc2lnbiB1cCBuZXcgYWNjb3VudHMsIG9yIHdoZXRoZXIgdGhleSBhcmUgb25seSBhbGxvd2VkIHRvIHNpZ24gaW4gdG8gZXhpc3RpbmcgYWNjb3VudHMuIFJlZ2FyZGxlc3Mgb2YgdGhpcyBvcHRpb24sIHRoZSBzZXJ2ZXIgQVBJIGNhbiBhbHdheXMgY3JlYXRlIG5ldyB1c2VycyB3aXRoIHRoZSBgUE9TVCAvdXNlcnNgIGVuZHBvaW50LlwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBwcm9qZWN0Q3JlZGVudGlhbEVuYWJsZWRTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIGVtYWlsIHBhc3N3b3JkIGF1dGhlbnRpY2F0aW9uIGlzIGVuYWJsZWQgZm9yIHRoaXMgcHJvamVjdFwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBvYXV0aElkU2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoYWxsUHJvdmlkZXJzKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBgT0F1dGggcHJvdmlkZXIgSUQsIG9uZSBvZiAke2FsbFByb3ZpZGVycy5tYXAoKHgpID0+IGBcXGAke3h9XFxgYCkuam9pbihcIiwgXCIpfWAsIGV4YW1wbGVWYWx1ZTogXCJnb29nbGVcIiB9IH0pO1xudmFyIG9hdXRoRW5hYmxlZFNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgdGhlIE9BdXRoIHByb3ZpZGVyIGlzIGVuYWJsZWQuIElmIGFuIHByb3ZpZGVyIGlzIGZpcnN0IGVuYWJsZWQsIHRoZW4gZGlzYWJsZWQsIGl0IHdpbGwgYmUgc2hvd24gaW4gdGhlIGxpc3QgYnV0IHdpdGggZW5hYmxlZD1mYWxzZVwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBvYXV0aFR5cGVTY2hlbWEgPSB5dXBTdHJpbmcoKS5vbmVPZihbXCJzaGFyZWRcIiwgXCJzdGFuZGFyZFwiXSkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogJ09BdXRoIHByb3ZpZGVyIHR5cGUsIG9uZSBvZiBzaGFyZWQsIHN0YW5kYXJkLiBcInNoYXJlZFwiIHVzZXMgU3RhY2sgc2hhcmVkIE9BdXRoIGtleXMgYW5kIGl0IGlzIG9ubHkgbWVhbnQgZm9yIGRldmVsb3BtZW50LiBcInN0YW5kYXJkXCIgdXNlcyB5b3VyIG93biBPQXV0aCBrZXlzIGFuZCB3aWxsIHNob3cgeW91ciBsb2dvIGFuZCBjb21wYW55IG5hbWUgd2hlbiBzaWduaW5nIGluIHdpdGggdGhlIHByb3ZpZGVyLicsIGV4YW1wbGVWYWx1ZTogXCJzdGFuZGFyZFwiIH0gfSk7XG52YXIgb2F1dGhDbGllbnRJZFNjaGVtYSA9IHl1cFN0cmluZygpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246ICdPQXV0aCBjbGllbnQgSUQuIE5lZWRzIHRvIGJlIHNwZWNpZmllZCB3aGVuIHVzaW5nIHR5cGU9XCJzdGFuZGFyZFwiJywgZXhhbXBsZVZhbHVlOiBcImdvb2dsZS1vYXV0aC1jbGllbnQtaWRcIiB9IH0pO1xudmFyIG9hdXRoQ2xpZW50U2VjcmV0U2NoZW1hID0geXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogJ09BdXRoIGNsaWVudCBzZWNyZXQuIE5lZWRzIHRvIGJlIHNwZWNpZmllZCB3aGVuIHVzaW5nIHR5cGU9XCJzdGFuZGFyZFwiJywgZXhhbXBsZVZhbHVlOiBcImdvb2dsZS1vYXV0aC1jbGllbnQtc2VjcmV0XCIgfSB9KTtcbnZhciBvYXV0aEZhY2Vib29rQ29uZmlnSWRTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIlRoZSBjb25maWd1cmF0aW9uIGlkIGZvciBGYWNlYm9vayBidXNpbmVzcyBsb2dpbiAoZm9yIHRoaW5ncyBsaWtlIGFkcyBhbmQgbWFya2V0aW5nKS4gVGhpcyBpcyBvbmx5IHJlcXVpcmVkIGlmIHlvdSBhcmUgdXNpbmcgdGhlIHN0YW5kYXJkIE9BdXRoIHdpdGggRmFjZWJvb2sgYW5kIHlvdSBhcmUgdXNpbmcgRmFjZWJvb2sgYnVzaW5lc3MgbG9naW4uXCIgfSB9KTtcbnZhciBvYXV0aE1pY3Jvc29mdFRlbmFudElkU2NoZW1hID0geXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJUaGUgTWljcm9zb2Z0IHRlbmFudCBpZCBmb3IgTWljcm9zb2Z0IGRpcmVjdG9yeS4gVGhpcyBpcyBvbmx5IHJlcXVpcmVkIGlmIHlvdSBhcmUgdXNpbmcgdGhlIHN0YW5kYXJkIE9BdXRoIHdpdGggTWljcm9zb2Z0IGFuZCB5b3UgaGF2ZSBhbiBBenVyZSBBRCB0ZW5hbnQuXCIgfSB9KTtcbnZhciBvYXV0aEFjY291bnRNZXJnZVN0cmF0ZWd5U2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoW1wibGlua19tZXRob2RcIiwgXCJyYWlzZV9lcnJvclwiLCBcImFsbG93X2R1cGxpY2F0ZXNcIl0pLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiRGV0ZXJtaW5lcyBob3cgdG8gaGFuZGxlIE9BdXRoIGxvZ2lucyB0aGF0IG1hdGNoIGFuIGV4aXN0aW5nIHVzZXIgYnkgZW1haWwuIGBsaW5rX21ldGhvZGAgYWRkcyB0aGUgT0F1dGggbWV0aG9kIHRvIHRoZSBleGlzdGluZyB1c2VyLiBgcmFpc2VfZXJyb3JgIHJlamVjdHMgdGhlIGxvZ2luIHdpdGggYW4gZXJyb3IuIGBhbGxvd19kdXBsaWNhdGVzYCBjcmVhdGVzIGEgbmV3IHVzZXIuXCIsIGV4YW1wbGVWYWx1ZTogXCJsaW5rX21ldGhvZFwiIH0gfSk7XG52YXIgZW1haWxUeXBlU2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoW1wic2hhcmVkXCIsIFwic3RhbmRhcmRcIl0pLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246ICdFbWFpbCBwcm92aWRlciB0eXBlLCBvbmUgb2Ygc2hhcmVkLCBzdGFuZGFyZC4gXCJzaGFyZWRcIiB1c2VzIFN0YWNrIHNoYXJlZCBlbWFpbCBwcm92aWRlciBhbmQgaXQgaXMgb25seSBtZWFudCBmb3IgZGV2ZWxvcG1lbnQuIFwic3RhbmRhcmRcIiB1c2VzIHlvdXIgb3duIGVtYWlsIHNlcnZlciBhbmQgd2lsbCBoYXZlIHlvdXIgZW1haWwgYWRkcmVzcyBhcyB0aGUgc2VuZGVyLicsIGV4YW1wbGVWYWx1ZTogXCJzdGFuZGFyZFwiIH0gfSk7XG52YXIgZW1haWxTZW5kZXJOYW1lU2NoZW1hID0geXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogJ0VtYWlsIHNlbmRlciBuYW1lLiBOZWVkcyB0byBiZSBzcGVjaWZpZWQgd2hlbiB1c2luZyB0eXBlPVwic3RhbmRhcmRcIicsIGV4YW1wbGVWYWx1ZTogXCJTdGFja1wiIH0gfSk7XG52YXIgZW1haWxIb3N0U2NoZW1hID0geXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogJ0VtYWlsIGhvc3QuIE5lZWRzIHRvIGJlIHNwZWNpZmllZCB3aGVuIHVzaW5nIHR5cGU9XCJzdGFuZGFyZFwiJywgZXhhbXBsZVZhbHVlOiBcInNtdHAueW91ci1kb21haW4uY29tXCIgfSB9KTtcbnZhciBlbWFpbFBvcnRTY2hlbWEgPSB5dXBOdW1iZXIoKS5taW4oMCkubWF4KDY1NTM1KS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiAnRW1haWwgcG9ydC4gTmVlZHMgdG8gYmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgdHlwZT1cInN0YW5kYXJkXCInLCBleGFtcGxlVmFsdWU6IDU4NyB9IH0pO1xudmFyIGVtYWlsVXNlcm5hbWVTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiAnRW1haWwgdXNlcm5hbWUuIE5lZWRzIHRvIGJlIHNwZWNpZmllZCB3aGVuIHVzaW5nIHR5cGU9XCJzdGFuZGFyZFwiJywgZXhhbXBsZVZhbHVlOiBcInNtdHAtZW1haWxcIiB9IH0pO1xudmFyIGVtYWlsU2VuZGVyRW1haWxTY2hlbWEgPSBlbWFpbFNjaGVtYS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiAnRW1haWwgc2VuZGVyIGVtYWlsLiBOZWVkcyB0byBiZSBzcGVjaWZpZWQgd2hlbiB1c2luZyB0eXBlPVwic3RhbmRhcmRcIicsIGV4YW1wbGVWYWx1ZTogXCJleGFtcGxlQHlvdXItZG9tYWluLmNvbVwiIH0gfSk7XG52YXIgZW1haWxQYXNzd29yZFNjaGVtYSA9IHBhc3N3b3JkU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246ICdFbWFpbCBwYXNzd29yZC4gTmVlZHMgdG8gYmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgdHlwZT1cInN0YW5kYXJkXCInLCBleGFtcGxlVmFsdWU6IFwieW91ci1lbWFpbC1wYXNzd29yZFwiIH0gfSk7XG52YXIgaGFuZGxlclBhdGhTY2hlbWEgPSB5dXBTdHJpbmcoKS50ZXN0KFwiaXMtaGFuZGxlci1wYXRoXCIsIFwiSGFuZGxlciBwYXRoIG11c3Qgc3RhcnQgd2l0aCAvXCIsICh2YWx1ZSkgPT4gdmFsdWU/LnN0YXJ0c1dpdGgoXCIvXCIpKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiAnSGFuZGxlciBwYXRoLiBJZiB5b3UgZGlkIG5vdCBzZXR1cCBhIGN1c3RvbSBoYW5kbGVyIHBhdGgsIGl0IHNob3VsZCBiZSBcIi9oYW5kbGVyXCIgYnkgZGVmYXVsdC4gSXQgbmVlZHMgdG8gc3RhcnQgd2l0aCAvJywgZXhhbXBsZVZhbHVlOiBcIi9oYW5kbGVyXCIgfSB9KTtcbnZhciBlbWFpbFRoZW1lU2NoZW1hID0geXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJFbWFpbCB0aGVtZSBpZCBmb3IgdGhlIHByb2plY3QuIERldGVybWluZXMgdGhlIHZpc3VhbCBzdHlsZSBvZiBlbWFpbHMgc2VudCBieSB0aGUgcHJvamVjdC5cIiB9IH0pO1xudmFyIGVtYWlsVGhlbWVMaXN0U2NoZW1hID0geXVwUmVjb3JkKFxuICB5dXBTdHJpbmcoKS51dWlkKCksXG4gIHl1cE9iamVjdCh7XG4gICAgZGlzcGxheU5hbWU6IHl1cFN0cmluZygpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiRW1haWwgdGhlbWUgbmFtZVwiLCBleGFtcGxlVmFsdWU6IFwiRGVmYXVsdCBMaWdodFwiIH0gfSkuZGVmaW5lZCgpLFxuICAgIHRzeFNvdXJjZTogeXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJFbWFpbCB0aGVtZSBzb3VyY2UgY29kZSB0c3ggY29tcG9uZW50XCIgfSB9KS5kZWZpbmVkKClcbiAgfSlcbikubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJSZWNvcmQgb2YgZW1haWwgdGhlbWUgSURzIHRvIHRoZWlyIGRpc3BsYXkgbmFtZSBhbmQgc291cmNlIGNvZGVcIiB9IH0pO1xudmFyIHRlbXBsYXRlVGhlbWVJZFNjaGVtYSA9IHl1cE1peGVkKCkudGVzdCgodikgPT4gdiA9PT0gdm9pZCAwIHx8IHYgPT09IGZhbHNlIHx8IHYgPT09IG51bGwgfHwgdHlwZW9mIHYgPT09IFwic3RyaW5nXCIgJiYgaXNVdWlkKHYpKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIkVtYWlsIHRoZW1lIGlkIGZvciB0aGUgdGVtcGxhdGVcIiB9IH0pLm9wdGlvbmFsKCk7XG52YXIgZW1haWxUZW1wbGF0ZUxpc3RTY2hlbWEgPSB5dXBSZWNvcmQoXG4gIHl1cFN0cmluZygpLnV1aWQoKSxcbiAgeXVwT2JqZWN0KHtcbiAgICBkaXNwbGF5TmFtZTogeXVwU3RyaW5nKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJFbWFpbCB0ZW1wbGF0ZSBuYW1lXCIsIGV4YW1wbGVWYWx1ZTogXCJFbWFpbCBWZXJpZmljYXRpb25cIiB9IH0pLmRlZmluZWQoKSxcbiAgICB0c3hTb3VyY2U6IHl1cFN0cmluZygpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiRW1haWwgdGVtcGxhdGUgc291cmNlIGNvZGUgdHN4IGNvbXBvbmVudFwiIH0gfSkuZGVmaW5lZCgpLFxuICAgIC8vIHRoZW1lSWQgY2FuIGJlIG9uZSBvZiB0aHJlZSB2YWx1ZXM6XG4gICAgLy8gMS4gQSB2YWxpZCB0aGVtZSBpZFxuICAgIC8vIDIuIGZhbHNlLCB3aGljaCBtZWFucyB0aGUgdGVtcGxhdGUgdXNlcyBubyB0aGVtZVxuICAgIC8vIDMuIHVuZGVmaW5lZC9ub3QgZ2l2ZW4sIHdoaWNoIG1lYW5zIHRoZSB0ZW1wbGF0ZSB1c2VzIHRoZSBwcm9qZWN0J3MgYWN0aXZlIHRoZW1lXG4gICAgdGhlbWVJZDogdGVtcGxhdGVUaGVtZUlkU2NoZW1hXG4gIH0pXG4pLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiUmVjb3JkIG9mIGVtYWlsIHRlbXBsYXRlIElEcyB0byB0aGVpciBkaXNwbGF5IG5hbWUgYW5kIHNvdXJjZSBjb2RlXCIgfSB9KTtcbnZhciBjdXN0b21lclR5cGVTY2hlbWEgPSB5dXBTdHJpbmcoKS5vbmVPZihbXCJ1c2VyXCIsIFwidGVhbVwiLCBcImN1c3RvbVwiXSk7XG52YXIgdmFsaWRhdGVIYXNBdExlYXN0T25lU3VwcG9ydGVkQ3VycmVuY3kgPSAodmFsdWUsIGNvbnRleHQpID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGN1cnJlbmNpZXMgPSBPYmplY3Qua2V5cyh2YWx1ZSkuZmlsdGVyKChrZXkpID0+IFNVUFBPUlRFRF9DVVJSRU5DSUVTLnNvbWUoKGMpID0+IGMuY29kZSA9PT0ga2V5KSk7XG4gIGlmIChjdXJyZW5jaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjb250ZXh0LmNyZWF0ZUVycm9yKHsgbWVzc2FnZTogXCJBdCBsZWFzdCBvbmUgY3VycmVuY3kgaXMgcmVxdWlyZWRcIiB9KTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgb2ZmZXJQcmljZVNjaGVtYSA9IHl1cE9iamVjdCh7XG4gIC4uLnR5cGVkRnJvbUVudHJpZXMoU1VQUE9SVEVEX0NVUlJFTkNJRVMubWFwKChjdXJyZW5jeSkgPT4gW2N1cnJlbmN5LmNvZGUsIG1vbmV5QW1vdW50U2NoZW1hKGN1cnJlbmN5KS5vcHRpb25hbCgpXSkpLFxuICBpbnRlcnZhbDogZGF5SW50ZXJ2YWxTY2hlbWEub3B0aW9uYWwoKSxcbiAgc2VydmVyT25seTogeXVwQm9vbGVhbigpLFxuICBmcmVlVHJpYWw6IGRheUludGVydmFsU2NoZW1hLm9wdGlvbmFsKClcbn0pLnRlc3QoXCJhdC1sZWFzdC1vbmUtY3VycmVuY3lcIiwgKHZhbHVlLCBjb250ZXh0KSA9PiB2YWxpZGF0ZUhhc0F0TGVhc3RPbmVTdXBwb3J0ZWRDdXJyZW5jeSh2YWx1ZSwgY29udGV4dCkpO1xudmFyIHByaWNlT3JJbmNsdWRlQnlEZWZhdWx0U2NoZW1hID0geXVwVW5pb24oXG4gIHl1cFN0cmluZygpLm9uZU9mKFtcImluY2x1ZGUtYnktZGVmYXVsdFwiXSkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJNYWtlcyB0aGlzIGl0ZW0gZnJlZSBhbmQgaW5jbHVkZXMgaXQgYnkgZGVmYXVsdCBmb3IgYWxsIGN1c3RvbWVycy5cIiwgZXhhbXBsZVZhbHVlOiBcImluY2x1ZGUtYnktZGVmYXVsdFwiIH0gfSksXG4gIHl1cFJlY29yZChcbiAgICB1c2VyU3BlY2lmaWVkSWRTY2hlbWEoXCJwcmljZUlkXCIpLFxuICAgIG9mZmVyUHJpY2VTY2hlbWFcbiAgKVxuKTtcbnZhciBvZmZlclNjaGVtYSA9IHl1cE9iamVjdCh7XG4gIGRpc3BsYXlOYW1lOiB5dXBTdHJpbmcoKSxcbiAgZ3JvdXBJZDogdXNlclNwZWNpZmllZElkU2NoZW1hKFwiZ3JvdXBJZFwiKS5vcHRpb25hbCgpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVGhlIElEIG9mIHRoZSBncm91cCB0aGlzIG9mZmVyIGJlbG9uZ3MgdG8uIFdpdGhpbiBhIGdyb3VwLCBhbGwgb2ZmZXJzIGFyZSBtdXR1YWxseSBleGNsdXNpdmUgdW5sZXNzIHRoZXkgYXJlIGFuIGFkZC1vbiB0byBhbm90aGVyIG9mZmVyIGluIHRoZSBncm91cC5cIiwgZXhhbXBsZVZhbHVlOiBcImdyb3VwLWlkXCIgfSB9KSxcbiAgaXNBZGRPblRvOiB5dXBVbmlvbihcbiAgICB5dXBCb29sZWFuKCkuaXNGYWxzZSgpLFxuICAgIHl1cFJlY29yZChcbiAgICAgIHVzZXJTcGVjaWZpZWRJZFNjaGVtYShcIm9mZmVySWRcIiksXG4gICAgICB5dXBCb29sZWFuKCkuaXNUcnVlKCkuZGVmaW5lZCgpXG4gICAgKVxuICApLm9wdGlvbmFsKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJUaGUgb2ZmZXJzIHRoYXQgdGhpcyBvZmZlciBpcyBhbiBhZGQtb24gdG8uIElmIHRoaXMgaXMgc2V0LCB0aGUgY3VzdG9tZXIgbXVzdCBhbHJlYWR5IGhhdmUgb25lIG9mIHRoZSBvZmZlcnMgaW4gdGhlIHJlY29yZCB0byBiZSBhYmxlIHRvIHB1cmNoYXNlIHRoaXMgb2ZmZXIuXCIsIGV4YW1wbGVWYWx1ZTogeyBcIm9mZmVyLWlkXCI6IHRydWUgfSB9IH0pLFxuICBjdXN0b21lclR5cGU6IGN1c3RvbWVyVHlwZVNjaGVtYS5kZWZpbmVkKCksXG4gIGZyZWVUcmlhbDogZGF5SW50ZXJ2YWxTY2hlbWEub3B0aW9uYWwoKSxcbiAgc2VydmVyT25seTogeXVwQm9vbGVhbigpLFxuICBzdGFja2FibGU6IHl1cEJvb2xlYW4oKSxcbiAgcHJpY2VzOiBwcmljZU9ySW5jbHVkZUJ5RGVmYXVsdFNjaGVtYS5kZWZpbmVkKCksXG4gIGluY2x1ZGVkSXRlbXM6IHl1cFJlY29yZChcbiAgICB1c2VyU3BlY2lmaWVkSWRTY2hlbWEoXCJpdGVtSWRcIiksXG4gICAgeXVwT2JqZWN0KHtcbiAgICAgIHF1YW50aXR5OiB5dXBOdW1iZXIoKS5kZWZpbmVkKCksXG4gICAgICByZXBlYXQ6IGRheUludGVydmFsT3JOZXZlclNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgZXhwaXJlczogeXVwU3RyaW5nKCkub25lT2YoW1wibmV2ZXJcIiwgXCJ3aGVuLXB1cmNoYXNlLWV4cGlyZXNcIiwgXCJ3aGVuLXJlcGVhdGVkXCJdKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgKVxufSk7XG52YXIgaW5saW5lT2ZmZXJTY2hlbWEgPSB5dXBPYmplY3Qoe1xuICBkaXNwbGF5X25hbWU6IHl1cFN0cmluZygpLmRlZmluZWQoKSxcbiAgY3VzdG9tZXJfdHlwZTogY3VzdG9tZXJUeXBlU2NoZW1hLmRlZmluZWQoKSxcbiAgZnJlZV90cmlhbDogZGF5SW50ZXJ2YWxTY2hlbWEub3B0aW9uYWwoKSxcbiAgc2VydmVyX29ubHk6IHl1cEJvb2xlYW4oKS5vbmVPZihbdHJ1ZV0pLmRlZmF1bHQodHJ1ZSksXG4gIHByaWNlczogeXVwUmVjb3JkKFxuICAgIHVzZXJTcGVjaWZpZWRJZFNjaGVtYShcInByaWNlSWRcIiksXG4gICAgeXVwT2JqZWN0KHtcbiAgICAgIC4uLnR5cGVkRnJvbUVudHJpZXMoU1VQUE9SVEVEX0NVUlJFTkNJRVMubWFwKChjdXJyZW5jeSkgPT4gW2N1cnJlbmN5LmNvZGUsIG1vbmV5QW1vdW50U2NoZW1hKGN1cnJlbmN5KS5vcHRpb25hbCgpXSkpLFxuICAgICAgaW50ZXJ2YWw6IGRheUludGVydmFsU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICBmcmVlX3RyaWFsOiBkYXlJbnRlcnZhbFNjaGVtYS5vcHRpb25hbCgpXG4gICAgfSkudGVzdChcImF0LWxlYXN0LW9uZS1jdXJyZW5jeVwiLCAodmFsdWUsIGNvbnRleHQpID0+IHZhbGlkYXRlSGFzQXRMZWFzdE9uZVN1cHBvcnRlZEN1cnJlbmN5KHZhbHVlLCBjb250ZXh0KSlcbiAgKSxcbiAgaW5jbHVkZWRfaXRlbXM6IHl1cFJlY29yZChcbiAgICB1c2VyU3BlY2lmaWVkSWRTY2hlbWEoXCJpdGVtSWRcIiksXG4gICAgeXVwT2JqZWN0KHtcbiAgICAgIHF1YW50aXR5OiB5dXBOdW1iZXIoKSxcbiAgICAgIHJlcGVhdDogZGF5SW50ZXJ2YWxPck5ldmVyU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICBleHBpcmVzOiB5dXBTdHJpbmcoKS5vbmVPZihbXCJuZXZlclwiLCBcIndoZW4tcHVyY2hhc2UtZXhwaXJlc1wiLCBcIndoZW4tcmVwZWF0ZWRcIl0pLm9wdGlvbmFsKClcbiAgICB9KVxuICApXG59KTtcbnZhciBSZXBsYWNlRmllbGRXaXRoT3duVXNlcklkID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHBhdGgpIHtcbiAgICBzdXBlcihgVGhpcyBlcnJvciBzaG91bGQgYmUgY2F1Z2h0IGJ5IHdob2V2ZXIgdmFsaWRhdGVkIHRoZSBzY2hlbWEsIGFuZCB0aGUgZmllbGQgaW4gdGhlIHBhdGggJyR7cGF0aH0nIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIHRoZSBjdXJyZW50IHVzZXIncyBpZC4gVGhpcyBpcyBhIHdvcmthcm91bmQgdG8geXVwIG5vdCBwcm92aWRpbmcgYWNjZXNzIHRvIHRoZSBjb250ZXh0IGluc2lkZSB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uLmApO1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gIH1cbn07XG52YXIgdXNlcklkTWVTZW50aW5lbFV1aWQgPSBcImNhZDU2NGZkLWY4MWItNDNmNC1iMzkwLTk4YWJmM2ZjYzE3ZVwiO1xudmFyIHVzZXJJZE9yTWVTY2hlbWEgPSB5dXBTdHJpbmcoKS51dWlkKCkudHJhbnNmb3JtKCh2KSA9PiB7XG4gIGlmICh2ID09PSBcIm1lXCIpIHJldHVybiB1c2VySWRNZVNlbnRpbmVsVXVpZDtcbiAgZWxzZSByZXR1cm4gdjtcbn0pLnRlc3QoKHYsIGNvbnRleHQpID0+IHtcbiAgaWYgKCEoXCJzdGFja0FsbG93VXNlcklkTWVcIiBpbiAoY29udGV4dC5vcHRpb25zLmNvbnRleHQgPz8ge30pKSkgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJ1c2VySWRPck1lU2NoZW1hIGlzIG5vdCBhbGxvd2VkIGluIHRoaXMgY29udGV4dC4gTWFrZSBzdXJlIHlvdSdyZSB1c2luZyB5dXBWYWxpZGF0ZSBmcm9tIHNjaGVtYS1maWVsZHMudHMgdG8gdmFsaWRhdGUsIGluc3RlYWQgb2Ygc2NoZW1hLnZhbGlkYXRlKC4uLikuXCIpO1xuICBpZiAoIWNvbnRleHQub3B0aW9ucy5jb250ZXh0Py5zdGFja0FsbG93VXNlcklkTWUpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwidXNlcklkT3JNZVNjaGVtYSBpcyBub3QgYWxsb3dlZCBpbiB0aGlzIGNvbnRleHQuIE1ha2Ugc3VyZSB5b3UncmUgcGFzc2luZyBpbiB0aGUgY3VycmVudFVzZXJJZCBvcHRpb24gaW4geXVwVmFsaWRhdGUuXCIpO1xuICBpZiAodiA9PT0gdXNlcklkTWVTZW50aW5lbFV1aWQpIHRocm93IG5ldyBSZXBsYWNlRmllbGRXaXRoT3duVXNlcklkKGNvbnRleHQucGF0aCk7XG4gIHJldHVybiB0cnVlO1xufSkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJUaGUgSUQgb2YgdGhlIHVzZXIsIG9yIHRoZSBzcGVjaWFsIHZhbHVlIGBtZWAgZm9yIHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyXCIsIGV4YW1wbGVWYWx1ZTogXCIzMjQxYTI4NS04MzI5LTRkNjktOGYzZC0zMTZlMDhjZjE0MGNcIiB9IH0pO1xudmFyIHVzZXJJZFNjaGVtYSA9IHl1cFN0cmluZygpLnV1aWQoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfaWREZXNjcmlwdGlvbihcInVzZXJcIiksIGV4YW1wbGVWYWx1ZTogXCIzMjQxYTI4NS04MzI5LTRkNjktOGYzZC0zMTZlMDhjZjE0MGNcIiB9IH0pO1xudmFyIHByaW1hcnlFbWFpbFNjaGVtYSA9IGVtYWlsU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiUHJpbWFyeSBlbWFpbFwiLCBleGFtcGxlVmFsdWU6IFwiam9obmRvZUBleGFtcGxlLmNvbVwiIH0gfSk7XG52YXIgcHJpbWFyeUVtYWlsQXV0aEVuYWJsZWRTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHRoZSBwcmltYXJ5IGVtYWlsIGlzIHVzZWQgZm9yIGF1dGhlbnRpY2F0aW9uLiBJZiB0aGlzIGlzIHNldCB0byBgZmFsc2VgLCB0aGUgdXNlciB3aWxsIG5vdCBiZSBhYmxlIHRvIHNpZ24gaW4gd2l0aCB0aGUgcHJpbWFyeSBlbWFpbCB3aXRoIHBhc3N3b3JkIG9yIE9UUFwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciBwcmltYXJ5RW1haWxWZXJpZmllZFNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgdGhlIHByaW1hcnkgZW1haWwgaGFzIGJlZW4gdmVyaWZpZWQgdG8gYmVsb25nIHRvIHRoaXMgdXNlclwiLCBleGFtcGxlVmFsdWU6IHRydWUgfSB9KTtcbnZhciB1c2VyRGlzcGxheU5hbWVTY2hlbWEgPSB5dXBTdHJpbmcoKS5udWxsYWJsZSgpLm1heCgyNTYpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9kaXNwbGF5TmFtZURlc2NyaXB0aW9uKFwidXNlclwiKSwgZXhhbXBsZVZhbHVlOiBcIkpvaG4gRG9lXCIgfSB9KTtcbnZhciBzZWxlY3RlZFRlYW1JZFNjaGVtYSA9IHl1cFN0cmluZygpLnV1aWQoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIklEIG9mIHRoZSB0ZWFtIGN1cnJlbnRseSBzZWxlY3RlZCBieSB0aGUgdXNlclwiLCBleGFtcGxlVmFsdWU6IFwidGVhbS1pZFwiIH0gfSk7XG52YXIgcHJvZmlsZUltYWdlVXJsU2NoZW1hID0gdXJsU2NoZW1hLm1heChNQVhfSU1BR0VfU0laRV9CQVNFNjRfQllURVMpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9wcm9maWxlSW1hZ2VVcmxEZXNjcmlwdGlvbihcInVzZXJcIiksIGV4YW1wbGVWYWx1ZTogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZ1wiIH0gfSk7XG52YXIgc2lnbmVkVXBBdE1pbGxpc1NjaGVtYSA9IHl1cE51bWJlcigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9zaWduZWRVcEF0TWlsbGlzRGVzY3JpcHRpb24sIGV4YW1wbGVWYWx1ZTogMTYzZTEwIH0gfSk7XG52YXIgdXNlckNsaWVudE1ldGFkYXRhU2NoZW1hID0ganNvblNjaGVtYS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfY2xpZW50TWV0YURhdGFEZXNjcmlwdGlvbihcInVzZXJcIiksIGV4YW1wbGVWYWx1ZTogeyBrZXk6IFwidmFsdWVcIiB9IH0gfSk7XG52YXIgdXNlckNsaWVudFJlYWRPbmx5TWV0YWRhdGFTY2hlbWEgPSBqc29uU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9jbGllbnRSZWFkT25seU1ldGFEYXRhRGVzY3JpcHRpb24oXCJ1c2VyXCIpLCBleGFtcGxlVmFsdWU6IHsga2V5OiBcInZhbHVlXCIgfSB9IH0pO1xudmFyIHVzZXJTZXJ2ZXJNZXRhZGF0YVNjaGVtYSA9IGpzb25TY2hlbWEubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogX3NlcnZlck1ldGFEYXRhRGVzY3JpcHRpb24oXCJ1c2VyXCIpLCBleGFtcGxlVmFsdWU6IHsga2V5OiBcInZhbHVlXCIgfSB9IH0pO1xudmFyIHVzZXJPQXV0aFByb3ZpZGVyU2NoZW1hID0geXVwT2JqZWN0KHtcbiAgaWQ6IHl1cFN0cmluZygpLmRlZmluZWQoKSxcbiAgdHlwZTogeXVwU3RyaW5nKCkub25lT2YoYWxsUHJvdmlkZXJzKS5kZWZpbmVkKCksXG4gIHByb3ZpZGVyX3VzZXJfaWQ6IHl1cFN0cmluZygpLmRlZmluZWQoKVxufSk7XG52YXIgdXNlckxhc3RBY3RpdmVBdE1pbGxpc1NjaGVtYSA9IHl1cE51bWJlcigpLm51bGxhYmxlKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogX2xhc3RBY3RpdmVBdE1pbGxpc0Rlc2NyaXB0aW9uLCBleGFtcGxlVmFsdWU6IDE2M2UxMCB9IH0pO1xudmFyIHVzZXJQYXNza2V5QXV0aEVuYWJsZWRTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBoaWRkZW46IHRydWUsIGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgdGhlIHVzZXIgaGFzIHBhc3NrZXlzIGVuYWJsZWRcIiwgZXhhbXBsZVZhbHVlOiBmYWxzZSB9IH0pO1xudmFyIHVzZXJPdHBBdXRoRW5hYmxlZFNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGhpZGRlbjogdHJ1ZSwgZGVzY3JpcHRpb246IFwiV2hldGhlciB0aGUgdXNlciBoYXMgT1RQL21hZ2ljIGxpbmsgZW5hYmxlZC4gXCIsIGV4YW1wbGVWYWx1ZTogdHJ1ZSB9IH0pO1xudmFyIHVzZXJPdHBBdXRoRW5hYmxlZE11dGF0aW9uU2NoZW1hID0geXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgaGlkZGVuOiB0cnVlLCBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHRoZSB1c2VyIGhhcyBPVFAvbWFnaWMgbGluayBlbmFibGVkLiBOb3RlIHRoYXQgb25seSBhY2NvdW50cyB3aXRoIHZlcmlmaWVkIGVtYWlscyBjYW4gc2lnbi1pbiB3aXRoIE9UUC5cIiwgZXhhbXBsZVZhbHVlOiB0cnVlIH0gfSk7XG52YXIgdXNlckhhc1Bhc3N3b3JkU2NoZW1hID0geXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgaGlkZGVuOiB0cnVlLCBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHRoZSB1c2VyIGhhcyBhIHBhc3N3b3JkIHNldC4gSWYgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHBhc3N3b3JkIHNldCwgdGhleSB3aWxsIG5vdCBiZSBhYmxlIHRvIHNpZ24gaW4gd2l0aCBlbWFpbC9wYXNzd29yZC5cIiwgZXhhbXBsZVZhbHVlOiB0cnVlIH0gfSk7XG52YXIgdXNlclBhc3N3b3JkTXV0YXRpb25TY2hlbWEgPSBwYXNzd29yZFNjaGVtYS5udWxsYWJsZSgpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiU2V0cyB0aGUgdXNlcidzIHBhc3N3b3JkLiBEb2luZyBzbyByZXZva2VzIGFsbCBjdXJyZW50IHNlc3Npb25zLlwiLCBleGFtcGxlVmFsdWU6IFwibXktbmV3LXBhc3N3b3JkXCIgfSB9KS5tYXgoNzApO1xudmFyIHVzZXJQYXNzd29yZEhhc2hNdXRhdGlvblNjaGVtYSA9IHl1cFN0cmluZygpLm5vbkVtcHR5KCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJJZiBgcGFzc3dvcmRgIGlzIG5vdCBnaXZlbiwgc2V0cyB0aGUgdXNlcidzIHBhc3N3b3JkIGhhc2ggdG8gdGhlIGdpdmVuIHN0cmluZyBpbiBNb2R1bGFyIENyeXB0IEZvcm1hdCAoZXguOiBgJDJhJDEwJFZJaElPb2ZTTXFHZEdsTDR3ekUvL2UuNzdkQVFHcU50Ri8xZFQ3YnFDclZ0UXVJbld5MnFpYCkuIERvaW5nIHNvIHJldm9rZXMgYWxsIGN1cnJlbnQgc2Vzc2lvbnMuXCIgfSB9KTtcbnZhciB1c2VyVG90cFNlY3JldE11dGF0aW9uU2NoZW1hID0gYmFzZTY0U2NoZW1hLm51bGxhYmxlKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJFbmFibGVzIDJGQSBhbmQgc2V0cyBhIFRPVFAgc2VjcmV0IGZvciB0aGUgdXNlci4gU2V0IHRvIG51bGwgdG8gZGlzYWJsZSAyRkEuXCIsIGV4YW1wbGVWYWx1ZTogXCJkRzkwY0MxelpXTnlaWFE9XCIgfSB9KTtcbnZhciBhY2Nlc3NUb2tlblBheWxvYWRTY2hlbWEgPSB5dXBPYmplY3Qoe1xuICBzdWI6IHl1cFN0cmluZygpLmRlZmluZWQoKSxcbiAgZXhwOiB5dXBOdW1iZXIoKS5vcHRpb25hbCgpLFxuICBpc3M6IHl1cFN0cmluZygpLmRlZmluZWQoKSxcbiAgYXVkOiB5dXBTdHJpbmcoKS5kZWZpbmVkKCksXG4gIHByb2plY3RfaWQ6IHl1cFN0cmluZygpLmRlZmluZWQoKSxcbiAgYnJhbmNoX2lkOiB5dXBTdHJpbmcoKS5kZWZpbmVkKCksXG4gIHJlZnJlc2hfdG9rZW5faWQ6IHl1cFN0cmluZygpLmRlZmluZWQoKSxcbiAgcm9sZTogeXVwU3RyaW5nKCkub25lT2YoW1wiYXV0aGVudGljYXRlZFwiXSkuZGVmaW5lZCgpLFxuICBuYW1lOiB5dXBTdHJpbmcoKS5kZWZpbmVkKCkubnVsbGFibGUoKSxcbiAgZW1haWw6IHl1cFN0cmluZygpLmRlZmluZWQoKS5udWxsYWJsZSgpLFxuICBlbWFpbF92ZXJpZmllZDogeXVwQm9vbGVhbigpLmRlZmluZWQoKSxcbiAgc2VsZWN0ZWRfdGVhbV9pZDogeXVwU3RyaW5nKCkuZGVmaW5lZCgpLm51bGxhYmxlKCksXG4gIGlzX2Fub255bW91czogeXVwQm9vbGVhbigpLmRlZmluZWQoKVxufSk7XG52YXIgc2lnbkluRW1haWxTY2hlbWEgPSBzdHJpY3RFbWFpbFNjaGVtYSh2b2lkIDApLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVGhlIGVtYWlsIHRvIHNpZ24gaW4gd2l0aC5cIiwgZXhhbXBsZVZhbHVlOiBcImpvaG5kb2VAZXhhbXBsZS5jb21cIiB9IH0pO1xudmFyIGVtYWlsT3RwU2lnbkluQ2FsbGJhY2tVcmxTY2hlbWEgPSB1cmxTY2hlbWEubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJUaGUgYmFzZSBjYWxsYmFjayBVUkwgdG8gY29uc3RydWN0IHRoZSBtYWdpYyBsaW5rIGZyb20uIEEgcXVlcnkgcGFyYW1ldGVyIGBjb2RlYCB3aXRoIHRoZSB2ZXJpZmljYXRpb24gY29kZSB3aWxsIGJlIGFwcGVuZGVkIHRvIGl0LiBUaGUgcGFnZSBzaG91bGQgdGhlbiBtYWtlIGEgcmVxdWVzdCB0byB0aGUgYC9hdXRoL290cC9zaWduLWluYCBlbmRwb2ludC5cIiwgZXhhbXBsZVZhbHVlOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaGFuZGxlci9tYWdpYy1saW5rLWNhbGxiYWNrXCIgfSB9KTtcbnZhciBlbWFpbFZlcmlmaWNhdGlvbkNhbGxiYWNrVXJsU2NoZW1hID0gdXJsU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVGhlIGJhc2UgY2FsbGJhY2sgVVJMIHRvIGNvbnN0cnVjdCBhIHZlcmlmaWNhdGlvbiBsaW5rIGZvciB0aGUgdmVyaWZpY2F0aW9uIGUtbWFpbC4gQSBxdWVyeSBwYXJhbWV0ZXIgYGNvZGVgIHdpdGggdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHdpbGwgYmUgYXBwZW5kZWQgdG8gaXQuIFRoZSBwYWdlIHNob3VsZCB0aGVuIG1ha2UgYSByZXF1ZXN0IHRvIHRoZSBgL2NvbnRhY3QtY2hhbm5lbHMvdmVyaWZ5YCBlbmRwb2ludC5cIiwgZXhhbXBsZVZhbHVlOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaGFuZGxlci9lbWFpbC12ZXJpZmljYXRpb25cIiB9IH0pO1xudmFyIGFjY2Vzc1Rva2VuUmVzcG9uc2VTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIlNob3J0LWxpdmVkIGFjY2VzcyB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclwiLCBleGFtcGxlVmFsdWU6IFwiZXlKaG1NaUpCMlRPLi4uZGlJNFFUXCIgfSB9KTtcbnZhciByZWZyZXNoVG9rZW5SZXNwb25zZVNjaGVtYSA9IHl1cFN0cmluZygpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiTG9uZy1saXZlZCByZWZyZXNoIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gb2J0YWluIGEgbmV3IGFjY2VzcyB0b2tlblwiLCBleGFtcGxlVmFsdWU6IFwiaThuczNhcTIuLi4xNHlcIiB9IH0pO1xudmFyIHNpZ25JblJlc3BvbnNlU2NoZW1hID0geXVwT2JqZWN0KHtcbiAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuUmVzcG9uc2VTY2hlbWEuZGVmaW5lZCgpLFxuICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuUmVzcG9uc2VTY2hlbWEuZGVmaW5lZCgpLFxuICBpc19uZXdfdXNlcjogeXVwQm9vbGVhbigpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiV2hldGhlciB0aGUgdXNlciBpcyBhIG5ldyB1c2VyXCIsIGV4YW1wbGVWYWx1ZTogdHJ1ZSB9IH0pLmRlZmluZWQoKSxcbiAgdXNlcl9pZDogdXNlcklkU2NoZW1hLmRlZmluZWQoKVxufSk7XG52YXIgdGVhbVN5c3RlbVBlcm1pc3Npb25zID0gW1xuICBcIiR1cGRhdGVfdGVhbVwiLFxuICBcIiRkZWxldGVfdGVhbVwiLFxuICBcIiRyZWFkX21lbWJlcnNcIixcbiAgXCIkcmVtb3ZlX21lbWJlcnNcIixcbiAgXCIkaW52aXRlX21lbWJlcnNcIixcbiAgXCIkbWFuYWdlX2FwaV9rZXlzXCJcbl07XG52YXIgcGVybWlzc2lvbkRlZmluaXRpb25JZFNjaGVtYSA9IHl1cFN0cmluZygpLm1hdGNoZXMoL15cXCQ/W2EtejAtOV86XSskLywgJ09ubHkgbG93ZXJjYXNlIGxldHRlcnMsIG51bWJlcnMsIFwiOlwiLCBcIl9cIiBhbmQgb3B0aW9uYWwgXCIkXCIgYXQgdGhlIGJlZ2lubmluZyBhcmUgYWxsb3dlZCcpLnRlc3QoXCJpcy1zeXN0ZW0tcGVybWlzc2lvblwiLCBcIlN5c3RlbSBwZXJtaXNzaW9ucyBtdXN0IHN0YXJ0IHdpdGggYSBkb2xsYXIgc2lnblwiLCAodmFsdWUsIGN0eCkgPT4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoXCIkXCIpICYmICF0ZWFtU3lzdGVtUGVybWlzc2lvbnMuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgcmV0dXJuIGN0eC5jcmVhdGVFcnJvcih7IG1lc3NhZ2U6IFwiSW52YWxpZCBzeXN0ZW0gcGVybWlzc2lvblwiIH0pO1xuICB9XG4gIHJldHVybiB0cnVlO1xufSkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogYFRoZSBwZXJtaXNzaW9uIElEIHVzZWQgdG8gdW5pcXVlbHkgaWRlbnRpZnkgYSBwZXJtaXNzaW9uLiBDYW4gZWl0aGVyIGJlIGEgY3VzdG9tIHBlcm1pc3Npb24gd2l0aCBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgXFxgOlxcYCwgYW5kIFxcYF9cXGAgY2hhcmFjdGVycywgb3Igb25lIG9mIHRoZSBzeXN0ZW0gcGVybWlzc2lvbnM6ICR7dGVhbVN5c3RlbVBlcm1pc3Npb25zLm1hcCgoeCkgPT4gYFxcYCR7eH1cXGBgKS5qb2luKFwiLCBcIil9YCwgZXhhbXBsZVZhbHVlOiBcInJlYWRfc2VjcmV0X2luZm9cIiB9IH0pO1xudmFyIGN1c3RvbVBlcm1pc3Npb25EZWZpbml0aW9uSWRTY2hlbWEgPSB5dXBTdHJpbmcoKS5tYXRjaGVzKC9eW2EtejAtOV86XSskLywgJ09ubHkgbG93ZXJjYXNlIGxldHRlcnMsIG51bWJlcnMsIFwiOlwiLCBcIl9cIiBhcmUgYWxsb3dlZCcpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246ICdUaGUgcGVybWlzc2lvbiBJRCB1c2VkIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGEgcGVybWlzc2lvbi4gQ2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgXCI6XCIsIGFuZCBcIl9cIiBjaGFyYWN0ZXJzJywgZXhhbXBsZVZhbHVlOiBcInJlYWRfc2VjcmV0X2luZm9cIiB9IH0pO1xudmFyIHRlYW1QZXJtaXNzaW9uRGVzY3JpcHRpb25TY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIkEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIHBlcm1pc3Npb25cIiwgZXhhbXBsZVZhbHVlOiBcIlJlYWQgc2VjcmV0IGluZm9ybWF0aW9uXCIgfSB9KTtcbnZhciBjb250YWluZWRQZXJtaXNzaW9uSWRzU2NoZW1hID0geXVwQXJyYXkocGVybWlzc2lvbkRlZmluaXRpb25JZFNjaGVtYS5kZWZpbmVkKCkpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVGhlIElEcyBvZiB0aGUgcGVybWlzc2lvbnMgdGhhdCBhcmUgY29udGFpbmVkIGluIHRoaXMgcGVybWlzc2lvblwiLCBleGFtcGxlVmFsdWU6IFtcInJlYWRfcHVibGljX2luZm9cIl0gfSB9KTtcbnZhciB0ZWFtSWRTY2hlbWEgPSB5dXBTdHJpbmcoKS51dWlkKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogX2lkRGVzY3JpcHRpb24oXCJ0ZWFtXCIpLCBleGFtcGxlVmFsdWU6IFwiYWQ5NjI3NzctODI0NC00OTZhLWI2YTItZTBjNmE0NDljNzllXCIgfSB9KTtcbnZhciB0ZWFtRGlzcGxheU5hbWVTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfZGlzcGxheU5hbWVEZXNjcmlwdGlvbihcInRlYW1cIiksIGV4YW1wbGVWYWx1ZTogXCJNeSBUZWFtXCIgfSB9KTtcbnZhciB0ZWFtUHJvZmlsZUltYWdlVXJsU2NoZW1hID0gdXJsU2NoZW1hLm1heCgxZTYpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9wcm9maWxlSW1hZ2VVcmxEZXNjcmlwdGlvbihcInRlYW1cIiksIGV4YW1wbGVWYWx1ZTogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZ1wiIH0gfSk7XG52YXIgdGVhbUNsaWVudE1ldGFkYXRhU2NoZW1hID0ganNvblNjaGVtYS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfY2xpZW50TWV0YURhdGFEZXNjcmlwdGlvbihcInRlYW1cIiksIGV4YW1wbGVWYWx1ZTogeyBrZXk6IFwidmFsdWVcIiB9IH0gfSk7XG52YXIgdGVhbUNsaWVudFJlYWRPbmx5TWV0YWRhdGFTY2hlbWEgPSBqc29uU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9jbGllbnRSZWFkT25seU1ldGFEYXRhRGVzY3JpcHRpb24oXCJ0ZWFtXCIpLCBleGFtcGxlVmFsdWU6IHsga2V5OiBcInZhbHVlXCIgfSB9IH0pO1xudmFyIHRlYW1TZXJ2ZXJNZXRhZGF0YVNjaGVtYSA9IGpzb25TY2hlbWEubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogX3NlcnZlck1ldGFEYXRhRGVzY3JpcHRpb24oXCJ0ZWFtXCIpLCBleGFtcGxlVmFsdWU6IHsga2V5OiBcInZhbHVlXCIgfSB9IH0pO1xudmFyIHRlYW1DcmVhdGVkQXRNaWxsaXNTY2hlbWEgPSB5dXBOdW1iZXIoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfY3JlYXRlZEF0TWlsbGlzRGVzY3JpcHRpb24oXCJ0ZWFtXCIpLCBleGFtcGxlVmFsdWU6IDE2M2UxMCB9IH0pO1xudmFyIHRlYW1JbnZpdGF0aW9uRW1haWxTY2hlbWEgPSBlbWFpbFNjaGVtYS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIlRoZSBlbWFpbCBvZiB0aGUgdXNlciB0byBpbnZpdGUuXCIsIGV4YW1wbGVWYWx1ZTogXCJqb2huZG9lQGV4YW1wbGUuY29tXCIgfSB9KTtcbnZhciB0ZWFtSW52aXRhdGlvbkNhbGxiYWNrVXJsU2NoZW1hID0gdXJsU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVGhlIGJhc2UgY2FsbGJhY2sgVVJMIHRvIGNvbnN0cnVjdCBhbiBpbnZpdGUgbGluayB3aXRoLiBBIHF1ZXJ5IHBhcmFtZXRlciBgY29kZWAgd2l0aCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgd2lsbCBiZSBhcHBlbmRlZCB0byBpdC4gVGhlIHBhZ2Ugc2hvdWxkIHRoZW4gbWFrZSBhIHJlcXVlc3QgdG8gdGhlIGAvdGVhbS1pbnZpdGF0aW9ucy9hY2NlcHRgIGVuZHBvaW50LlwiLCBleGFtcGxlVmFsdWU6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9oYW5kbGVyL3RlYW0taW52aXRhdGlvblwiIH0gfSk7XG52YXIgdGVhbUNyZWF0b3JVc2VySWRTY2hlbWEgPSB1c2VySWRPck1lU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246ICdUaGUgSUQgb2YgdGhlIGNyZWF0b3Igb2YgdGhlIHRlYW0uIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB1c2VyIHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSB0ZWFtLiBDYW4gYmUgZWl0aGVyIFwibWVcIiBvciB0aGUgSUQgb2YgdGhlIHVzZXIuIE9ubHkgdXNlZCBvbiB0aGUgY2xpZW50IHNpZGUuJywgZXhhbXBsZVZhbHVlOiBcIm1lXCIgfSB9KTtcbnZhciB0ZWFtTWVtYmVyRGlzcGxheU5hbWVTY2hlbWEgPSB5dXBTdHJpbmcoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfZGlzcGxheU5hbWVEZXNjcmlwdGlvbihcInRlYW0gbWVtYmVyXCIpICsgXCIgTm90ZSB0aGF0IHRoaXMgaXMgc2VwYXJhdGUgZnJvbSB0aGUgZGlzcGxheV9uYW1lIG9mIHRoZSB1c2VyLlwiLCBleGFtcGxlVmFsdWU6IFwiSm9obiBEb2VcIiB9IH0pO1xudmFyIHRlYW1NZW1iZXJQcm9maWxlSW1hZ2VVcmxTY2hlbWEgPSB1cmxTY2hlbWEubWF4KDFlNikubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogX3Byb2ZpbGVJbWFnZVVybERlc2NyaXB0aW9uKFwidGVhbSBtZW1iZXJcIiksIGV4YW1wbGVWYWx1ZTogXCJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZ1wiIH0gfSk7XG52YXIgY29udGFjdENoYW5uZWxJZFNjaGVtYSA9IHl1cFN0cmluZygpLnV1aWQoKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBfaWREZXNjcmlwdGlvbihcImNvbnRhY3QgY2hhbm5lbFwiKSwgZXhhbXBsZVZhbHVlOiBcImIzZDM5NmI4LWM1NzQtNGM4MC05N2IzLTUwMDMxNjc1Y2ViMlwiIH0gfSk7XG52YXIgY29udGFjdENoYW5uZWxUeXBlU2NoZW1hID0geXVwU3RyaW5nKCkub25lT2YoW1wiZW1haWxcIl0pLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IGBUaGUgdHlwZSBvZiB0aGUgY29udGFjdCBjaGFubmVsLiBDdXJyZW50bHkgb25seSBcImVtYWlsXCIgaXMgc3VwcG9ydGVkLmAsIGV4YW1wbGVWYWx1ZTogXCJlbWFpbFwiIH0gfSk7XG52YXIgY29udGFjdENoYW5uZWxWYWx1ZVNjaGVtYSA9IHl1cFN0cmluZygpLndoZW4oXCJ0eXBlXCIsIHtcbiAgaXM6IFwiZW1haWxcIixcbiAgdGhlbjogKHNjaGVtYSkgPT4gc2NoZW1hLmVtYWlsKClcbn0pLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiVGhlIHZhbHVlIG9mIHRoZSBjb250YWN0IGNoYW5uZWwuIEZvciBlbWFpbCwgdGhpcyBzaG91bGQgYmUgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiLCBleGFtcGxlVmFsdWU6IFwiam9obmRvZUBleGFtcGxlLmNvbVwiIH0gfSk7XG52YXIgY29udGFjdENoYW5uZWxVc2VkRm9yQXV0aFNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgdGhlIGNvbnRhY3QgY2hhbm5lbCBpcyB1c2VkIGZvciBhdXRoZW50aWNhdGlvbi4gSWYgdGhpcyBpcyBzZXQgdG8gYHRydWVgLCB0aGUgdXNlciB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbiB3aXRoIHRoZSBjb250YWN0IGNoYW5uZWwgd2l0aCBwYXNzd29yZCBvciBPVFAuXCIsIGV4YW1wbGVWYWx1ZTogdHJ1ZSB9IH0pO1xudmFyIGNvbnRhY3RDaGFubmVsSXNWZXJpZmllZFNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgdGhlIGNvbnRhY3QgY2hhbm5lbCBoYXMgYmVlbiB2ZXJpZmllZC4gSWYgdGhpcyBpcyBzZXQgdG8gYHRydWVgLCB0aGUgY29udGFjdCBjaGFubmVsIGhhcyBiZWVuIHZlcmlmaWVkIHRvIGJlbG9uZyB0byB0aGUgdXNlci5cIiwgZXhhbXBsZVZhbHVlOiB0cnVlIH0gfSk7XG52YXIgY29udGFjdENoYW5uZWxJc1ByaW1hcnlTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHRoZSBjb250YWN0IGNoYW5uZWwgaXMgdGhlIHByaW1hcnkgY29udGFjdCBjaGFubmVsLiBJZiB0aGlzIGlzIHNldCB0byBgdHJ1ZWAsIGl0IHdpbGwgYmUgdXNlZCBmb3IgYXV0aGVudGljYXRpb24gYW5kIG5vdGlmaWNhdGlvbnMgYnkgZGVmYXVsdC5cIiwgZXhhbXBsZVZhbHVlOiB0cnVlIH0gfSk7XG52YXIgb2F1dGhQcm92aWRlcklkU2NoZW1hID0geXVwU3RyaW5nKCkudXVpZCgpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IF9pZERlc2NyaXB0aW9uKFwiT0F1dGggcHJvdmlkZXJcIiksIGV4YW1wbGVWYWx1ZTogXCJiM2QzOTZiOC1jNTc0LTRjODAtOTdiMy01MDAzMTY3NWNlYjJcIiB9IH0pO1xudmFyIG9hdXRoUHJvdmlkZXJFbWFpbFNjaGVtYSA9IGVtYWlsU2NoZW1hLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiRW1haWwgb2YgdGhlIE9BdXRoIHByb3ZpZGVyLiBUaGlzIGlzIHVzZWQgdG8gZGlzcGxheSBhbmQgaWRlbnRpZnkgdGhlIE9BdXRoIHByb3ZpZGVyIGluIHRoZSBVSS5cIiwgZXhhbXBsZVZhbHVlOiBcInRlc3RAZ21haWwuY29tXCIgfSB9KTtcbnZhciBvYXV0aFByb3ZpZGVyVHlwZVNjaGVtYSA9IHl1cFN0cmluZygpLm9uZU9mKGFsbFByb3ZpZGVycykubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogYE9BdXRoIHByb3ZpZGVyIHR5cGUsIG9uZSBvZiAke2FsbFByb3ZpZGVycy5tYXAoKHgpID0+IGBcXGAke3h9XFxgYCkuam9pbihcIiwgXCIpfWAsIGV4YW1wbGVWYWx1ZTogXCJnb29nbGVcIiB9IH0pO1xudmFyIG9hdXRoUHJvdmlkZXJBbGxvd1NpZ25JblNjaGVtYSA9IHl1cEJvb2xlYW4oKS5tZXRhKHsgb3BlbmFwaUZpZWxkOiB7IGRlc2NyaXB0aW9uOiBcIldoZXRoZXIgdGhlIHVzZXIgY2FuIHVzZSB0aGlzIE9BdXRoIHByb3ZpZGVyIHRvIHNpZ24gaW4uIE9ubHkgb25lIE9BdXRoIHByb3ZpZGVyIHBlciB0eXBlIGNhbiBoYXZlIHRoaXMgc2V0IHRvIGB0cnVlYC5cIiwgZXhhbXBsZVZhbHVlOiB0cnVlIH0gfSk7XG52YXIgb2F1dGhQcm92aWRlckFsbG93Q29ubmVjdGVkQWNjb3VudHNTY2hlbWEgPSB5dXBCb29sZWFuKCkubWV0YSh7IG9wZW5hcGlGaWVsZDogeyBkZXNjcmlwdGlvbjogXCJXaGV0aGVyIHRoZSB1c2VyIGNhbiB1c2UgdGhpcyBPQXV0aCBwcm92aWRlciBhcyBjb25uZWN0ZWQgYWNjb3VudC4gTXVsdGlwbGUgT0F1dGggcHJvdmlkZXJzIHBlciB0eXBlIGNhbiBoYXZlIHRoaXMgc2V0IHRvIGB0cnVlYC5cIiwgZXhhbXBsZVZhbHVlOiB0cnVlIH0gfSk7XG52YXIgb2F1dGhQcm92aWRlckFjY291bnRJZFNjaGVtYSA9IHl1cFN0cmluZygpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiQWNjb3VudCBJRCBvZiB0aGUgT0F1dGggcHJvdmlkZXIuIFRoaXMgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgYWNjb3VudCBvbiB0aGUgcHJvdmlkZXIgc2lkZS5cIiwgZXhhbXBsZVZhbHVlOiBcImdvb2dsZS1hY2NvdW50LWlkLTEyMzQ1XCIgfSB9KTtcbnZhciBvYXV0aFByb3ZpZGVyUHJvdmlkZXJDb25maWdJZFNjaGVtYSA9IHl1cFN0cmluZygpLm1ldGEoeyBvcGVuYXBpRmllbGQ6IHsgZGVzY3JpcHRpb246IFwiUHJvdmlkZXIgY29uZmlnIElEIG9mIHRoZSBPQXV0aCBwcm92aWRlci4gVGhpcyB1bmlxdWVseSBpZGVudGlmaWVzIHRoZSBwcm92aWRlciBjb25maWcgb24gY29uZmlnLmpzb24gZmlsZVwiLCBleGFtcGxlVmFsdWU6IFwiZ29vZ2xlXCIgfSB9KTtcbnZhciBiYXNpY0F1dGhvcml6YXRpb25IZWFkZXJTY2hlbWEgPSB5dXBTdHJpbmcoKS50ZXN0KFwiaXMtYmFzaWMtYXV0aG9yaXphdGlvbi1oZWFkZXJcIiwgJ0F1dGhvcml6YXRpb24gaGVhZGVyIG11c3QgYmUgaW4gdGhlIGZvcm1hdCBcIkJhc2ljIDxiYXNlNjQ+XCInLCAodmFsdWUpID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBkZWNvZGVCYXNpY0F1dGhvcml6YXRpb25IZWFkZXIodmFsdWUpICE9PSBudWxsO1xufSk7XG52YXIgbmVvbkF1dGhvcml6YXRpb25IZWFkZXJTY2hlbWEgPSBiYXNpY0F1dGhvcml6YXRpb25IZWFkZXJTY2hlbWEudGVzdChcImlzLWF1dGhvcml6YXRpb24taGVhZGVyXCIsIFwiSW52YWxpZCBjbGllbnRfaWQ6Y2xpZW50X3NlY3JldCB2YWx1ZXM7IGRpZCB5b3UgdXNlIHRoZSBjb3JyZWN0IHZhbHVlcyBmb3IgdGhlIGludGVncmF0aW9uP1wiLCAodmFsdWUpID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XG4gIGNvbnN0IFtjbGllbnRJZCwgY2xpZW50U2VjcmV0XSA9IGRlY29kZUJhc2ljQXV0aG9yaXphdGlvbkhlYWRlcih2YWx1ZSkgPz8gdGhyb3dFcnIoYEF1dGh6IGhlYWRlciBpbnZhbGlkPyBUaGlzIHNob3VsZCd2ZSBiZWVuIHZhbGlkYXRlZCBieSBiYXNpY0F1dGhvcml6YXRpb25IZWFkZXJTY2hlbWE6ICR7dmFsdWV9YCk7XG4gIGZvciAoY29uc3QgbmVvbkNsaWVudENvbmZpZyBvZiBKU09OLnBhcnNlKHByb2Nlc3MuZW52LlNUQUNLX0lOVEVHUkFUSU9OX0NMSUVOVFNfQ09ORklHIHx8IFwiW11cIikpIHtcbiAgICBpZiAoY2xpZW50SWQgPT09IG5lb25DbGllbnRDb25maWcuY2xpZW50X2lkICYmIGNsaWVudFNlY3JldCA9PT0gbmVvbkNsaWVudENvbmZpZy5jbGllbnRfc2VjcmV0KSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcbmZ1bmN0aW9uIHl1cERlZmluZWRXaGVuKHNjaGVtYSwgdHJpZ2dlcnMpIHtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRyaWdnZXJzKTtcbiAgcmV0dXJuIHNjaGVtYS53aGVuKGVudHJpZXMubWFwKChba2V5XSkgPT4ga2V5KSwge1xuICAgIGlzOiAoLi4udmFsdWVzKSA9PiBlbnRyaWVzLmV2ZXJ5KChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB2YWx1ZSA9PT0gdmFsdWVzW2luZGV4XSksXG4gICAgdGhlbjogKHNjaGVtYTIpID0+IHNjaGVtYTIuZGVmaW5lZCgpLFxuICAgIG90aGVyd2lzZTogKHNjaGVtYTIpID0+IHNjaGVtYTIub3B0aW9uYWwoKVxuICB9KTtcbn1cbmZ1bmN0aW9uIHl1cERlZmluZWRBbmROb25FbXB0eVdoZW4oc2NoZW1hLCB0cmlnZ2Vycykge1xuICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModHJpZ2dlcnMpO1xuICByZXR1cm4gc2NoZW1hLndoZW4oZW50cmllcy5tYXAoKFtrZXldKSA9PiBrZXkpLCB7XG4gICAgaXM6ICguLi52YWx1ZXMpID0+IGVudHJpZXMuZXZlcnkoKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHZhbHVlID09PSB2YWx1ZXNbaW5kZXhdKSxcbiAgICB0aGVuOiAoc2NoZW1hMikgPT4gc2NoZW1hMi5kZWZpbmVkKCkubm9uRW1wdHkoKSxcbiAgICBvdGhlcndpc2U6IChzY2hlbWEyKSA9PiBzY2hlbWEyLm9wdGlvbmFsKClcbiAgfSk7XG59XG5leHBvcnQge1xuICBSZXBsYWNlRmllbGRXaXRoT3duVXNlcklkLFxuICBhY2Nlc3NUb2tlblBheWxvYWRTY2hlbWEsXG4gIGFjY2Vzc1Rva2VuUmVzcG9uc2VTY2hlbWEsXG4gIGFkYXB0U2NoZW1hLFxuICBhZG1pbkF1dGhUeXBlU2NoZW1hLFxuICBiYXNlNjRTY2hlbWEsXG4gIGJhc2ljQXV0aG9yaXphdGlvbkhlYWRlclNjaGVtYSxcbiAgY2xpZW50T3JIaWdoZXJBdXRoVHlwZVNjaGVtYSxcbiAgY29udGFjdENoYW5uZWxJZFNjaGVtYSxcbiAgY29udGFjdENoYW5uZWxJc1ByaW1hcnlTY2hlbWEsXG4gIGNvbnRhY3RDaGFubmVsSXNWZXJpZmllZFNjaGVtYSxcbiAgY29udGFjdENoYW5uZWxUeXBlU2NoZW1hLFxuICBjb250YWN0Q2hhbm5lbFVzZWRGb3JBdXRoU2NoZW1hLFxuICBjb250YWN0Q2hhbm5lbFZhbHVlU2NoZW1hLFxuICBjb250YWluZWRQZXJtaXNzaW9uSWRzU2NoZW1hLFxuICBjdXN0b21QZXJtaXNzaW9uRGVmaW5pdGlvbklkU2NoZW1hLFxuICBjdXN0b21lclR5cGVTY2hlbWEsXG4gIGRheUludGVydmFsT3JOZXZlclNjaGVtYSxcbiAgZGF5SW50ZXJ2YWxTY2hlbWEsXG4gIGVtYWlsSG9zdFNjaGVtYSxcbiAgZW1haWxPdHBTaWduSW5DYWxsYmFja1VybFNjaGVtYSxcbiAgZW1haWxQYXNzd29yZFNjaGVtYSxcbiAgZW1haWxQb3J0U2NoZW1hLFxuICBlbWFpbFNjaGVtYSxcbiAgZW1haWxTZW5kZXJFbWFpbFNjaGVtYSxcbiAgZW1haWxTZW5kZXJOYW1lU2NoZW1hLFxuICBlbWFpbFRlbXBsYXRlTGlzdFNjaGVtYSxcbiAgZW1haWxUaGVtZUxpc3RTY2hlbWEsXG4gIGVtYWlsVGhlbWVTY2hlbWEsXG4gIGVtYWlsVHlwZVNjaGVtYSxcbiAgZW1haWxVc2VybmFtZVNjaGVtYSxcbiAgZW1haWxWZXJpZmljYXRpb25DYWxsYmFja1VybFNjaGVtYSxcbiAgZW5zdXJlT2JqZWN0U2NoZW1hLFxuICBoYW5kbGVyUGF0aFNjaGVtYSxcbiAgaW5saW5lT2ZmZXJTY2hlbWEsXG4gIGludGVydmFsT3JOZXZlclNjaGVtYSxcbiAgaW50ZXJ2YWxTY2hlbWEsXG4gIGpzb25TY2hlbWEsXG4gIGpzb25TdHJpbmdPckVtcHR5U2NoZW1hLFxuICBqc29uU3RyaW5nU2NoZW1hLFxuICBtb25leUFtb3VudFNjaGVtYSxcbiAgbmVvbkF1dGhvcml6YXRpb25IZWFkZXJTY2hlbWEsXG4gIG9hdXRoQWNjb3VudE1lcmdlU3RyYXRlZ3lTY2hlbWEsXG4gIG9hdXRoQ2xpZW50SWRTY2hlbWEsXG4gIG9hdXRoQ2xpZW50U2VjcmV0U2NoZW1hLFxuICBvYXV0aEVuYWJsZWRTY2hlbWEsXG4gIG9hdXRoRmFjZWJvb2tDb25maWdJZFNjaGVtYSxcbiAgb2F1dGhJZFNjaGVtYSxcbiAgb2F1dGhNaWNyb3NvZnRUZW5hbnRJZFNjaGVtYSxcbiAgb2F1dGhQcm92aWRlckFjY291bnRJZFNjaGVtYSxcbiAgb2F1dGhQcm92aWRlckFsbG93Q29ubmVjdGVkQWNjb3VudHNTY2hlbWEsXG4gIG9hdXRoUHJvdmlkZXJBbGxvd1NpZ25JblNjaGVtYSxcbiAgb2F1dGhQcm92aWRlckVtYWlsU2NoZW1hLFxuICBvYXV0aFByb3ZpZGVySWRTY2hlbWEsXG4gIG9hdXRoUHJvdmlkZXJQcm92aWRlckNvbmZpZ0lkU2NoZW1hLFxuICBvYXV0aFByb3ZpZGVyVHlwZVNjaGVtYSxcbiAgb2F1dGhUeXBlU2NoZW1hLFxuICBvZmZlclByaWNlU2NoZW1hLFxuICBvZmZlclNjaGVtYSxcbiAgcGFzc3dvcmRTY2hlbWEsXG4gIHBlcm1pc3Npb25EZWZpbml0aW9uSWRTY2hlbWEsXG4gIHByaWNlT3JJbmNsdWRlQnlEZWZhdWx0U2NoZW1hLFxuICBwcmltYXJ5RW1haWxBdXRoRW5hYmxlZFNjaGVtYSxcbiAgcHJpbWFyeUVtYWlsU2NoZW1hLFxuICBwcmltYXJ5RW1haWxWZXJpZmllZFNjaGVtYSxcbiAgcHJvZmlsZUltYWdlVXJsU2NoZW1hLFxuICBwcm9qZWN0QWxsb3dMb2NhbGhvc3RTY2hlbWEsXG4gIHByb2plY3RCcmFuY2hJZFNjaGVtYSxcbiAgcHJvamVjdENsaWVudFRlYW1DcmVhdGlvbkVuYWJsZWRTY2hlbWEsXG4gIHByb2plY3RDbGllbnRVc2VyRGVsZXRpb25FbmFibGVkU2NoZW1hLFxuICBwcm9qZWN0Q29uZmlnSWRTY2hlbWEsXG4gIHByb2plY3RDcmVhdGVUZWFtT25TaWduVXBTY2hlbWEsXG4gIHByb2plY3RDcmVhdGVkQXRNaWxsaXNTY2hlbWEsXG4gIHByb2plY3RDcmVkZW50aWFsRW5hYmxlZFNjaGVtYSxcbiAgcHJvamVjdERlc2NyaXB0aW9uU2NoZW1hLFxuICBwcm9qZWN0RGlzcGxheU5hbWVTY2hlbWEsXG4gIHByb2plY3RGdWxsTG9nb1VybFNjaGVtYSxcbiAgcHJvamVjdElkU2NoZW1hLFxuICBwcm9qZWN0SXNQcm9kdWN0aW9uTW9kZVNjaGVtYSxcbiAgcHJvamVjdExvZ29VcmxTY2hlbWEsXG4gIHByb2plY3RNYWdpY0xpbmtFbmFibGVkU2NoZW1hLFxuICBwcm9qZWN0UGFzc2tleUVuYWJsZWRTY2hlbWEsXG4gIHByb2plY3RTaWduVXBFbmFibGVkU2NoZW1hLFxuICByZWZyZXNoVG9rZW5SZXNwb25zZVNjaGVtYSxcbiAgc2VsZWN0ZWRUZWFtSWRTY2hlbWEsXG4gIHNlcnZlck9ySGlnaGVyQXV0aFR5cGVTY2hlbWEsXG4gIHNpZ25JbkVtYWlsU2NoZW1hLFxuICBzaWduSW5SZXNwb25zZVNjaGVtYSxcbiAgc2lnbmVkVXBBdE1pbGxpc1NjaGVtYSxcbiAgc3RyaWN0RW1haWxTY2hlbWEsXG4gIHRlYW1DbGllbnRNZXRhZGF0YVNjaGVtYSxcbiAgdGVhbUNsaWVudFJlYWRPbmx5TWV0YWRhdGFTY2hlbWEsXG4gIHRlYW1DcmVhdGVkQXRNaWxsaXNTY2hlbWEsXG4gIHRlYW1DcmVhdG9yVXNlcklkU2NoZW1hLFxuICB0ZWFtRGlzcGxheU5hbWVTY2hlbWEsXG4gIHRlYW1JZFNjaGVtYSxcbiAgdGVhbUludml0YXRpb25DYWxsYmFja1VybFNjaGVtYSxcbiAgdGVhbUludml0YXRpb25FbWFpbFNjaGVtYSxcbiAgdGVhbU1lbWJlckRpc3BsYXlOYW1lU2NoZW1hLFxuICB0ZWFtTWVtYmVyUHJvZmlsZUltYWdlVXJsU2NoZW1hLFxuICB0ZWFtUGVybWlzc2lvbkRlc2NyaXB0aW9uU2NoZW1hLFxuICB0ZWFtUHJvZmlsZUltYWdlVXJsU2NoZW1hLFxuICB0ZWFtU2VydmVyTWV0YWRhdGFTY2hlbWEsXG4gIHRlYW1TeXN0ZW1QZXJtaXNzaW9ucyxcbiAgdGVtcGxhdGVUaGVtZUlkU2NoZW1hLFxuICB1cmxTY2hlbWEsXG4gIHVzZXJDbGllbnRNZXRhZGF0YVNjaGVtYSxcbiAgdXNlckNsaWVudFJlYWRPbmx5TWV0YWRhdGFTY2hlbWEsXG4gIHVzZXJEaXNwbGF5TmFtZVNjaGVtYSxcbiAgdXNlckhhc1Bhc3N3b3JkU2NoZW1hLFxuICB1c2VySWRPck1lU2NoZW1hLFxuICB1c2VySWRTY2hlbWEsXG4gIHVzZXJMYXN0QWN0aXZlQXRNaWxsaXNTY2hlbWEsXG4gIHVzZXJPQXV0aFByb3ZpZGVyU2NoZW1hLFxuICB1c2VyT3RwQXV0aEVuYWJsZWRNdXRhdGlvblNjaGVtYSxcbiAgdXNlck90cEF1dGhFbmFibGVkU2NoZW1hLFxuICB1c2VyUGFzc2tleUF1dGhFbmFibGVkU2NoZW1hLFxuICB1c2VyUGFzc3dvcmRIYXNoTXV0YXRpb25TY2hlbWEsXG4gIHVzZXJQYXNzd29yZE11dGF0aW9uU2NoZW1hLFxuICB1c2VyU2VydmVyTWV0YWRhdGFTY2hlbWEsXG4gIHVzZXJTcGVjaWZpZWRJZFNjaGVtYSxcbiAgdXNlclRvdHBTZWNyZXRNdXRhdGlvblNjaGVtYSxcbiAgd2lsZGNhcmRVcmxTY2hlbWEsXG4gIHl1cEFycmF5LFxuICB5dXBCb29sZWFuLFxuICB5dXBEYXRlLFxuICB5dXBEZWZpbmVkQW5kTm9uRW1wdHlXaGVuLFxuICB5dXBEZWZpbmVkV2hlbixcbiAgeXVwTWl4ZWQsXG4gIHl1cE5ldmVyLFxuICB5dXBOdW1iZXIsXG4gIHl1cE9iamVjdCxcbiAgeXVwT2JqZWN0V2l0aEF1dG9EZWZhdWx0LFxuICB5dXBSZWNvcmQsXG4gIHl1cFN0cmluZyxcbiAgeXVwVHVwbGUsXG4gIHl1cFVuaW9uLFxuICB5dXBWYWxpZGF0ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVtYS1maWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/schema-fields.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/sessions.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/sessions.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* binding */ AccessToken),\n/* harmony export */   InternalSession: () => (/* binding */ InternalSession),\n/* harmony export */   RefreshToken: () => (/* binding */ RefreshToken)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"(app-pages-browser)/./node_modules/jose/dist/browser/util/decode_jwt.js\");\n/* harmony import */ var _schema_fields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./schema-fields.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/schema-fields.js\");\n/* harmony import */ var _utils_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _utils_stores_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/stores.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js\");\n// src/sessions.ts\n\n\n\n\nfunction decodeAccessTokenIfValid(token) {\n  try {\n    const payload = jose__WEBPACK_IMPORTED_MODULE_3__.decodeJwt(token);\n    return _schema_fields_js__WEBPACK_IMPORTED_MODULE_0__.accessTokenPayloadSchema.validateSync(payload);\n  } catch (e) {\n    return null;\n  }\n}\nvar AccessToken = class _AccessToken {\n  constructor(token) {\n    this.token = token;\n    if (token === \"undefined\") {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Access token is the string 'undefined'; it's unlikely this is the correct value. They're supposed to be unguessable!\");\n    }\n  }\n  static createIfValid(token) {\n    const payload = decodeAccessTokenIfValid(token);\n    if (!payload) return null;\n    return new _AccessToken(token);\n  }\n  get payload() {\n    return decodeAccessTokenIfValid(this.token) ?? (0,_utils_errors_js__WEBPACK_IMPORTED_MODULE_1__.throwErr)(\"Invalid access token in payload (should've been validated in createIfValid)\", { token: this.token });\n  }\n  get expiresAt() {\n    const { exp } = this.payload;\n    if (exp === void 0) return /* @__PURE__ */ new Date(864e13);\n    return new Date(exp * 1e3);\n  }\n  /**\n   * @returns The number of milliseconds until the access token expires, or 0 if it has already expired.\n   */\n  get expiresInMillis() {\n    return Math.max(0, this.expiresAt.getTime() - Date.now());\n  }\n  isExpired() {\n    return this.expiresInMillis <= 0;\n  }\n};\nvar RefreshToken = class {\n  constructor(token) {\n    this.token = token;\n    if (token === \"undefined\") {\n      throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Refresh token is the string 'undefined'; it's unlikely this is the correct value. They're supposed to be unguessable!\");\n    }\n  }\n};\nvar InternalSession = class _InternalSession {\n  constructor(_options) {\n    this._options = _options;\n    /**\n     * Whether the session as a whole is known to be invalid (ie. both access and refresh tokens are invalid). Used as a cache to avoid making multiple requests to the server (sessions never go back to being valid after being invalidated).\n     *\n     * It is possible for the access token to be invalid but the refresh token to be valid, in which case the session is\n     * still valid (just needs a refresh). It is also possible for the access token to be valid but the refresh token to\n     * be invalid, in which case the session is also valid (eg. if the refresh token is null because the user only passed\n     * in an access token, eg. in a server-side request handler).\n     */\n    this._knownToBeInvalid = new _utils_stores_js__WEBPACK_IMPORTED_MODULE_2__.Store(false);\n    this._refreshPromise = null;\n    this._accessToken = new _utils_stores_js__WEBPACK_IMPORTED_MODULE_2__.Store(_options.accessToken ? AccessToken.createIfValid(_options.accessToken) : null);\n    this._refreshToken = _options.refreshToken ? new RefreshToken(_options.refreshToken) : null;\n    if (_options.accessToken === null && _options.refreshToken === null) {\n      this._knownToBeInvalid.set(true);\n    }\n    this.sessionKey = _InternalSession.calculateSessionKey({ accessToken: _options.accessToken ?? null, refreshToken: _options.refreshToken });\n  }\n  static calculateSessionKey(ofTokens) {\n    if (ofTokens.refreshToken) {\n      return `refresh-${ofTokens.refreshToken}`;\n    } else if (ofTokens.accessToken) {\n      return `access-${ofTokens.accessToken}`;\n    } else {\n      return \"not-logged-in\";\n    }\n  }\n  isKnownToBeInvalid() {\n    return this._knownToBeInvalid.get();\n  }\n  /**\n   * Marks the session object as invalid, meaning that the refresh and access tokens can no longer be used.\n   */\n  markInvalid() {\n    this._accessToken.set(null);\n    this._knownToBeInvalid.set(true);\n  }\n  onInvalidate(callback) {\n    return this._knownToBeInvalid.onChange(() => callback());\n  }\n  /**\n   * Returns the access token if it is found in the cache and not expired yet, or null otherwise. Never fetches new tokens.\n   */\n  getAccessTokenIfNotExpiredYet(minMillisUntilExpiration) {\n    if (minMillisUntilExpiration > 6e4) {\n      throw new Error(`Required access token expiry ${minMillisUntilExpiration}ms is too long; access tokens are too short to be used for more than 60s`);\n    }\n    const accessToken = this._getPotentiallyInvalidAccessTokenIfAvailable();\n    if (!accessToken || accessToken.expiresInMillis < minMillisUntilExpiration) return null;\n    return accessToken;\n  }\n  /**\n   * Returns the access token if it is found in the cache, fetching it otherwise.\n   *\n   * This is usually the function you want to call to get an access token. Either set `minMillisUntilExpiration` to a reasonable value, or catch errors that occur if it expires, and call `markAccessTokenExpired` to mark the token as expired if so (after which a call to this function will always refetch the token).\n   *\n   * @returns null if the session is known to be invalid, cached tokens if they exist in the cache and the access token hasn't expired yet (the refresh token might still be invalid), or new tokens otherwise.\n   */\n  async getOrFetchLikelyValidTokens(minMillisUntilExpiration) {\n    const accessToken = this.getAccessTokenIfNotExpiredYet(minMillisUntilExpiration);\n    if (!accessToken) {\n      const newTokens = await this.fetchNewTokens();\n      const expiresInMillis = newTokens?.accessToken.expiresInMillis;\n      if (expiresInMillis && expiresInMillis < minMillisUntilExpiration) {\n        throw new _utils_errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(`Required access token expiry ${minMillisUntilExpiration}ms is too long; access tokens are too short when they're generated (${expiresInMillis}ms)`);\n      }\n      return newTokens;\n    }\n    return { accessToken, refreshToken: this._refreshToken };\n  }\n  /**\n   * Fetches new tokens that are, at the time of fetching, guaranteed to be valid.\n   *\n   * The newly generated tokens are short-lived, so it's good practice not to rely on their validity (if possible). However, this function is useful in some cases where you only want to pass access tokens to a service, and you want to make sure said access token has the longest possible lifetime.\n   *\n   * In most cases, you should prefer `getOrFetchLikelyValidTokens`.\n   *\n   * @returns null if the session is known to be invalid, or new tokens otherwise (which, at the time of fetching, are guaranteed to be valid).\n   */\n  async fetchNewTokens() {\n    const accessToken = await this._getNewlyFetchedAccessToken();\n    return accessToken ? { accessToken, refreshToken: this._refreshToken } : null;\n  }\n  markAccessTokenExpired(accessToken) {\n    if (this._accessToken.get() === accessToken) {\n      this._accessToken.set(null);\n    }\n  }\n  /**\n   * Note that a callback invocation with `null` does not mean the session has been invalidated; the access token may just have expired. Use `onInvalidate` to detect invalidation.\n   */\n  onAccessTokenChange(callback) {\n    return this._accessToken.onChange(callback);\n  }\n  /**\n   * @returns An access token, which may be expired or expire soon, or null if it is known to be invalid.\n   */\n  _getPotentiallyInvalidAccessTokenIfAvailable() {\n    if (!this._refreshToken) return null;\n    if (this.isKnownToBeInvalid()) return null;\n    const accessToken = this._accessToken.get();\n    if (accessToken && !accessToken.isExpired()) return accessToken;\n    return null;\n  }\n  /**\n   * You should prefer `_getOrFetchPotentiallyInvalidAccessToken` in almost all cases.\n   *\n   * @returns A newly fetched access token (never read from cache), or null if the session either does not represent a user or the session is invalid.\n   */\n  async _getNewlyFetchedAccessToken() {\n    if (!this._refreshToken) return null;\n    if (this._knownToBeInvalid.get()) return null;\n    if (!this._refreshPromise) {\n      this._refreshAndSetRefreshPromise(this._refreshToken);\n    }\n    return await this._refreshPromise;\n  }\n  _refreshAndSetRefreshPromise(refreshToken) {\n    let refreshPromise = this._options.refreshAccessTokenCallback(refreshToken).then((accessToken) => {\n      if (refreshPromise === this._refreshPromise) {\n        this._refreshPromise = null;\n        this._accessToken.set(accessToken);\n        if (!accessToken) {\n          this.markInvalid();\n        }\n      }\n      return accessToken;\n    });\n    this._refreshPromise = refreshPromise;\n  }\n};\n\n//# sourceMappingURL=sessions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vc2Vzc2lvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQzZCO0FBQ2lDO0FBQ0k7QUFDeEI7QUFDMUM7QUFDQTtBQUNBLG9CQUFvQiwyQ0FBYztBQUNsQyxXQUFXLHVFQUF3QjtBQUNuQyxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUVBQW1CLDBDQUEwQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDBEQUFRLGtGQUFrRixtQkFBbUI7QUFDaEs7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFtQiwyQ0FBMkM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtREFBSztBQUN0QztBQUNBLDRCQUE0QixtREFBSztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxnRkFBZ0Y7QUFDN0k7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5QyxNQUFNO0FBQ04sdUJBQXVCLHFCQUFxQjtBQUM1QyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHlCQUF5QixnQkFBZ0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlFQUFtQixpQ0FBaUMseUJBQXlCLGdCQUFnQixzREFBc0QsZ0JBQWdCO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0RBQWdEO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHNlc3Npb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zZXNzaW9ucy50c1xuaW1wb3J0ICogYXMgam9zZSBmcm9tIFwiam9zZVwiO1xuaW1wb3J0IHsgYWNjZXNzVG9rZW5QYXlsb2FkU2NoZW1hIH0gZnJvbSBcIi4vc2NoZW1hLWZpZWxkcy5qc1wiO1xuaW1wb3J0IHsgU3RhY2tBc3NlcnRpb25FcnJvciwgdGhyb3dFcnIgfSBmcm9tIFwiLi91dGlscy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSBcIi4vdXRpbHMvc3RvcmVzLmpzXCI7XG5mdW5jdGlvbiBkZWNvZGVBY2Nlc3NUb2tlbklmVmFsaWQodG9rZW4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXlsb2FkID0gam9zZS5kZWNvZGVKd3QodG9rZW4pO1xuICAgIHJldHVybiBhY2Nlc3NUb2tlblBheWxvYWRTY2hlbWEudmFsaWRhdGVTeW5jKHBheWxvYWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbnZhciBBY2Nlc3NUb2tlbiA9IGNsYXNzIF9BY2Nlc3NUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKHRva2VuKSB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIGlmICh0b2tlbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJBY2Nlc3MgdG9rZW4gaXMgdGhlIHN0cmluZyAndW5kZWZpbmVkJzsgaXQncyB1bmxpa2VseSB0aGlzIGlzIHRoZSBjb3JyZWN0IHZhbHVlLiBUaGV5J3JlIHN1cHBvc2VkIHRvIGJlIHVuZ3Vlc3NhYmxlIVwiKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIGNyZWF0ZUlmVmFsaWQodG9rZW4pIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZGVjb2RlQWNjZXNzVG9rZW5JZlZhbGlkKHRva2VuKTtcbiAgICBpZiAoIXBheWxvYWQpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBuZXcgX0FjY2Vzc1Rva2VuKHRva2VuKTtcbiAgfVxuICBnZXQgcGF5bG9hZCgpIHtcbiAgICByZXR1cm4gZGVjb2RlQWNjZXNzVG9rZW5JZlZhbGlkKHRoaXMudG9rZW4pID8/IHRocm93RXJyKFwiSW52YWxpZCBhY2Nlc3MgdG9rZW4gaW4gcGF5bG9hZCAoc2hvdWxkJ3ZlIGJlZW4gdmFsaWRhdGVkIGluIGNyZWF0ZUlmVmFsaWQpXCIsIHsgdG9rZW46IHRoaXMudG9rZW4gfSk7XG4gIH1cbiAgZ2V0IGV4cGlyZXNBdCgpIHtcbiAgICBjb25zdCB7IGV4cCB9ID0gdGhpcy5wYXlsb2FkO1xuICAgIGlmIChleHAgPT09IHZvaWQgMCkgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSg4NjRlMTMpO1xuICAgIHJldHVybiBuZXcgRGF0ZShleHAgKiAxZTMpO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB1bnRpbCB0aGUgYWNjZXNzIHRva2VuIGV4cGlyZXMsIG9yIDAgaWYgaXQgaGFzIGFscmVhZHkgZXhwaXJlZC5cbiAgICovXG4gIGdldCBleHBpcmVzSW5NaWxsaXMoKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIHRoaXMuZXhwaXJlc0F0LmdldFRpbWUoKSAtIERhdGUubm93KCkpO1xuICB9XG4gIGlzRXhwaXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5leHBpcmVzSW5NaWxsaXMgPD0gMDtcbiAgfVxufTtcbnZhciBSZWZyZXNoVG9rZW4gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHRva2VuKSB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIGlmICh0b2tlbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJSZWZyZXNoIHRva2VuIGlzIHRoZSBzdHJpbmcgJ3VuZGVmaW5lZCc7IGl0J3MgdW5saWtlbHkgdGhpcyBpcyB0aGUgY29ycmVjdCB2YWx1ZS4gVGhleSdyZSBzdXBwb3NlZCB0byBiZSB1bmd1ZXNzYWJsZSFcIik7XG4gICAgfVxuICB9XG59O1xudmFyIEludGVybmFsU2Vzc2lvbiA9IGNsYXNzIF9JbnRlcm5hbFNlc3Npb24ge1xuICBjb25zdHJ1Y3Rvcihfb3B0aW9ucykge1xuICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9ucztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzZXNzaW9uIGFzIGEgd2hvbGUgaXMga25vd24gdG8gYmUgaW52YWxpZCAoaWUuIGJvdGggYWNjZXNzIGFuZCByZWZyZXNoIHRva2VucyBhcmUgaW52YWxpZCkuIFVzZWQgYXMgYSBjYWNoZSB0byBhdm9pZCBtYWtpbmcgbXVsdGlwbGUgcmVxdWVzdHMgdG8gdGhlIHNlcnZlciAoc2Vzc2lvbnMgbmV2ZXIgZ28gYmFjayB0byBiZWluZyB2YWxpZCBhZnRlciBiZWluZyBpbnZhbGlkYXRlZCkuXG4gICAgICpcbiAgICAgKiBJdCBpcyBwb3NzaWJsZSBmb3IgdGhlIGFjY2VzcyB0b2tlbiB0byBiZSBpbnZhbGlkIGJ1dCB0aGUgcmVmcmVzaCB0b2tlbiB0byBiZSB2YWxpZCwgaW4gd2hpY2ggY2FzZSB0aGUgc2Vzc2lvbiBpc1xuICAgICAqIHN0aWxsIHZhbGlkIChqdXN0IG5lZWRzIGEgcmVmcmVzaCkuIEl0IGlzIGFsc28gcG9zc2libGUgZm9yIHRoZSBhY2Nlc3MgdG9rZW4gdG8gYmUgdmFsaWQgYnV0IHRoZSByZWZyZXNoIHRva2VuIHRvXG4gICAgICogYmUgaW52YWxpZCwgaW4gd2hpY2ggY2FzZSB0aGUgc2Vzc2lvbiBpcyBhbHNvIHZhbGlkIChlZy4gaWYgdGhlIHJlZnJlc2ggdG9rZW4gaXMgbnVsbCBiZWNhdXNlIHRoZSB1c2VyIG9ubHkgcGFzc2VkXG4gICAgICogaW4gYW4gYWNjZXNzIHRva2VuLCBlZy4gaW4gYSBzZXJ2ZXItc2lkZSByZXF1ZXN0IGhhbmRsZXIpLlxuICAgICAqL1xuICAgIHRoaXMuX2tub3duVG9CZUludmFsaWQgPSBuZXcgU3RvcmUoZmFsc2UpO1xuICAgIHRoaXMuX3JlZnJlc2hQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9hY2Nlc3NUb2tlbiA9IG5ldyBTdG9yZShfb3B0aW9ucy5hY2Nlc3NUb2tlbiA/IEFjY2Vzc1Rva2VuLmNyZWF0ZUlmVmFsaWQoX29wdGlvbnMuYWNjZXNzVG9rZW4pIDogbnVsbCk7XG4gICAgdGhpcy5fcmVmcmVzaFRva2VuID0gX29wdGlvbnMucmVmcmVzaFRva2VuID8gbmV3IFJlZnJlc2hUb2tlbihfb3B0aW9ucy5yZWZyZXNoVG9rZW4pIDogbnVsbDtcbiAgICBpZiAoX29wdGlvbnMuYWNjZXNzVG9rZW4gPT09IG51bGwgJiYgX29wdGlvbnMucmVmcmVzaFRva2VuID09PSBudWxsKSB7XG4gICAgICB0aGlzLl9rbm93blRvQmVJbnZhbGlkLnNldCh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5zZXNzaW9uS2V5ID0gX0ludGVybmFsU2Vzc2lvbi5jYWxjdWxhdGVTZXNzaW9uS2V5KHsgYWNjZXNzVG9rZW46IF9vcHRpb25zLmFjY2Vzc1Rva2VuID8/IG51bGwsIHJlZnJlc2hUb2tlbjogX29wdGlvbnMucmVmcmVzaFRva2VuIH0pO1xuICB9XG4gIHN0YXRpYyBjYWxjdWxhdGVTZXNzaW9uS2V5KG9mVG9rZW5zKSB7XG4gICAgaWYgKG9mVG9rZW5zLnJlZnJlc2hUb2tlbikge1xuICAgICAgcmV0dXJuIGByZWZyZXNoLSR7b2ZUb2tlbnMucmVmcmVzaFRva2VufWA7XG4gICAgfSBlbHNlIGlmIChvZlRva2Vucy5hY2Nlc3NUb2tlbikge1xuICAgICAgcmV0dXJuIGBhY2Nlc3MtJHtvZlRva2Vucy5hY2Nlc3NUb2tlbn1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJub3QtbG9nZ2VkLWluXCI7XG4gICAgfVxuICB9XG4gIGlzS25vd25Ub0JlSW52YWxpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fa25vd25Ub0JlSW52YWxpZC5nZXQoKTtcbiAgfVxuICAvKipcbiAgICogTWFya3MgdGhlIHNlc3Npb24gb2JqZWN0IGFzIGludmFsaWQsIG1lYW5pbmcgdGhhdCB0aGUgcmVmcmVzaCBhbmQgYWNjZXNzIHRva2VucyBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQuXG4gICAqL1xuICBtYXJrSW52YWxpZCgpIHtcbiAgICB0aGlzLl9hY2Nlc3NUb2tlbi5zZXQobnVsbCk7XG4gICAgdGhpcy5fa25vd25Ub0JlSW52YWxpZC5zZXQodHJ1ZSk7XG4gIH1cbiAgb25JbnZhbGlkYXRlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuX2tub3duVG9CZUludmFsaWQub25DaGFuZ2UoKCkgPT4gY2FsbGJhY2soKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFjY2VzcyB0b2tlbiBpZiBpdCBpcyBmb3VuZCBpbiB0aGUgY2FjaGUgYW5kIG5vdCBleHBpcmVkIHlldCwgb3IgbnVsbCBvdGhlcndpc2UuIE5ldmVyIGZldGNoZXMgbmV3IHRva2Vucy5cbiAgICovXG4gIGdldEFjY2Vzc1Rva2VuSWZOb3RFeHBpcmVkWWV0KG1pbk1pbGxpc1VudGlsRXhwaXJhdGlvbikge1xuICAgIGlmIChtaW5NaWxsaXNVbnRpbEV4cGlyYXRpb24gPiA2ZTQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgYWNjZXNzIHRva2VuIGV4cGlyeSAke21pbk1pbGxpc1VudGlsRXhwaXJhdGlvbn1tcyBpcyB0b28gbG9uZzsgYWNjZXNzIHRva2VucyBhcmUgdG9vIHNob3J0IHRvIGJlIHVzZWQgZm9yIG1vcmUgdGhhbiA2MHNgKTtcbiAgICB9XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLl9nZXRQb3RlbnRpYWxseUludmFsaWRBY2Nlc3NUb2tlbklmQXZhaWxhYmxlKCk7XG4gICAgaWYgKCFhY2Nlc3NUb2tlbiB8fCBhY2Nlc3NUb2tlbi5leHBpcmVzSW5NaWxsaXMgPCBtaW5NaWxsaXNVbnRpbEV4cGlyYXRpb24pIHJldHVybiBudWxsO1xuICAgIHJldHVybiBhY2Nlc3NUb2tlbjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWNjZXNzIHRva2VuIGlmIGl0IGlzIGZvdW5kIGluIHRoZSBjYWNoZSwgZmV0Y2hpbmcgaXQgb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzdWFsbHkgdGhlIGZ1bmN0aW9uIHlvdSB3YW50IHRvIGNhbGwgdG8gZ2V0IGFuIGFjY2VzcyB0b2tlbi4gRWl0aGVyIHNldCBgbWluTWlsbGlzVW50aWxFeHBpcmF0aW9uYCB0byBhIHJlYXNvbmFibGUgdmFsdWUsIG9yIGNhdGNoIGVycm9ycyB0aGF0IG9jY3VyIGlmIGl0IGV4cGlyZXMsIGFuZCBjYWxsIGBtYXJrQWNjZXNzVG9rZW5FeHBpcmVkYCB0byBtYXJrIHRoZSB0b2tlbiBhcyBleHBpcmVkIGlmIHNvIChhZnRlciB3aGljaCBhIGNhbGwgdG8gdGhpcyBmdW5jdGlvbiB3aWxsIGFsd2F5cyByZWZldGNoIHRoZSB0b2tlbikuXG4gICAqXG4gICAqIEByZXR1cm5zIG51bGwgaWYgdGhlIHNlc3Npb24gaXMga25vd24gdG8gYmUgaW52YWxpZCwgY2FjaGVkIHRva2VucyBpZiB0aGV5IGV4aXN0IGluIHRoZSBjYWNoZSBhbmQgdGhlIGFjY2VzcyB0b2tlbiBoYXNuJ3QgZXhwaXJlZCB5ZXQgKHRoZSByZWZyZXNoIHRva2VuIG1pZ2h0IHN0aWxsIGJlIGludmFsaWQpLCBvciBuZXcgdG9rZW5zIG90aGVyd2lzZS5cbiAgICovXG4gIGFzeW5jIGdldE9yRmV0Y2hMaWtlbHlWYWxpZFRva2VucyhtaW5NaWxsaXNVbnRpbEV4cGlyYXRpb24pIHtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHRoaXMuZ2V0QWNjZXNzVG9rZW5JZk5vdEV4cGlyZWRZZXQobWluTWlsbGlzVW50aWxFeHBpcmF0aW9uKTtcbiAgICBpZiAoIWFjY2Vzc1Rva2VuKSB7XG4gICAgICBjb25zdCBuZXdUb2tlbnMgPSBhd2FpdCB0aGlzLmZldGNoTmV3VG9rZW5zKCk7XG4gICAgICBjb25zdCBleHBpcmVzSW5NaWxsaXMgPSBuZXdUb2tlbnM/LmFjY2Vzc1Rva2VuLmV4cGlyZXNJbk1pbGxpcztcbiAgICAgIGlmIChleHBpcmVzSW5NaWxsaXMgJiYgZXhwaXJlc0luTWlsbGlzIDwgbWluTWlsbGlzVW50aWxFeHBpcmF0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGBSZXF1aXJlZCBhY2Nlc3MgdG9rZW4gZXhwaXJ5ICR7bWluTWlsbGlzVW50aWxFeHBpcmF0aW9ufW1zIGlzIHRvbyBsb25nOyBhY2Nlc3MgdG9rZW5zIGFyZSB0b28gc2hvcnQgd2hlbiB0aGV5J3JlIGdlbmVyYXRlZCAoJHtleHBpcmVzSW5NaWxsaXN9bXMpYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3VG9rZW5zO1xuICAgIH1cbiAgICByZXR1cm4geyBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuOiB0aGlzLl9yZWZyZXNoVG9rZW4gfTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2hlcyBuZXcgdG9rZW5zIHRoYXQgYXJlLCBhdCB0aGUgdGltZSBvZiBmZXRjaGluZywgZ3VhcmFudGVlZCB0byBiZSB2YWxpZC5cbiAgICpcbiAgICogVGhlIG5ld2x5IGdlbmVyYXRlZCB0b2tlbnMgYXJlIHNob3J0LWxpdmVkLCBzbyBpdCdzIGdvb2QgcHJhY3RpY2Ugbm90IHRvIHJlbHkgb24gdGhlaXIgdmFsaWRpdHkgKGlmIHBvc3NpYmxlKS4gSG93ZXZlciwgdGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgaW4gc29tZSBjYXNlcyB3aGVyZSB5b3Ugb25seSB3YW50IHRvIHBhc3MgYWNjZXNzIHRva2VucyB0byBhIHNlcnZpY2UsIGFuZCB5b3Ugd2FudCB0byBtYWtlIHN1cmUgc2FpZCBhY2Nlc3MgdG9rZW4gaGFzIHRoZSBsb25nZXN0IHBvc3NpYmxlIGxpZmV0aW1lLlxuICAgKlxuICAgKiBJbiBtb3N0IGNhc2VzLCB5b3Ugc2hvdWxkIHByZWZlciBgZ2V0T3JGZXRjaExpa2VseVZhbGlkVG9rZW5zYC5cbiAgICpcbiAgICogQHJldHVybnMgbnVsbCBpZiB0aGUgc2Vzc2lvbiBpcyBrbm93biB0byBiZSBpbnZhbGlkLCBvciBuZXcgdG9rZW5zIG90aGVyd2lzZSAod2hpY2gsIGF0IHRoZSB0aW1lIG9mIGZldGNoaW5nLCBhcmUgZ3VhcmFudGVlZCB0byBiZSB2YWxpZCkuXG4gICAqL1xuICBhc3luYyBmZXRjaE5ld1Rva2VucygpIHtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IHRoaXMuX2dldE5ld2x5RmV0Y2hlZEFjY2Vzc1Rva2VuKCk7XG4gICAgcmV0dXJuIGFjY2Vzc1Rva2VuID8geyBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuOiB0aGlzLl9yZWZyZXNoVG9rZW4gfSA6IG51bGw7XG4gIH1cbiAgbWFya0FjY2Vzc1Rva2VuRXhwaXJlZChhY2Nlc3NUb2tlbikge1xuICAgIGlmICh0aGlzLl9hY2Nlc3NUb2tlbi5nZXQoKSA9PT0gYWNjZXNzVG9rZW4pIHtcbiAgICAgIHRoaXMuX2FjY2Vzc1Rva2VuLnNldChudWxsKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE5vdGUgdGhhdCBhIGNhbGxiYWNrIGludm9jYXRpb24gd2l0aCBgbnVsbGAgZG9lcyBub3QgbWVhbiB0aGUgc2Vzc2lvbiBoYXMgYmVlbiBpbnZhbGlkYXRlZDsgdGhlIGFjY2VzcyB0b2tlbiBtYXkganVzdCBoYXZlIGV4cGlyZWQuIFVzZSBgb25JbnZhbGlkYXRlYCB0byBkZXRlY3QgaW52YWxpZGF0aW9uLlxuICAgKi9cbiAgb25BY2Nlc3NUb2tlbkNoYW5nZShjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLl9hY2Nlc3NUb2tlbi5vbkNoYW5nZShjYWxsYmFjayk7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIEFuIGFjY2VzcyB0b2tlbiwgd2hpY2ggbWF5IGJlIGV4cGlyZWQgb3IgZXhwaXJlIHNvb24sIG9yIG51bGwgaWYgaXQgaXMga25vd24gdG8gYmUgaW52YWxpZC5cbiAgICovXG4gIF9nZXRQb3RlbnRpYWxseUludmFsaWRBY2Nlc3NUb2tlbklmQXZhaWxhYmxlKCkge1xuICAgIGlmICghdGhpcy5fcmVmcmVzaFRva2VuKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodGhpcy5pc0tub3duVG9CZUludmFsaWQoKSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLl9hY2Nlc3NUb2tlbi5nZXQoKTtcbiAgICBpZiAoYWNjZXNzVG9rZW4gJiYgIWFjY2Vzc1Rva2VuLmlzRXhwaXJlZCgpKSByZXR1cm4gYWNjZXNzVG9rZW47XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFlvdSBzaG91bGQgcHJlZmVyIGBfZ2V0T3JGZXRjaFBvdGVudGlhbGx5SW52YWxpZEFjY2Vzc1Rva2VuYCBpbiBhbG1vc3QgYWxsIGNhc2VzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIG5ld2x5IGZldGNoZWQgYWNjZXNzIHRva2VuIChuZXZlciByZWFkIGZyb20gY2FjaGUpLCBvciBudWxsIGlmIHRoZSBzZXNzaW9uIGVpdGhlciBkb2VzIG5vdCByZXByZXNlbnQgYSB1c2VyIG9yIHRoZSBzZXNzaW9uIGlzIGludmFsaWQuXG4gICAqL1xuICBhc3luYyBfZ2V0TmV3bHlGZXRjaGVkQWNjZXNzVG9rZW4oKSB7XG4gICAgaWYgKCF0aGlzLl9yZWZyZXNoVG9rZW4pIHJldHVybiBudWxsO1xuICAgIGlmICh0aGlzLl9rbm93blRvQmVJbnZhbGlkLmdldCgpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMuX3JlZnJlc2hQcm9taXNlKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoQW5kU2V0UmVmcmVzaFByb21pc2UodGhpcy5fcmVmcmVzaFRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZnJlc2hQcm9taXNlO1xuICB9XG4gIF9yZWZyZXNoQW5kU2V0UmVmcmVzaFByb21pc2UocmVmcmVzaFRva2VuKSB7XG4gICAgbGV0IHJlZnJlc2hQcm9taXNlID0gdGhpcy5fb3B0aW9ucy5yZWZyZXNoQWNjZXNzVG9rZW5DYWxsYmFjayhyZWZyZXNoVG9rZW4pLnRoZW4oKGFjY2Vzc1Rva2VuKSA9PiB7XG4gICAgICBpZiAocmVmcmVzaFByb21pc2UgPT09IHRoaXMuX3JlZnJlc2hQcm9taXNlKSB7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWNjZXNzVG9rZW4uc2V0KGFjY2Vzc1Rva2VuKTtcbiAgICAgICAgaWYgKCFhY2Nlc3NUb2tlbikge1xuICAgICAgICAgIHRoaXMubWFya0ludmFsaWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY2Vzc1Rva2VuO1xuICAgIH0pO1xuICAgIHRoaXMuX3JlZnJlc2hQcm9taXNlID0gcmVmcmVzaFByb21pc2U7XG4gIH1cbn07XG5leHBvcnQge1xuICBBY2Nlc3NUb2tlbixcbiAgSW50ZXJuYWxTZXNzaW9uLFxuICBSZWZyZXNoVG9rZW5cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/sessions.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/arrays.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/arrays.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enumerate: () => (/* binding */ enumerate),\n/* harmony export */   findLastIndex: () => (/* binding */ findLastIndex),\n/* harmony export */   getChunks: () => (/* binding */ getChunks),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   isBooleanArray: () => (/* binding */ isBooleanArray),\n/* harmony export */   isNumberArray: () => (/* binding */ isNumberArray),\n/* harmony export */   isObjectArray: () => (/* binding */ isObjectArray),\n/* harmony export */   isShallowEqual: () => (/* binding */ isShallowEqual),\n/* harmony export */   isStringArray: () => (/* binding */ isStringArray),\n/* harmony export */   outerProduct: () => (/* binding */ outerProduct),\n/* harmony export */   range: () => (/* binding */ range),\n/* harmony export */   rotateLeft: () => (/* binding */ rotateLeft),\n/* harmony export */   rotateRight: () => (/* binding */ rotateRight),\n/* harmony export */   shuffle: () => (/* binding */ shuffle),\n/* harmony export */   typedIncludes: () => (/* binding */ typedIncludes),\n/* harmony export */   unique: () => (/* binding */ unique)\n/* harmony export */ });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/math.js\");\n// src/utils/arrays.tsx\n\nfunction typedIncludes(arr, item) {\n  return arr.includes(item);\n}\nfunction enumerate(arr) {\n  return arr.map((item, index) => [index, item]);\n}\nfunction isShallowEqual(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\nfunction findLastIndex(arr, predicate) {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    if (predicate(arr[i])) return i;\n  }\n  return -1;\n}\nfunction groupBy(arr, key) {\n  const result = /* @__PURE__ */ new Map();\n  for (const item of arr) {\n    const k = key(item);\n    if (result.get(k) === void 0) result.set(k, []);\n    result.get(k).push(item);\n  }\n  return result;\n}\nfunction range(startInclusive, endExclusive, step) {\n  if (endExclusive === void 0) {\n    endExclusive = startInclusive;\n    startInclusive = 0;\n  }\n  if (step === void 0) step = 1;\n  const result = [];\n  for (let i = startInclusive; step > 0 ? i < endExclusive : i > endExclusive; i += step) {\n    result.push(i);\n  }\n  return result;\n}\nfunction rotateLeft(arr, n) {\n  if (arr.length === 0) return [];\n  const index = (0,_math_js__WEBPACK_IMPORTED_MODULE_0__.remainder)(n, arr.length);\n  return [...arr.slice(index), ...arr.slice(0, index)];\n}\nfunction rotateRight(arr, n) {\n  return rotateLeft(arr, -n);\n}\nfunction shuffle(arr) {\n  const result = [...arr];\n  for (let i = result.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [result[i], result[j]] = [result[j], result[i]];\n  }\n  return result;\n}\nfunction outerProduct(arr1, arr2) {\n  return arr1.flatMap((item1) => arr2.map((item2) => [item1, item2]));\n}\nfunction unique(arr) {\n  return [...new Set(arr)];\n}\nfunction getChunks(arr, size) {\n  const result = [];\n  if (size <= 0) return result;\n  for (let i = 0; i < arr.length; i += size) {\n    result.push(arr.slice(i, i + size));\n  }\n  return result;\n}\nfunction isStringArray(arr) {\n  return Array.isArray(arr) && arr.every((item) => typeof item === \"string\");\n}\nfunction isNumberArray(arr) {\n  return Array.isArray(arr) && arr.every((item) => typeof item === \"number\");\n}\nfunction isBooleanArray(arr) {\n  return Array.isArray(arr) && arr.every((item) => typeof item === \"boolean\");\n}\nfunction isObjectArray(arr) {\n  return Array.isArray(arr) && arr.every((item) => typeof item === \"object\" && item !== null);\n}\n\n//# sourceMappingURL=arrays.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvYXJyYXlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsUUFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdEQUFnRDtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbURBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcYXJyYXlzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9hcnJheXMudHN4XG5pbXBvcnQgeyByZW1haW5kZXIgfSBmcm9tIFwiLi9tYXRoLmpzXCI7XG5mdW5jdGlvbiB0eXBlZEluY2x1ZGVzKGFyciwgaXRlbSkge1xuICByZXR1cm4gYXJyLmluY2x1ZGVzKGl0ZW0pO1xufVxuZnVuY3Rpb24gZW51bWVyYXRlKGFycikge1xuICByZXR1cm4gYXJyLm1hcCgoaXRlbSwgaW5kZXgpID0+IFtpbmRleCwgaXRlbV0pO1xufVxuZnVuY3Rpb24gaXNTaGFsbG93RXF1YWwoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFyciwgcHJlZGljYXRlKSB7XG4gIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAocHJlZGljYXRlKGFycltpXSkpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGdyb3VwQnkoYXJyLCBrZXkpIHtcbiAgY29uc3QgcmVzdWx0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgIGNvbnN0IGsgPSBrZXkoaXRlbSk7XG4gICAgaWYgKHJlc3VsdC5nZXQoaykgPT09IHZvaWQgMCkgcmVzdWx0LnNldChrLCBbXSk7XG4gICAgcmVzdWx0LmdldChrKS5wdXNoKGl0ZW0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByYW5nZShzdGFydEluY2x1c2l2ZSwgZW5kRXhjbHVzaXZlLCBzdGVwKSB7XG4gIGlmIChlbmRFeGNsdXNpdmUgPT09IHZvaWQgMCkge1xuICAgIGVuZEV4Y2x1c2l2ZSA9IHN0YXJ0SW5jbHVzaXZlO1xuICAgIHN0YXJ0SW5jbHVzaXZlID0gMDtcbiAgfVxuICBpZiAoc3RlcCA9PT0gdm9pZCAwKSBzdGVwID0gMTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSBzdGFydEluY2x1c2l2ZTsgc3RlcCA+IDAgPyBpIDwgZW5kRXhjbHVzaXZlIDogaSA+IGVuZEV4Y2x1c2l2ZTsgaSArPSBzdGVwKSB7XG4gICAgcmVzdWx0LnB1c2goaSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJvdGF0ZUxlZnQoYXJyLCBuKSB7XG4gIGlmIChhcnIubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGNvbnN0IGluZGV4ID0gcmVtYWluZGVyKG4sIGFyci5sZW5ndGgpO1xuICByZXR1cm4gWy4uLmFyci5zbGljZShpbmRleCksIC4uLmFyci5zbGljZSgwLCBpbmRleCldO1xufVxuZnVuY3Rpb24gcm90YXRlUmlnaHQoYXJyLCBuKSB7XG4gIHJldHVybiByb3RhdGVMZWZ0KGFyciwgLW4pO1xufVxuZnVuY3Rpb24gc2h1ZmZsZShhcnIpIHtcbiAgY29uc3QgcmVzdWx0ID0gWy4uLmFycl07XG4gIGZvciAobGV0IGkgPSByZXN1bHQubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICBbcmVzdWx0W2ldLCByZXN1bHRbal1dID0gW3Jlc3VsdFtqXSwgcmVzdWx0W2ldXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb3V0ZXJQcm9kdWN0KGFycjEsIGFycjIpIHtcbiAgcmV0dXJuIGFycjEuZmxhdE1hcCgoaXRlbTEpID0+IGFycjIubWFwKChpdGVtMikgPT4gW2l0ZW0xLCBpdGVtMl0pKTtcbn1cbmZ1bmN0aW9uIHVuaXF1ZShhcnIpIHtcbiAgcmV0dXJuIFsuLi5uZXcgU2V0KGFycildO1xufVxuZnVuY3Rpb24gZ2V0Q2h1bmtzKGFyciwgc2l6ZSkge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgaWYgKHNpemUgPD0gMCkgcmV0dXJuIHJlc3VsdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IHNpemUpIHtcbiAgICByZXN1bHQucHVzaChhcnIuc2xpY2UoaSwgaSArIHNpemUpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaXNTdHJpbmdBcnJheShhcnIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSAmJiBhcnIuZXZlcnkoKGl0ZW0pID0+IHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKTtcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyQXJyYXkoYXJyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFycikgJiYgYXJyLmV2ZXJ5KChpdGVtKSA9PiB0eXBlb2YgaXRlbSA9PT0gXCJudW1iZXJcIik7XG59XG5mdW5jdGlvbiBpc0Jvb2xlYW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSAmJiBhcnIuZXZlcnkoKGl0ZW0pID0+IHR5cGVvZiBpdGVtID09PSBcImJvb2xlYW5cIik7XG59XG5mdW5jdGlvbiBpc09iamVjdEFycmF5KGFycikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpICYmIGFyci5ldmVyeSgoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgaXRlbSAhPT0gbnVsbCk7XG59XG5leHBvcnQge1xuICBlbnVtZXJhdGUsXG4gIGZpbmRMYXN0SW5kZXgsXG4gIGdldENodW5rcyxcbiAgZ3JvdXBCeSxcbiAgaXNCb29sZWFuQXJyYXksXG4gIGlzTnVtYmVyQXJyYXksXG4gIGlzT2JqZWN0QXJyYXksXG4gIGlzU2hhbGxvd0VxdWFsLFxuICBpc1N0cmluZ0FycmF5LFxuICBvdXRlclByb2R1Y3QsXG4gIHJhbmdlLFxuICByb3RhdGVMZWZ0LFxuICByb3RhdGVSaWdodCxcbiAgc2h1ZmZsZSxcbiAgdHlwZWRJbmNsdWRlcyxcbiAgdW5pcXVlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXlzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/arrays.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeBase32: () => (/* binding */ decodeBase32),\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   decodeBase64OrBase64Url: () => (/* binding */ decodeBase64OrBase64Url),\n/* harmony export */   decodeBase64Url: () => (/* binding */ decodeBase64Url),\n/* harmony export */   encodeBase32: () => (/* binding */ encodeBase32),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   encodeBase64Url: () => (/* binding */ encodeBase64Url),\n/* harmony export */   getBase32CharacterFromIndex: () => (/* binding */ getBase32CharacterFromIndex),\n/* harmony export */   getBase32IndexFromCharacter: () => (/* binding */ getBase32IndexFromCharacter),\n/* harmony export */   isBase32: () => (/* binding */ isBase32),\n/* harmony export */   isBase64: () => (/* binding */ isBase64),\n/* harmony export */   isBase64Url: () => (/* binding */ isBase64Url),\n/* harmony export */   toHexString: () => (/* binding */ toHexString)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n// src/utils/bytes.tsx\n\nvar crockfordAlphabet = \"0123456789ABCDEFGHJKMNPQRSTVWXYZ\";\nvar crockfordReplacements = /* @__PURE__ */ new Map([\n  [\"o\", \"0\"],\n  [\"i\", \"1\"],\n  [\"l\", \"1\"]\n]);\nfunction toHexString(input) {\n  return Array.from(input).map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n}\nfunction getBase32CharacterFromIndex(index) {\n  if (index < 0 || index >= crockfordAlphabet.length) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(`Invalid base32 index: ${index}`);\n  }\n  return crockfordAlphabet[index];\n}\nfunction getBase32IndexFromCharacter(character) {\n  if (character.length !== 1) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(`Invalid base32 character: ${character}`);\n  }\n  const index = crockfordAlphabet.indexOf(character.toUpperCase());\n  if (index === -1) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(`Invalid base32 character: ${character}`);\n  }\n  return index;\n}\nfunction encodeBase32(input) {\n  let bits = 0;\n  let value = 0;\n  let output = \"\";\n  for (let i = 0; i < input.length; i++) {\n    value = value << 8 | input[i];\n    bits += 8;\n    while (bits >= 5) {\n      output += getBase32CharacterFromIndex(value >>> bits - 5 & 31);\n      bits -= 5;\n    }\n  }\n  if (bits > 0) {\n    output += getBase32CharacterFromIndex(value << 5 - bits & 31);\n  }\n  if (!isBase32(output)) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"Invalid base32 output; this should never happen\");\n  }\n  return output;\n}\nfunction decodeBase32(input) {\n  if (!isBase32(input)) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"Invalid base32 string\");\n  }\n  const output = new Uint8Array(input.length * 5 / 8 | 0);\n  let bits = 0;\n  let value = 0;\n  let outputIndex = 0;\n  for (let i = 0; i < input.length; i++) {\n    let char = input[i].toLowerCase();\n    if (char === \" \") continue;\n    if (crockfordReplacements.has(char)) {\n      char = crockfordReplacements.get(char);\n    }\n    const index = getBase32IndexFromCharacter(char);\n    value = value << 5 | index;\n    bits += 5;\n    if (bits >= 8) {\n      output[outputIndex++] = value >>> bits - 8 & 255;\n      bits -= 8;\n    }\n  }\n  return output;\n}\nfunction encodeBase64(input) {\n  return btoa([...input].map((b) => String.fromCharCode(b)).join(\"\"));\n}\nfunction decodeBase64(input) {\n  return new Uint8Array(atob(input).split(\"\").map((char) => char.charCodeAt(0)));\n}\nfunction encodeBase64Url(input) {\n  const res = encodeBase64(input).replace(/=+$/, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n  return res;\n}\nfunction decodeBase64Url(input) {\n  if (!isBase64Url(input)) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"Invalid base64url string\");\n  }\n  if (input === \"\") {\n    return new Uint8Array(0);\n  }\n  return decodeBase64(input.replace(/-/g, \"+\").replace(/_/g, \"/\") + \"====\".slice((input.length - 1) % 4 + 1));\n}\nfunction decodeBase64OrBase64Url(input) {\n  if (isBase64Url(input)) {\n    return decodeBase64Url(input);\n  } else if (isBase64(input)) {\n    return decodeBase64(input);\n  } else {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"Invalid base64 or base64url string\");\n  }\n}\nfunction isBase32(input) {\n  for (const char of input) {\n    if (char === \" \") continue;\n    const upperChar = char.toUpperCase();\n    if (!crockfordAlphabet.includes(upperChar)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isBase64(input) {\n  const regex = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;\n  return regex.test(input);\n}\nfunction isBase64Url(input) {\n  if (input === \"\") {\n    return true;\n  }\n  const regex = /^[0-9a-zA-Z_-]+$/;\n  return regex.test(input);\n}\n\n//# sourceMappingURL=bytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvYnl0ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyREFBbUIsMEJBQTBCLE1BQU07QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQW1CLDhCQUE4QixVQUFVO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQW1CLDhCQUE4QixVQUFVO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyREFBbUIseUJBQXlCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJEQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJEQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0osY0FBYywyREFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRSxtQkFBbUIsRUFBRSxpQkFBaUIsRUFBRTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcYnl0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2J5dGVzLnRzeFxuaW1wb3J0IHsgU3RhY2tBc3NlcnRpb25FcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xudmFyIGNyb2NrZm9yZEFscGhhYmV0ID0gXCIwMTIzNDU2Nzg5QUJDREVGR0hKS01OUFFSU1RWV1hZWlwiO1xudmFyIGNyb2NrZm9yZFJlcGxhY2VtZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgW1wib1wiLCBcIjBcIl0sXG4gIFtcImlcIiwgXCIxXCJdLFxuICBbXCJsXCIsIFwiMVwiXVxuXSk7XG5mdW5jdGlvbiB0b0hleFN0cmluZyhpbnB1dCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShpbnB1dCkubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7XG59XG5mdW5jdGlvbiBnZXRCYXNlMzJDaGFyYWN0ZXJGcm9tSW5kZXgoaW5kZXgpIHtcbiAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBjcm9ja2ZvcmRBbHBoYWJldC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgSW52YWxpZCBiYXNlMzIgaW5kZXg6ICR7aW5kZXh9YCk7XG4gIH1cbiAgcmV0dXJuIGNyb2NrZm9yZEFscGhhYmV0W2luZGV4XTtcbn1cbmZ1bmN0aW9uIGdldEJhc2UzMkluZGV4RnJvbUNoYXJhY3RlcihjaGFyYWN0ZXIpIHtcbiAgaWYgKGNoYXJhY3Rlci5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgSW52YWxpZCBiYXNlMzIgY2hhcmFjdGVyOiAke2NoYXJhY3Rlcn1gKTtcbiAgfVxuICBjb25zdCBpbmRleCA9IGNyb2NrZm9yZEFscGhhYmV0LmluZGV4T2YoY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkpO1xuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoYEludmFsaWQgYmFzZTMyIGNoYXJhY3RlcjogJHtjaGFyYWN0ZXJ9YCk7XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gZW5jb2RlQmFzZTMyKGlucHV0KSB7XG4gIGxldCBiaXRzID0gMDtcbiAgbGV0IHZhbHVlID0gMDtcbiAgbGV0IG91dHB1dCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZSA9IHZhbHVlIDw8IDggfCBpbnB1dFtpXTtcbiAgICBiaXRzICs9IDg7XG4gICAgd2hpbGUgKGJpdHMgPj0gNSkge1xuICAgICAgb3V0cHV0ICs9IGdldEJhc2UzMkNoYXJhY3RlckZyb21JbmRleCh2YWx1ZSA+Pj4gYml0cyAtIDUgJiAzMSk7XG4gICAgICBiaXRzIC09IDU7XG4gICAgfVxuICB9XG4gIGlmIChiaXRzID4gMCkge1xuICAgIG91dHB1dCArPSBnZXRCYXNlMzJDaGFyYWN0ZXJGcm9tSW5kZXgodmFsdWUgPDwgNSAtIGJpdHMgJiAzMSk7XG4gIH1cbiAgaWYgKCFpc0Jhc2UzMihvdXRwdXQpKSB7XG4gICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJJbnZhbGlkIGJhc2UzMiBvdXRwdXQ7IHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlblwiKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZGVjb2RlQmFzZTMyKGlucHV0KSB7XG4gIGlmICghaXNCYXNlMzIoaW5wdXQpKSB7XG4gICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJJbnZhbGlkIGJhc2UzMiBzdHJpbmdcIik7XG4gIH1cbiAgY29uc3Qgb3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkoaW5wdXQubGVuZ3RoICogNSAvIDggfCAwKTtcbiAgbGV0IGJpdHMgPSAwO1xuICBsZXQgdmFsdWUgPSAwO1xuICBsZXQgb3V0cHV0SW5kZXggPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoYXIgPSBpbnB1dFtpXS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChjaGFyID09PSBcIiBcIikgY29udGludWU7XG4gICAgaWYgKGNyb2NrZm9yZFJlcGxhY2VtZW50cy5oYXMoY2hhcikpIHtcbiAgICAgIGNoYXIgPSBjcm9ja2ZvcmRSZXBsYWNlbWVudHMuZ2V0KGNoYXIpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGdldEJhc2UzMkluZGV4RnJvbUNoYXJhY3RlcihjaGFyKTtcbiAgICB2YWx1ZSA9IHZhbHVlIDw8IDUgfCBpbmRleDtcbiAgICBiaXRzICs9IDU7XG4gICAgaWYgKGJpdHMgPj0gOCkge1xuICAgICAgb3V0cHV0W291dHB1dEluZGV4KytdID0gdmFsdWUgPj4+IGJpdHMgLSA4ICYgMjU1O1xuICAgICAgYml0cyAtPSA4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZW5jb2RlQmFzZTY0KGlucHV0KSB7XG4gIHJldHVybiBidG9hKFsuLi5pbnB1dF0ubWFwKChiKSA9PiBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpKS5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZUJhc2U2NChpbnB1dCkge1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXRvYihpbnB1dCkuc3BsaXQoXCJcIikubWFwKChjaGFyKSA9PiBjaGFyLmNoYXJDb2RlQXQoMCkpKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUJhc2U2NFVybChpbnB1dCkge1xuICBjb25zdCByZXMgPSBlbmNvZGVCYXNlNjQoaW5wdXQpLnJlcGxhY2UoLz0rJC8sIFwiXCIpLnJlcGxhY2UoL1xcKy9nLCBcIi1cIikucmVwbGFjZSgvXFwvL2csIFwiX1wiKTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGRlY29kZUJhc2U2NFVybChpbnB1dCkge1xuICBpZiAoIWlzQmFzZTY0VXJsKGlucHV0KSkge1xuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiSW52YWxpZCBiYXNlNjR1cmwgc3RyaW5nXCIpO1xuICB9XG4gIGlmIChpbnB1dCA9PT0gXCJcIikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgfVxuICByZXR1cm4gZGVjb2RlQmFzZTY0KGlucHV0LnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpICsgXCI9PT09XCIuc2xpY2UoKGlucHV0Lmxlbmd0aCAtIDEpICUgNCArIDEpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZUJhc2U2NE9yQmFzZTY0VXJsKGlucHV0KSB7XG4gIGlmIChpc0Jhc2U2NFVybChpbnB1dCkpIHtcbiAgICByZXR1cm4gZGVjb2RlQmFzZTY0VXJsKGlucHV0KTtcbiAgfSBlbHNlIGlmIChpc0Jhc2U2NChpbnB1dCkpIHtcbiAgICByZXR1cm4gZGVjb2RlQmFzZTY0KGlucHV0KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIkludmFsaWQgYmFzZTY0IG9yIGJhc2U2NHVybCBzdHJpbmdcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzQmFzZTMyKGlucHV0KSB7XG4gIGZvciAoY29uc3QgY2hhciBvZiBpbnB1dCkge1xuICAgIGlmIChjaGFyID09PSBcIiBcIikgY29udGludWU7XG4gICAgY29uc3QgdXBwZXJDaGFyID0gY2hhci50b1VwcGVyQ2FzZSgpO1xuICAgIGlmICghY3JvY2tmb3JkQWxwaGFiZXQuaW5jbHVkZXModXBwZXJDaGFyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzQmFzZTY0KGlucHV0KSB7XG4gIGNvbnN0IHJlZ2V4ID0gL14oPzpbQS1aYS16MC05Ky9dezR9KSooPzpbQS1aYS16MC05Ky9dezJ9PT18W0EtWmEtejAtOSsvXXszfT0pPyQvO1xuICByZXR1cm4gcmVnZXgudGVzdChpbnB1dCk7XG59XG5mdW5jdGlvbiBpc0Jhc2U2NFVybChpbnB1dCkge1xuICBpZiAoaW5wdXQgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCByZWdleCA9IC9eWzAtOWEtekEtWl8tXSskLztcbiAgcmV0dXJuIHJlZ2V4LnRlc3QoaW5wdXQpO1xufVxuZXhwb3J0IHtcbiAgZGVjb2RlQmFzZTMyLFxuICBkZWNvZGVCYXNlNjQsXG4gIGRlY29kZUJhc2U2NE9yQmFzZTY0VXJsLFxuICBkZWNvZGVCYXNlNjRVcmwsXG4gIGVuY29kZUJhc2UzMixcbiAgZW5jb2RlQmFzZTY0LFxuICBlbmNvZGVCYXNlNjRVcmwsXG4gIGdldEJhc2UzMkNoYXJhY3RlckZyb21JbmRleCxcbiAgZ2V0QmFzZTMySW5kZXhGcm9tQ2hhcmFjdGVyLFxuICBpc0Jhc2UzMixcbiAgaXNCYXNlNjQsXG4gIGlzQmFzZTY0VXJsLFxuICB0b0hleFN0cmluZ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ5dGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/caches.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/caches.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncCache: () => (/* binding */ AsyncCache),\n/* harmony export */   cacheFunction: () => (/* binding */ cacheFunction)\n/* harmony export */ });\n/* harmony import */ var _maps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./maps.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/maps.js\");\n/* harmony import */ var _objects_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./objects.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _promises_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./promises.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _stores_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stores.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js\");\n// src/utils/caches.tsx\n\n\n\n\nfunction cacheFunction(f) {\n  const dependenciesMap = new _maps_js__WEBPACK_IMPORTED_MODULE_0__.DependenciesMap();\n  return (...args) => {\n    if (dependenciesMap.has(args)) {\n      return dependenciesMap.get(args);\n    }\n    const value = f(...args);\n    dependenciesMap.set(args, value);\n    return value;\n  };\n}\nvar AsyncCache = class {\n  constructor(_fetcher, _options = {}) {\n    this._fetcher = _fetcher;\n    this._options = _options;\n    this._map = new _maps_js__WEBPACK_IMPORTED_MODULE_0__.DependenciesMap();\n    this.isCacheAvailable = this._createKeyed(\"isCacheAvailable\");\n    this.getIfCached = this._createKeyed(\"getIfCached\");\n    this.getOrWait = this._createKeyed(\"getOrWait\");\n    this.forceSetCachedValue = this._createKeyed(\"forceSetCachedValue\");\n    this.forceSetCachedValueAsync = this._createKeyed(\"forceSetCachedValueAsync\");\n    this.refresh = this._createKeyed(\"refresh\");\n    this.invalidate = this._createKeyed(\"invalidate\");\n    this.onStateChange = this._createKeyed(\"onStateChange\");\n  }\n  _createKeyed(functionName) {\n    return (key, ...args) => {\n      const valueCache = this.getValueCache(key);\n      return valueCache[functionName].apply(valueCache, args);\n    };\n  }\n  getValueCache(dependencies) {\n    let cache = this._map.get(dependencies);\n    if (!cache) {\n      cache = new AsyncValueCache(\n        async () => await this._fetcher(dependencies),\n        {\n          ...this._options,\n          onSubscribe: this._options.onSubscribe ? (cb) => this._options.onSubscribe(dependencies, cb) : void 0\n        }\n      );\n      this._map.set(dependencies, cache);\n    }\n    return cache;\n  }\n  async refreshWhere(predicate) {\n    const promises = [];\n    for (const [dependencies, cache] of this._map) {\n      if (predicate(dependencies)) {\n        promises.push(cache.refresh());\n      }\n    }\n    await Promise.all(promises);\n  }\n};\nvar AsyncValueCache = class {\n  constructor(fetcher, _options = {}) {\n    this._options = _options;\n    this._subscriptionsCount = 0;\n    this._unsubscribers = [];\n    this._mostRecentRefreshPromiseIndex = 0;\n    this._store = new _stores_js__WEBPACK_IMPORTED_MODULE_3__.AsyncStore();\n    this._rateLimitOptions = {\n      concurrency: 1,\n      throttleMs: 300,\n      ...(0,_objects_js__WEBPACK_IMPORTED_MODULE_1__.filterUndefined)(_options.rateLimiter ?? {})\n    };\n    this._fetcher = (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.rateLimited)(fetcher, {\n      ...this._rateLimitOptions,\n      batchCalls: true\n    });\n  }\n  isCacheAvailable() {\n    return this._store.isAvailable();\n  }\n  getIfCached() {\n    return this._store.get();\n  }\n  getOrWait(cacheStrategy) {\n    const cached = this.getIfCached();\n    if (cacheStrategy === \"read-write\" && cached.status === \"ok\") {\n      return (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.resolved)(cached.data);\n    }\n    return this._refetch(cacheStrategy);\n  }\n  _set(value) {\n    this._store.set(value);\n  }\n  _setAsync(value) {\n    const promise = (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.pending)(value);\n    this._pendingPromise = promise;\n    return (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.pending)(this._store.setAsync(promise));\n  }\n  _refetch(cacheStrategy) {\n    if (cacheStrategy === \"read-write\" && this._pendingPromise) {\n      return this._pendingPromise;\n    }\n    const promise = (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.pending)(this._fetcher());\n    if (cacheStrategy === \"never\") {\n      return promise;\n    }\n    return (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.pending)(this._setAsync(promise).then(() => promise));\n  }\n  forceSetCachedValue(value) {\n    this._set(value);\n  }\n  forceSetCachedValueAsync(value) {\n    return this._setAsync(value);\n  }\n  /**\n   * Refetches the value from the fetcher, and updates the cache with it.\n   */\n  async refresh() {\n    return await this.getOrWait(\"write-only\");\n  }\n  /**\n   * Invalidates the cache, marking it to refresh on the next read. If anyone was listening to it, it will refresh\n   * immediately.\n   */\n  invalidate() {\n    this._store.setUnavailable();\n    this._pendingPromise = void 0;\n    if (this._subscriptionsCount > 0) {\n      (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.runAsynchronously)(this.refresh());\n    }\n  }\n  onStateChange(callback) {\n    const storeObj = this._store.onChange(callback);\n    (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.runAsynchronously)(this.getOrWait(\"read-write\"));\n    if (this._subscriptionsCount++ === 0 && this._options.onSubscribe) {\n      const unsubscribe = this._options.onSubscribe(() => {\n        (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.runAsynchronously)(this.refresh());\n      });\n      this._unsubscribers.push(unsubscribe);\n    }\n    let hasUnsubscribed = false;\n    return {\n      unsubscribe: () => {\n        if (hasUnsubscribed) return;\n        hasUnsubscribed = true;\n        storeObj.unsubscribe();\n        if (--this._subscriptionsCount === 0) {\n          const currentRefreshPromiseIndex = ++this._mostRecentRefreshPromiseIndex;\n          (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.runAsynchronously)(async () => {\n            await (0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.wait)(5e3);\n            if (this._subscriptionsCount === 0 && currentRefreshPromiseIndex === this._mostRecentRefreshPromiseIndex) {\n              this.invalidate();\n            }\n          });\n          for (const unsubscribe of this._unsubscribers) {\n            unsubscribe();\n          }\n        }\n      }\n    };\n  }\n};\n\n//# sourceMappingURL=caches.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvY2FjaGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQzRDO0FBQ0c7QUFDeUM7QUFDL0M7QUFDekM7QUFDQSw4QkFBOEIscURBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBLG9CQUFvQixxREFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrREFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFlLDJCQUEyQjtBQUNuRDtBQUNBLG9CQUFvQix5REFBVztBQUMvQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzREFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxREFBTztBQUMzQjtBQUNBLFdBQVcscURBQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxREFBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFEQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sK0RBQWlCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwrREFBaUI7QUFDckI7QUFDQTtBQUNBLFFBQVEsK0RBQWlCO0FBQ3pCLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0RBQWlCO0FBQzNCLGtCQUFrQixrREFBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxjYWNoZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2NhY2hlcy50c3hcbmltcG9ydCB7IERlcGVuZGVuY2llc01hcCB9IGZyb20gXCIuL21hcHMuanNcIjtcbmltcG9ydCB7IGZpbHRlclVuZGVmaW5lZCB9IGZyb20gXCIuL29iamVjdHMuanNcIjtcbmltcG9ydCB7IHBlbmRpbmcsIHJhdGVMaW1pdGVkLCByZXNvbHZlZCwgcnVuQXN5bmNocm9ub3VzbHksIHdhaXQgfSBmcm9tIFwiLi9wcm9taXNlcy5qc1wiO1xuaW1wb3J0IHsgQXN5bmNTdG9yZSB9IGZyb20gXCIuL3N0b3Jlcy5qc1wiO1xuZnVuY3Rpb24gY2FjaGVGdW5jdGlvbihmKSB7XG4gIGNvbnN0IGRlcGVuZGVuY2llc01hcCA9IG5ldyBEZXBlbmRlbmNpZXNNYXAoKTtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKGRlcGVuZGVuY2llc01hcC5oYXMoYXJncykpIHtcbiAgICAgIHJldHVybiBkZXBlbmRlbmNpZXNNYXAuZ2V0KGFyZ3MpO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IGYoLi4uYXJncyk7XG4gICAgZGVwZW5kZW5jaWVzTWFwLnNldChhcmdzLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxudmFyIEFzeW5jQ2FjaGUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF9mZXRjaGVyLCBfb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5fZmV0Y2hlciA9IF9mZXRjaGVyO1xuICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9ucztcbiAgICB0aGlzLl9tYXAgPSBuZXcgRGVwZW5kZW5jaWVzTWFwKCk7XG4gICAgdGhpcy5pc0NhY2hlQXZhaWxhYmxlID0gdGhpcy5fY3JlYXRlS2V5ZWQoXCJpc0NhY2hlQXZhaWxhYmxlXCIpO1xuICAgIHRoaXMuZ2V0SWZDYWNoZWQgPSB0aGlzLl9jcmVhdGVLZXllZChcImdldElmQ2FjaGVkXCIpO1xuICAgIHRoaXMuZ2V0T3JXYWl0ID0gdGhpcy5fY3JlYXRlS2V5ZWQoXCJnZXRPcldhaXRcIik7XG4gICAgdGhpcy5mb3JjZVNldENhY2hlZFZhbHVlID0gdGhpcy5fY3JlYXRlS2V5ZWQoXCJmb3JjZVNldENhY2hlZFZhbHVlXCIpO1xuICAgIHRoaXMuZm9yY2VTZXRDYWNoZWRWYWx1ZUFzeW5jID0gdGhpcy5fY3JlYXRlS2V5ZWQoXCJmb3JjZVNldENhY2hlZFZhbHVlQXN5bmNcIik7XG4gICAgdGhpcy5yZWZyZXNoID0gdGhpcy5fY3JlYXRlS2V5ZWQoXCJyZWZyZXNoXCIpO1xuICAgIHRoaXMuaW52YWxpZGF0ZSA9IHRoaXMuX2NyZWF0ZUtleWVkKFwiaW52YWxpZGF0ZVwiKTtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UgPSB0aGlzLl9jcmVhdGVLZXllZChcIm9uU3RhdGVDaGFuZ2VcIik7XG4gIH1cbiAgX2NyZWF0ZUtleWVkKGZ1bmN0aW9uTmFtZSkge1xuICAgIHJldHVybiAoa2V5LCAuLi5hcmdzKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZUNhY2hlID0gdGhpcy5nZXRWYWx1ZUNhY2hlKGtleSk7XG4gICAgICByZXR1cm4gdmFsdWVDYWNoZVtmdW5jdGlvbk5hbWVdLmFwcGx5KHZhbHVlQ2FjaGUsIGFyZ3MpO1xuICAgIH07XG4gIH1cbiAgZ2V0VmFsdWVDYWNoZShkZXBlbmRlbmNpZXMpIHtcbiAgICBsZXQgY2FjaGUgPSB0aGlzLl9tYXAuZ2V0KGRlcGVuZGVuY2llcyk7XG4gICAgaWYgKCFjYWNoZSkge1xuICAgICAgY2FjaGUgPSBuZXcgQXN5bmNWYWx1ZUNhY2hlKFxuICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLl9mZXRjaGVyKGRlcGVuZGVuY2llcyksXG4gICAgICAgIHtcbiAgICAgICAgICAuLi50aGlzLl9vcHRpb25zLFxuICAgICAgICAgIG9uU3Vic2NyaWJlOiB0aGlzLl9vcHRpb25zLm9uU3Vic2NyaWJlID8gKGNiKSA9PiB0aGlzLl9vcHRpb25zLm9uU3Vic2NyaWJlKGRlcGVuZGVuY2llcywgY2IpIDogdm9pZCAwXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB0aGlzLl9tYXAuc2V0KGRlcGVuZGVuY2llcywgY2FjaGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGU7XG4gIH1cbiAgYXN5bmMgcmVmcmVzaFdoZXJlKHByZWRpY2F0ZSkge1xuICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgZm9yIChjb25zdCBbZGVwZW5kZW5jaWVzLCBjYWNoZV0gb2YgdGhpcy5fbWFwKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGRlcGVuZGVuY2llcykpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChjYWNoZS5yZWZyZXNoKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn07XG52YXIgQXN5bmNWYWx1ZUNhY2hlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihmZXRjaGVyLCBfb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IF9vcHRpb25zO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnNDb3VudCA9IDA7XG4gICAgdGhpcy5fdW5zdWJzY3JpYmVycyA9IFtdO1xuICAgIHRoaXMuX21vc3RSZWNlbnRSZWZyZXNoUHJvbWlzZUluZGV4ID0gMDtcbiAgICB0aGlzLl9zdG9yZSA9IG5ldyBBc3luY1N0b3JlKCk7XG4gICAgdGhpcy5fcmF0ZUxpbWl0T3B0aW9ucyA9IHtcbiAgICAgIGNvbmN1cnJlbmN5OiAxLFxuICAgICAgdGhyb3R0bGVNczogMzAwLFxuICAgICAgLi4uZmlsdGVyVW5kZWZpbmVkKF9vcHRpb25zLnJhdGVMaW1pdGVyID8/IHt9KVxuICAgIH07XG4gICAgdGhpcy5fZmV0Y2hlciA9IHJhdGVMaW1pdGVkKGZldGNoZXIsIHtcbiAgICAgIC4uLnRoaXMuX3JhdGVMaW1pdE9wdGlvbnMsXG4gICAgICBiYXRjaENhbGxzOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaXNDYWNoZUF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuaXNBdmFpbGFibGUoKTtcbiAgfVxuICBnZXRJZkNhY2hlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZ2V0KCk7XG4gIH1cbiAgZ2V0T3JXYWl0KGNhY2hlU3RyYXRlZ3kpIHtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmdldElmQ2FjaGVkKCk7XG4gICAgaWYgKGNhY2hlU3RyYXRlZ3kgPT09IFwicmVhZC13cml0ZVwiICYmIGNhY2hlZC5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgcmV0dXJuIHJlc29sdmVkKGNhY2hlZC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlZmV0Y2goY2FjaGVTdHJhdGVneSk7XG4gIH1cbiAgX3NldCh2YWx1ZSkge1xuICAgIHRoaXMuX3N0b3JlLnNldCh2YWx1ZSk7XG4gIH1cbiAgX3NldEFzeW5jKHZhbHVlKSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IHBlbmRpbmcodmFsdWUpO1xuICAgIHRoaXMuX3BlbmRpbmdQcm9taXNlID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcGVuZGluZyh0aGlzLl9zdG9yZS5zZXRBc3luYyhwcm9taXNlKSk7XG4gIH1cbiAgX3JlZmV0Y2goY2FjaGVTdHJhdGVneSkge1xuICAgIGlmIChjYWNoZVN0cmF0ZWd5ID09PSBcInJlYWQtd3JpdGVcIiAmJiB0aGlzLl9wZW5kaW5nUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdQcm9taXNlO1xuICAgIH1cbiAgICBjb25zdCBwcm9taXNlID0gcGVuZGluZyh0aGlzLl9mZXRjaGVyKCkpO1xuICAgIGlmIChjYWNoZVN0cmF0ZWd5ID09PSBcIm5ldmVyXCIpIHtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICByZXR1cm4gcGVuZGluZyh0aGlzLl9zZXRBc3luYyhwcm9taXNlKS50aGVuKCgpID0+IHByb21pc2UpKTtcbiAgfVxuICBmb3JjZVNldENhY2hlZFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5fc2V0KHZhbHVlKTtcbiAgfVxuICBmb3JjZVNldENhY2hlZFZhbHVlQXN5bmModmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0QXN5bmModmFsdWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZWZldGNoZXMgdGhlIHZhbHVlIGZyb20gdGhlIGZldGNoZXIsIGFuZCB1cGRhdGVzIHRoZSBjYWNoZSB3aXRoIGl0LlxuICAgKi9cbiAgYXN5bmMgcmVmcmVzaCgpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRPcldhaXQoXCJ3cml0ZS1vbmx5XCIpO1xuICB9XG4gIC8qKlxuICAgKiBJbnZhbGlkYXRlcyB0aGUgY2FjaGUsIG1hcmtpbmcgaXQgdG8gcmVmcmVzaCBvbiB0aGUgbmV4dCByZWFkLiBJZiBhbnlvbmUgd2FzIGxpc3RlbmluZyB0byBpdCwgaXQgd2lsbCByZWZyZXNoXG4gICAqIGltbWVkaWF0ZWx5LlxuICAgKi9cbiAgaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLl9zdG9yZS5zZXRVbmF2YWlsYWJsZSgpO1xuICAgIHRoaXMuX3BlbmRpbmdQcm9taXNlID0gdm9pZCAwO1xuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25zQ291bnQgPiAwKSB7XG4gICAgICBydW5Bc3luY2hyb25vdXNseSh0aGlzLnJlZnJlc2goKSk7XG4gICAgfVxuICB9XG4gIG9uU3RhdGVDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICBjb25zdCBzdG9yZU9iaiA9IHRoaXMuX3N0b3JlLm9uQ2hhbmdlKGNhbGxiYWNrKTtcbiAgICBydW5Bc3luY2hyb25vdXNseSh0aGlzLmdldE9yV2FpdChcInJlYWQtd3JpdGVcIikpO1xuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25zQ291bnQrKyA9PT0gMCAmJiB0aGlzLl9vcHRpb25zLm9uU3Vic2NyaWJlKSB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuX29wdGlvbnMub25TdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBydW5Bc3luY2hyb25vdXNseSh0aGlzLnJlZnJlc2goKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlcnMucHVzaCh1bnN1YnNjcmliZSk7XG4gICAgfVxuICAgIGxldCBoYXNVbnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcbiAgICAgICAgaWYgKGhhc1Vuc3Vic2NyaWJlZCkgcmV0dXJuO1xuICAgICAgICBoYXNVbnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICBzdG9yZU9iai51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAoLS10aGlzLl9zdWJzY3JpcHRpb25zQ291bnQgPT09IDApIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UmVmcmVzaFByb21pc2VJbmRleCA9ICsrdGhpcy5fbW9zdFJlY2VudFJlZnJlc2hQcm9taXNlSW5kZXg7XG4gICAgICAgICAgcnVuQXN5bmNocm9ub3VzbHkoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgd2FpdCg1ZTMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbnNDb3VudCA9PT0gMCAmJiBjdXJyZW50UmVmcmVzaFByb21pc2VJbmRleCA9PT0gdGhpcy5fbW9zdFJlY2VudFJlZnJlc2hQcm9taXNlSW5kZXgpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yIChjb25zdCB1bnN1YnNjcmliZSBvZiB0aGlzLl91bnN1YnNjcmliZXJzKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5leHBvcnQge1xuICBBc3luY0NhY2hlLFxuICBjYWNoZUZ1bmN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/caches.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/compile-time.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/compile-time.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scrambleDuringCompileTime: () => (/* binding */ scrambleDuringCompileTime)\n/* harmony export */ });\n// src/utils/compile-time.tsx\nfunction scrambleDuringCompileTime(t) {\n  if (Math.random() < 1e-5 && Math.random() > 0.99999 && Math.random() < 1e-5 && Math.random() > 0.99999) {\n    return \"this will never happen\";\n  }\n  return t;\n}\n\n//# sourceMappingURL=compile-time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvY29tcGlsZS10aW1lLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxjb21waWxlLXRpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2NvbXBpbGUtdGltZS50c3hcbmZ1bmN0aW9uIHNjcmFtYmxlRHVyaW5nQ29tcGlsZVRpbWUodCkge1xuICBpZiAoTWF0aC5yYW5kb20oKSA8IDFlLTUgJiYgTWF0aC5yYW5kb20oKSA+IDAuOTk5OTkgJiYgTWF0aC5yYW5kb20oKSA8IDFlLTUgJiYgTWF0aC5yYW5kb20oKSA+IDAuOTk5OTkpIHtcbiAgICByZXR1cm4gXCJ0aGlzIHdpbGwgbmV2ZXIgaGFwcGVuXCI7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5leHBvcnQge1xuICBzY3JhbWJsZUR1cmluZ0NvbXBpbGVUaW1lXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZS10aW1lLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/compile-time.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   encrypt: () => (/* binding */ encrypt),\n/* harmony export */   generateRandomValues: () => (/* binding */ generateRandomValues),\n/* harmony export */   generateSecureRandomString: () => (/* binding */ generateSecureRandomString),\n/* harmony export */   hash: () => (/* binding */ hash),\n/* harmony export */   iteratedHash: () => (/* binding */ iteratedHash)\n/* harmony export */ });\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytes.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./globals.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js\");\n/* harmony import */ var _results_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n// src/utils/crypto.tsx\n\n\n\n\nfunction generateRandomValues(array) {\n  if (!_globals_js__WEBPACK_IMPORTED_MODULE_2__.globalVar.crypto) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Crypto API is not available in this environment. Are you using an old browser?\");\n  }\n  if (!_globals_js__WEBPACK_IMPORTED_MODULE_2__.globalVar.crypto.getRandomValues) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"crypto.getRandomValues is not available in this environment. Are you using an old browser?\");\n  }\n  return _globals_js__WEBPACK_IMPORTED_MODULE_2__.globalVar.crypto.getRandomValues(array);\n}\nfunction generateSecureRandomString(minBitsOfEntropy = 224) {\n  const base32CharactersCount = Math.ceil(minBitsOfEntropy / 5);\n  const bytesCount = Math.ceil(base32CharactersCount * 5 / 8);\n  const randomBytes = generateRandomValues(new Uint8Array(bytesCount));\n  const str = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.encodeBase32)(randomBytes);\n  return str.slice(str.length - base32CharactersCount).toLowerCase();\n}\nasync function getDerivedSymmetricKey(purpose, secret, salt) {\n  const originalSecretKey = await crypto.subtle.importKey(\"raw\", typeof secret === \"string\" ? new TextEncoder().encode(secret) : secret, \"HKDF\", false, [\"deriveKey\"]);\n  return await crypto.subtle.deriveKey(\n    {\n      name: \"HKDF\",\n      salt,\n      hash: \"SHA-256\",\n      info: new TextEncoder().encode(JSON.stringify([\n        \"stack-crypto-helper-derived-symmetric-key\",\n        purpose,\n        typeof secret === \"string\" ? \"string-key\" : \"binary-key\",\n        (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(salt)\n      ]))\n    },\n    originalSecretKey,\n    { name: \"AES-GCM\", length: 256 },\n    false,\n    [\"encrypt\", \"decrypt\"]\n  );\n}\nasync function encrypt({ purpose, secret, value }) {\n  const iv = crypto.getRandomValues(new Uint8Array(12));\n  const salt = crypto.getRandomValues(new Uint8Array(16));\n  const derivedSecretKey = await getDerivedSymmetricKey(purpose, secret, salt);\n  const cipher = await crypto.subtle.encrypt({\n    name: \"AES-GCM\",\n    iv\n  }, derivedSecretKey, value);\n  const version = [1, 0];\n  return new Uint8Array([...version, ...salt, ...iv, ...new Uint8Array(cipher)]);\n}\nasync function decrypt({ purpose, secret, cipher }) {\n  const version = cipher.slice(0, 2);\n  if (version[0] !== 1 || version[1] !== 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Invalid ciphertext version in decrypt(...); expected 0x0100\", { purpose });\n  const salt = cipher.slice(2, 18);\n  const iv = cipher.slice(18, 30);\n  const cipherBytes = cipher.slice(30);\n  const derivedSecretKey = await getDerivedSymmetricKey(purpose, secret, salt);\n  try {\n    const plaintext = await crypto.subtle.decrypt({\n      name: \"AES-GCM\",\n      iv\n    }, derivedSecretKey, cipherBytes);\n    return _results_js__WEBPACK_IMPORTED_MODULE_3__.Result.ok(new Uint8Array(plaintext));\n  } catch (e) {\n    if (e instanceof DOMException && e.name === \"OperationError\") {\n      return _results_js__WEBPACK_IMPORTED_MODULE_3__.Result.error(new Error(\"Invalid ciphertext or secret when decrypting encrypted value\", { cause: e }));\n    }\n    throw e;\n  }\n}\nasync function hash(options) {\n  return await iteratedHash({ ...options, iterations: 1 });\n}\nasync function iteratedHash(options) {\n  const stringOrUint8ArrayToUint8Array = (value) => typeof value === \"string\" ? new TextEncoder().encode(value) : value;\n  const stringOrUint8ArrayToBase64 = (value) => (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(stringOrUint8ArrayToUint8Array(value));\n  const input = await crypto.subtle.importKey(\n    \"raw\",\n    stringOrUint8ArrayToUint8Array(options.value),\n    \"PBKDF2\",\n    false,\n    [\"deriveBits\"]\n  );\n  return new Uint8Array(await crypto.subtle.deriveBits({\n    name: \"PBKDF2\",\n    salt: new TextEncoder().encode(JSON.stringify([\n      \"stack-crypto-helper-iterated-hash\",\n      options.purpose,\n      stringOrUint8ArrayToBase64(options.salt ?? \"\"),\n      stringOrUint8ArrayToBase64(options.extra ?? \"\")\n    ])),\n    iterations: options.iterations,\n    hash: \"SHA-256\"\n  }, input, 256));\n}\n\n//# sourceMappingURL=crypto.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvY3J5cHRvLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUN3RDtBQUNOO0FBQ1Q7QUFDSDtBQUN0QztBQUNBLE9BQU8sa0RBQVM7QUFDaEIsY0FBYywyREFBbUI7QUFDakM7QUFDQSxPQUFPLGtEQUFTO0FBQ2hCLGNBQWMsMkRBQW1CO0FBQ2pDO0FBQ0EsU0FBUyxrREFBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQVk7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxNQUFNLDhCQUE4QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3QkFBd0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5QkFBeUI7QUFDbEQ7QUFDQSxzREFBc0QsMkRBQW1CLDhDQUE4QyxvQkFBb0IsU0FBUztBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsK0NBQU07QUFDakIsSUFBSTtBQUNKO0FBQ0EsYUFBYSwrQ0FBTSxtRkFBbUYsVUFBVTtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJCQUEyQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsdURBQVk7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQVFFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxjcnlwdG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2NyeXB0by50c3hcbmltcG9ydCB7IGVuY29kZUJhc2UzMiwgZW5jb2RlQmFzZTY0IH0gZnJvbSBcIi4vYnl0ZXMuanNcIjtcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGdsb2JhbFZhciB9IGZyb20gXCIuL2dsb2JhbHMuanNcIjtcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdHMuanNcIjtcbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tVmFsdWVzKGFycmF5KSB7XG4gIGlmICghZ2xvYmFsVmFyLmNyeXB0bykge1xuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiQ3J5cHRvIEFQSSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuIEFyZSB5b3UgdXNpbmcgYW4gb2xkIGJyb3dzZXI/XCIpO1xuICB9XG4gIGlmICghZ2xvYmFsVmFyLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcImNyeXB0by5nZXRSYW5kb21WYWx1ZXMgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50LiBBcmUgeW91IHVzaW5nIGFuIG9sZCBicm93c2VyP1wiKTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsVmFyLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVTZWN1cmVSYW5kb21TdHJpbmcobWluQml0c09mRW50cm9weSA9IDIyNCkge1xuICBjb25zdCBiYXNlMzJDaGFyYWN0ZXJzQ291bnQgPSBNYXRoLmNlaWwobWluQml0c09mRW50cm9weSAvIDUpO1xuICBjb25zdCBieXRlc0NvdW50ID0gTWF0aC5jZWlsKGJhc2UzMkNoYXJhY3RlcnNDb3VudCAqIDUgLyA4KTtcbiAgY29uc3QgcmFuZG9tQnl0ZXMgPSBnZW5lcmF0ZVJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShieXRlc0NvdW50KSk7XG4gIGNvbnN0IHN0ciA9IGVuY29kZUJhc2UzMihyYW5kb21CeXRlcyk7XG4gIHJldHVybiBzdHIuc2xpY2Uoc3RyLmxlbmd0aCAtIGJhc2UzMkNoYXJhY3RlcnNDb3VudCkudG9Mb3dlckNhc2UoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldERlcml2ZWRTeW1tZXRyaWNLZXkocHVycG9zZSwgc2VjcmV0LCBzYWx0KSB7XG4gIGNvbnN0IG9yaWdpbmFsU2VjcmV0S2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIiwgdHlwZW9mIHNlY3JldCA9PT0gXCJzdHJpbmdcIiA/IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZWNyZXQpIDogc2VjcmV0LCBcIkhLREZcIiwgZmFsc2UsIFtcImRlcml2ZUtleVwiXSk7XG4gIHJldHVybiBhd2FpdCBjcnlwdG8uc3VidGxlLmRlcml2ZUtleShcbiAgICB7XG4gICAgICBuYW1lOiBcIkhLREZcIixcbiAgICAgIHNhbHQsXG4gICAgICBoYXNoOiBcIlNIQS0yNTZcIixcbiAgICAgIGluZm86IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShKU09OLnN0cmluZ2lmeShbXG4gICAgICAgIFwic3RhY2stY3J5cHRvLWhlbHBlci1kZXJpdmVkLXN5bW1ldHJpYy1rZXlcIixcbiAgICAgICAgcHVycG9zZSxcbiAgICAgICAgdHlwZW9mIHNlY3JldCA9PT0gXCJzdHJpbmdcIiA/IFwic3RyaW5nLWtleVwiIDogXCJiaW5hcnkta2V5XCIsXG4gICAgICAgIGVuY29kZUJhc2U2NChzYWx0KVxuICAgICAgXSkpXG4gICAgfSxcbiAgICBvcmlnaW5hbFNlY3JldEtleSxcbiAgICB7IG5hbWU6IFwiQUVTLUdDTVwiLCBsZW5ndGg6IDI1NiB9LFxuICAgIGZhbHNlLFxuICAgIFtcImVuY3J5cHRcIiwgXCJkZWNyeXB0XCJdXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBlbmNyeXB0KHsgcHVycG9zZSwgc2VjcmV0LCB2YWx1ZSB9KSB7XG4gIGNvbnN0IGl2ID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxMikpO1xuICBjb25zdCBzYWx0ID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxNikpO1xuICBjb25zdCBkZXJpdmVkU2VjcmV0S2V5ID0gYXdhaXQgZ2V0RGVyaXZlZFN5bW1ldHJpY0tleShwdXJwb3NlLCBzZWNyZXQsIHNhbHQpO1xuICBjb25zdCBjaXBoZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoe1xuICAgIG5hbWU6IFwiQUVTLUdDTVwiLFxuICAgIGl2XG4gIH0sIGRlcml2ZWRTZWNyZXRLZXksIHZhbHVlKTtcbiAgY29uc3QgdmVyc2lvbiA9IFsxLCAwXTtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsuLi52ZXJzaW9uLCAuLi5zYWx0LCAuLi5pdiwgLi4ubmV3IFVpbnQ4QXJyYXkoY2lwaGVyKV0pO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjcnlwdCh7IHB1cnBvc2UsIHNlY3JldCwgY2lwaGVyIH0pIHtcbiAgY29uc3QgdmVyc2lvbiA9IGNpcGhlci5zbGljZSgwLCAyKTtcbiAgaWYgKHZlcnNpb25bMF0gIT09IDEgfHwgdmVyc2lvblsxXSAhPT0gMCkgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJJbnZhbGlkIGNpcGhlcnRleHQgdmVyc2lvbiBpbiBkZWNyeXB0KC4uLik7IGV4cGVjdGVkIDB4MDEwMFwiLCB7IHB1cnBvc2UgfSk7XG4gIGNvbnN0IHNhbHQgPSBjaXBoZXIuc2xpY2UoMiwgMTgpO1xuICBjb25zdCBpdiA9IGNpcGhlci5zbGljZSgxOCwgMzApO1xuICBjb25zdCBjaXBoZXJCeXRlcyA9IGNpcGhlci5zbGljZSgzMCk7XG4gIGNvbnN0IGRlcml2ZWRTZWNyZXRLZXkgPSBhd2FpdCBnZXREZXJpdmVkU3ltbWV0cmljS2V5KHB1cnBvc2UsIHNlY3JldCwgc2FsdCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcGxhaW50ZXh0ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtcbiAgICAgIG5hbWU6IFwiQUVTLUdDTVwiLFxuICAgICAgaXZcbiAgICB9LCBkZXJpdmVkU2VjcmV0S2V5LCBjaXBoZXJCeXRlcyk7XG4gICAgcmV0dXJuIFJlc3VsdC5vayhuZXcgVWludDhBcnJheShwbGFpbnRleHQpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGUubmFtZSA9PT0gXCJPcGVyYXRpb25FcnJvclwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgY2lwaGVydGV4dCBvciBzZWNyZXQgd2hlbiBkZWNyeXB0aW5nIGVuY3J5cHRlZCB2YWx1ZVwiLCB7IGNhdXNlOiBlIH0pKTtcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gaGFzaChvcHRpb25zKSB7XG4gIHJldHVybiBhd2FpdCBpdGVyYXRlZEhhc2goeyAuLi5vcHRpb25zLCBpdGVyYXRpb25zOiAxIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gaXRlcmF0ZWRIYXNoKG9wdGlvbnMpIHtcbiAgY29uc3Qgc3RyaW5nT3JVaW50OEFycmF5VG9VaW50OEFycmF5ID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodmFsdWUpIDogdmFsdWU7XG4gIGNvbnN0IHN0cmluZ09yVWludDhBcnJheVRvQmFzZTY0ID0gKHZhbHVlKSA9PiBlbmNvZGVCYXNlNjQoc3RyaW5nT3JVaW50OEFycmF5VG9VaW50OEFycmF5KHZhbHVlKSk7XG4gIGNvbnN0IGlucHV0ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgXCJyYXdcIixcbiAgICBzdHJpbmdPclVpbnQ4QXJyYXlUb1VpbnQ4QXJyYXkob3B0aW9ucy52YWx1ZSksXG4gICAgXCJQQktERjJcIixcbiAgICBmYWxzZSxcbiAgICBbXCJkZXJpdmVCaXRzXCJdXG4gICk7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRlcml2ZUJpdHMoe1xuICAgIG5hbWU6IFwiUEJLREYyXCIsXG4gICAgc2FsdDogbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKEpTT04uc3RyaW5naWZ5KFtcbiAgICAgIFwic3RhY2stY3J5cHRvLWhlbHBlci1pdGVyYXRlZC1oYXNoXCIsXG4gICAgICBvcHRpb25zLnB1cnBvc2UsXG4gICAgICBzdHJpbmdPclVpbnQ4QXJyYXlUb0Jhc2U2NChvcHRpb25zLnNhbHQgPz8gXCJcIiksXG4gICAgICBzdHJpbmdPclVpbnQ4QXJyYXlUb0Jhc2U2NChvcHRpb25zLmV4dHJhID8/IFwiXCIpXG4gICAgXSkpLFxuICAgIGl0ZXJhdGlvbnM6IG9wdGlvbnMuaXRlcmF0aW9ucyxcbiAgICBoYXNoOiBcIlNIQS0yNTZcIlxuICB9LCBpbnB1dCwgMjU2KSk7XG59XG5leHBvcnQge1xuICBkZWNyeXB0LFxuICBlbmNyeXB0LFxuICBnZW5lcmF0ZVJhbmRvbVZhbHVlcyxcbiAgZ2VuZXJhdGVTZWN1cmVSYW5kb21TdHJpbmcsXG4gIGhhc2gsXG4gIGl0ZXJhdGVkSGFzaFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0by5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/currency-constants.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/currency-constants.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUPPORTED_CURRENCIES: () => (/* binding */ SUPPORTED_CURRENCIES)\n/* harmony export */ });\n// src/utils/currency-constants.tsx\nvar SUPPORTED_CURRENCIES = [\n  {\n    code: \"USD\",\n    decimals: 2,\n    stripeDecimals: 2\n  },\n  {\n    code: \"EUR\",\n    decimals: 2,\n    stripeDecimals: 2\n  },\n  {\n    code: \"GBP\",\n    decimals: 2,\n    stripeDecimals: 2\n  },\n  {\n    code: \"JPY\",\n    decimals: 0,\n    stripeDecimals: 0\n  },\n  {\n    code: \"INR\",\n    decimals: 2,\n    stripeDecimals: 2\n  },\n  {\n    code: \"AUD\",\n    decimals: 2,\n    stripeDecimals: 2\n  },\n  {\n    code: \"CAD\",\n    decimals: 2,\n    stripeDecimals: 2\n  }\n];\n\n//# sourceMappingURL=currency-constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvY3VycmVuY3ktY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcdXRpbHNcXGN1cnJlbmN5LWNvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvY3VycmVuY3ktY29uc3RhbnRzLnRzeFxudmFyIFNVUFBPUlRFRF9DVVJSRU5DSUVTID0gW1xuICB7XG4gICAgY29kZTogXCJVU0RcIixcbiAgICBkZWNpbWFsczogMixcbiAgICBzdHJpcGVEZWNpbWFsczogMlxuICB9LFxuICB7XG4gICAgY29kZTogXCJFVVJcIixcbiAgICBkZWNpbWFsczogMixcbiAgICBzdHJpcGVEZWNpbWFsczogMlxuICB9LFxuICB7XG4gICAgY29kZTogXCJHQlBcIixcbiAgICBkZWNpbWFsczogMixcbiAgICBzdHJpcGVEZWNpbWFsczogMlxuICB9LFxuICB7XG4gICAgY29kZTogXCJKUFlcIixcbiAgICBkZWNpbWFsczogMCxcbiAgICBzdHJpcGVEZWNpbWFsczogMFxuICB9LFxuICB7XG4gICAgY29kZTogXCJJTlJcIixcbiAgICBkZWNpbWFsczogMixcbiAgICBzdHJpcGVEZWNpbWFsczogMlxuICB9LFxuICB7XG4gICAgY29kZTogXCJBVURcIixcbiAgICBkZWNpbWFsczogMixcbiAgICBzdHJpcGVEZWNpbWFsczogMlxuICB9LFxuICB7XG4gICAgY29kZTogXCJDQURcIixcbiAgICBkZWNpbWFsczogMixcbiAgICBzdHJpcGVEZWNpbWFsczogMlxuICB9XG5dO1xuZXhwb3J0IHtcbiAgU1VQUE9SVEVEX0NVUlJFTkNJRVNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jdXJyZW5jeS1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/currency-constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEnvVariable: () => (/* binding */ getEnvVariable),\n/* harmony export */   getNextRuntime: () => (/* binding */ getNextRuntime),\n/* harmony export */   getNodeEnvironment: () => (/* binding */ getNodeEnvironment),\n/* harmony export */   isBrowserLike: () => (/* binding */ isBrowserLike)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// src/utils/env.tsx\n\n\nfunction isBrowserLike() {\n  return typeof window !== \"undefined\" && typeof document !== \"undefined\" && typeof document.createElement !== \"undefined\";\n}\nvar ENV_VAR_RENAME = {\n  NEXT_PUBLIC_STACK_API_URL: [\"STACK_BASE_URL\", \"NEXT_PUBLIC_STACK_URL\"]\n};\nfunction getEnvVariable(name, defaultValue) {\n  if (isBrowserLike()) {\n    throw new Error((0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.deindent)`\n      Can't use getEnvVariable on the client because Next.js transpiles expressions of the kind process.env.XYZ at build-time on the client.\n    \n      Use process.env.XYZ directly instead.\n    `);\n  }\n  if (name === \"NEXT_RUNTIME\") {\n    throw new Error((0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.deindent)`\n      Can't use getEnvVariable to access the NEXT_RUNTIME environment variable because it's compiled into the client bundle.\n    \n      Use getNextRuntime() instead.\n    `);\n  }\n  for (const [newName, oldNames] of Object.entries(ENV_VAR_RENAME)) {\n    if (oldNames.includes(name)) {\n      (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(`Environment variable ${name} has been renamed to ${newName}. Please update your configuration to use the new name.`);\n    }\n  }\n  let value = process.env[name];\n  if (!value && ENV_VAR_RENAME[name]) {\n    for (const oldName of ENV_VAR_RENAME[name]) {\n      value = process.env[oldName];\n      if (value) break;\n    }\n  }\n  if (value === void 0) {\n    if (defaultValue !== void 0) {\n      value = defaultValue;\n    } else {\n      (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(`Missing environment variable: ${name}`);\n    }\n  }\n  return value;\n}\nfunction getNextRuntime() {\n  return  false || (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.throwErr)(\"Missing environment variable: NEXT_RUNTIME\");\n}\nfunction getNodeEnvironment() {\n  return getEnvVariable(\"NODE_ENV\", \"\");\n}\n\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvZW52LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUN1QztBQUNDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxvREFBUSx5QkFBeUIsTUFBTSxzQkFBc0IsUUFBUTtBQUMzRTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU0sb0RBQVEsa0NBQWtDLEtBQUs7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsTUFBd0IsSUFBSSxvREFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxlbnYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2Vudi50c3hcbmltcG9ydCB7IHRocm93RXJyIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBkZWluZGVudCB9IGZyb20gXCIuL3N0cmluZ3MuanNcIjtcbmZ1bmN0aW9uIGlzQnJvd3Nlckxpa2UoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cbnZhciBFTlZfVkFSX1JFTkFNRSA9IHtcbiAgTkVYVF9QVUJMSUNfU1RBQ0tfQVBJX1VSTDogW1wiU1RBQ0tfQkFTRV9VUkxcIiwgXCJORVhUX1BVQkxJQ19TVEFDS19VUkxcIl1cbn07XG5mdW5jdGlvbiBnZXRFbnZWYXJpYWJsZShuYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKGlzQnJvd3Nlckxpa2UoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihkZWluZGVudGBcbiAgICAgIENhbid0IHVzZSBnZXRFbnZWYXJpYWJsZSBvbiB0aGUgY2xpZW50IGJlY2F1c2UgTmV4dC5qcyB0cmFuc3BpbGVzIGV4cHJlc3Npb25zIG9mIHRoZSBraW5kIHByb2Nlc3MuZW52LlhZWiBhdCBidWlsZC10aW1lIG9uIHRoZSBjbGllbnQuXG4gICAgXG4gICAgICBVc2UgcHJvY2Vzcy5lbnYuWFlaIGRpcmVjdGx5IGluc3RlYWQuXG4gICAgYCk7XG4gIH1cbiAgaWYgKG5hbWUgPT09IFwiTkVYVF9SVU5USU1FXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZGVpbmRlbnRgXG4gICAgICBDYW4ndCB1c2UgZ2V0RW52VmFyaWFibGUgdG8gYWNjZXNzIHRoZSBORVhUX1JVTlRJTUUgZW52aXJvbm1lbnQgdmFyaWFibGUgYmVjYXVzZSBpdCdzIGNvbXBpbGVkIGludG8gdGhlIGNsaWVudCBidW5kbGUuXG4gICAgXG4gICAgICBVc2UgZ2V0TmV4dFJ1bnRpbWUoKSBpbnN0ZWFkLlxuICAgIGApO1xuICB9XG4gIGZvciAoY29uc3QgW25ld05hbWUsIG9sZE5hbWVzXSBvZiBPYmplY3QuZW50cmllcyhFTlZfVkFSX1JFTkFNRSkpIHtcbiAgICBpZiAob2xkTmFtZXMuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHRocm93RXJyKGBFbnZpcm9ubWVudCB2YXJpYWJsZSAke25hbWV9IGhhcyBiZWVuIHJlbmFtZWQgdG8gJHtuZXdOYW1lfS4gUGxlYXNlIHVwZGF0ZSB5b3VyIGNvbmZpZ3VyYXRpb24gdG8gdXNlIHRoZSBuZXcgbmFtZS5gKTtcbiAgICB9XG4gIH1cbiAgbGV0IHZhbHVlID0gcHJvY2Vzcy5lbnZbbmFtZV07XG4gIGlmICghdmFsdWUgJiYgRU5WX1ZBUl9SRU5BTUVbbmFtZV0pIHtcbiAgICBmb3IgKGNvbnN0IG9sZE5hbWUgb2YgRU5WX1ZBUl9SRU5BTUVbbmFtZV0pIHtcbiAgICAgIHZhbHVlID0gcHJvY2Vzcy5lbnZbb2xkTmFtZV07XG4gICAgICBpZiAodmFsdWUpIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyKGBNaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlOiAke25hbWV9YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldE5leHRSdW50aW1lKCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuTkVYVF9SVU5USU1FIHx8IHRocm93RXJyKFwiTWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZTogTkVYVF9SVU5USU1FXCIpO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZUVudmlyb25tZW50KCkge1xuICByZXR1cm4gZ2V0RW52VmFyaWFibGUoXCJOT0RFX0VOVlwiLCBcIlwiKTtcbn1cbmV4cG9ydCB7XG4gIGdldEVudlZhcmlhYmxlLFxuICBnZXROZXh0UnVudGltZSxcbiAgZ2V0Tm9kZUVudmlyb25tZW50LFxuICBpc0Jyb3dzZXJMaWtlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackAssertionError: () => (/* binding */ StackAssertionError),\n/* harmony export */   StatusError: () => (/* binding */ StatusError),\n/* harmony export */   captureError: () => (/* binding */ captureError),\n/* harmony export */   concatStacktraces: () => (/* binding */ concatStacktraces),\n/* harmony export */   errorToNiceString: () => (/* binding */ errorToNiceString),\n/* harmony export */   registerErrorSink: () => (/* binding */ registerErrorSink),\n/* harmony export */   throwErr: () => (/* binding */ throwErr)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js\");\n/* harmony import */ var _objects_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./objects.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _strings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// src/utils/errors.tsx\n\n\n\nfunction throwErr(...args) {\n  if (typeof args[0] === \"string\") {\n    throw new StackAssertionError(args[0], args[1]);\n  } else if (args[0] instanceof Error) {\n    throw args[0];\n  } else {\n    throw new StatusError(...args);\n  }\n}\nfunction removeStacktraceNameLine(stack) {\n  const addsNameLine = new Error().stack?.startsWith(\"Error\\n\");\n  return stack.split(\"\\n\").slice(addsNameLine ? 1 : 0).join(\"\\n\");\n}\nfunction concatStacktraces(first, ...errors) {\n  const addsEmptyLineAtEnd = first.stack?.endsWith(\"\\n\");\n  const separator = removeStacktraceNameLine(new Error().stack ?? \"\").split(\"\\n\")[0];\n  for (const error of errors) {\n    const toAppend = removeStacktraceNameLine(error.stack ?? \"\");\n    first.stack += (addsEmptyLineAtEnd ? \"\" : \"\\n\") + separator + \"\\n\" + toAppend;\n  }\n}\nvar StackAssertionError = class extends Error {\n  constructor(message, extraData) {\n    const disclaimer = `\n\nThis is likely an error in Stack. Please make sure you are running the newest version and report it.`;\n    super(`${message}${message.endsWith(disclaimer) ? \"\" : disclaimer}`, (0,_objects_js__WEBPACK_IMPORTED_MODULE_1__.pick)(extraData ?? {}, [\"cause\"]));\n    this.extraData = extraData;\n    Object.defineProperty(this, \"customCaptureExtraArgs\", {\n      get() {\n        return [this.extraData];\n      },\n      enumerable: false\n    });\n    if (process.env.NEXT_PUBLIC_STACK_DEBUGGER_ON_ASSERTION_ERROR === \"true\") {\n      debugger;\n    }\n  }\n};\nStackAssertionError.prototype.name = \"StackAssertionError\";\nfunction errorToNiceString(error) {\n  if (!(error instanceof Error)) return `${typeof error}<${(0,_strings_js__WEBPACK_IMPORTED_MODULE_2__.nicify)(error)}>`;\n  return (0,_strings_js__WEBPACK_IMPORTED_MODULE_2__.nicify)(error, { maxDepth: 8 });\n}\nvar errorSinks = /* @__PURE__ */ new Set();\nfunction registerErrorSink(sink) {\n  if (errorSinks.has(sink)) {\n    return;\n  }\n  errorSinks.add(sink);\n}\nregisterErrorSink((location, error, ...extraArgs) => {\n  console.error(\n    `\\x1B[41mCaptured error in ${location}:`,\n    // HACK: Log a nicified version of the error to get around buggy Next.js pretty-printing\n    // https://www.reddit.com/r/nextjs/comments/1gkxdqe/comment/m19kxgn/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button\n    errorToNiceString(error),\n    ...extraArgs,\n    \"\\x1B[0m\"\n  );\n});\nregisterErrorSink((location, error, ...extraArgs) => {\n  _globals_js__WEBPACK_IMPORTED_MODULE_0__.globalVar.stackCapturedErrors = _globals_js__WEBPACK_IMPORTED_MODULE_0__.globalVar.stackCapturedErrors ?? [];\n  _globals_js__WEBPACK_IMPORTED_MODULE_0__.globalVar.stackCapturedErrors.push({ location, error, extraArgs });\n});\nfunction captureError(location, error) {\n  for (const sink of errorSinks) {\n    sink(\n      location,\n      error,\n      ...error && (typeof error === \"object\" || typeof error === \"function\") && \"customCaptureExtraArgs\" in error && Array.isArray(error.customCaptureExtraArgs) ? error.customCaptureExtraArgs : []\n    );\n  }\n}\nvar StatusError = class extends Error {\n  constructor(status, message) {\n    if (typeof status === \"object\") {\n      message ??= status.message;\n      status = status.statusCode;\n    }\n    super(message);\n    this.__stackStatusErrorBrand = \"stack-status-error-brand-sentinel\";\n    this.name = \"StatusError\";\n    this.statusCode = status;\n    if (!message) {\n      throw new StackAssertionError(\"StatusError always requires a message unless a Status object is passed\", { cause: this });\n    }\n  }\n  static isStatusError(error) {\n    return typeof error === \"object\" && error !== null && \"__stackStatusErrorBrand\" in error && error.__stackStatusErrorBrand === \"stack-status-error-brand-sentinel\";\n  }\n  isClientError() {\n    return this.statusCode >= 400 && this.statusCode < 500;\n  }\n  isServerError() {\n    return !this.isClientError();\n  }\n  getStatusCode() {\n    return this.statusCode;\n  }\n  getBody() {\n    return new TextEncoder().encode(this.message);\n  }\n  getHeaders() {\n    return {\n      \"Content-Type\": [\"text/plain; charset=utf-8\"]\n    };\n  }\n  toDescriptiveJson() {\n    return {\n      status_code: this.getStatusCode(),\n      message: this.message,\n      headers: this.getHeaders()\n    };\n  }\n  /**\n   * @deprecated this is not a good way to make status errors human-readable, use toDescriptiveJson instead\n   */\n  toHttpJson() {\n    return {\n      status_code: this.statusCode,\n      body: this.message,\n      headers: this.getHeaders()\n    };\n  }\n};\nStatusError.BadRequest = { statusCode: 400, message: \"Bad Request\" };\nStatusError.Unauthorized = { statusCode: 401, message: \"Unauthorized\" };\nStatusError.PaymentRequired = { statusCode: 402, message: \"Payment Required\" };\nStatusError.Forbidden = { statusCode: 403, message: \"Forbidden\" };\nStatusError.NotFound = { statusCode: 404, message: \"Not Found\" };\nStatusError.MethodNotAllowed = { statusCode: 405, message: \"Method Not Allowed\" };\nStatusError.NotAcceptable = { statusCode: 406, message: \"Not Acceptable\" };\nStatusError.ProxyAuthenticationRequired = { statusCode: 407, message: \"Proxy Authentication Required\" };\nStatusError.RequestTimeout = { statusCode: 408, message: \"Request Timeout\" };\nStatusError.Conflict = { statusCode: 409, message: \"Conflict\" };\nStatusError.Gone = { statusCode: 410, message: \"Gone\" };\nStatusError.LengthRequired = { statusCode: 411, message: \"Length Required\" };\nStatusError.PreconditionFailed = { statusCode: 412, message: \"Precondition Failed\" };\nStatusError.PayloadTooLarge = { statusCode: 413, message: \"Payload Too Large\" };\nStatusError.URITooLong = { statusCode: 414, message: \"URI Too Long\" };\nStatusError.UnsupportedMediaType = { statusCode: 415, message: \"Unsupported Media Type\" };\nStatusError.RangeNotSatisfiable = { statusCode: 416, message: \"Range Not Satisfiable\" };\nStatusError.ExpectationFailed = { statusCode: 417, message: \"Expectation Failed\" };\nStatusError.ImATeapot = { statusCode: 418, message: \"I'm a teapot\" };\nStatusError.MisdirectedRequest = { statusCode: 421, message: \"Misdirected Request\" };\nStatusError.UnprocessableEntity = { statusCode: 422, message: \"Unprocessable Entity\" };\nStatusError.Locked = { statusCode: 423, message: \"Locked\" };\nStatusError.FailedDependency = { statusCode: 424, message: \"Failed Dependency\" };\nStatusError.TooEarly = { statusCode: 425, message: \"Too Early\" };\nStatusError.UpgradeRequired = { statusCode: 426, message: \"Upgrade Required\" };\nStatusError.PreconditionRequired = { statusCode: 428, message: \"Precondition Required\" };\nStatusError.TooManyRequests = { statusCode: 429, message: \"Too Many Requests\" };\nStatusError.RequestHeaderFieldsTooLarge = { statusCode: 431, message: \"Request Header Fields Too Large\" };\nStatusError.UnavailableForLegalReasons = { statusCode: 451, message: \"Unavailable For Legal Reasons\" };\nStatusError.InternalServerError = { statusCode: 500, message: \"Internal Server Error\" };\nStatusError.NotImplemented = { statusCode: 501, message: \"Not Implemented\" };\nStatusError.BadGateway = { statusCode: 502, message: \"Bad Gateway\" };\nStatusError.ServiceUnavailable = { statusCode: 503, message: \"Service Unavailable\" };\nStatusError.GatewayTimeout = { statusCode: 504, message: \"Gateway Timeout\" };\nStatusError.HTTPVersionNotSupported = { statusCode: 505, message: \"HTTP Version Not Supported\" };\nStatusError.VariantAlsoNegotiates = { statusCode: 506, message: \"Variant Also Negotiates\" };\nStatusError.InsufficientStorage = { statusCode: 507, message: \"Insufficient Storage\" };\nStatusError.LoopDetected = { statusCode: 508, message: \"Loop Detected\" };\nStatusError.NotExtended = { statusCode: 510, message: \"Not Extended\" };\nStatusError.NetworkAuthenticationRequired = { statusCode: 511, message: \"Network Authentication Required\" };\nStatusError.prototype.name = \"StatusError\";\n\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUM7QUFDTDtBQUNFO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFFBQVEsRUFBRSwrQ0FBK0MsR0FBRyxpREFBSSxnQkFBZ0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsUUFBUSxPQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGFBQWEsR0FBRyxtREFBTSxRQUFRO0FBQ3pFLFNBQVMsbURBQU0sVUFBVSxhQUFhO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFNBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsRUFBRSxrREFBUyx1QkFBdUIsa0RBQVM7QUFDM0MsRUFBRSxrREFBUyw0QkFBNEIsNEJBQTRCO0FBQ25FLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0hBQWdILGFBQWE7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQiw2QkFBNkI7QUFDN0IsZ0NBQWdDO0FBQ2hDLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsaUNBQWlDO0FBQ2pDLDhCQUE4QjtBQUM5Qiw0Q0FBNEM7QUFDNUMsK0JBQStCO0FBQy9CLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsK0JBQStCO0FBQy9CLG1DQUFtQztBQUNuQyxnQ0FBZ0M7QUFDaEMsMkJBQTJCO0FBQzNCLHFDQUFxQztBQUNyQyxvQ0FBb0M7QUFDcEMsa0NBQWtDO0FBQ2xDLDBCQUEwQjtBQUMxQixtQ0FBbUM7QUFDbkMsb0NBQW9DO0FBQ3BDLHVCQUF1QjtBQUN2QixpQ0FBaUM7QUFDakMseUJBQXlCO0FBQ3pCLGdDQUFnQztBQUNoQyxxQ0FBcUM7QUFDckMsZ0NBQWdDO0FBQ2hDLDRDQUE0QztBQUM1QywyQ0FBMkM7QUFDM0Msb0NBQW9DO0FBQ3BDLCtCQUErQjtBQUMvQiwyQkFBMkI7QUFDM0IsbUNBQW1DO0FBQ25DLCtCQUErQjtBQUMvQix3Q0FBd0M7QUFDeEMsc0NBQXNDO0FBQ3RDLG9DQUFvQztBQUNwQyw2QkFBNkI7QUFDN0IsNEJBQTRCO0FBQzVCLDhDQUE4QztBQUM5QztBQVNFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxlcnJvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2Vycm9ycy50c3hcbmltcG9ydCB7IGdsb2JhbFZhciB9IGZyb20gXCIuL2dsb2JhbHMuanNcIjtcbmltcG9ydCB7IHBpY2sgfSBmcm9tIFwiLi9vYmplY3RzLmpzXCI7XG5pbXBvcnQgeyBuaWNpZnkgfSBmcm9tIFwiLi9zdHJpbmdzLmpzXCI7XG5mdW5jdGlvbiB0aHJvd0VyciguLi5hcmdzKSB7XG4gIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICB9IGVsc2UgaWYgKGFyZ3NbMF0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHRocm93IGFyZ3NbMF07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFN0YXR1c0Vycm9yKC4uLmFyZ3MpO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVTdGFja3RyYWNlTmFtZUxpbmUoc3RhY2spIHtcbiAgY29uc3QgYWRkc05hbWVMaW5lID0gbmV3IEVycm9yKCkuc3RhY2s/LnN0YXJ0c1dpdGgoXCJFcnJvclxcblwiKTtcbiAgcmV0dXJuIHN0YWNrLnNwbGl0KFwiXFxuXCIpLnNsaWNlKGFkZHNOYW1lTGluZSA/IDEgOiAwKS5qb2luKFwiXFxuXCIpO1xufVxuZnVuY3Rpb24gY29uY2F0U3RhY2t0cmFjZXMoZmlyc3QsIC4uLmVycm9ycykge1xuICBjb25zdCBhZGRzRW1wdHlMaW5lQXRFbmQgPSBmaXJzdC5zdGFjaz8uZW5kc1dpdGgoXCJcXG5cIik7XG4gIGNvbnN0IHNlcGFyYXRvciA9IHJlbW92ZVN0YWNrdHJhY2VOYW1lTGluZShuZXcgRXJyb3IoKS5zdGFjayA/PyBcIlwiKS5zcGxpdChcIlxcblwiKVswXTtcbiAgZm9yIChjb25zdCBlcnJvciBvZiBlcnJvcnMpIHtcbiAgICBjb25zdCB0b0FwcGVuZCA9IHJlbW92ZVN0YWNrdHJhY2VOYW1lTGluZShlcnJvci5zdGFjayA/PyBcIlwiKTtcbiAgICBmaXJzdC5zdGFjayArPSAoYWRkc0VtcHR5TGluZUF0RW5kID8gXCJcIiA6IFwiXFxuXCIpICsgc2VwYXJhdG9yICsgXCJcXG5cIiArIHRvQXBwZW5kO1xuICB9XG59XG52YXIgU3RhY2tBc3NlcnRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBleHRyYURhdGEpIHtcbiAgICBjb25zdCBkaXNjbGFpbWVyID0gYFxuXG5UaGlzIGlzIGxpa2VseSBhbiBlcnJvciBpbiBTdGFjay4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIHJ1bm5pbmcgdGhlIG5ld2VzdCB2ZXJzaW9uIGFuZCByZXBvcnQgaXQuYDtcbiAgICBzdXBlcihgJHttZXNzYWdlfSR7bWVzc2FnZS5lbmRzV2l0aChkaXNjbGFpbWVyKSA/IFwiXCIgOiBkaXNjbGFpbWVyfWAsIHBpY2soZXh0cmFEYXRhID8/IHt9LCBbXCJjYXVzZVwiXSkpO1xuICAgIHRoaXMuZXh0cmFEYXRhID0gZXh0cmFEYXRhO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1c3RvbUNhcHR1cmVFeHRyYUFyZ3NcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuZXh0cmFEYXRhXTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH0pO1xuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVEFDS19ERUJVR0dFUl9PTl9BU1NFUlRJT05fRVJST1IgPT09IFwidHJ1ZVwiKSB7XG4gICAgICBkZWJ1Z2dlcjtcbiAgICB9XG4gIH1cbn07XG5TdGFja0Fzc2VydGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJTdGFja0Fzc2VydGlvbkVycm9yXCI7XG5mdW5jdGlvbiBlcnJvclRvTmljZVN0cmluZyhlcnJvcikge1xuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkgcmV0dXJuIGAke3R5cGVvZiBlcnJvcn08JHtuaWNpZnkoZXJyb3IpfT5gO1xuICByZXR1cm4gbmljaWZ5KGVycm9yLCB7IG1heERlcHRoOiA4IH0pO1xufVxudmFyIGVycm9yU2lua3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJFcnJvclNpbmsoc2luaykge1xuICBpZiAoZXJyb3JTaW5rcy5oYXMoc2luaykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZXJyb3JTaW5rcy5hZGQoc2luayk7XG59XG5yZWdpc3RlckVycm9yU2luaygobG9jYXRpb24sIGVycm9yLCAuLi5leHRyYUFyZ3MpID0+IHtcbiAgY29uc29sZS5lcnJvcihcbiAgICBgXFx4MUJbNDFtQ2FwdHVyZWQgZXJyb3IgaW4gJHtsb2NhdGlvbn06YCxcbiAgICAvLyBIQUNLOiBMb2cgYSBuaWNpZmllZCB2ZXJzaW9uIG9mIHRoZSBlcnJvciB0byBnZXQgYXJvdW5kIGJ1Z2d5IE5leHQuanMgcHJldHR5LXByaW50aW5nXG4gICAgLy8gaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9yL25leHRqcy9jb21tZW50cy8xZ2t4ZHFlL2NvbW1lbnQvbTE5a3hnbi8/dXRtX3NvdXJjZT1zaGFyZSZ1dG1fbWVkaXVtPXdlYjN4JnV0bV9uYW1lPXdlYjN4Y3NzJnV0bV90ZXJtPTEmdXRtX2NvbnRlbnQ9c2hhcmVfYnV0dG9uXG4gICAgZXJyb3JUb05pY2VTdHJpbmcoZXJyb3IpLFxuICAgIC4uLmV4dHJhQXJncyxcbiAgICBcIlxceDFCWzBtXCJcbiAgKTtcbn0pO1xucmVnaXN0ZXJFcnJvclNpbmsoKGxvY2F0aW9uLCBlcnJvciwgLi4uZXh0cmFBcmdzKSA9PiB7XG4gIGdsb2JhbFZhci5zdGFja0NhcHR1cmVkRXJyb3JzID0gZ2xvYmFsVmFyLnN0YWNrQ2FwdHVyZWRFcnJvcnMgPz8gW107XG4gIGdsb2JhbFZhci5zdGFja0NhcHR1cmVkRXJyb3JzLnB1c2goeyBsb2NhdGlvbiwgZXJyb3IsIGV4dHJhQXJncyB9KTtcbn0pO1xuZnVuY3Rpb24gY2FwdHVyZUVycm9yKGxvY2F0aW9uLCBlcnJvcikge1xuICBmb3IgKGNvbnN0IHNpbmsgb2YgZXJyb3JTaW5rcykge1xuICAgIHNpbmsoXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGVycm9yLFxuICAgICAgLi4uZXJyb3IgJiYgKHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZXJyb3IgPT09IFwiZnVuY3Rpb25cIikgJiYgXCJjdXN0b21DYXB0dXJlRXh0cmFBcmdzXCIgaW4gZXJyb3IgJiYgQXJyYXkuaXNBcnJheShlcnJvci5jdXN0b21DYXB0dXJlRXh0cmFBcmdzKSA/IGVycm9yLmN1c3RvbUNhcHR1cmVFeHRyYUFyZ3MgOiBbXVxuICAgICk7XG4gIH1cbn1cbnZhciBTdGF0dXNFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihzdGF0dXMsIG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIHN0YXR1cyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgbWVzc2FnZSA/Pz0gc3RhdHVzLm1lc3NhZ2U7XG4gICAgICBzdGF0dXMgPSBzdGF0dXMuc3RhdHVzQ29kZTtcbiAgICB9XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5fX3N0YWNrU3RhdHVzRXJyb3JCcmFuZCA9IFwic3RhY2stc3RhdHVzLWVycm9yLWJyYW5kLXNlbnRpbmVsXCI7XG4gICAgdGhpcy5uYW1lID0gXCJTdGF0dXNFcnJvclwiO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1cztcbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiU3RhdHVzRXJyb3IgYWx3YXlzIHJlcXVpcmVzIGEgbWVzc2FnZSB1bmxlc3MgYSBTdGF0dXMgb2JqZWN0IGlzIHBhc3NlZFwiLCB7IGNhdXNlOiB0aGlzIH0pO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgaXNTdGF0dXNFcnJvcihlcnJvcikge1xuICAgIHJldHVybiB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiYgZXJyb3IgIT09IG51bGwgJiYgXCJfX3N0YWNrU3RhdHVzRXJyb3JCcmFuZFwiIGluIGVycm9yICYmIGVycm9yLl9fc3RhY2tTdGF0dXNFcnJvckJyYW5kID09PSBcInN0YWNrLXN0YXR1cy1lcnJvci1icmFuZC1zZW50aW5lbFwiO1xuICB9XG4gIGlzQ2xpZW50RXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA+PSA0MDAgJiYgdGhpcy5zdGF0dXNDb2RlIDwgNTAwO1xuICB9XG4gIGlzU2VydmVyRXJyb3IoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzQ2xpZW50RXJyb3IoKTtcbiAgfVxuICBnZXRTdGF0dXNDb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXR1c0NvZGU7XG4gIH1cbiAgZ2V0Qm9keSgpIHtcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRoaXMubWVzc2FnZSk7XG4gIH1cbiAgZ2V0SGVhZGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogW1widGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiXVxuICAgIH07XG4gIH1cbiAgdG9EZXNjcmlwdGl2ZUpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1c19jb2RlOiB0aGlzLmdldFN0YXR1c0NvZGUoKSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdGhpcyBpcyBub3QgYSBnb29kIHdheSB0byBtYWtlIHN0YXR1cyBlcnJvcnMgaHVtYW4tcmVhZGFibGUsIHVzZSB0b0Rlc2NyaXB0aXZlSnNvbiBpbnN0ZWFkXG4gICAqL1xuICB0b0h0dHBKc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXNfY29kZTogdGhpcy5zdGF0dXNDb2RlLFxuICAgICAgYm9keTogdGhpcy5tZXNzYWdlLFxuICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKClcbiAgICB9O1xuICB9XG59O1xuU3RhdHVzRXJyb3IuQmFkUmVxdWVzdCA9IHsgc3RhdHVzQ29kZTogNDAwLCBtZXNzYWdlOiBcIkJhZCBSZXF1ZXN0XCIgfTtcblN0YXR1c0Vycm9yLlVuYXV0aG9yaXplZCA9IHsgc3RhdHVzQ29kZTogNDAxLCBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH07XG5TdGF0dXNFcnJvci5QYXltZW50UmVxdWlyZWQgPSB7IHN0YXR1c0NvZGU6IDQwMiwgbWVzc2FnZTogXCJQYXltZW50IFJlcXVpcmVkXCIgfTtcblN0YXR1c0Vycm9yLkZvcmJpZGRlbiA9IHsgc3RhdHVzQ29kZTogNDAzLCBtZXNzYWdlOiBcIkZvcmJpZGRlblwiIH07XG5TdGF0dXNFcnJvci5Ob3RGb3VuZCA9IHsgc3RhdHVzQ29kZTogNDA0LCBtZXNzYWdlOiBcIk5vdCBGb3VuZFwiIH07XG5TdGF0dXNFcnJvci5NZXRob2ROb3RBbGxvd2VkID0geyBzdGF0dXNDb2RlOiA0MDUsIG1lc3NhZ2U6IFwiTWV0aG9kIE5vdCBBbGxvd2VkXCIgfTtcblN0YXR1c0Vycm9yLk5vdEFjY2VwdGFibGUgPSB7IHN0YXR1c0NvZGU6IDQwNiwgbWVzc2FnZTogXCJOb3QgQWNjZXB0YWJsZVwiIH07XG5TdGF0dXNFcnJvci5Qcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQgPSB7IHN0YXR1c0NvZGU6IDQwNywgbWVzc2FnZTogXCJQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZFwiIH07XG5TdGF0dXNFcnJvci5SZXF1ZXN0VGltZW91dCA9IHsgc3RhdHVzQ29kZTogNDA4LCBtZXNzYWdlOiBcIlJlcXVlc3QgVGltZW91dFwiIH07XG5TdGF0dXNFcnJvci5Db25mbGljdCA9IHsgc3RhdHVzQ29kZTogNDA5LCBtZXNzYWdlOiBcIkNvbmZsaWN0XCIgfTtcblN0YXR1c0Vycm9yLkdvbmUgPSB7IHN0YXR1c0NvZGU6IDQxMCwgbWVzc2FnZTogXCJHb25lXCIgfTtcblN0YXR1c0Vycm9yLkxlbmd0aFJlcXVpcmVkID0geyBzdGF0dXNDb2RlOiA0MTEsIG1lc3NhZ2U6IFwiTGVuZ3RoIFJlcXVpcmVkXCIgfTtcblN0YXR1c0Vycm9yLlByZWNvbmRpdGlvbkZhaWxlZCA9IHsgc3RhdHVzQ29kZTogNDEyLCBtZXNzYWdlOiBcIlByZWNvbmRpdGlvbiBGYWlsZWRcIiB9O1xuU3RhdHVzRXJyb3IuUGF5bG9hZFRvb0xhcmdlID0geyBzdGF0dXNDb2RlOiA0MTMsIG1lc3NhZ2U6IFwiUGF5bG9hZCBUb28gTGFyZ2VcIiB9O1xuU3RhdHVzRXJyb3IuVVJJVG9vTG9uZyA9IHsgc3RhdHVzQ29kZTogNDE0LCBtZXNzYWdlOiBcIlVSSSBUb28gTG9uZ1wiIH07XG5TdGF0dXNFcnJvci5VbnN1cHBvcnRlZE1lZGlhVHlwZSA9IHsgc3RhdHVzQ29kZTogNDE1LCBtZXNzYWdlOiBcIlVuc3VwcG9ydGVkIE1lZGlhIFR5cGVcIiB9O1xuU3RhdHVzRXJyb3IuUmFuZ2VOb3RTYXRpc2ZpYWJsZSA9IHsgc3RhdHVzQ29kZTogNDE2LCBtZXNzYWdlOiBcIlJhbmdlIE5vdCBTYXRpc2ZpYWJsZVwiIH07XG5TdGF0dXNFcnJvci5FeHBlY3RhdGlvbkZhaWxlZCA9IHsgc3RhdHVzQ29kZTogNDE3LCBtZXNzYWdlOiBcIkV4cGVjdGF0aW9uIEZhaWxlZFwiIH07XG5TdGF0dXNFcnJvci5JbUFUZWFwb3QgPSB7IHN0YXR1c0NvZGU6IDQxOCwgbWVzc2FnZTogXCJJJ20gYSB0ZWFwb3RcIiB9O1xuU3RhdHVzRXJyb3IuTWlzZGlyZWN0ZWRSZXF1ZXN0ID0geyBzdGF0dXNDb2RlOiA0MjEsIG1lc3NhZ2U6IFwiTWlzZGlyZWN0ZWQgUmVxdWVzdFwiIH07XG5TdGF0dXNFcnJvci5VbnByb2Nlc3NhYmxlRW50aXR5ID0geyBzdGF0dXNDb2RlOiA0MjIsIG1lc3NhZ2U6IFwiVW5wcm9jZXNzYWJsZSBFbnRpdHlcIiB9O1xuU3RhdHVzRXJyb3IuTG9ja2VkID0geyBzdGF0dXNDb2RlOiA0MjMsIG1lc3NhZ2U6IFwiTG9ja2VkXCIgfTtcblN0YXR1c0Vycm9yLkZhaWxlZERlcGVuZGVuY3kgPSB7IHN0YXR1c0NvZGU6IDQyNCwgbWVzc2FnZTogXCJGYWlsZWQgRGVwZW5kZW5jeVwiIH07XG5TdGF0dXNFcnJvci5Ub29FYXJseSA9IHsgc3RhdHVzQ29kZTogNDI1LCBtZXNzYWdlOiBcIlRvbyBFYXJseVwiIH07XG5TdGF0dXNFcnJvci5VcGdyYWRlUmVxdWlyZWQgPSB7IHN0YXR1c0NvZGU6IDQyNiwgbWVzc2FnZTogXCJVcGdyYWRlIFJlcXVpcmVkXCIgfTtcblN0YXR1c0Vycm9yLlByZWNvbmRpdGlvblJlcXVpcmVkID0geyBzdGF0dXNDb2RlOiA0MjgsIG1lc3NhZ2U6IFwiUHJlY29uZGl0aW9uIFJlcXVpcmVkXCIgfTtcblN0YXR1c0Vycm9yLlRvb01hbnlSZXF1ZXN0cyA9IHsgc3RhdHVzQ29kZTogNDI5LCBtZXNzYWdlOiBcIlRvbyBNYW55IFJlcXVlc3RzXCIgfTtcblN0YXR1c0Vycm9yLlJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZSA9IHsgc3RhdHVzQ29kZTogNDMxLCBtZXNzYWdlOiBcIlJlcXVlc3QgSGVhZGVyIEZpZWxkcyBUb28gTGFyZ2VcIiB9O1xuU3RhdHVzRXJyb3IuVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnMgPSB7IHN0YXR1c0NvZGU6IDQ1MSwgbWVzc2FnZTogXCJVbmF2YWlsYWJsZSBGb3IgTGVnYWwgUmVhc29uc1wiIH07XG5TdGF0dXNFcnJvci5JbnRlcm5hbFNlcnZlckVycm9yID0geyBzdGF0dXNDb2RlOiA1MDAsIG1lc3NhZ2U6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIgfTtcblN0YXR1c0Vycm9yLk5vdEltcGxlbWVudGVkID0geyBzdGF0dXNDb2RlOiA1MDEsIG1lc3NhZ2U6IFwiTm90IEltcGxlbWVudGVkXCIgfTtcblN0YXR1c0Vycm9yLkJhZEdhdGV3YXkgPSB7IHN0YXR1c0NvZGU6IDUwMiwgbWVzc2FnZTogXCJCYWQgR2F0ZXdheVwiIH07XG5TdGF0dXNFcnJvci5TZXJ2aWNlVW5hdmFpbGFibGUgPSB7IHN0YXR1c0NvZGU6IDUwMywgbWVzc2FnZTogXCJTZXJ2aWNlIFVuYXZhaWxhYmxlXCIgfTtcblN0YXR1c0Vycm9yLkdhdGV3YXlUaW1lb3V0ID0geyBzdGF0dXNDb2RlOiA1MDQsIG1lc3NhZ2U6IFwiR2F0ZXdheSBUaW1lb3V0XCIgfTtcblN0YXR1c0Vycm9yLkhUVFBWZXJzaW9uTm90U3VwcG9ydGVkID0geyBzdGF0dXNDb2RlOiA1MDUsIG1lc3NhZ2U6IFwiSFRUUCBWZXJzaW9uIE5vdCBTdXBwb3J0ZWRcIiB9O1xuU3RhdHVzRXJyb3IuVmFyaWFudEFsc29OZWdvdGlhdGVzID0geyBzdGF0dXNDb2RlOiA1MDYsIG1lc3NhZ2U6IFwiVmFyaWFudCBBbHNvIE5lZ290aWF0ZXNcIiB9O1xuU3RhdHVzRXJyb3IuSW5zdWZmaWNpZW50U3RvcmFnZSA9IHsgc3RhdHVzQ29kZTogNTA3LCBtZXNzYWdlOiBcIkluc3VmZmljaWVudCBTdG9yYWdlXCIgfTtcblN0YXR1c0Vycm9yLkxvb3BEZXRlY3RlZCA9IHsgc3RhdHVzQ29kZTogNTA4LCBtZXNzYWdlOiBcIkxvb3AgRGV0ZWN0ZWRcIiB9O1xuU3RhdHVzRXJyb3IuTm90RXh0ZW5kZWQgPSB7IHN0YXR1c0NvZGU6IDUxMCwgbWVzc2FnZTogXCJOb3QgRXh0ZW5kZWRcIiB9O1xuU3RhdHVzRXJyb3IuTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQgPSB7IHN0YXR1c0NvZGU6IDUxMSwgbWVzc2FnZTogXCJOZXR3b3JrIEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkXCIgfTtcblN0YXR1c0Vycm9yLnByb3RvdHlwZS5uYW1lID0gXCJTdGF0dXNFcnJvclwiO1xuZXhwb3J0IHtcbiAgU3RhY2tBc3NlcnRpb25FcnJvcixcbiAgU3RhdHVzRXJyb3IsXG4gIGNhcHR1cmVFcnJvcixcbiAgY29uY2F0U3RhY2t0cmFjZXMsXG4gIGVycm9yVG9OaWNlU3RyaW5nLFxuICByZWdpc3RlckVycm9yU2luayxcbiAgdGhyb3dFcnJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/functions.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/functions.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   identityArgs: () => (/* binding */ identityArgs)\n/* harmony export */ });\n// src/utils/functions.tsx\nfunction identity(t) {\n  return t;\n}\nfunction identityArgs(...args) {\n  return args;\n}\n\n//# sourceMappingURL=functions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvZnVuY3Rpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcZnVuY3Rpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9mdW5jdGlvbnMudHN4XG5mdW5jdGlvbiBpZGVudGl0eSh0KSB7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gaWRlbnRpdHlBcmdzKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3M7XG59XG5leHBvcnQge1xuICBpZGVudGl0eSxcbiAgaWRlbnRpdHlBcmdzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/functions.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGlobal: () => (/* binding */ createGlobal),\n/* harmony export */   globalVar: () => (/* binding */ globalVar)\n/* harmony export */ });\n// src/utils/globals.tsx\nvar globalVar = typeof globalThis !== \"undefined\" ? globalThis : typeof __webpack_require__.g !== \"undefined\" ? __webpack_require__.g : typeof window !== \"undefined\" ? window : typeof self !== \"undefined\" ? self : {};\nif (typeof globalThis === \"undefined\") {\n  globalVar.globalThis = globalVar;\n}\nvar stackGlobalsSymbol = Symbol.for(\"__stack-globals\");\nglobalVar[stackGlobalsSymbol] ??= {};\nfunction createGlobal(key, init) {\n  if (!globalVar[stackGlobalsSymbol][key]) {\n    globalVar[stackGlobalsSymbol][key] = init();\n  }\n  return globalVar[stackGlobalsSymbol][key];\n}\n\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvZ2xvYmFscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0Esd0VBQXdFLHFCQUFNLG1CQUFtQixxQkFBTTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcdXRpbHNcXGdsb2JhbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2dsb2JhbHMudHN4XG52YXIgZ2xvYmFsVmFyID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB7fTtcbmlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBnbG9iYWxWYXIuZ2xvYmFsVGhpcyA9IGdsb2JhbFZhcjtcbn1cbnZhciBzdGFja0dsb2JhbHNTeW1ib2wgPSBTeW1ib2wuZm9yKFwiX19zdGFjay1nbG9iYWxzXCIpO1xuZ2xvYmFsVmFyW3N0YWNrR2xvYmFsc1N5bWJvbF0gPz89IHt9O1xuZnVuY3Rpb24gY3JlYXRlR2xvYmFsKGtleSwgaW5pdCkge1xuICBpZiAoIWdsb2JhbFZhcltzdGFja0dsb2JhbHNTeW1ib2xdW2tleV0pIHtcbiAgICBnbG9iYWxWYXJbc3RhY2tHbG9iYWxzU3ltYm9sXVtrZXldID0gaW5pdCgpO1xuICB9XG4gIHJldHVybiBnbG9iYWxWYXJbc3RhY2tHbG9iYWxzU3ltYm9sXVtrZXldO1xufVxuZXhwb3J0IHtcbiAgY3JlYXRlR2xvYmFsLFxuICBnbG9iYWxWYXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/http.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/http.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HTTP_METHODS: () => (/* binding */ HTTP_METHODS),\n/* harmony export */   decodeBasicAuthorizationHeader: () => (/* binding */ decodeBasicAuthorizationHeader),\n/* harmony export */   encodeBasicAuthorizationHeader: () => (/* binding */ encodeBasicAuthorizationHeader)\n/* harmony export */ });\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytes.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js\");\n// src/utils/http.tsx\n\nvar HTTP_METHODS = {\n  \"GET\": {\n    safe: true,\n    idempotent: true\n  },\n  \"POST\": {\n    safe: false,\n    idempotent: false\n  },\n  \"PUT\": {\n    safe: false,\n    idempotent: true\n  },\n  \"DELETE\": {\n    safe: false,\n    idempotent: true\n  },\n  \"PATCH\": {\n    safe: false,\n    idempotent: false\n  },\n  \"OPTIONS\": {\n    safe: true,\n    idempotent: true\n  },\n  \"HEAD\": {\n    safe: true,\n    idempotent: true\n  },\n  \"TRACE\": {\n    safe: true,\n    idempotent: true\n  },\n  \"CONNECT\": {\n    safe: false,\n    idempotent: false\n  }\n};\nfunction decodeBasicAuthorizationHeader(value) {\n  const [type, encoded, ...rest] = value.split(\" \");\n  if (rest.length > 0) return null;\n  if (!encoded) return null;\n  if (type !== \"Basic\") return null;\n  if (!(0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.isBase64)(encoded)) return null;\n  const decoded = new TextDecoder().decode((0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.decodeBase64)(encoded));\n  const split = decoded.split(\":\");\n  return [split[0], split.slice(1).join(\":\")];\n}\nfunction encodeBasicAuthorizationHeader(id, password) {\n  if (id.includes(\":\")) throw new Error(\"Basic authorization header id cannot contain ':'\");\n  return `Basic ${(0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(new TextEncoder().encode(`${id}:${password}`))}`;\n}\n\n//# sourceMappingURL=http.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvaHR0cC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxtREFBUTtBQUNmLDJDQUEyQyx1REFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFZLDZCQUE2QixHQUFHLEdBQUcsU0FBUyxJQUFJO0FBQzlFO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcdXRpbHNcXGh0dHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2h0dHAudHN4XG5pbXBvcnQgeyBkZWNvZGVCYXNlNjQsIGVuY29kZUJhc2U2NCwgaXNCYXNlNjQgfSBmcm9tIFwiLi9ieXRlcy5qc1wiO1xudmFyIEhUVFBfTUVUSE9EUyA9IHtcbiAgXCJHRVRcIjoge1xuICAgIHNhZmU6IHRydWUsXG4gICAgaWRlbXBvdGVudDogdHJ1ZVxuICB9LFxuICBcIlBPU1RcIjoge1xuICAgIHNhZmU6IGZhbHNlLFxuICAgIGlkZW1wb3RlbnQ6IGZhbHNlXG4gIH0sXG4gIFwiUFVUXCI6IHtcbiAgICBzYWZlOiBmYWxzZSxcbiAgICBpZGVtcG90ZW50OiB0cnVlXG4gIH0sXG4gIFwiREVMRVRFXCI6IHtcbiAgICBzYWZlOiBmYWxzZSxcbiAgICBpZGVtcG90ZW50OiB0cnVlXG4gIH0sXG4gIFwiUEFUQ0hcIjoge1xuICAgIHNhZmU6IGZhbHNlLFxuICAgIGlkZW1wb3RlbnQ6IGZhbHNlXG4gIH0sXG4gIFwiT1BUSU9OU1wiOiB7XG4gICAgc2FmZTogdHJ1ZSxcbiAgICBpZGVtcG90ZW50OiB0cnVlXG4gIH0sXG4gIFwiSEVBRFwiOiB7XG4gICAgc2FmZTogdHJ1ZSxcbiAgICBpZGVtcG90ZW50OiB0cnVlXG4gIH0sXG4gIFwiVFJBQ0VcIjoge1xuICAgIHNhZmU6IHRydWUsXG4gICAgaWRlbXBvdGVudDogdHJ1ZVxuICB9LFxuICBcIkNPTk5FQ1RcIjoge1xuICAgIHNhZmU6IGZhbHNlLFxuICAgIGlkZW1wb3RlbnQ6IGZhbHNlXG4gIH1cbn07XG5mdW5jdGlvbiBkZWNvZGVCYXNpY0F1dGhvcml6YXRpb25IZWFkZXIodmFsdWUpIHtcbiAgY29uc3QgW3R5cGUsIGVuY29kZWQsIC4uLnJlc3RdID0gdmFsdWUuc3BsaXQoXCIgXCIpO1xuICBpZiAocmVzdC5sZW5ndGggPiAwKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFlbmNvZGVkKSByZXR1cm4gbnVsbDtcbiAgaWYgKHR5cGUgIT09IFwiQmFzaWNcIikgcmV0dXJuIG51bGw7XG4gIGlmICghaXNCYXNlNjQoZW5jb2RlZCkpIHJldHVybiBudWxsO1xuICBjb25zdCBkZWNvZGVkID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGRlY29kZUJhc2U2NChlbmNvZGVkKSk7XG4gIGNvbnN0IHNwbGl0ID0gZGVjb2RlZC5zcGxpdChcIjpcIik7XG4gIHJldHVybiBbc3BsaXRbMF0sIHNwbGl0LnNsaWNlKDEpLmpvaW4oXCI6XCIpXTtcbn1cbmZ1bmN0aW9uIGVuY29kZUJhc2ljQXV0aG9yaXphdGlvbkhlYWRlcihpZCwgcGFzc3dvcmQpIHtcbiAgaWYgKGlkLmluY2x1ZGVzKFwiOlwiKSkgdGhyb3cgbmV3IEVycm9yKFwiQmFzaWMgYXV0aG9yaXphdGlvbiBoZWFkZXIgaWQgY2Fubm90IGNvbnRhaW4gJzonXCIpO1xuICByZXR1cm4gYEJhc2ljICR7ZW5jb2RlQmFzZTY0KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShgJHtpZH06JHtwYXNzd29yZH1gKSl9YDtcbn1cbmV4cG9ydCB7XG4gIEhUVFBfTUVUSE9EUyxcbiAgZGVjb2RlQmFzaWNBdXRob3JpemF0aW9uSGVhZGVyLFxuICBlbmNvZGVCYXNpY0F1dGhvcml6YXRpb25IZWFkZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/http.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/locks.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/locks.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReadWriteLock: () => (/* binding */ ReadWriteLock)\n/* harmony export */ });\n/* harmony import */ var async_mutex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! async-mutex */ \"(app-pages-browser)/./node_modules/async-mutex/index.mjs\");\n// src/utils/locks.tsx\n\nvar ReadWriteLock = class {\n  constructor() {\n    this.semaphore = new async_mutex__WEBPACK_IMPORTED_MODULE_0__.Semaphore(1);\n    this.readers = 0;\n    this.readersMutex = new async_mutex__WEBPACK_IMPORTED_MODULE_0__.Semaphore(1);\n  }\n  async withReadLock(callback) {\n    await this._acquireReadLock();\n    try {\n      return await callback();\n    } finally {\n      await this._releaseReadLock();\n    }\n  }\n  async withWriteLock(callback) {\n    await this._acquireWriteLock();\n    try {\n      return await callback();\n    } finally {\n      await this._releaseWriteLock();\n    }\n  }\n  async _acquireReadLock() {\n    await this.readersMutex.acquire();\n    try {\n      this.readers += 1;\n      if (this.readers === 1) {\n        await this.semaphore.acquire();\n      }\n    } finally {\n      this.readersMutex.release();\n    }\n  }\n  async _releaseReadLock() {\n    await this.readersMutex.acquire();\n    try {\n      this.readers -= 1;\n      if (this.readers === 0) {\n        this.semaphore.release();\n      }\n    } finally {\n      this.readersMutex.release();\n    }\n  }\n  async _acquireWriteLock() {\n    await this.semaphore.acquire();\n  }\n  async _releaseWriteLock() {\n    this.semaphore.release();\n  }\n};\n\n//# sourceMappingURL=locks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvbG9ja3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUN3QztBQUN4QztBQUNBO0FBQ0EseUJBQXlCLGtEQUFTO0FBQ2xDO0FBQ0EsNEJBQTRCLGtEQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcbG9ja3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2xvY2tzLnRzeFxuaW1wb3J0IHsgU2VtYXBob3JlIH0gZnJvbSBcImFzeW5jLW11dGV4XCI7XG52YXIgUmVhZFdyaXRlTG9jayA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zZW1hcGhvcmUgPSBuZXcgU2VtYXBob3JlKDEpO1xuICAgIHRoaXMucmVhZGVycyA9IDA7XG4gICAgdGhpcy5yZWFkZXJzTXV0ZXggPSBuZXcgU2VtYXBob3JlKDEpO1xuICB9XG4gIGFzeW5jIHdpdGhSZWFkTG9jayhjYWxsYmFjaykge1xuICAgIGF3YWl0IHRoaXMuX2FjcXVpcmVSZWFkTG9jaygpO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgY2FsbGJhY2soKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXdhaXQgdGhpcy5fcmVsZWFzZVJlYWRMb2NrKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHdpdGhXcml0ZUxvY2soY2FsbGJhY2spIHtcbiAgICBhd2FpdCB0aGlzLl9hY3F1aXJlV3JpdGVMb2NrKCk7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBjYWxsYmFjaygpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCB0aGlzLl9yZWxlYXNlV3JpdGVMb2NrKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIF9hY3F1aXJlUmVhZExvY2soKSB7XG4gICAgYXdhaXQgdGhpcy5yZWFkZXJzTXV0ZXguYWNxdWlyZSgpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnJlYWRlcnMgKz0gMTtcbiAgICAgIGlmICh0aGlzLnJlYWRlcnMgPT09IDEpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW1hcGhvcmUuYWNxdWlyZSgpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnJlYWRlcnNNdXRleC5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIF9yZWxlYXNlUmVhZExvY2soKSB7XG4gICAgYXdhaXQgdGhpcy5yZWFkZXJzTXV0ZXguYWNxdWlyZSgpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnJlYWRlcnMgLT0gMTtcbiAgICAgIGlmICh0aGlzLnJlYWRlcnMgPT09IDApIHtcbiAgICAgICAgdGhpcy5zZW1hcGhvcmUucmVsZWFzZSgpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnJlYWRlcnNNdXRleC5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIF9hY3F1aXJlV3JpdGVMb2NrKCkge1xuICAgIGF3YWl0IHRoaXMuc2VtYXBob3JlLmFjcXVpcmUoKTtcbiAgfVxuICBhc3luYyBfcmVsZWFzZVdyaXRlTG9jaygpIHtcbiAgICB0aGlzLnNlbWFwaG9yZS5yZWxlYXNlKCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBSZWFkV3JpdGVMb2NrXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9ja3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/locks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/maps.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/maps.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DependenciesMap: () => (/* binding */ DependenciesMap),\n/* harmony export */   IterableWeakMap: () => (/* binding */ IterableWeakMap),\n/* harmony export */   MaybeWeakMap: () => (/* binding */ MaybeWeakMap),\n/* harmony export */   WeakRefIfAvailable: () => (/* binding */ WeakRefIfAvailable)\n/* harmony export */ });\n/* harmony import */ var _results_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n// src/utils/maps.tsx\n\nvar WeakRefIfAvailable = class {\n  constructor(value) {\n    if (typeof WeakRef === \"undefined\") {\n      this._ref = { deref: () => value };\n    } else {\n      this._ref = new WeakRef(value);\n    }\n  }\n  deref() {\n    return this._ref.deref();\n  }\n};\nvar _a, _b;\nvar IterableWeakMap = class {\n  constructor(entries) {\n    this[_a] = \"IterableWeakMap\";\n    const mappedEntries = entries?.map((e) => [e[0], { value: e[1], keyRef: new WeakRefIfAvailable(e[0]) }]);\n    this._weakMap = new WeakMap(mappedEntries ?? []);\n    this._keyRefs = new Set(mappedEntries?.map((e) => e[1].keyRef) ?? []);\n  }\n  get(key) {\n    return this._weakMap.get(key)?.value;\n  }\n  set(key, value) {\n    const existing = this._weakMap.get(key);\n    const updated = { value, keyRef: existing?.keyRef ?? new WeakRefIfAvailable(key) };\n    this._weakMap.set(key, updated);\n    this._keyRefs.add(updated.keyRef);\n    return this;\n  }\n  delete(key) {\n    const res = this._weakMap.get(key);\n    if (res) {\n      this._weakMap.delete(key);\n      this._keyRefs.delete(res.keyRef);\n      return true;\n    }\n    return false;\n  }\n  has(key) {\n    return this._weakMap.has(key) && this._keyRefs.has(this._weakMap.get(key).keyRef);\n  }\n  *[(_b = Symbol.iterator, _a = Symbol.toStringTag, _b)]() {\n    for (const keyRef of this._keyRefs) {\n      const key = keyRef.deref();\n      const existing = key ? this._weakMap.get(key) : void 0;\n      if (!key) {\n        this._keyRefs.delete(keyRef);\n      } else if (existing) {\n        yield [key, existing.value];\n      }\n    }\n  }\n};\nvar _a2, _b2;\nvar MaybeWeakMap = class {\n  constructor(entries) {\n    this[_a2] = \"MaybeWeakMap\";\n    const entriesArray = [...entries ?? []];\n    this._primitiveMap = new Map(entriesArray.filter((e) => !this._isAllowedInWeakMap(e[0])));\n    this._weakMap = new IterableWeakMap(entriesArray.filter((e) => this._isAllowedInWeakMap(e[0])));\n  }\n  _isAllowedInWeakMap(key) {\n    return typeof key === \"object\" && key !== null || typeof key === \"symbol\" && Symbol.keyFor(key) === void 0;\n  }\n  get(key) {\n    if (this._isAllowedInWeakMap(key)) {\n      return this._weakMap.get(key);\n    } else {\n      return this._primitiveMap.get(key);\n    }\n  }\n  set(key, value) {\n    if (this._isAllowedInWeakMap(key)) {\n      this._weakMap.set(key, value);\n    } else {\n      this._primitiveMap.set(key, value);\n    }\n    return this;\n  }\n  delete(key) {\n    if (this._isAllowedInWeakMap(key)) {\n      return this._weakMap.delete(key);\n    } else {\n      return this._primitiveMap.delete(key);\n    }\n  }\n  has(key) {\n    if (this._isAllowedInWeakMap(key)) {\n      return this._weakMap.has(key);\n    } else {\n      return this._primitiveMap.has(key);\n    }\n  }\n  *[(_b2 = Symbol.iterator, _a2 = Symbol.toStringTag, _b2)]() {\n    yield* this._primitiveMap;\n    yield* this._weakMap;\n  }\n};\nvar _a3, _b3;\nvar DependenciesMap = class {\n  constructor() {\n    this._inner = { map: new MaybeWeakMap(), hasValue: false, value: void 0 };\n    this[_a3] = \"DependenciesMap\";\n  }\n  _valueToResult(inner) {\n    if (inner.hasValue) {\n      return _results_js__WEBPACK_IMPORTED_MODULE_0__.Result.ok(inner.value);\n    } else {\n      return _results_js__WEBPACK_IMPORTED_MODULE_0__.Result.error(void 0);\n    }\n  }\n  _unwrapFromInner(dependencies, inner) {\n    if (dependencies.length === 0) {\n      return this._valueToResult(inner);\n    } else {\n      const [key, ...rest] = dependencies;\n      const newInner = inner.map.get(key);\n      if (!newInner) {\n        return _results_js__WEBPACK_IMPORTED_MODULE_0__.Result.error(void 0);\n      }\n      return this._unwrapFromInner(rest, newInner);\n    }\n  }\n  _setInInner(dependencies, value, inner) {\n    if (dependencies.length === 0) {\n      const res = this._valueToResult(inner);\n      if (value.status === \"ok\") {\n        inner.hasValue = true;\n        inner.value = value.data;\n      } else {\n        inner.hasValue = false;\n        inner.value = void 0;\n      }\n      return res;\n    } else {\n      const [key, ...rest] = dependencies;\n      let newInner = inner.map.get(key);\n      if (!newInner) {\n        inner.map.set(key, newInner = { map: new MaybeWeakMap(), hasValue: false, value: void 0 });\n      }\n      return this._setInInner(rest, value, newInner);\n    }\n  }\n  *_iterateInner(dependencies, inner) {\n    if (inner.hasValue) {\n      yield [dependencies, inner.value];\n    }\n    for (const [key, value] of inner.map) {\n      yield* this._iterateInner([...dependencies, key], value);\n    }\n  }\n  get(dependencies) {\n    return _results_js__WEBPACK_IMPORTED_MODULE_0__.Result.or(this._unwrapFromInner(dependencies, this._inner), void 0);\n  }\n  set(dependencies, value) {\n    this._setInInner(dependencies, _results_js__WEBPACK_IMPORTED_MODULE_0__.Result.ok(value), this._inner);\n    return this;\n  }\n  delete(dependencies) {\n    return this._setInInner(dependencies, _results_js__WEBPACK_IMPORTED_MODULE_0__.Result.error(void 0), this._inner).status === \"ok\";\n  }\n  has(dependencies) {\n    return this._unwrapFromInner(dependencies, this._inner).status === \"ok\";\n  }\n  clear() {\n    this._inner = { map: new MaybeWeakMap(), hasValue: false, value: void 0 };\n  }\n  *[(_b3 = Symbol.iterator, _a3 = Symbol.toStringTag, _b3)]() {\n    yield* this._iterateInner([], this._inner);\n  }\n};\n\n//# sourceMappingURL=maps.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvbWFwcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ3NDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxtREFBbUQ7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtDQUFNO0FBQ25CLE1BQU07QUFDTixhQUFhLCtDQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsZUFBZSwrQ0FBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MseURBQXlEO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQ0FBTTtBQUNqQjtBQUNBO0FBQ0EsbUNBQW1DLCtDQUFNO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrQ0FBTTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcbWFwcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvbWFwcy50c3hcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdHMuanNcIjtcbnZhciBXZWFrUmVmSWZBdmFpbGFibGUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBXZWFrUmVmID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLl9yZWYgPSB7IGRlcmVmOiAoKSA9PiB2YWx1ZSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZWYgPSBuZXcgV2Vha1JlZih2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGRlcmVmKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWYuZGVyZWYoKTtcbiAgfVxufTtcbnZhciBfYSwgX2I7XG52YXIgSXRlcmFibGVXZWFrTWFwID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihlbnRyaWVzKSB7XG4gICAgdGhpc1tfYV0gPSBcIkl0ZXJhYmxlV2Vha01hcFwiO1xuICAgIGNvbnN0IG1hcHBlZEVudHJpZXMgPSBlbnRyaWVzPy5tYXAoKGUpID0+IFtlWzBdLCB7IHZhbHVlOiBlWzFdLCBrZXlSZWY6IG5ldyBXZWFrUmVmSWZBdmFpbGFibGUoZVswXSkgfV0pO1xuICAgIHRoaXMuX3dlYWtNYXAgPSBuZXcgV2Vha01hcChtYXBwZWRFbnRyaWVzID8/IFtdKTtcbiAgICB0aGlzLl9rZXlSZWZzID0gbmV3IFNldChtYXBwZWRFbnRyaWVzPy5tYXAoKGUpID0+IGVbMV0ua2V5UmVmKSA/PyBbXSk7XG4gIH1cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLl93ZWFrTWFwLmdldChrZXkpPy52YWx1ZTtcbiAgfVxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5fd2Vha01hcC5nZXQoa2V5KTtcbiAgICBjb25zdCB1cGRhdGVkID0geyB2YWx1ZSwga2V5UmVmOiBleGlzdGluZz8ua2V5UmVmID8/IG5ldyBXZWFrUmVmSWZBdmFpbGFibGUoa2V5KSB9O1xuICAgIHRoaXMuX3dlYWtNYXAuc2V0KGtleSwgdXBkYXRlZCk7XG4gICAgdGhpcy5fa2V5UmVmcy5hZGQodXBkYXRlZC5rZXlSZWYpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlbGV0ZShrZXkpIHtcbiAgICBjb25zdCByZXMgPSB0aGlzLl93ZWFrTWFwLmdldChrZXkpO1xuICAgIGlmIChyZXMpIHtcbiAgICAgIHRoaXMuX3dlYWtNYXAuZGVsZXRlKGtleSk7XG4gICAgICB0aGlzLl9rZXlSZWZzLmRlbGV0ZShyZXMua2V5UmVmKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLl93ZWFrTWFwLmhhcyhrZXkpICYmIHRoaXMuX2tleVJlZnMuaGFzKHRoaXMuX3dlYWtNYXAuZ2V0KGtleSkua2V5UmVmKTtcbiAgfVxuICAqWyhfYiA9IFN5bWJvbC5pdGVyYXRvciwgX2EgPSBTeW1ib2wudG9TdHJpbmdUYWcsIF9iKV0oKSB7XG4gICAgZm9yIChjb25zdCBrZXlSZWYgb2YgdGhpcy5fa2V5UmVmcykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5UmVmLmRlcmVmKCk7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGtleSA/IHRoaXMuX3dlYWtNYXAuZ2V0KGtleSkgOiB2b2lkIDA7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICB0aGlzLl9rZXlSZWZzLmRlbGV0ZShrZXlSZWYpO1xuICAgICAgfSBlbHNlIGlmIChleGlzdGluZykge1xuICAgICAgICB5aWVsZCBba2V5LCBleGlzdGluZy52YWx1ZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIF9hMiwgX2IyO1xudmFyIE1heWJlV2Vha01hcCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZW50cmllcykge1xuICAgIHRoaXNbX2EyXSA9IFwiTWF5YmVXZWFrTWFwXCI7XG4gICAgY29uc3QgZW50cmllc0FycmF5ID0gWy4uLmVudHJpZXMgPz8gW11dO1xuICAgIHRoaXMuX3ByaW1pdGl2ZU1hcCA9IG5ldyBNYXAoZW50cmllc0FycmF5LmZpbHRlcigoZSkgPT4gIXRoaXMuX2lzQWxsb3dlZEluV2Vha01hcChlWzBdKSkpO1xuICAgIHRoaXMuX3dlYWtNYXAgPSBuZXcgSXRlcmFibGVXZWFrTWFwKGVudHJpZXNBcnJheS5maWx0ZXIoKGUpID0+IHRoaXMuX2lzQWxsb3dlZEluV2Vha01hcChlWzBdKSkpO1xuICB9XG4gIF9pc0FsbG93ZWRJbldlYWtNYXAoa2V5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgJiYga2V5ICE9PSBudWxsIHx8IHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgJiYgU3ltYm9sLmtleUZvcihrZXkpID09PSB2b2lkIDA7XG4gIH1cbiAgZ2V0KGtleSkge1xuICAgIGlmICh0aGlzLl9pc0FsbG93ZWRJbldlYWtNYXAoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3dlYWtNYXAuZ2V0KGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcmltaXRpdmVNYXAuZ2V0KGtleSk7XG4gICAgfVxuICB9XG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzQWxsb3dlZEluV2Vha01hcChrZXkpKSB7XG4gICAgICB0aGlzLl93ZWFrTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcHJpbWl0aXZlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVsZXRlKGtleSkge1xuICAgIGlmICh0aGlzLl9pc0FsbG93ZWRJbldlYWtNYXAoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3dlYWtNYXAuZGVsZXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcmltaXRpdmVNYXAuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG4gIGhhcyhrZXkpIHtcbiAgICBpZiAodGhpcy5faXNBbGxvd2VkSW5XZWFrTWFwKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLl93ZWFrTWFwLmhhcyhrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJpbWl0aXZlTWFwLmhhcyhrZXkpO1xuICAgIH1cbiAgfVxuICAqWyhfYjIgPSBTeW1ib2wuaXRlcmF0b3IsIF9hMiA9IFN5bWJvbC50b1N0cmluZ1RhZywgX2IyKV0oKSB7XG4gICAgeWllbGQqIHRoaXMuX3ByaW1pdGl2ZU1hcDtcbiAgICB5aWVsZCogdGhpcy5fd2Vha01hcDtcbiAgfVxufTtcbnZhciBfYTMsIF9iMztcbnZhciBEZXBlbmRlbmNpZXNNYXAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2lubmVyID0geyBtYXA6IG5ldyBNYXliZVdlYWtNYXAoKSwgaGFzVmFsdWU6IGZhbHNlLCB2YWx1ZTogdm9pZCAwIH07XG4gICAgdGhpc1tfYTNdID0gXCJEZXBlbmRlbmNpZXNNYXBcIjtcbiAgfVxuICBfdmFsdWVUb1Jlc3VsdChpbm5lcikge1xuICAgIGlmIChpbm5lci5oYXNWYWx1ZSkge1xuICAgICAgcmV0dXJuIFJlc3VsdC5vayhpbm5lci52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3Iodm9pZCAwKTtcbiAgICB9XG4gIH1cbiAgX3Vud3JhcEZyb21Jbm5lcihkZXBlbmRlbmNpZXMsIGlubmVyKSB7XG4gICAgaWYgKGRlcGVuZGVuY2llcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZVRvUmVzdWx0KGlubmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgW2tleSwgLi4ucmVzdF0gPSBkZXBlbmRlbmNpZXM7XG4gICAgICBjb25zdCBuZXdJbm5lciA9IGlubmVyLm1hcC5nZXQoa2V5KTtcbiAgICAgIGlmICghbmV3SW5uZXIpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcih2b2lkIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3Vud3JhcEZyb21Jbm5lcihyZXN0LCBuZXdJbm5lcik7XG4gICAgfVxuICB9XG4gIF9zZXRJbklubmVyKGRlcGVuZGVuY2llcywgdmFsdWUsIGlubmVyKSB7XG4gICAgaWYgKGRlcGVuZGVuY2llcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IHJlcyA9IHRoaXMuX3ZhbHVlVG9SZXN1bHQoaW5uZXIpO1xuICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJva1wiKSB7XG4gICAgICAgIGlubmVyLmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgaW5uZXIudmFsdWUgPSB2YWx1ZS5kYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5uZXIuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgaW5uZXIudmFsdWUgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IGRlcGVuZGVuY2llcztcbiAgICAgIGxldCBuZXdJbm5lciA9IGlubmVyLm1hcC5nZXQoa2V5KTtcbiAgICAgIGlmICghbmV3SW5uZXIpIHtcbiAgICAgICAgaW5uZXIubWFwLnNldChrZXksIG5ld0lubmVyID0geyBtYXA6IG5ldyBNYXliZVdlYWtNYXAoKSwgaGFzVmFsdWU6IGZhbHNlLCB2YWx1ZTogdm9pZCAwIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3NldEluSW5uZXIocmVzdCwgdmFsdWUsIG5ld0lubmVyKTtcbiAgICB9XG4gIH1cbiAgKl9pdGVyYXRlSW5uZXIoZGVwZW5kZW5jaWVzLCBpbm5lcikge1xuICAgIGlmIChpbm5lci5oYXNWYWx1ZSkge1xuICAgICAgeWllbGQgW2RlcGVuZGVuY2llcywgaW5uZXIudmFsdWVdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBpbm5lci5tYXApIHtcbiAgICAgIHlpZWxkKiB0aGlzLl9pdGVyYXRlSW5uZXIoWy4uLmRlcGVuZGVuY2llcywga2V5XSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICBnZXQoZGVwZW5kZW5jaWVzKSB7XG4gICAgcmV0dXJuIFJlc3VsdC5vcih0aGlzLl91bndyYXBGcm9tSW5uZXIoZGVwZW5kZW5jaWVzLCB0aGlzLl9pbm5lciksIHZvaWQgMCk7XG4gIH1cbiAgc2V0KGRlcGVuZGVuY2llcywgdmFsdWUpIHtcbiAgICB0aGlzLl9zZXRJbklubmVyKGRlcGVuZGVuY2llcywgUmVzdWx0Lm9rKHZhbHVlKSwgdGhpcy5faW5uZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlbGV0ZShkZXBlbmRlbmNpZXMpIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0SW5Jbm5lcihkZXBlbmRlbmNpZXMsIFJlc3VsdC5lcnJvcih2b2lkIDApLCB0aGlzLl9pbm5lcikuc3RhdHVzID09PSBcIm9rXCI7XG4gIH1cbiAgaGFzKGRlcGVuZGVuY2llcykge1xuICAgIHJldHVybiB0aGlzLl91bndyYXBGcm9tSW5uZXIoZGVwZW5kZW5jaWVzLCB0aGlzLl9pbm5lcikuc3RhdHVzID09PSBcIm9rXCI7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5faW5uZXIgPSB7IG1hcDogbmV3IE1heWJlV2Vha01hcCgpLCBoYXNWYWx1ZTogZmFsc2UsIHZhbHVlOiB2b2lkIDAgfTtcbiAgfVxuICAqWyhfYjMgPSBTeW1ib2wuaXRlcmF0b3IsIF9hMyA9IFN5bWJvbC50b1N0cmluZ1RhZywgX2IzKV0oKSB7XG4gICAgeWllbGQqIHRoaXMuX2l0ZXJhdGVJbm5lcihbXSwgdGhpcy5faW5uZXIpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgRGVwZW5kZW5jaWVzTWFwLFxuICBJdGVyYWJsZVdlYWtNYXAsXG4gIE1heWJlV2Vha01hcCxcbiAgV2Vha1JlZklmQXZhaWxhYmxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/maps.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/math.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/math.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   remainder: () => (/* binding */ remainder)\n/* harmony export */ });\n// src/utils/math.tsx\nfunction remainder(n, d) {\n  return (n % d + Math.abs(d)) % d;\n}\n\n//# sourceMappingURL=math.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvbWF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcbWF0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvbWF0aC50c3hcbmZ1bmN0aW9uIHJlbWFpbmRlcihuLCBkKSB7XG4gIHJldHVybiAobiAlIGQgKyBNYXRoLmFicyhkKSkgJSBkO1xufVxuZXhwb3J0IHtcbiAgcmVtYWluZGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/math.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/oauth.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/oauth.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   allProviders: () => (/* binding */ allProviders),\n/* harmony export */   sharedProviders: () => (/* binding */ sharedProviders),\n/* harmony export */   standardProviders: () => (/* binding */ standardProviders)\n/* harmony export */ });\n// src/utils/oauth.tsx\nvar standardProviders = [\"google\", \"github\", \"microsoft\", \"spotify\", \"facebook\", \"discord\", \"gitlab\", \"bitbucket\", \"linkedin\", \"apple\", \"x\", \"twitch\"];\nvar sharedProviders = [\"google\", \"github\", \"microsoft\", \"spotify\"];\nvar allProviders = standardProviders;\n\n//# sourceMappingURL=oauth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvb2F1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcb2F1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL29hdXRoLnRzeFxudmFyIHN0YW5kYXJkUHJvdmlkZXJzID0gW1wiZ29vZ2xlXCIsIFwiZ2l0aHViXCIsIFwibWljcm9zb2Z0XCIsIFwic3BvdGlmeVwiLCBcImZhY2Vib29rXCIsIFwiZGlzY29yZFwiLCBcImdpdGxhYlwiLCBcImJpdGJ1Y2tldFwiLCBcImxpbmtlZGluXCIsIFwiYXBwbGVcIiwgXCJ4XCIsIFwidHdpdGNoXCJdO1xudmFyIHNoYXJlZFByb3ZpZGVycyA9IFtcImdvb2dsZVwiLCBcImdpdGh1YlwiLCBcIm1pY3Jvc29mdFwiLCBcInNwb3RpZnlcIl07XG52YXIgYWxsUHJvdmlkZXJzID0gc3RhbmRhcmRQcm92aWRlcnM7XG5leHBvcnQge1xuICBhbGxQcm92aWRlcnMsXG4gIHNoYXJlZFByb3ZpZGVycyxcbiAgc3RhbmRhcmRQcm92aWRlcnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYXV0aC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/oauth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deepFilterUndefined: () => (/* binding */ deepFilterUndefined),\n/* harmony export */   deepMerge: () => (/* binding */ deepMerge),\n/* harmony export */   deepPlainClone: () => (/* binding */ deepPlainClone),\n/* harmony export */   deepPlainEquals: () => (/* binding */ deepPlainEquals),\n/* harmony export */   deepSortKeys: () => (/* binding */ deepSortKeys),\n/* harmony export */   deleteKey: () => (/* binding */ deleteKey),\n/* harmony export */   filterUndefined: () => (/* binding */ filterUndefined),\n/* harmony export */   filterUndefinedOrNull: () => (/* binding */ filterUndefinedOrNull),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   getOrUndefined: () => (/* binding */ getOrUndefined),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   hasAndNotUndefined: () => (/* binding */ hasAndNotUndefined),\n/* harmony export */   isCloneable: () => (/* binding */ isCloneable),\n/* harmony export */   isNotNull: () => (/* binding */ isNotNull),\n/* harmony export */   isObjectLike: () => (/* binding */ isObjectLike),\n/* harmony export */   mapValues: () => (/* binding */ mapValues),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   shallowClone: () => (/* binding */ shallowClone),\n/* harmony export */   sortKeys: () => (/* binding */ sortKeys),\n/* harmony export */   split: () => (/* binding */ split),\n/* harmony export */   typedAssign: () => (/* binding */ typedAssign),\n/* harmony export */   typedEntries: () => (/* binding */ typedEntries),\n/* harmony export */   typedFromEntries: () => (/* binding */ typedFromEntries),\n/* harmony export */   typedKeys: () => (/* binding */ typedKeys),\n/* harmony export */   typedValues: () => (/* binding */ typedValues)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/functions.js\");\n/* harmony import */ var _strings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/types.js\");\n// src/utils/objects.tsx\n\n\n\n\nfunction isNotNull(value) {\n  return value !== null && value !== void 0;\n}\nfunction deepPlainEquals(obj1, obj2, options = {}) {\n  if (typeof obj1 !== typeof obj2) return false;\n  if (obj1 === obj2) return true;\n  switch (typeof obj1) {\n    case \"object\": {\n      if (!obj1 || !obj2) return false;\n      if (Array.isArray(obj1) || Array.isArray(obj2)) {\n        if (!Array.isArray(obj1) || !Array.isArray(obj2)) return false;\n        if (obj1.length !== obj2.length) return false;\n        return obj1.every((v, i) => deepPlainEquals(v, obj2[i], options));\n      }\n      const entries1 = Object.entries(obj1).filter(([k, v]) => !options.ignoreUndefinedValues || v !== void 0);\n      const entries2 = Object.entries(obj2).filter(([k, v]) => !options.ignoreUndefinedValues || v !== void 0);\n      if (entries1.length !== entries2.length) return false;\n      return entries1.every(([k, v1]) => {\n        const e2 = entries2.find(([k2]) => k === k2);\n        if (!e2) return false;\n        return deepPlainEquals(v1, e2[1], options);\n      });\n    }\n    case \"undefined\":\n    case \"string\":\n    case \"number\":\n    case \"boolean\":\n    case \"bigint\":\n    case \"symbol\":\n    case \"function\": {\n      return false;\n    }\n    default: {\n      throw new Error(\"Unexpected typeof \" + typeof obj1);\n    }\n  }\n}\nfunction isCloneable(obj) {\n  return typeof obj !== \"symbol\" && typeof obj !== \"function\";\n}\nfunction shallowClone(obj) {\n  if (!isCloneable(obj)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"shallowClone does not support symbols or functions\", { obj });\n  if (Array.isArray(obj)) return obj.map(_functions_js__WEBPACK_IMPORTED_MODULE_1__.identity);\n  return { ...obj };\n}\nfunction deepPlainClone(obj) {\n  if (typeof obj === \"function\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"deepPlainClone does not support functions\");\n  if (typeof obj === \"symbol\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"deepPlainClone does not support symbols\");\n  if (typeof obj !== \"object\" || !obj) return obj;\n  if (Array.isArray(obj)) return obj.map(deepPlainClone);\n  return Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, deepPlainClone(v)]));\n}\nfunction deepMerge(baseObj, mergeObj) {\n  if ([baseObj, mergeObj, ...Object.values(baseObj), ...Object.values(mergeObj)].some((o) => !isCloneable(o))) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"deepMerge does not support functions or symbols\", { baseObj, mergeObj });\n  const res = shallowClone(baseObj);\n  for (const [key, mergeValue] of Object.entries(mergeObj)) {\n    if (has(res, key)) {\n      const baseValue = get(res, key);\n      if (isObjectLike(baseValue) && isObjectLike(mergeValue)) {\n        set(res, key, deepMerge(baseValue, mergeValue));\n        continue;\n      }\n    }\n    set(res, key, mergeValue);\n  }\n  return res;\n}\nfunction typedEntries(obj) {\n  return Object.entries(obj);\n}\nfunction typedFromEntries(entries) {\n  return Object.fromEntries(entries);\n}\nfunction typedKeys(obj) {\n  return Object.keys(obj);\n}\nfunction typedValues(obj) {\n  return Object.values(obj);\n}\nfunction typedAssign(target, source) {\n  return Object.assign(target, source);\n}\nfunction filterUndefined(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== void 0));\n}\nfunction filterUndefinedOrNull(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== void 0 && v !== null));\n}\n(0,_types_js__WEBPACK_IMPORTED_MODULE_3__.typeAssertIs)()();\nfunction deepFilterUndefined(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== void 0).map(([k, v]) => [k, isObjectLike(v) ? deepFilterUndefined(v) : v]));\n}\nfunction pick(obj, keys) {\n  return Object.fromEntries(Object.entries(obj).filter(([k]) => keys.includes(k)));\n}\nfunction omit(obj, keys) {\n  if (!Array.isArray(keys)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(\"omit: keys must be an array\", { obj, keys });\n  return Object.fromEntries(Object.entries(obj).filter(([k]) => !keys.includes(k)));\n}\nfunction split(obj, keys) {\n  return [pick(obj, keys), omit(obj, keys)];\n}\nfunction mapValues(obj, fn) {\n  if (Array.isArray(obj)) {\n    return obj.map((v) => fn(v));\n  }\n  return Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, fn(v)]));\n}\nfunction sortKeys(obj) {\n  if (Array.isArray(obj)) {\n    return [...obj];\n  }\n  return Object.fromEntries(Object.entries(obj).sort(([a], [b]) => (0,_strings_js__WEBPACK_IMPORTED_MODULE_2__.stringCompare)(a, b)));\n}\nfunction deepSortKeys(obj) {\n  return sortKeys(mapValues(obj, (v) => isObjectLike(v) ? deepSortKeys(v) : v));\n}\nfunction set(obj, key, value) {\n  Object.defineProperty(obj, key, { value, writable: true, configurable: true, enumerable: true });\n}\nfunction get(obj, key) {\n  const descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  if (!descriptor) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(`get: key ${String(key)} does not exist`, { obj, key });\n  return descriptor.value;\n}\nfunction getOrUndefined(obj, key) {\n  return has(obj, key) ? get(obj, key) : void 0;\n}\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction hasAndNotUndefined(obj, key) {\n  return has(obj, key) && get(obj, key) !== void 0;\n}\nfunction deleteKey(obj, key) {\n  if (has(obj, key)) {\n    Reflect.deleteProperty(obj, key);\n  } else {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(`deleteKey: key ${String(key)} does not exist`, { obj, key });\n  }\n}\nfunction isObjectLike(value) {\n  return (typeof value === \"object\" || typeof value === \"function\") && value !== null;\n}\n\n//# sourceMappingURL=objects.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvb2JqZWN0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDa0Q7QUFDUjtBQUNHO0FBQ0g7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMkRBQW1CLHlEQUF5RCxLQUFLO0FBQ3BILHlDQUF5QyxtREFBUTtBQUNqRCxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJDQUEyQywyREFBbUI7QUFDOUQseUNBQXlDLDJEQUFtQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUhBQXlILDJEQUFtQixzREFBc0QsbUJBQW1CO0FBQ3JOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywyREFBbUIsa0NBQWtDLFdBQVc7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLDBEQUFhO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkRBQTZEO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyREFBbUIsYUFBYSxhQUFhLG1CQUFtQixVQUFVO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osY0FBYywyREFBbUIsbUJBQW1CLGFBQWEsbUJBQW1CLFVBQVU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTZCRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcb2JqZWN0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvb2JqZWN0cy50c3hcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSBcIi4vZnVuY3Rpb25zLmpzXCI7XG5pbXBvcnQgeyBzdHJpbmdDb21wYXJlIH0gZnJvbSBcIi4vc3RyaW5ncy5qc1wiO1xuaW1wb3J0IHsgdHlwZUFzc2VydElzIH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcbmZ1bmN0aW9uIGlzTm90TnVsbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGRlZXBQbGFpbkVxdWFscyhvYmoxLCBvYmoyLCBvcHRpb25zID0ge30pIHtcbiAgaWYgKHR5cGVvZiBvYmoxICE9PSB0eXBlb2Ygb2JqMikgcmV0dXJuIGZhbHNlO1xuICBpZiAob2JqMSA9PT0gb2JqMikgcmV0dXJuIHRydWU7XG4gIHN3aXRjaCAodHlwZW9mIG9iajEpIHtcbiAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgIGlmICghb2JqMSB8fCAhb2JqMikgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkgfHwgQXJyYXkuaXNBcnJheShvYmoyKSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqMSkgfHwgIUFycmF5LmlzQXJyYXkob2JqMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gb2JqMS5ldmVyeSgodiwgaSkgPT4gZGVlcFBsYWluRXF1YWxzKHYsIG9iajJbaV0sIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVudHJpZXMxID0gT2JqZWN0LmVudHJpZXMob2JqMSkuZmlsdGVyKChbaywgdl0pID0+ICFvcHRpb25zLmlnbm9yZVVuZGVmaW5lZFZhbHVlcyB8fCB2ICE9PSB2b2lkIDApO1xuICAgICAgY29uc3QgZW50cmllczIgPSBPYmplY3QuZW50cmllcyhvYmoyKS5maWx0ZXIoKFtrLCB2XSkgPT4gIW9wdGlvbnMuaWdub3JlVW5kZWZpbmVkVmFsdWVzIHx8IHYgIT09IHZvaWQgMCk7XG4gICAgICBpZiAoZW50cmllczEubGVuZ3RoICE9PSBlbnRyaWVzMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBlbnRyaWVzMS5ldmVyeSgoW2ssIHYxXSkgPT4ge1xuICAgICAgICBjb25zdCBlMiA9IGVudHJpZXMyLmZpbmQoKFtrMl0pID0+IGsgPT09IGsyKTtcbiAgICAgICAgaWYgKCFlMikgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGVlcFBsYWluRXF1YWxzKHYxLCBlMlsxXSwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgY2FzZSBcInN5bWJvbFwiOlxuICAgIGNhc2UgXCJmdW5jdGlvblwiOiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgdHlwZW9mIFwiICsgdHlwZW9mIG9iajEpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaXNDbG9uZWFibGUob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqICE9PSBcInN5bWJvbFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvYmopIHtcbiAgaWYgKCFpc0Nsb25lYWJsZShvYmopKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcInNoYWxsb3dDbG9uZSBkb2VzIG5vdCBzdXBwb3J0IHN5bWJvbHMgb3IgZnVuY3Rpb25zXCIsIHsgb2JqIH0pO1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSByZXR1cm4gb2JqLm1hcChpZGVudGl0eSk7XG4gIHJldHVybiB7IC4uLm9iaiB9O1xufVxuZnVuY3Rpb24gZGVlcFBsYWluQ2xvbmUob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiZGVlcFBsYWluQ2xvbmUgZG9lcyBub3Qgc3VwcG9ydCBmdW5jdGlvbnNcIik7XG4gIGlmICh0eXBlb2Ygb2JqID09PSBcInN5bWJvbFwiKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcImRlZXBQbGFpbkNsb25lIGRvZXMgbm90IHN1cHBvcnQgc3ltYm9sc1wiKTtcbiAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgfHwgIW9iaikgcmV0dXJuIG9iajtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgcmV0dXJuIG9iai5tYXAoZGVlcFBsYWluQ2xvbmUpO1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9iaikubWFwKChbaywgdl0pID0+IFtrLCBkZWVwUGxhaW5DbG9uZSh2KV0pKTtcbn1cbmZ1bmN0aW9uIGRlZXBNZXJnZShiYXNlT2JqLCBtZXJnZU9iaikge1xuICBpZiAoW2Jhc2VPYmosIG1lcmdlT2JqLCAuLi5PYmplY3QudmFsdWVzKGJhc2VPYmopLCAuLi5PYmplY3QudmFsdWVzKG1lcmdlT2JqKV0uc29tZSgobykgPT4gIWlzQ2xvbmVhYmxlKG8pKSkgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJkZWVwTWVyZ2UgZG9lcyBub3Qgc3VwcG9ydCBmdW5jdGlvbnMgb3Igc3ltYm9sc1wiLCB7IGJhc2VPYmosIG1lcmdlT2JqIH0pO1xuICBjb25zdCByZXMgPSBzaGFsbG93Q2xvbmUoYmFzZU9iaik7XG4gIGZvciAoY29uc3QgW2tleSwgbWVyZ2VWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobWVyZ2VPYmopKSB7XG4gICAgaWYgKGhhcyhyZXMsIGtleSkpIHtcbiAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IGdldChyZXMsIGtleSk7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKGJhc2VWYWx1ZSkgJiYgaXNPYmplY3RMaWtlKG1lcmdlVmFsdWUpKSB7XG4gICAgICAgIHNldChyZXMsIGtleSwgZGVlcE1lcmdlKGJhc2VWYWx1ZSwgbWVyZ2VWYWx1ZSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0KHJlcywga2V5LCBtZXJnZVZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gdHlwZWRFbnRyaWVzKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMob2JqKTtcbn1cbmZ1bmN0aW9uIHR5cGVkRnJvbUVudHJpZXMoZW50cmllcykge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpO1xufVxuZnVuY3Rpb24gdHlwZWRLZXlzKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcbn1cbmZ1bmN0aW9uIHR5cGVkVmFsdWVzKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopO1xufVxuZnVuY3Rpb24gdHlwZWRBc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpO1xufVxuZnVuY3Rpb24gZmlsdGVyVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9iaikuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gdm9pZCAwKSk7XG59XG5mdW5jdGlvbiBmaWx0ZXJVbmRlZmluZWRPck51bGwob2JqKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMob2JqKS5maWx0ZXIoKFssIHZdKSA9PiB2ICE9PSB2b2lkIDAgJiYgdiAhPT0gbnVsbCkpO1xufVxudHlwZUFzc2VydElzKCkoKTtcbmZ1bmN0aW9uIGRlZXBGaWx0ZXJVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMob2JqKS5maWx0ZXIoKFssIHZdKSA9PiB2ICE9PSB2b2lkIDApLm1hcCgoW2ssIHZdKSA9PiBbaywgaXNPYmplY3RMaWtlKHYpID8gZGVlcEZpbHRlclVuZGVmaW5lZCh2KSA6IHZdKSk7XG59XG5mdW5jdGlvbiBwaWNrKG9iaiwga2V5cykge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9iaikuZmlsdGVyKChba10pID0+IGtleXMuaW5jbHVkZXMoaykpKTtcbn1cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShrZXlzKSkgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJvbWl0OiBrZXlzIG11c3QgYmUgYW4gYXJyYXlcIiwgeyBvYmosIGtleXMgfSk7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMob2JqKS5maWx0ZXIoKFtrXSkgPT4gIWtleXMuaW5jbHVkZXMoaykpKTtcbn1cbmZ1bmN0aW9uIHNwbGl0KG9iaiwga2V5cykge1xuICByZXR1cm4gW3BpY2sob2JqLCBrZXlzKSwgb21pdChvYmosIGtleXMpXTtcbn1cbmZ1bmN0aW9uIG1hcFZhbHVlcyhvYmosIGZuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLm1hcCgodikgPT4gZm4odikpO1xuICB9XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMob2JqKS5tYXAoKFtrLCB2XSkgPT4gW2ssIGZuKHYpXSkpO1xufVxuZnVuY3Rpb24gc29ydEtleXMob2JqKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gWy4uLm9ial07XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvYmopLnNvcnQoKFthXSwgW2JdKSA9PiBzdHJpbmdDb21wYXJlKGEsIGIpKSk7XG59XG5mdW5jdGlvbiBkZWVwU29ydEtleXMob2JqKSB7XG4gIHJldHVybiBzb3J0S2V5cyhtYXBWYWx1ZXMob2JqLCAodikgPT4gaXNPYmplY3RMaWtlKHYpID8gZGVlcFNvcnRLZXlzKHYpIDogdikpO1xufVxuZnVuY3Rpb24gc2V0KG9iaiwga2V5LCB2YWx1ZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfSk7XG59XG5mdW5jdGlvbiBnZXQob2JqLCBrZXkpIHtcbiAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICBpZiAoIWRlc2NyaXB0b3IpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGBnZXQ6IGtleSAke1N0cmluZyhrZXkpfSBkb2VzIG5vdCBleGlzdGAsIHsgb2JqLCBrZXkgfSk7XG4gIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xufVxuZnVuY3Rpb24gZ2V0T3JVbmRlZmluZWQob2JqLCBrZXkpIHtcbiAgcmV0dXJuIGhhcyhvYmosIGtleSkgPyBnZXQob2JqLCBrZXkpIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gaGFzKG9iaiwga2V5KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuZnVuY3Rpb24gaGFzQW5kTm90VW5kZWZpbmVkKG9iaiwga2V5KSB7XG4gIHJldHVybiBoYXMob2JqLCBrZXkpICYmIGdldChvYmosIGtleSkgIT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGRlbGV0ZUtleShvYmosIGtleSkge1xuICBpZiAoaGFzKG9iaiwga2V5KSkge1xuICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkob2JqLCBrZXkpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKGBkZWxldGVLZXk6IGtleSAke1N0cmluZyhrZXkpfSBkb2VzIG5vdCBleGlzdGAsIHsgb2JqLCBrZXkgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikgJiYgdmFsdWUgIT09IG51bGw7XG59XG5leHBvcnQge1xuICBkZWVwRmlsdGVyVW5kZWZpbmVkLFxuICBkZWVwTWVyZ2UsXG4gIGRlZXBQbGFpbkNsb25lLFxuICBkZWVwUGxhaW5FcXVhbHMsXG4gIGRlZXBTb3J0S2V5cyxcbiAgZGVsZXRlS2V5LFxuICBmaWx0ZXJVbmRlZmluZWQsXG4gIGZpbHRlclVuZGVmaW5lZE9yTnVsbCxcbiAgZ2V0LFxuICBnZXRPclVuZGVmaW5lZCxcbiAgaGFzLFxuICBoYXNBbmROb3RVbmRlZmluZWQsXG4gIGlzQ2xvbmVhYmxlLFxuICBpc05vdE51bGwsXG4gIGlzT2JqZWN0TGlrZSxcbiAgbWFwVmFsdWVzLFxuICBvbWl0LFxuICBwaWNrLFxuICBzZXQsXG4gIHNoYWxsb3dDbG9uZSxcbiAgc29ydEtleXMsXG4gIHNwbGl0LFxuICB0eXBlZEFzc2lnbixcbiAgdHlwZWRFbnRyaWVzLFxuICB0eXBlZEZyb21FbnRyaWVzLFxuICB0eXBlZEtleXMsXG4gIHR5cGVkVmFsdWVzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concatStacktracesIfRejected: () => (/* binding */ concatStacktracesIfRejected),\n/* harmony export */   createPromise: () => (/* binding */ createPromise),\n/* harmony export */   ignoreUnhandledRejection: () => (/* binding */ ignoreUnhandledRejection),\n/* harmony export */   neverResolve: () => (/* binding */ neverResolve),\n/* harmony export */   pending: () => (/* binding */ pending),\n/* harmony export */   rateLimited: () => (/* binding */ rateLimited),\n/* harmony export */   rejected: () => (/* binding */ rejected),\n/* harmony export */   resolved: () => (/* binding */ resolved),\n/* harmony export */   runAsynchronously: () => (/* binding */ runAsynchronously),\n/* harmony export */   runAsynchronouslyWithAlert: () => (/* binding */ runAsynchronouslyWithAlert),\n/* harmony export */   throttled: () => (/* binding */ throttled),\n/* harmony export */   timeout: () => (/* binding */ timeout),\n/* harmony export */   timeoutThrow: () => (/* binding */ timeoutThrow),\n/* harmony export */   wait: () => (/* binding */ wait),\n/* harmony export */   waitUntil: () => (/* binding */ waitUntil)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _maps_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./maps.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/maps.js\");\n/* harmony import */ var _results_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _uuids_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uuids.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// src/utils/promises.tsx\n\n\n\n\n\nfunction createPromise(callback) {\n  let status = \"pending\";\n  let valueOrReason = void 0;\n  let resolve = null;\n  let reject = null;\n  const promise = new Promise((res, rej) => {\n    resolve = (value) => {\n      if (status !== \"pending\") return;\n      status = \"fulfilled\";\n      valueOrReason = value;\n      res(value);\n    };\n    reject = (reason) => {\n      if (status !== \"pending\") return;\n      status = \"rejected\";\n      valueOrReason = reason;\n      rej(reason);\n    };\n  });\n  callback(resolve, reject);\n  return Object.assign(promise, {\n    status,\n    ...status === \"fulfilled\" ? { value: valueOrReason } : {},\n    ...status === \"rejected\" ? { reason: valueOrReason } : {}\n  });\n}\nvar resolvedCache = null;\nfunction resolved(value) {\n  resolvedCache ??= new _maps_js__WEBPACK_IMPORTED_MODULE_2__.DependenciesMap();\n  if (resolvedCache.has([value])) {\n    return resolvedCache.get([value]);\n  }\n  const res = Object.assign(Promise.resolve(value), {\n    status: \"fulfilled\",\n    value\n  });\n  resolvedCache.set([value], res);\n  return res;\n}\nvar rejectedCache = null;\nfunction rejected(reason) {\n  rejectedCache ??= new _maps_js__WEBPACK_IMPORTED_MODULE_2__.DependenciesMap();\n  if (rejectedCache.has([reason])) {\n    return rejectedCache.get([reason]);\n  }\n  const promise = Promise.reject(reason);\n  ignoreUnhandledRejection(promise);\n  const res = Object.assign(promise, {\n    status: \"rejected\",\n    reason\n  });\n  rejectedCache.set([reason], res);\n  return res;\n}\nvar neverResolvePromise = pending(new Promise(() => {\n}));\nfunction neverResolve() {\n  return neverResolvePromise;\n}\nfunction pending(promise, options = {}) {\n  const res = promise.then(\n    (value) => {\n      res.status = \"fulfilled\";\n      res.value = value;\n      return value;\n    },\n    (actualReason) => {\n      res.status = \"rejected\";\n      res.reason = actualReason;\n      throw actualReason;\n    }\n  );\n  res.status = \"pending\";\n  return res;\n}\nfunction ignoreUnhandledRejection(promise) {\n  promise.catch(() => {\n  });\n}\nfunction concatStacktracesIfRejected(promise) {\n  const currentError = new Error();\n  promise.catch((error) => {\n    if (error instanceof Error) {\n      (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.concatStacktraces)(error, currentError);\n    } else {\n    }\n  });\n}\nasync function wait(ms) {\n  if (!Number.isFinite(ms) || ms < 0) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(`wait() requires a non-negative integer number of milliseconds to wait. (found: ${ms}ms)`);\n  }\n  if (ms >= 2 ** 31) {\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"The maximum timeout for wait() is 2147483647ms (2**31 - 1). (found: ${ms}ms)\");\n  }\n  return await new Promise((resolve) => setTimeout(resolve, ms));\n}\nasync function waitUntil(date) {\n  return await wait(date.getTime() - Date.now());\n}\nfunction runAsynchronouslyWithAlert(...args) {\n  return runAsynchronously(\n    args[0],\n    {\n      ...args[1],\n      onError: (error) => {\n        if (_index_js__WEBPACK_IMPORTED_MODULE_0__.KnownError.isKnownError(error) && typeof process !== \"undefined\" && \"development\"?.includes(\"production\")) {\n          alert(error.message);\n        } else {\n          alert(`An unhandled error occurred. Please ${ true ? `check the browser console for the full error.` : 0}\n\n${error}`);\n        }\n        args[1]?.onError?.(error);\n      }\n    },\n    ...args.slice(2)\n  );\n}\nfunction runAsynchronously(promiseOrFunc, options = {}) {\n  if (typeof promiseOrFunc === \"function\") {\n    promiseOrFunc = promiseOrFunc();\n  }\n  if (promiseOrFunc) {\n    concatStacktracesIfRejected(promiseOrFunc);\n    promiseOrFunc.catch((error) => {\n      options.onError?.(error);\n      const newError = new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\n        \"Uncaught error in asynchronous function: \" + (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.errorToNiceString)(error),\n        { cause: error }\n      );\n      if (!options.noErrorLogging) {\n        (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.captureError)(\"runAsynchronously\", newError);\n      }\n    });\n  }\n}\nvar TimeoutError = class extends Error {\n  constructor(ms) {\n    super(`Timeout after ${ms}ms`);\n    this.ms = ms;\n    this.name = \"TimeoutError\";\n  }\n};\nasync function timeout(promiseOrFunc, ms) {\n  const promise = typeof promiseOrFunc === \"function\" ? promiseOrFunc() : promiseOrFunc;\n  return await Promise.race([\n    promise.then((value) => _results_js__WEBPACK_IMPORTED_MODULE_3__.Result.ok(value)),\n    wait(ms).then(() => _results_js__WEBPACK_IMPORTED_MODULE_3__.Result.error(new TimeoutError(ms)))\n  ]);\n}\nasync function timeoutThrow(promise, ms) {\n  return _results_js__WEBPACK_IMPORTED_MODULE_3__.Result.orThrow(await timeout(promise, ms));\n}\nfunction rateLimited(func, options) {\n  let waitUntil2 = performance.now();\n  let queue = [];\n  let addedToQueueCallbacks = /* @__PURE__ */ new Map();\n  const next = async () => {\n    while (true) {\n      if (waitUntil2 > performance.now()) {\n        await wait(Math.max(1, waitUntil2 - performance.now() + 1));\n      } else if (queue.length === 0) {\n        const uuid = (0,_uuids_js__WEBPACK_IMPORTED_MODULE_4__.generateUuid)();\n        await new Promise((resolve) => {\n          addedToQueueCallbacks.set(uuid, resolve);\n        });\n        addedToQueueCallbacks.delete(uuid);\n      } else {\n        break;\n      }\n    }\n    const nextFuncs = options.batchCalls ? queue.splice(0, queue.length) : [queue.shift()];\n    const start = performance.now();\n    const value = await _results_js__WEBPACK_IMPORTED_MODULE_3__.Result.fromPromise(func());\n    const end = performance.now();\n    waitUntil2 = Math.max(\n      waitUntil2,\n      start + (options.throttleMs ?? 0),\n      end + (options.gapMs ?? 0)\n    );\n    for (const nextFunc of nextFuncs) {\n      if (value.status === \"ok\") {\n        nextFunc[0](value.data);\n      } else {\n        nextFunc[1](value.error);\n      }\n    }\n  };\n  runAsynchronously(async () => {\n    while (true) {\n      await next();\n    }\n  });\n  return () => {\n    return new Promise((resolve, reject) => {\n      waitUntil2 = Math.max(\n        waitUntil2,\n        performance.now() + (options.debounceMs ?? 0)\n      );\n      queue.push([resolve, reject]);\n      addedToQueueCallbacks.forEach((cb) => cb());\n    });\n  };\n}\nfunction throttled(func, delayMs) {\n  let timeout2 = null;\n  let nextAvailable = null;\n  return async (...args) => {\n    while (nextAvailable !== null) {\n      await nextAvailable;\n    }\n    nextAvailable = new Promise((resolve) => {\n      timeout2 = setTimeout(() => {\n        nextAvailable = null;\n        resolve(func(...args));\n      }, delayMs);\n    });\n    return await nextAvailable;\n  };\n}\n\n//# sourceMappingURL=promises.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvcHJvbWlzZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUM7QUFDNkQ7QUFDMUQ7QUFDTjtBQUNJO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdUJBQXVCLElBQUk7QUFDN0QsaUNBQWlDLHdCQUF3QjtBQUN6RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2REFBaUI7QUFDdkIsTUFBTTtBQUNOO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQW1CLG1GQUFtRixHQUFHO0FBQ3ZIO0FBQ0E7QUFDQSxjQUFjLDJEQUFtQix3RUFBd0UsR0FBRztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFVLCtCQUErQixPQUFPLG9CQUFvQixhQUFvQjtBQUNwRztBQUNBLFVBQVU7QUFDVix1REFBdUQsS0FBc0MscURBQXFELENBQStCOztBQUVqTCxFQUFFLE1BQU07QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJEQUFtQjtBQUM5QyxzREFBc0QsNkRBQWlCO0FBQ3ZFLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUSx3REFBWTtBQUNwQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixHQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtDQUFNO0FBQ2xDLHdCQUF3QiwrQ0FBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtDQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHFCQUFxQix1REFBWTtBQUNqQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0NBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBaUJFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxwcm9taXNlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvcHJvbWlzZXMudHN4XG5pbXBvcnQgeyBLbm93bkVycm9yIH0gZnJvbSBcIi4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTdGFja0Fzc2VydGlvbkVycm9yLCBjYXB0dXJlRXJyb3IsIGNvbmNhdFN0YWNrdHJhY2VzLCBlcnJvclRvTmljZVN0cmluZyB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgRGVwZW5kZW5jaWVzTWFwIH0gZnJvbSBcIi4vbWFwcy5qc1wiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIi4vcmVzdWx0cy5qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVVdWlkIH0gZnJvbSBcIi4vdXVpZHMuanNcIjtcbmZ1bmN0aW9uIGNyZWF0ZVByb21pc2UoY2FsbGJhY2spIHtcbiAgbGV0IHN0YXR1cyA9IFwicGVuZGluZ1wiO1xuICBsZXQgdmFsdWVPclJlYXNvbiA9IHZvaWQgMDtcbiAgbGV0IHJlc29sdmUgPSBudWxsO1xuICBsZXQgcmVqZWN0ID0gbnVsbDtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSAodmFsdWUpID0+IHtcbiAgICAgIGlmIChzdGF0dXMgIT09IFwicGVuZGluZ1wiKSByZXR1cm47XG4gICAgICBzdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgdmFsdWVPclJlYXNvbiA9IHZhbHVlO1xuICAgICAgcmVzKHZhbHVlKTtcbiAgICB9O1xuICAgIHJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgIGlmIChzdGF0dXMgIT09IFwicGVuZGluZ1wiKSByZXR1cm47XG4gICAgICBzdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICB2YWx1ZU9yUmVhc29uID0gcmVhc29uO1xuICAgICAgcmVqKHJlYXNvbik7XG4gICAgfTtcbiAgfSk7XG4gIGNhbGxiYWNrKHJlc29sdmUsIHJlamVjdCk7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHByb21pc2UsIHtcbiAgICBzdGF0dXMsXG4gICAgLi4uc3RhdHVzID09PSBcImZ1bGZpbGxlZFwiID8geyB2YWx1ZTogdmFsdWVPclJlYXNvbiB9IDoge30sXG4gICAgLi4uc3RhdHVzID09PSBcInJlamVjdGVkXCIgPyB7IHJlYXNvbjogdmFsdWVPclJlYXNvbiB9IDoge31cbiAgfSk7XG59XG52YXIgcmVzb2x2ZWRDYWNoZSA9IG51bGw7XG5mdW5jdGlvbiByZXNvbHZlZCh2YWx1ZSkge1xuICByZXNvbHZlZENhY2hlID8/PSBuZXcgRGVwZW5kZW5jaWVzTWFwKCk7XG4gIGlmIChyZXNvbHZlZENhY2hlLmhhcyhbdmFsdWVdKSkge1xuICAgIHJldHVybiByZXNvbHZlZENhY2hlLmdldChbdmFsdWVdKTtcbiAgfVxuICBjb25zdCByZXMgPSBPYmplY3QuYXNzaWduKFByb21pc2UucmVzb2x2ZSh2YWx1ZSksIHtcbiAgICBzdGF0dXM6IFwiZnVsZmlsbGVkXCIsXG4gICAgdmFsdWVcbiAgfSk7XG4gIHJlc29sdmVkQ2FjaGUuc2V0KFt2YWx1ZV0sIHJlcyk7XG4gIHJldHVybiByZXM7XG59XG52YXIgcmVqZWN0ZWRDYWNoZSA9IG51bGw7XG5mdW5jdGlvbiByZWplY3RlZChyZWFzb24pIHtcbiAgcmVqZWN0ZWRDYWNoZSA/Pz0gbmV3IERlcGVuZGVuY2llc01hcCgpO1xuICBpZiAocmVqZWN0ZWRDYWNoZS5oYXMoW3JlYXNvbl0pKSB7XG4gICAgcmV0dXJuIHJlamVjdGVkQ2FjaGUuZ2V0KFtyZWFzb25dKTtcbiAgfVxuICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgaWdub3JlVW5oYW5kbGVkUmVqZWN0aW9uKHByb21pc2UpO1xuICBjb25zdCByZXMgPSBPYmplY3QuYXNzaWduKHByb21pc2UsIHtcbiAgICBzdGF0dXM6IFwicmVqZWN0ZWRcIixcbiAgICByZWFzb25cbiAgfSk7XG4gIHJlamVjdGVkQ2FjaGUuc2V0KFtyZWFzb25dLCByZXMpO1xuICByZXR1cm4gcmVzO1xufVxudmFyIG5ldmVyUmVzb2x2ZVByb21pc2UgPSBwZW5kaW5nKG5ldyBQcm9taXNlKCgpID0+IHtcbn0pKTtcbmZ1bmN0aW9uIG5ldmVyUmVzb2x2ZSgpIHtcbiAgcmV0dXJuIG5ldmVyUmVzb2x2ZVByb21pc2U7XG59XG5mdW5jdGlvbiBwZW5kaW5nKHByb21pc2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCByZXMgPSBwcm9taXNlLnRoZW4oXG4gICAgKHZhbHVlKSA9PiB7XG4gICAgICByZXMuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgIHJlcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgKGFjdHVhbFJlYXNvbikgPT4ge1xuICAgICAgcmVzLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgIHJlcy5yZWFzb24gPSBhY3R1YWxSZWFzb247XG4gICAgICB0aHJvdyBhY3R1YWxSZWFzb247XG4gICAgfVxuICApO1xuICByZXMuc3RhdHVzID0gXCJwZW5kaW5nXCI7XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBpZ25vcmVVbmhhbmRsZWRSZWplY3Rpb24ocHJvbWlzZSkge1xuICBwcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgfSk7XG59XG5mdW5jdGlvbiBjb25jYXRTdGFja3RyYWNlc0lmUmVqZWN0ZWQocHJvbWlzZSkge1xuICBjb25zdCBjdXJyZW50RXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgcHJvbWlzZS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY29uY2F0U3RhY2t0cmFjZXMoZXJyb3IsIGN1cnJlbnRFcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICB9XG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gd2FpdChtcykge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShtcykgfHwgbXMgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoYHdhaXQoKSByZXF1aXJlcyBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdC4gKGZvdW5kOiAke21zfW1zKWApO1xuICB9XG4gIGlmIChtcyA+PSAyICoqIDMxKSB7XG4gICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJUaGUgbWF4aW11bSB0aW1lb3V0IGZvciB3YWl0KCkgaXMgMjE0NzQ4MzY0N21zICgyKiozMSAtIDEpLiAoZm91bmQ6ICR7bXN9bXMpXCIpO1xuICB9XG4gIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuYXN5bmMgZnVuY3Rpb24gd2FpdFVudGlsKGRhdGUpIHtcbiAgcmV0dXJuIGF3YWl0IHdhaXQoZGF0ZS5nZXRUaW1lKCkgLSBEYXRlLm5vdygpKTtcbn1cbmZ1bmN0aW9uIHJ1bkFzeW5jaHJvbm91c2x5V2l0aEFsZXJ0KC4uLmFyZ3MpIHtcbiAgcmV0dXJuIHJ1bkFzeW5jaHJvbm91c2x5KFxuICAgIGFyZ3NbMF0sXG4gICAge1xuICAgICAgLi4uYXJnc1sxXSxcbiAgICAgIG9uRXJyb3I6IChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoS25vd25FcnJvci5pc0tub3duRXJyb3IoZXJyb3IpICYmIHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WPy5pbmNsdWRlcyhcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBhbGVydChlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChgQW4gdW5oYW5kbGVkIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgJHtwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiID8gYGNoZWNrIHRoZSBicm93c2VyIGNvbnNvbGUgZm9yIHRoZSBmdWxsIGVycm9yLmAgOiBcInJlcG9ydCB0aGlzIHRvIHRoZSBkZXZlbG9wZXIuXCJ9XG5cbiR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXJnc1sxXT8ub25FcnJvcj8uKGVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC4uLmFyZ3Muc2xpY2UoMilcbiAgKTtcbn1cbmZ1bmN0aW9uIHJ1bkFzeW5jaHJvbm91c2x5KHByb21pc2VPckZ1bmMsIG9wdGlvbnMgPSB7fSkge1xuICBpZiAodHlwZW9mIHByb21pc2VPckZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHByb21pc2VPckZ1bmMgPSBwcm9taXNlT3JGdW5jKCk7XG4gIH1cbiAgaWYgKHByb21pc2VPckZ1bmMpIHtcbiAgICBjb25jYXRTdGFja3RyYWNlc0lmUmVqZWN0ZWQocHJvbWlzZU9yRnVuYyk7XG4gICAgcHJvbWlzZU9yRnVuYy5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIG9wdGlvbnMub25FcnJvcj8uKGVycm9yKTtcbiAgICAgIGNvbnN0IG5ld0Vycm9yID0gbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXG4gICAgICAgIFwiVW5jYXVnaHQgZXJyb3IgaW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uOiBcIiArIGVycm9yVG9OaWNlU3RyaW5nKGVycm9yKSxcbiAgICAgICAgeyBjYXVzZTogZXJyb3IgfVxuICAgICAgKTtcbiAgICAgIGlmICghb3B0aW9ucy5ub0Vycm9yTG9nZ2luZykge1xuICAgICAgICBjYXB0dXJlRXJyb3IoXCJydW5Bc3luY2hyb25vdXNseVwiLCBuZXdFcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbnZhciBUaW1lb3V0RXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobXMpIHtcbiAgICBzdXBlcihgVGltZW91dCBhZnRlciAke21zfW1zYCk7XG4gICAgdGhpcy5tcyA9IG1zO1xuICAgIHRoaXMubmFtZSA9IFwiVGltZW91dEVycm9yXCI7XG4gIH1cbn07XG5hc3luYyBmdW5jdGlvbiB0aW1lb3V0KHByb21pc2VPckZ1bmMsIG1zKSB7XG4gIGNvbnN0IHByb21pc2UgPSB0eXBlb2YgcHJvbWlzZU9yRnVuYyA9PT0gXCJmdW5jdGlvblwiID8gcHJvbWlzZU9yRnVuYygpIDogcHJvbWlzZU9yRnVuYztcbiAgcmV0dXJuIGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgcHJvbWlzZS50aGVuKCh2YWx1ZSkgPT4gUmVzdWx0Lm9rKHZhbHVlKSksXG4gICAgd2FpdChtcykudGhlbigoKSA9PiBSZXN1bHQuZXJyb3IobmV3IFRpbWVvdXRFcnJvcihtcykpKVxuICBdKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHRpbWVvdXRUaHJvdyhwcm9taXNlLCBtcykge1xuICByZXR1cm4gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGltZW91dChwcm9taXNlLCBtcykpO1xufVxuZnVuY3Rpb24gcmF0ZUxpbWl0ZWQoZnVuYywgb3B0aW9ucykge1xuICBsZXQgd2FpdFVudGlsMiA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICBsZXQgcXVldWUgPSBbXTtcbiAgbGV0IGFkZGVkVG9RdWV1ZUNhbGxiYWNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IG5leHQgPSBhc3luYyAoKSA9PiB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh3YWl0VW50aWwyID4gcGVyZm9ybWFuY2Uubm93KCkpIHtcbiAgICAgICAgYXdhaXQgd2FpdChNYXRoLm1heCgxLCB3YWl0VW50aWwyIC0gcGVyZm9ybWFuY2Uubm93KCkgKyAxKSk7XG4gICAgICB9IGVsc2UgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCB1dWlkID0gZ2VuZXJhdGVVdWlkKCk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgYWRkZWRUb1F1ZXVlQ2FsbGJhY2tzLnNldCh1dWlkLCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFkZGVkVG9RdWV1ZUNhbGxiYWNrcy5kZWxldGUodXVpZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV4dEZ1bmNzID0gb3B0aW9ucy5iYXRjaENhbGxzID8gcXVldWUuc3BsaWNlKDAsIHF1ZXVlLmxlbmd0aCkgOiBbcXVldWUuc2hpZnQoKV07XG4gICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IFJlc3VsdC5mcm9tUHJvbWlzZShmdW5jKCkpO1xuICAgIGNvbnN0IGVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHdhaXRVbnRpbDIgPSBNYXRoLm1heChcbiAgICAgIHdhaXRVbnRpbDIsXG4gICAgICBzdGFydCArIChvcHRpb25zLnRocm90dGxlTXMgPz8gMCksXG4gICAgICBlbmQgKyAob3B0aW9ucy5nYXBNcyA/PyAwKVxuICAgICk7XG4gICAgZm9yIChjb25zdCBuZXh0RnVuYyBvZiBuZXh0RnVuY3MpIHtcbiAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgICBuZXh0RnVuY1swXSh2YWx1ZS5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRGdW5jWzFdKHZhbHVlLmVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJ1bkFzeW5jaHJvbm91c2x5KGFzeW5jICgpID0+IHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgYXdhaXQgbmV4dCgpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdhaXRVbnRpbDIgPSBNYXRoLm1heChcbiAgICAgICAgd2FpdFVudGlsMixcbiAgICAgICAgcGVyZm9ybWFuY2Uubm93KCkgKyAob3B0aW9ucy5kZWJvdW5jZU1zID8/IDApXG4gICAgICApO1xuICAgICAgcXVldWUucHVzaChbcmVzb2x2ZSwgcmVqZWN0XSk7XG4gICAgICBhZGRlZFRvUXVldWVDYWxsYmFja3MuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gdGhyb3R0bGVkKGZ1bmMsIGRlbGF5TXMpIHtcbiAgbGV0IHRpbWVvdXQyID0gbnVsbDtcbiAgbGV0IG5leHRBdmFpbGFibGUgPSBudWxsO1xuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICB3aGlsZSAobmV4dEF2YWlsYWJsZSAhPT0gbnVsbCkge1xuICAgICAgYXdhaXQgbmV4dEF2YWlsYWJsZTtcbiAgICB9XG4gICAgbmV4dEF2YWlsYWJsZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aW1lb3V0MiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuZXh0QXZhaWxhYmxlID0gbnVsbDtcbiAgICAgICAgcmVzb2x2ZShmdW5jKC4uLmFyZ3MpKTtcbiAgICAgIH0sIGRlbGF5TXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCBuZXh0QXZhaWxhYmxlO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgY29uY2F0U3RhY2t0cmFjZXNJZlJlamVjdGVkLFxuICBjcmVhdGVQcm9taXNlLFxuICBpZ25vcmVVbmhhbmRsZWRSZWplY3Rpb24sXG4gIG5ldmVyUmVzb2x2ZSxcbiAgcGVuZGluZyxcbiAgcmF0ZUxpbWl0ZWQsXG4gIHJlamVjdGVkLFxuICByZXNvbHZlZCxcbiAgcnVuQXN5bmNocm9ub3VzbHksXG4gIHJ1bkFzeW5jaHJvbm91c2x5V2l0aEFsZXJ0LFxuICB0aHJvdHRsZWQsXG4gIHRpbWVvdXQsXG4gIHRpbWVvdXRUaHJvdyxcbiAgd2FpdCxcbiAgd2FpdFVudGlsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/react.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/react.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoSuspenseBoundaryError: () => (/* binding */ NoSuspenseBoundaryError),\n/* harmony export */   componentWrapper: () => (/* binding */ componentWrapper),\n/* harmony export */   forwardRefIfNeeded: () => (/* binding */ forwardRefIfNeeded),\n/* harmony export */   getNodeText: () => (/* binding */ getNodeText),\n/* harmony export */   mapRef: () => (/* binding */ mapRef),\n/* harmony export */   mapRefState: () => (/* binding */ mapRefState),\n/* harmony export */   suspend: () => (/* binding */ suspend),\n/* harmony export */   suspendIfSsr: () => (/* binding */ suspendIfSsr),\n/* harmony export */   useRefState: () => (/* binding */ useRefState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _env_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js\");\n/* harmony import */ var _promises_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./promises.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _strings_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n// src/utils/react.tsx\n\n\n\n\nfunction componentWrapper(displayName, render) {\n  const Component = forwardRefIfNeeded(render);\n  Component.displayName = displayName;\n  return Component;\n}\nfunction forwardRefIfNeeded(render) {\n  const version = (react__WEBPACK_IMPORTED_MODULE_0___default().version);\n  const major = parseInt(version.split(\".\")[0]);\n  if (major < 19) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default().forwardRef(render);\n  } else {\n    return (props) => render(props, props.ref);\n  }\n}\nfunction getNodeText(node) {\n  if ([\"number\", \"string\"].includes(typeof node)) {\n    return `${node}`;\n  }\n  if (!node) {\n    return \"\";\n  }\n  if (Array.isArray(node)) {\n    return node.map(getNodeText).join(\"\");\n  }\n  if (typeof node === \"object\" && \"props\" in node) {\n    return getNodeText(node.props.children);\n  }\n  throw new Error(`Unknown node type: ${typeof node}`);\n}\nfunction suspend() {\n  react__WEBPACK_IMPORTED_MODULE_0___default().use((0,_promises_js__WEBPACK_IMPORTED_MODULE_2__.neverResolve)());\n  throw new Error(\"Somehow a Promise that never resolves was resolved?\");\n}\nfunction mapRef(ref, mapper) {\n  let last = null;\n  return {\n    get current() {\n      const input = ref.current;\n      if (last === null || input !== last[0]) {\n        last = [input, mapper(input)];\n      }\n      return last[1];\n    }\n  };\n}\nfunction useRefState(initialValue) {\n  const [, setState] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(initialValue);\n  const ref = react__WEBPACK_IMPORTED_MODULE_0___default().useRef(initialValue);\n  const setValue = react__WEBPACK_IMPORTED_MODULE_0___default().useCallback((updater) => {\n    const value = typeof updater === \"function\" ? updater(ref.current) : updater;\n    console.log(\"setValue\", ref.current);\n    ref.current = value;\n    console.log(\"setValue\", ref.current);\n    setState(value);\n  }, []);\n  const res = react__WEBPACK_IMPORTED_MODULE_0___default().useMemo(() => ({\n    get current() {\n      return ref.current;\n    },\n    set: setValue\n  }), [setValue]);\n  return res;\n}\nfunction mapRefState(refState, mapper, reverseMapper) {\n  let last = null;\n  return {\n    get current() {\n      const input = refState.current;\n      if (last === null || input !== last[0]) {\n        last = [input, mapper(input)];\n      }\n      return last[1];\n    },\n    set(updater) {\n      const value = typeof updater === \"function\" ? updater(this.current) : updater;\n      refState.set(reverseMapper(refState.current, value));\n    }\n  };\n}\nvar NoSuspenseBoundaryError = class extends Error {\n  constructor(options) {\n    super((0,_strings_js__WEBPACK_IMPORTED_MODULE_3__.deindent)`\n      ${options.caller ?? \"This code path\"} attempted to display a loading indicator, but didn't find a Suspense boundary above it. Please read the error message below carefully.\n      \n      The fix depends on which of the 3 scenarios caused it:\n      \n      1. You are missing a loading.tsx file in your app directory. Fix it by adding a loading.tsx file in your app directory.\n\n      2. The component is rendered in the root (outermost) layout.tsx or template.tsx file. Next.js does not wrap those files in a Suspense boundary, even if there is a loading.tsx file in the same folder. To fix it, wrap your layout inside a route group like this:\n\n        - app\n        - - layout.tsx  // contains <html> and <body>, alongside providers and other components that don't need ${options.caller ?? \"this code path\"}\n        - - loading.tsx  // required for suspense\n        - - (main)\n        - - - layout.tsx  // contains the main layout of your app, like a sidebar or a header, and can use ${options.caller ?? \"this code path\"}\n        - - - route.tsx  // your actual main page\n        - - - the rest of your app\n\n        For more information on this approach, see Next's documentation on route groups: https://nextjs.org/docs/app/building-your-application/routing/route-groups\n      \n      3. You caught this error with try-catch or a custom error boundary. Fix this by rethrowing the error or not catching it in the first place.\n\n      See: https://nextjs.org/docs/messages/missing-suspense-with-csr-bailout\n\n      More information on SSR and Suspense boundaries: https://react.dev/reference/react/Suspense#providing-a-fallback-for-server-errors-and-client-only-content\n    `);\n    this.name = \"NoSuspenseBoundaryError\";\n    this.reason = options.caller ?? \"suspendIfSsr()\";\n    this.digest = \"BAILOUT_TO_CLIENT_SIDE_RENDERING\";\n  }\n};\nfunction suspendIfSsr(caller) {\n  if (!(0,_env_js__WEBPACK_IMPORTED_MODULE_1__.isBrowserLike)()) {\n    throw new NoSuspenseBoundaryError({ caller });\n  }\n}\n\n//# sourceMappingURL=react.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvcmVhY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUMwQjtBQUNlO0FBQ0k7QUFDTDtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0RBQWE7QUFDL0I7QUFDQTtBQUNBLFdBQVcsdURBQWdCO0FBQzNCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxLQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFlBQVk7QUFDcEQ7QUFDQTtBQUNBLEVBQUUsZ0RBQVMsQ0FBQywwREFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscURBQWM7QUFDckMsY0FBYyxtREFBWTtBQUMxQixtQkFBbUIsd0RBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsY0FBYyxvREFBYTtBQUMzQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscURBQVE7QUFDbEIsUUFBUSxvQ0FBb0M7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrSEFBa0g7QUFDbEg7QUFDQTtBQUNBLDZHQUE2RztBQUM3RztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxzREFBYTtBQUNwQix3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBV0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcdXRpbHNcXHJlYWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9yZWFjdC50c3hcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGlzQnJvd3Nlckxpa2UgfSBmcm9tIFwiLi9lbnYuanNcIjtcbmltcG9ydCB7IG5ldmVyUmVzb2x2ZSB9IGZyb20gXCIuL3Byb21pc2VzLmpzXCI7XG5pbXBvcnQgeyBkZWluZGVudCB9IGZyb20gXCIuL3N0cmluZ3MuanNcIjtcbmZ1bmN0aW9uIGNvbXBvbmVudFdyYXBwZXIoZGlzcGxheU5hbWUsIHJlbmRlcikge1xuICBjb25zdCBDb21wb25lbnQgPSBmb3J3YXJkUmVmSWZOZWVkZWQocmVuZGVyKTtcbiAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gIHJldHVybiBDb21wb25lbnQ7XG59XG5mdW5jdGlvbiBmb3J3YXJkUmVmSWZOZWVkZWQocmVuZGVyKSB7XG4gIGNvbnN0IHZlcnNpb24gPSBSZWFjdC52ZXJzaW9uO1xuICBjb25zdCBtYWpvciA9IHBhcnNlSW50KHZlcnNpb24uc3BsaXQoXCIuXCIpWzBdKTtcbiAgaWYgKG1ham9yIDwgMTkpIHtcbiAgICByZXR1cm4gUmVhY3QuZm9yd2FyZFJlZihyZW5kZXIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAocHJvcHMpID0+IHJlbmRlcihwcm9wcywgcHJvcHMucmVmKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Tm9kZVRleHQobm9kZSkge1xuICBpZiAoW1wibnVtYmVyXCIsIFwic3RyaW5nXCJdLmluY2x1ZGVzKHR5cGVvZiBub2RlKSkge1xuICAgIHJldHVybiBgJHtub2RlfWA7XG4gIH1cbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS5tYXAoZ2V0Tm9kZVRleHQpLmpvaW4oXCJcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBub2RlID09PSBcIm9iamVjdFwiICYmIFwicHJvcHNcIiBpbiBub2RlKSB7XG4gICAgcmV0dXJuIGdldE5vZGVUZXh0KG5vZGUucHJvcHMuY2hpbGRyZW4pO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBub2RlIHR5cGU6ICR7dHlwZW9mIG5vZGV9YCk7XG59XG5mdW5jdGlvbiBzdXNwZW5kKCkge1xuICBSZWFjdC51c2UobmV2ZXJSZXNvbHZlKCkpO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJTb21laG93IGEgUHJvbWlzZSB0aGF0IG5ldmVyIHJlc29sdmVzIHdhcyByZXNvbHZlZD9cIik7XG59XG5mdW5jdGlvbiBtYXBSZWYocmVmLCBtYXBwZXIpIHtcbiAgbGV0IGxhc3QgPSBudWxsO1xuICByZXR1cm4ge1xuICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgY29uc3QgaW5wdXQgPSByZWYuY3VycmVudDtcbiAgICAgIGlmIChsYXN0ID09PSBudWxsIHx8IGlucHV0ICE9PSBsYXN0WzBdKSB7XG4gICAgICAgIGxhc3QgPSBbaW5wdXQsIG1hcHBlcihpbnB1dCldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxhc3RbMV07XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gdXNlUmVmU3RhdGUoaW5pdGlhbFZhbHVlKSB7XG4gIGNvbnN0IFssIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBzZXRWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCh1cGRhdGVyKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdXBkYXRlciA9PT0gXCJmdW5jdGlvblwiID8gdXBkYXRlcihyZWYuY3VycmVudCkgOiB1cGRhdGVyO1xuICAgIGNvbnNvbGUubG9nKFwic2V0VmFsdWVcIiwgcmVmLmN1cnJlbnQpO1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgY29uc29sZS5sb2coXCJzZXRWYWx1ZVwiLCByZWYuY3VycmVudCk7XG4gICAgc2V0U3RhdGUodmFsdWUpO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgIHJldHVybiByZWYuY3VycmVudDtcbiAgICB9LFxuICAgIHNldDogc2V0VmFsdWVcbiAgfSksIFtzZXRWYWx1ZV0pO1xuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbWFwUmVmU3RhdGUocmVmU3RhdGUsIG1hcHBlciwgcmV2ZXJzZU1hcHBlcikge1xuICBsZXQgbGFzdCA9IG51bGw7XG4gIHJldHVybiB7XG4gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICBjb25zdCBpbnB1dCA9IHJlZlN0YXRlLmN1cnJlbnQ7XG4gICAgICBpZiAobGFzdCA9PT0gbnVsbCB8fCBpbnB1dCAhPT0gbGFzdFswXSkge1xuICAgICAgICBsYXN0ID0gW2lucHV0LCBtYXBwZXIoaW5wdXQpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXN0WzFdO1xuICAgIH0sXG4gICAgc2V0KHVwZGF0ZXIpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIHVwZGF0ZXIgPT09IFwiZnVuY3Rpb25cIiA/IHVwZGF0ZXIodGhpcy5jdXJyZW50KSA6IHVwZGF0ZXI7XG4gICAgICByZWZTdGF0ZS5zZXQocmV2ZXJzZU1hcHBlcihyZWZTdGF0ZS5jdXJyZW50LCB2YWx1ZSkpO1xuICAgIH1cbiAgfTtcbn1cbnZhciBOb1N1c3BlbnNlQm91bmRhcnlFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoZGVpbmRlbnRgXG4gICAgICAke29wdGlvbnMuY2FsbGVyID8/IFwiVGhpcyBjb2RlIHBhdGhcIn0gYXR0ZW1wdGVkIHRvIGRpc3BsYXkgYSBsb2FkaW5nIGluZGljYXRvciwgYnV0IGRpZG4ndCBmaW5kIGEgU3VzcGVuc2UgYm91bmRhcnkgYWJvdmUgaXQuIFBsZWFzZSByZWFkIHRoZSBlcnJvciBtZXNzYWdlIGJlbG93IGNhcmVmdWxseS5cbiAgICAgIFxuICAgICAgVGhlIGZpeCBkZXBlbmRzIG9uIHdoaWNoIG9mIHRoZSAzIHNjZW5hcmlvcyBjYXVzZWQgaXQ6XG4gICAgICBcbiAgICAgIDEuIFlvdSBhcmUgbWlzc2luZyBhIGxvYWRpbmcudHN4IGZpbGUgaW4geW91ciBhcHAgZGlyZWN0b3J5LiBGaXggaXQgYnkgYWRkaW5nIGEgbG9hZGluZy50c3ggZmlsZSBpbiB5b3VyIGFwcCBkaXJlY3RvcnkuXG5cbiAgICAgIDIuIFRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQgaW4gdGhlIHJvb3QgKG91dGVybW9zdCkgbGF5b3V0LnRzeCBvciB0ZW1wbGF0ZS50c3ggZmlsZS4gTmV4dC5qcyBkb2VzIG5vdCB3cmFwIHRob3NlIGZpbGVzIGluIGEgU3VzcGVuc2UgYm91bmRhcnksIGV2ZW4gaWYgdGhlcmUgaXMgYSBsb2FkaW5nLnRzeCBmaWxlIGluIHRoZSBzYW1lIGZvbGRlci4gVG8gZml4IGl0LCB3cmFwIHlvdXIgbGF5b3V0IGluc2lkZSBhIHJvdXRlIGdyb3VwIGxpa2UgdGhpczpcblxuICAgICAgICAtIGFwcFxuICAgICAgICAtIC0gbGF5b3V0LnRzeCAgLy8gY29udGFpbnMgPGh0bWw+IGFuZCA8Ym9keT4sIGFsb25nc2lkZSBwcm92aWRlcnMgYW5kIG90aGVyIGNvbXBvbmVudHMgdGhhdCBkb24ndCBuZWVkICR7b3B0aW9ucy5jYWxsZXIgPz8gXCJ0aGlzIGNvZGUgcGF0aFwifVxuICAgICAgICAtIC0gbG9hZGluZy50c3ggIC8vIHJlcXVpcmVkIGZvciBzdXNwZW5zZVxuICAgICAgICAtIC0gKG1haW4pXG4gICAgICAgIC0gLSAtIGxheW91dC50c3ggIC8vIGNvbnRhaW5zIHRoZSBtYWluIGxheW91dCBvZiB5b3VyIGFwcCwgbGlrZSBhIHNpZGViYXIgb3IgYSBoZWFkZXIsIGFuZCBjYW4gdXNlICR7b3B0aW9ucy5jYWxsZXIgPz8gXCJ0aGlzIGNvZGUgcGF0aFwifVxuICAgICAgICAtIC0gLSByb3V0ZS50c3ggIC8vIHlvdXIgYWN0dWFsIG1haW4gcGFnZVxuICAgICAgICAtIC0gLSB0aGUgcmVzdCBvZiB5b3VyIGFwcFxuXG4gICAgICAgIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoaXMgYXBwcm9hY2gsIHNlZSBOZXh0J3MgZG9jdW1lbnRhdGlvbiBvbiByb3V0ZSBncm91cHM6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JvdXRpbmcvcm91dGUtZ3JvdXBzXG4gICAgICBcbiAgICAgIDMuIFlvdSBjYXVnaHQgdGhpcyBlcnJvciB3aXRoIHRyeS1jYXRjaCBvciBhIGN1c3RvbSBlcnJvciBib3VuZGFyeS4gRml4IHRoaXMgYnkgcmV0aHJvd2luZyB0aGUgZXJyb3Igb3Igbm90IGNhdGNoaW5nIGl0IGluIHRoZSBmaXJzdCBwbGFjZS5cblxuICAgICAgU2VlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9taXNzaW5nLXN1c3BlbnNlLXdpdGgtY3NyLWJhaWxvdXRcblxuICAgICAgTW9yZSBpbmZvcm1hdGlvbiBvbiBTU1IgYW5kIFN1c3BlbnNlIGJvdW5kYXJpZXM6IGh0dHBzOi8vcmVhY3QuZGV2L3JlZmVyZW5jZS9yZWFjdC9TdXNwZW5zZSNwcm92aWRpbmctYS1mYWxsYmFjay1mb3Itc2VydmVyLWVycm9ycy1hbmQtY2xpZW50LW9ubHktY29udGVudFxuICAgIGApO1xuICAgIHRoaXMubmFtZSA9IFwiTm9TdXNwZW5zZUJvdW5kYXJ5RXJyb3JcIjtcbiAgICB0aGlzLnJlYXNvbiA9IG9wdGlvbnMuY2FsbGVyID8/IFwic3VzcGVuZElmU3NyKClcIjtcbiAgICB0aGlzLmRpZ2VzdCA9IFwiQkFJTE9VVF9UT19DTElFTlRfU0lERV9SRU5ERVJJTkdcIjtcbiAgfVxufTtcbmZ1bmN0aW9uIHN1c3BlbmRJZlNzcihjYWxsZXIpIHtcbiAgaWYgKCFpc0Jyb3dzZXJMaWtlKCkpIHtcbiAgICB0aHJvdyBuZXcgTm9TdXNwZW5zZUJvdW5kYXJ5RXJyb3IoeyBjYWxsZXIgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIE5vU3VzcGVuc2VCb3VuZGFyeUVycm9yLFxuICBjb21wb25lbnRXcmFwcGVyLFxuICBmb3J3YXJkUmVmSWZOZWVkZWQsXG4gIGdldE5vZGVUZXh0LFxuICBtYXBSZWYsXG4gIG1hcFJlZlN0YXRlLFxuICBzdXNwZW5kLFxuICBzdXNwZW5kSWZTc3IsXG4gIHVzZVJlZlN0YXRlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/react.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncResult: () => (/* binding */ AsyncResult),\n/* harmony export */   Result: () => (/* binding */ Result)\n/* harmony export */ });\n/* harmony import */ var _promises_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./promises.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n// src/utils/results.tsx\n\n\nvar Result = {\n  fromThrowing,\n  fromThrowingAsync,\n  fromPromise: promiseToResult,\n  ok(data) {\n    return {\n      status: \"ok\",\n      data\n    };\n  },\n  error(error) {\n    return {\n      status: \"error\",\n      error\n    };\n  },\n  map: mapResult,\n  or: (result, fallback) => {\n    return result.status === \"ok\" ? result.data : fallback;\n  },\n  orThrow: (result) => {\n    if (result.status === \"error\") {\n      throw result.error;\n    }\n    return result.data;\n  },\n  orThrowAsync: async (result) => {\n    return Result.orThrow(await result);\n  },\n  retry\n};\nvar AsyncResult = {\n  fromThrowing,\n  fromPromise: promiseToResult,\n  ok: Result.ok,\n  error: Result.error,\n  pending,\n  map: mapResult,\n  or: (result, fallback) => {\n    if (result.status === \"pending\") {\n      return fallback;\n    }\n    return Result.or(result, fallback);\n  },\n  orThrow: (result) => {\n    if (result.status === \"pending\") {\n      throw new Error(\"Result still pending\");\n    }\n    return Result.orThrow(result);\n  },\n  retry\n};\nfunction pending(progress) {\n  return {\n    status: \"pending\",\n    progress\n  };\n}\nasync function promiseToResult(promise) {\n  try {\n    const value = await promise;\n    return Result.ok(value);\n  } catch (error) {\n    return Result.error(error);\n  }\n}\nfunction fromThrowing(fn) {\n  try {\n    return Result.ok(fn());\n  } catch (error) {\n    return Result.error(error);\n  }\n}\nasync function fromThrowingAsync(fn) {\n  try {\n    return Result.ok(await fn());\n  } catch (error) {\n    return Result.error(error);\n  }\n}\nfunction mapResult(result, fn) {\n  if (result.status === \"error\") return {\n    status: \"error\",\n    error: result.error\n  };\n  if (result.status === \"pending\") return {\n    status: \"pending\",\n    ...\"progress\" in result ? { progress: result.progress } : {}\n  };\n  return Result.ok(fn(result.data));\n}\nvar RetryError = class extends AggregateError {\n  constructor(errors) {\n    const strings = errors.map((e) => (0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.nicify)(e));\n    const isAllSame = strings.length > 1 && strings.every((s) => s === strings[0]);\n    super(\n      errors,\n      (0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.deindent)`\n      Error after ${errors.length} attempts.\n      \n      ${isAllSame ? (0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.deindent)`\n        Attempts 1-${errors.length}:\n          ${strings[0]}\n      ` : strings.map((s, i) => (0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.deindent)`\n          Attempt ${i + 1}:\n            ${s}\n        `).join(\"\\n\\n\")}\n      `,\n      { cause: errors[errors.length - 1] }\n    );\n    this.errors = errors;\n    this.name = \"RetryError\";\n  }\n  get attempts() {\n    return this.errors.length;\n  }\n};\nRetryError.prototype.name = \"RetryError\";\nasync function retry(fn, totalAttempts, { exponentialDelayBase = 1e3 } = {}) {\n  const errors = [];\n  for (let i = 0; i < totalAttempts; i++) {\n    const res = await fn(i);\n    if (res.status === \"ok\") {\n      return Object.assign(Result.ok(res.data), { attempts: i + 1 });\n    } else {\n      errors.push(res.error);\n      if (i < totalAttempts - 1) {\n        await (0,_promises_js__WEBPACK_IMPORTED_MODULE_0__.wait)((Math.random() + 0.5) * exponentialDelayBase * 2 ** i);\n      }\n    }\n  }\n  return Object.assign(Result.error(new RetryError(errors)), { attempts: totalAttempts });\n}\n\n//# sourceMappingURL=results.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvcmVzdWx0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDcUM7QUFDVztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0QkFBNEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtREFBTTtBQUM1QztBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFRO0FBQ2Qsb0JBQW9CLGVBQWU7QUFDbkM7QUFDQSxRQUFRLFlBQVkscURBQVE7QUFDNUIscUJBQXFCLGNBQWM7QUFDbkMsWUFBWTtBQUNaLGdDQUFnQyxxREFBUTtBQUN4QyxvQkFBb0IsTUFBTTtBQUMxQixjQUFjO0FBQ2Q7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsNkJBQTZCLElBQUk7QUFDM0U7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQSxrREFBa0QsaUJBQWlCO0FBQ25FLE1BQU07QUFDTjtBQUNBO0FBQ0EsY0FBYyxrREFBSTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSwrREFBK0QseUJBQXlCO0FBQ3hGO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFjay1zaGFyZWRcXGRpc3RcXGVzbVxcdXRpbHNcXHJlc3VsdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL3Jlc3VsdHMudHN4XG5pbXBvcnQgeyB3YWl0IH0gZnJvbSBcIi4vcHJvbWlzZXMuanNcIjtcbmltcG9ydCB7IGRlaW5kZW50LCBuaWNpZnkgfSBmcm9tIFwiLi9zdHJpbmdzLmpzXCI7XG52YXIgUmVzdWx0ID0ge1xuICBmcm9tVGhyb3dpbmcsXG4gIGZyb21UaHJvd2luZ0FzeW5jLFxuICBmcm9tUHJvbWlzZTogcHJvbWlzZVRvUmVzdWx0LFxuICBvayhkYXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogXCJva1wiLFxuICAgICAgZGF0YVxuICAgIH07XG4gIH0sXG4gIGVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgICAgZXJyb3JcbiAgICB9O1xuICB9LFxuICBtYXA6IG1hcFJlc3VsdCxcbiAgb3I6IChyZXN1bHQsIGZhbGxiYWNrKSA9PiB7XG4gICAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09IFwib2tcIiA/IHJlc3VsdC5kYXRhIDogZmFsbGJhY2s7XG4gIH0sXG4gIG9yVGhyb3c6IChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJlcnJvclwiKSB7XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgfSxcbiAgb3JUaHJvd0FzeW5jOiBhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgcmV0dXJuIFJlc3VsdC5vclRocm93KGF3YWl0IHJlc3VsdCk7XG4gIH0sXG4gIHJldHJ5XG59O1xudmFyIEFzeW5jUmVzdWx0ID0ge1xuICBmcm9tVGhyb3dpbmcsXG4gIGZyb21Qcm9taXNlOiBwcm9taXNlVG9SZXN1bHQsXG4gIG9rOiBSZXN1bHQub2ssXG4gIGVycm9yOiBSZXN1bHQuZXJyb3IsXG4gIHBlbmRpbmcsXG4gIG1hcDogbWFwUmVzdWx0LFxuICBvcjogKHJlc3VsdCwgZmFsbGJhY2spID0+IHtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc3VsdC5vcihyZXN1bHQsIGZhbGxiYWNrKTtcbiAgfSxcbiAgb3JUaHJvdzogKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzdWx0IHN0aWxsIHBlbmRpbmdcIik7XG4gICAgfVxuICAgIHJldHVybiBSZXN1bHQub3JUaHJvdyhyZXN1bHQpO1xuICB9LFxuICByZXRyeVxufTtcbmZ1bmN0aW9uIHBlbmRpbmcocHJvZ3Jlc3MpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgIHByb2dyZXNzXG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBwcm9taXNlVG9SZXN1bHQocHJvbWlzZSkge1xuICB0cnkge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcHJvbWlzZTtcbiAgICByZXR1cm4gUmVzdWx0Lm9rKHZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gUmVzdWx0LmVycm9yKGVycm9yKTtcbiAgfVxufVxuZnVuY3Rpb24gZnJvbVRocm93aW5nKGZuKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIFJlc3VsdC5vayhmbigpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gUmVzdWx0LmVycm9yKGVycm9yKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gZnJvbVRocm93aW5nQXN5bmMoZm4pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gUmVzdWx0Lm9rKGF3YWl0IGZuKCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBSZXN1bHQuZXJyb3IoZXJyb3IpO1xuICB9XG59XG5mdW5jdGlvbiBtYXBSZXN1bHQocmVzdWx0LCBmbikge1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJlcnJvclwiKSByZXR1cm4ge1xuICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgIGVycm9yOiByZXN1bHQuZXJyb3JcbiAgfTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwicGVuZGluZ1wiKSByZXR1cm4ge1xuICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXG4gICAgLi4uXCJwcm9ncmVzc1wiIGluIHJlc3VsdCA/IHsgcHJvZ3Jlc3M6IHJlc3VsdC5wcm9ncmVzcyB9IDoge31cbiAgfTtcbiAgcmV0dXJuIFJlc3VsdC5vayhmbihyZXN1bHQuZGF0YSkpO1xufVxudmFyIFJldHJ5RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFnZ3JlZ2F0ZUVycm9yIHtcbiAgY29uc3RydWN0b3IoZXJyb3JzKSB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IGVycm9ycy5tYXAoKGUpID0+IG5pY2lmeShlKSk7XG4gICAgY29uc3QgaXNBbGxTYW1lID0gc3RyaW5ncy5sZW5ndGggPiAxICYmIHN0cmluZ3MuZXZlcnkoKHMpID0+IHMgPT09IHN0cmluZ3NbMF0pO1xuICAgIHN1cGVyKFxuICAgICAgZXJyb3JzLFxuICAgICAgZGVpbmRlbnRgXG4gICAgICBFcnJvciBhZnRlciAke2Vycm9ycy5sZW5ndGh9IGF0dGVtcHRzLlxuICAgICAgXG4gICAgICAke2lzQWxsU2FtZSA/IGRlaW5kZW50YFxuICAgICAgICBBdHRlbXB0cyAxLSR7ZXJyb3JzLmxlbmd0aH06XG4gICAgICAgICAgJHtzdHJpbmdzWzBdfVxuICAgICAgYCA6IHN0cmluZ3MubWFwKChzLCBpKSA9PiBkZWluZGVudGBcbiAgICAgICAgICBBdHRlbXB0ICR7aSArIDF9OlxuICAgICAgICAgICAgJHtzfVxuICAgICAgICBgKS5qb2luKFwiXFxuXFxuXCIpfVxuICAgICAgYCxcbiAgICAgIHsgY2F1c2U6IGVycm9yc1tlcnJvcnMubGVuZ3RoIC0gMV0gfVxuICAgICk7XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgdGhpcy5uYW1lID0gXCJSZXRyeUVycm9yXCI7XG4gIH1cbiAgZ2V0IGF0dGVtcHRzKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9ycy5sZW5ndGg7XG4gIH1cbn07XG5SZXRyeUVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJSZXRyeUVycm9yXCI7XG5hc3luYyBmdW5jdGlvbiByZXRyeShmbiwgdG90YWxBdHRlbXB0cywgeyBleHBvbmVudGlhbERlbGF5QmFzZSA9IDFlMyB9ID0ge30pIHtcbiAgY29uc3QgZXJyb3JzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxBdHRlbXB0czsgaSsrKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZm4oaSk7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oUmVzdWx0Lm9rKHJlcy5kYXRhKSwgeyBhdHRlbXB0czogaSArIDEgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9ycy5wdXNoKHJlcy5lcnJvcik7XG4gICAgICBpZiAoaSA8IHRvdGFsQXR0ZW1wdHMgLSAxKSB7XG4gICAgICAgIGF3YWl0IHdhaXQoKE1hdGgucmFuZG9tKCkgKyAwLjUpICogZXhwb25lbnRpYWxEZWxheUJhc2UgKiAyICoqIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihSZXN1bHQuZXJyb3IobmV3IFJldHJ5RXJyb3IoZXJyb3JzKSksIHsgYXR0ZW1wdHM6IHRvdGFsQXR0ZW1wdHMgfSk7XG59XG5leHBvcnQge1xuICBBc3luY1Jlc3VsdCxcbiAgUmVzdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzdWx0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js":
/*!************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncStore: () => (/* binding */ AsyncStore),\n/* harmony export */   Store: () => (/* binding */ Store),\n/* harmony export */   storeLock: () => (/* binding */ storeLock)\n/* harmony export */ });\n/* harmony import */ var _locks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./locks.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/locks.js\");\n/* harmony import */ var _promises_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./promises.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _results_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./results.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _uuids_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uuids.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js\");\n// src/utils/stores.tsx\n\n\n\n\nvar Store = class {\n  constructor(_value) {\n    this._value = _value;\n    this._callbacks = /* @__PURE__ */ new Map();\n  }\n  get() {\n    return this._value;\n  }\n  set(value) {\n    const oldValue = this._value;\n    this._value = value;\n    this._callbacks.forEach((callback) => callback(value, oldValue));\n  }\n  update(updater) {\n    const value = updater(this._value);\n    this.set(value);\n    return value;\n  }\n  onChange(callback) {\n    const uuid = (0,_uuids_js__WEBPACK_IMPORTED_MODULE_3__.generateUuid)();\n    this._callbacks.set(uuid, callback);\n    return {\n      unsubscribe: () => {\n        this._callbacks.delete(uuid);\n      }\n    };\n  }\n  onceChange(callback) {\n    const { unsubscribe } = this.onChange((...args) => {\n      unsubscribe();\n      callback(...args);\n    });\n    return { unsubscribe };\n  }\n};\nvar storeLock = new _locks_js__WEBPACK_IMPORTED_MODULE_0__.ReadWriteLock();\nvar AsyncStore = class _AsyncStore {\n  constructor(...args) {\n    this._mostRecentOkValue = void 0;\n    this._isRejected = false;\n    this._waitingRejectFunctions = /* @__PURE__ */ new Map();\n    this._callbacks = /* @__PURE__ */ new Map();\n    this._updateCounter = 0;\n    this._lastSuccessfulUpdate = -1;\n    if (args.length === 0) {\n      this._isAvailable = false;\n    } else {\n      this._isAvailable = true;\n      this._mostRecentOkValue = args[0];\n    }\n  }\n  isAvailable() {\n    return this._isAvailable;\n  }\n  isRejected() {\n    return this._isRejected;\n  }\n  get() {\n    if (this.isRejected()) {\n      return _results_js__WEBPACK_IMPORTED_MODULE_2__.AsyncResult.error(this._rejectionError);\n    } else if (this.isAvailable()) {\n      return _results_js__WEBPACK_IMPORTED_MODULE_2__.AsyncResult.ok(this._mostRecentOkValue);\n    } else {\n      return _results_js__WEBPACK_IMPORTED_MODULE_2__.AsyncResult.pending();\n    }\n  }\n  getOrWait() {\n    const uuid = (0,_uuids_js__WEBPACK_IMPORTED_MODULE_3__.generateUuid)();\n    if (this.isRejected()) {\n      return (0,_promises_js__WEBPACK_IMPORTED_MODULE_1__.rejected)(this._rejectionError);\n    } else if (this.isAvailable()) {\n      return (0,_promises_js__WEBPACK_IMPORTED_MODULE_1__.resolved)(this._mostRecentOkValue);\n    }\n    const promise = new Promise((resolve, reject) => {\n      this.onceChange((value) => {\n        resolve(value);\n      });\n      this._waitingRejectFunctions.set(uuid, reject);\n    });\n    const withFinally = promise.finally(() => {\n      this._waitingRejectFunctions.delete(uuid);\n    });\n    return (0,_promises_js__WEBPACK_IMPORTED_MODULE_1__.pending)(withFinally);\n  }\n  _setIfLatest(result, curCounter) {\n    const oldState = this.get();\n    const oldValue = this._mostRecentOkValue;\n    if (curCounter > this._lastSuccessfulUpdate) {\n      switch (result.status) {\n        case \"ok\": {\n          if (!this._isAvailable || this._isRejected || this._mostRecentOkValue !== result.data) {\n            this._lastSuccessfulUpdate = curCounter;\n            this._isAvailable = true;\n            this._isRejected = false;\n            this._mostRecentOkValue = result.data;\n            this._rejectionError = void 0;\n            this._callbacks.forEach((callback) => callback({\n              state: this.get(),\n              oldState,\n              lastOkValue: oldValue\n            }));\n            return true;\n          }\n          return false;\n        }\n        case \"error\": {\n          this._lastSuccessfulUpdate = curCounter;\n          this._isAvailable = false;\n          this._isRejected = true;\n          this._rejectionError = result.error;\n          this._waitingRejectFunctions.forEach((reject) => reject(result.error));\n          this._callbacks.forEach((callback) => callback({\n            state: this.get(),\n            oldState,\n            lastOkValue: oldValue\n          }));\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  set(value) {\n    this._setIfLatest(_results_js__WEBPACK_IMPORTED_MODULE_2__.Result.ok(value), ++this._updateCounter);\n  }\n  update(updater) {\n    const value = updater(this._mostRecentOkValue);\n    this.set(value);\n    return value;\n  }\n  async setAsync(promise) {\n    return await storeLock.withReadLock(async () => {\n      const curCounter = ++this._updateCounter;\n      const result = await _results_js__WEBPACK_IMPORTED_MODULE_2__.Result.fromPromise(promise);\n      return this._setIfLatest(result, curCounter);\n    });\n  }\n  setUnavailable() {\n    this._lastSuccessfulUpdate = ++this._updateCounter;\n    this._isAvailable = false;\n    this._isRejected = false;\n    this._rejectionError = void 0;\n  }\n  setRejected(error) {\n    this._setIfLatest(_results_js__WEBPACK_IMPORTED_MODULE_2__.Result.error(error), ++this._updateCounter);\n  }\n  map(mapper) {\n    const store = new _AsyncStore();\n    this.onChange((value) => {\n      store.set(mapper(value));\n    });\n    return store;\n  }\n  onChange(callback) {\n    return this.onStateChange(({ state, lastOkValue }) => {\n      if (state.status === \"ok\") {\n        callback(state.data, lastOkValue);\n      }\n    });\n  }\n  onStateChange(callback) {\n    const uuid = (0,_uuids_js__WEBPACK_IMPORTED_MODULE_3__.generateUuid)();\n    this._callbacks.set(uuid, callback);\n    return {\n      unsubscribe: () => {\n        this._callbacks.delete(uuid);\n      }\n    };\n  }\n  onceChange(callback) {\n    const { unsubscribe } = this.onChange((...args) => {\n      unsubscribe();\n      callback(...args);\n    });\n    return { unsubscribe };\n  }\n  onceStateChange(callback) {\n    const { unsubscribe } = this.onStateChange((...args) => {\n      unsubscribe();\n      callback(...args);\n    });\n    return { unsubscribe };\n  }\n};\n\n//# sourceMappingURL=stores.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvc3RvcmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUMyQztBQUNpQjtBQUNUO0FBQ1Q7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLG9EQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsb0RBQVc7QUFDeEIsTUFBTTtBQUNOLGFBQWEsb0RBQVc7QUFDeEIsTUFBTTtBQUNOLGFBQWEsb0RBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHVEQUFZO0FBQzdCO0FBQ0EsYUFBYSxzREFBUTtBQUNyQixNQUFNO0FBQ04sYUFBYSxzREFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcscURBQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtDQUFNO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrQ0FBTTtBQUNqQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtDQUFNO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9CQUFvQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlCQUFpQix1REFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2I7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxzdG9yZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL3N0b3Jlcy50c3hcbmltcG9ydCB7IFJlYWRXcml0ZUxvY2sgfSBmcm9tIFwiLi9sb2Nrcy5qc1wiO1xuaW1wb3J0IHsgcGVuZGluZywgcmVqZWN0ZWQsIHJlc29sdmVkIH0gZnJvbSBcIi4vcHJvbWlzZXMuanNcIjtcbmltcG9ydCB7IEFzeW5jUmVzdWx0LCBSZXN1bHQgfSBmcm9tIFwiLi9yZXN1bHRzLmpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVV1aWQgfSBmcm9tIFwiLi91dWlkcy5qc1wiO1xudmFyIFN0b3JlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfdmFsdWUpIHtcbiAgICB0aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0KHZhbHVlKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX2NhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2sodmFsdWUsIG9sZFZhbHVlKSk7XG4gIH1cbiAgdXBkYXRlKHVwZGF0ZXIpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHVwZGF0ZXIodGhpcy5fdmFsdWUpO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICBjb25zdCB1dWlkID0gZ2VuZXJhdGVVdWlkKCk7XG4gICAgdGhpcy5fY2FsbGJhY2tzLnNldCh1dWlkLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5kZWxldGUodXVpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBvbmNlQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gdGhpcy5vbkNoYW5nZSgoLi4uYXJncykgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiB7IHVuc3Vic2NyaWJlIH07XG4gIH1cbn07XG52YXIgc3RvcmVMb2NrID0gbmV3IFJlYWRXcml0ZUxvY2soKTtcbnZhciBBc3luY1N0b3JlID0gY2xhc3MgX0FzeW5jU3RvcmUge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgdGhpcy5fbW9zdFJlY2VudE9rVmFsdWUgPSB2b2lkIDA7XG4gICAgdGhpcy5faXNSZWplY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dhaXRpbmdSZWplY3RGdW5jdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5fdXBkYXRlQ291bnRlciA9IDA7XG4gICAgdGhpcy5fbGFzdFN1Y2Nlc3NmdWxVcGRhdGUgPSAtMTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2lzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2lzQXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX21vc3RSZWNlbnRPa1ZhbHVlID0gYXJnc1swXTtcbiAgICB9XG4gIH1cbiAgaXNBdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQXZhaWxhYmxlO1xuICB9XG4gIGlzUmVqZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUmVqZWN0ZWQ7XG4gIH1cbiAgZ2V0KCkge1xuICAgIGlmICh0aGlzLmlzUmVqZWN0ZWQoKSkge1xuICAgICAgcmV0dXJuIEFzeW5jUmVzdWx0LmVycm9yKHRoaXMuX3JlamVjdGlvbkVycm9yKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNBdmFpbGFibGUoKSkge1xuICAgICAgcmV0dXJuIEFzeW5jUmVzdWx0Lm9rKHRoaXMuX21vc3RSZWNlbnRPa1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEFzeW5jUmVzdWx0LnBlbmRpbmcoKTtcbiAgICB9XG4gIH1cbiAgZ2V0T3JXYWl0KCkge1xuICAgIGNvbnN0IHV1aWQgPSBnZW5lcmF0ZVV1aWQoKTtcbiAgICBpZiAodGhpcy5pc1JlamVjdGVkKCkpIHtcbiAgICAgIHJldHVybiByZWplY3RlZCh0aGlzLl9yZWplY3Rpb25FcnJvcik7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQXZhaWxhYmxlKCkpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZCh0aGlzLl9tb3N0UmVjZW50T2tWYWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLm9uY2VDaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl93YWl0aW5nUmVqZWN0RnVuY3Rpb25zLnNldCh1dWlkLCByZWplY3QpO1xuICAgIH0pO1xuICAgIGNvbnN0IHdpdGhGaW5hbGx5ID0gcHJvbWlzZS5maW5hbGx5KCgpID0+IHtcbiAgICAgIHRoaXMuX3dhaXRpbmdSZWplY3RGdW5jdGlvbnMuZGVsZXRlKHV1aWQpO1xuICAgIH0pO1xuICAgIHJldHVybiBwZW5kaW5nKHdpdGhGaW5hbGx5KTtcbiAgfVxuICBfc2V0SWZMYXRlc3QocmVzdWx0LCBjdXJDb3VudGVyKSB7XG4gICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLmdldCgpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5fbW9zdFJlY2VudE9rVmFsdWU7XG4gICAgaWYgKGN1ckNvdW50ZXIgPiB0aGlzLl9sYXN0U3VjY2Vzc2Z1bFVwZGF0ZSkge1xuICAgICAgc3dpdGNoIChyZXN1bHQuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJva1wiOiB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9pc0F2YWlsYWJsZSB8fCB0aGlzLl9pc1JlamVjdGVkIHx8IHRoaXMuX21vc3RSZWNlbnRPa1ZhbHVlICE9PSByZXN1bHQuZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFN1Y2Nlc3NmdWxVcGRhdGUgPSBjdXJDb3VudGVyO1xuICAgICAgICAgICAgdGhpcy5faXNBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faXNSZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbW9zdFJlY2VudE9rVmFsdWUgPSByZXN1bHQuZGF0YTtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdGlvbkVycm9yID0gdm9pZCAwO1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayh7XG4gICAgICAgICAgICAgIHN0YXRlOiB0aGlzLmdldCgpLFxuICAgICAgICAgICAgICBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgbGFzdE9rVmFsdWU6IG9sZFZhbHVlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOiB7XG4gICAgICAgICAgdGhpcy5fbGFzdFN1Y2Nlc3NmdWxVcGRhdGUgPSBjdXJDb3VudGVyO1xuICAgICAgICAgIHRoaXMuX2lzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5faXNSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5fcmVqZWN0aW9uRXJyb3IgPSByZXN1bHQuZXJyb3I7XG4gICAgICAgICAgdGhpcy5fd2FpdGluZ1JlamVjdEZ1bmN0aW9ucy5mb3JFYWNoKChyZWplY3QpID0+IHJlamVjdChyZXN1bHQuZXJyb3IpKTtcbiAgICAgICAgICB0aGlzLl9jYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLmdldCgpLFxuICAgICAgICAgICAgb2xkU3RhdGUsXG4gICAgICAgICAgICBsYXN0T2tWYWx1ZTogb2xkVmFsdWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHNldCh2YWx1ZSkge1xuICAgIHRoaXMuX3NldElmTGF0ZXN0KFJlc3VsdC5vayh2YWx1ZSksICsrdGhpcy5fdXBkYXRlQ291bnRlcik7XG4gIH1cbiAgdXBkYXRlKHVwZGF0ZXIpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHVwZGF0ZXIodGhpcy5fbW9zdFJlY2VudE9rVmFsdWUpO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgYXN5bmMgc2V0QXN5bmMocHJvbWlzZSkge1xuICAgIHJldHVybiBhd2FpdCBzdG9yZUxvY2sud2l0aFJlYWRMb2NrKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1ckNvdW50ZXIgPSArK3RoaXMuX3VwZGF0ZUNvdW50ZXI7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZXN1bHQuZnJvbVByb21pc2UocHJvbWlzZSk7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0SWZMYXRlc3QocmVzdWx0LCBjdXJDb3VudGVyKTtcbiAgICB9KTtcbiAgfVxuICBzZXRVbmF2YWlsYWJsZSgpIHtcbiAgICB0aGlzLl9sYXN0U3VjY2Vzc2Z1bFVwZGF0ZSA9ICsrdGhpcy5fdXBkYXRlQ291bnRlcjtcbiAgICB0aGlzLl9pc0F2YWlsYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuX2lzUmVqZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWplY3Rpb25FcnJvciA9IHZvaWQgMDtcbiAgfVxuICBzZXRSZWplY3RlZChlcnJvcikge1xuICAgIHRoaXMuX3NldElmTGF0ZXN0KFJlc3VsdC5lcnJvcihlcnJvciksICsrdGhpcy5fdXBkYXRlQ291bnRlcik7XG4gIH1cbiAgbWFwKG1hcHBlcikge1xuICAgIGNvbnN0IHN0b3JlID0gbmV3IF9Bc3luY1N0b3JlKCk7XG4gICAgdGhpcy5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgIHN0b3JlLnNldChtYXBwZXIodmFsdWUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc3RvcmU7XG4gIH1cbiAgb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5vblN0YXRlQ2hhbmdlKCh7IHN0YXRlLCBsYXN0T2tWYWx1ZSB9KSA9PiB7XG4gICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSBcIm9rXCIpIHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUuZGF0YSwgbGFzdE9rVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG9uU3RhdGVDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICBjb25zdCB1dWlkID0gZ2VuZXJhdGVVdWlkKCk7XG4gICAgdGhpcy5fY2FsbGJhY2tzLnNldCh1dWlkLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5kZWxldGUodXVpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBvbmNlQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gdGhpcy5vbkNoYW5nZSgoLi4uYXJncykgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiB7IHVuc3Vic2NyaWJlIH07XG4gIH1cbiAgb25jZVN0YXRlQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gdGhpcy5vblN0YXRlQ2hhbmdlKCguLi5hcmdzKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgdW5zdWJzY3JpYmUgfTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIEFzeW5jU3RvcmUsXG4gIFN0b3JlLFxuICBzdG9yZUxvY2tcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deindent: () => (/* binding */ deindent),\n/* harmony export */   deindentTemplate: () => (/* binding */ deindentTemplate),\n/* harmony export */   escapeTemplateLiteral: () => (/* binding */ escapeTemplateLiteral),\n/* harmony export */   extractScopes: () => (/* binding */ extractScopes),\n/* harmony export */   getWhitespacePrefix: () => (/* binding */ getWhitespacePrefix),\n/* harmony export */   getWhitespaceSuffix: () => (/* binding */ getWhitespaceSuffix),\n/* harmony export */   mergeScopeStrings: () => (/* binding */ mergeScopeStrings),\n/* harmony export */   nicify: () => (/* binding */ nicify),\n/* harmony export */   replaceAll: () => (/* binding */ replaceAll),\n/* harmony export */   stringCompare: () => (/* binding */ stringCompare),\n/* harmony export */   templateIdentity: () => (/* binding */ templateIdentity),\n/* harmony export */   trimEmptyLinesEnd: () => (/* binding */ trimEmptyLinesEnd),\n/* harmony export */   trimEmptyLinesStart: () => (/* binding */ trimEmptyLinesStart),\n/* harmony export */   trimLines: () => (/* binding */ trimLines),\n/* harmony export */   typedCapitalize: () => (/* binding */ typedCapitalize),\n/* harmony export */   typedJoin: () => (/* binding */ typedJoin),\n/* harmony export */   typedToLowercase: () => (/* binding */ typedToLowercase),\n/* harmony export */   typedToUppercase: () => (/* binding */ typedToUppercase)\n/* harmony export */ });\n/* harmony import */ var _arrays_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrays.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/arrays.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _objects_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./objects.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n// src/utils/strings.tsx\n\n\n\nfunction typedJoin(strings, separator) {\n  return strings.join(separator);\n}\nfunction typedToLowercase(s) {\n  if (typeof s !== \"string\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Expected a string for typedToLowercase\", { s });\n  return s.toLowerCase();\n}\nfunction typedToUppercase(s) {\n  if (typeof s !== \"string\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Expected a string for typedToUppercase\", { s });\n  return s.toUpperCase();\n}\nfunction typedCapitalize(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\nfunction stringCompare(a, b) {\n  if (typeof a !== \"string\" || typeof b !== \"string\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(`Expected two strings for stringCompare, found ${typeof a} and ${typeof b}`, { a, b });\n  const cmp = (a2, b2) => a2 < b2 ? -1 : a2 > b2 ? 1 : 0;\n  return cmp(a.toUpperCase(), b.toUpperCase()) || cmp(b, a);\n}\nfunction getWhitespacePrefix(s) {\n  return s.substring(0, s.length - s.trimStart().length);\n}\nfunction getWhitespaceSuffix(s) {\n  return s.substring(s.trimEnd().length);\n}\nfunction trimEmptyLinesStart(s) {\n  const lines = s.split(\"\\n\");\n  const firstNonEmptyLineIndex = lines.findIndex((line) => line.trim() !== \"\");\n  if (firstNonEmptyLineIndex === -1) return \"\";\n  return lines.slice(firstNonEmptyLineIndex).join(\"\\n\");\n}\nfunction trimEmptyLinesEnd(s) {\n  const lines = s.split(\"\\n\");\n  const lastNonEmptyLineIndex = (0,_arrays_js__WEBPACK_IMPORTED_MODULE_0__.findLastIndex)(lines, (line) => line.trim() !== \"\");\n  return lines.slice(0, lastNonEmptyLineIndex + 1).join(\"\\n\");\n}\nfunction trimLines(s) {\n  return trimEmptyLinesEnd(trimEmptyLinesStart(s));\n}\nfunction templateIdentity(strings, ...values) {\n  if (values.length !== strings.length - 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Invalid number of values; must be one less than strings\", { strings, values });\n  return strings.reduce((result, str, i) => result + str + (values[i] ?? \"\"), \"\");\n}\nfunction deindent(strings, ...values) {\n  if (typeof strings === \"string\") return deindent([strings]);\n  return templateIdentity(...deindentTemplate(strings, ...values));\n}\nfunction deindentTemplate(strings, ...values) {\n  if (values.length !== strings.length - 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Invalid number of values; must be one less than strings\", { strings, values });\n  const trimmedStrings = [...strings];\n  trimmedStrings[0] = trimEmptyLinesStart(trimmedStrings[0] + \"+\").slice(0, -1);\n  trimmedStrings[trimmedStrings.length - 1] = trimEmptyLinesEnd(\"+\" + trimmedStrings[trimmedStrings.length - 1]).slice(1);\n  const indentation = trimmedStrings.join(\"${SOME_VALUE}\").split(\"\\n\").filter((line) => line.trim() !== \"\").map((line) => getWhitespacePrefix(line).length).reduce((min, current) => Math.min(min, current), Infinity);\n  const deindentedStrings = trimmedStrings.map((string, stringIndex) => {\n    return string.split(\"\\n\").map((line, lineIndex) => stringIndex !== 0 && lineIndex === 0 ? line : line.substring(indentation)).join(\"\\n\");\n  });\n  const indentedValues = values.map((value, i) => {\n    const firstLineIndentation = getWhitespacePrefix(deindentedStrings[i].split(\"\\n\").at(-1));\n    return `${value}`.replaceAll(\"\\n\", `\n${firstLineIndentation}`);\n  });\n  return [deindentedStrings, ...indentedValues];\n}\nfunction extractScopes(scope, removeDuplicates = true) {\n  const trimmedString = scope.trim();\n  const scopesArray = trimmedString.split(/\\s+/);\n  const filtered = scopesArray.filter((scope2) => scope2.length > 0);\n  return removeDuplicates ? [...new Set(filtered)] : filtered;\n}\nfunction mergeScopeStrings(...scopes) {\n  const allScope = scopes.map((s) => extractScopes(s)).flat().join(\" \");\n  return extractScopes(allScope).join(\" \");\n}\nfunction escapeTemplateLiteral(s) {\n  return s.replaceAll(\"`\", \"\\\\`\").replaceAll(\"\\\\\", \"\\\\\\\\\").replaceAll(\"$\", \"\\\\$\");\n}\nvar nicifiableClassNameOverrides = new Map(Object.entries({\n  Headers\n}).map(([k, v]) => [v, k]));\nfunction nicify(value, options = {}) {\n  const fullOptions = {\n    maxDepth: 5,\n    currentIndent: \"\",\n    lineIndent: \"  \",\n    multiline: true,\n    refs: /* @__PURE__ */ new Map(),\n    path: \"value\",\n    parent: null,\n    overrides: () => null,\n    keyInParent: null,\n    hideFields: [],\n    ...(0,_objects_js__WEBPACK_IMPORTED_MODULE_2__.filterUndefined)(options)\n  };\n  const {\n    maxDepth,\n    currentIndent,\n    lineIndent,\n    multiline,\n    refs,\n    path,\n    overrides,\n    hideFields\n  } = fullOptions;\n  const nl = `\n${currentIndent}`;\n  const overrideResult = overrides(value, options);\n  if (overrideResult !== null) return overrideResult;\n  if ([\"function\", \"object\", \"symbol\"].includes(typeof value) && value !== null) {\n    if (refs.has(value)) {\n      return `Ref<${refs.get(value)}>`;\n    }\n    refs.set(value, path);\n  }\n  const newOptions = {\n    maxDepth: maxDepth - 1,\n    currentIndent,\n    lineIndent,\n    multiline,\n    refs,\n    path: path + \"->[unknown property]\",\n    overrides,\n    parent: { value, options: fullOptions },\n    keyInParent: null,\n    hideFields: []\n  };\n  const nestedNicify = (newValue, newPath, keyInParent, options2 = {}) => {\n    return nicify(newValue, {\n      ...newOptions,\n      path: newPath,\n      currentIndent: currentIndent + lineIndent,\n      keyInParent,\n      ...options2\n    });\n  };\n  switch (typeof value) {\n    case \"boolean\":\n    case \"number\": {\n      return JSON.stringify(value);\n    }\n    case \"string\": {\n      const isDeindentable = (v) => deindent(v) === v && v.includes(\"\\n\");\n      const wrapInDeindent = (v) => deindent`\n        deindent\\`\n        ${currentIndent + lineIndent}${escapeTemplateLiteral(v).replaceAll(\"\\n\", nl + lineIndent)}\n        ${currentIndent}\\`\n      `;\n      if (isDeindentable(value)) {\n        return wrapInDeindent(value);\n      } else if (value.endsWith(\"\\n\") && isDeindentable(value.slice(0, -1))) {\n        return wrapInDeindent(value.slice(0, -1)) + ' + \"\\\\n\"';\n      } else {\n        return JSON.stringify(value);\n      }\n    }\n    case \"undefined\": {\n      return \"undefined\";\n    }\n    case \"symbol\": {\n      return value.toString();\n    }\n    case \"bigint\": {\n      return `${value}n`;\n    }\n    case \"function\": {\n      if (value.name) return `function ${value.name}(...) { ... }`;\n      return `(...) => { ... }`;\n    }\n    case \"object\": {\n      if (value === null) return \"null\";\n      if (Array.isArray(value)) {\n        const extraLines2 = getNicifiedObjectExtraLines(value);\n        const resValueLength2 = value.length + extraLines2.length;\n        if (maxDepth <= 0 && resValueLength2 === 0) return \"[...]\";\n        const resValues2 = value.map((v, i) => nestedNicify(v, `${path}[${i}]`, i));\n        resValues2.push(...extraLines2);\n        if (resValues2.length !== resValueLength2) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"nicify of object: resValues.length !== resValueLength\", { value, resValues: resValues2, resValueLength: resValueLength2 });\n        const shouldIndent2 = resValues2.length > 4 || resValues2.some((x) => resValues2.length > 1 && x.length > 4 || x.includes(\"\\n\"));\n        if (shouldIndent2) {\n          return `[${nl}${resValues2.map((x) => `${lineIndent}${x},${nl}`).join(\"\")}]`;\n        } else {\n          return `[${resValues2.join(\", \")}]`;\n        }\n      }\n      if (value instanceof URL) {\n        return `URL(${nestedNicify(value.toString(), `${path}.toString()`, null)})`;\n      }\n      if (ArrayBuffer.isView(value)) {\n        return `${value.constructor.name}([${value.toString()}])`;\n      }\n      if (value instanceof ArrayBuffer) {\n        return `ArrayBuffer [${new Uint8Array(value).toString()}]`;\n      }\n      if (value instanceof Error) {\n        let stack = value.stack ?? \"\";\n        const toString = value.toString();\n        if (!stack.startsWith(toString)) stack = `${toString}\n${stack}`;\n        stack = stack.trimEnd();\n        stack = stack.replace(/\\n\\s+/g, `\n${lineIndent}${lineIndent}`);\n        stack = stack.replace(\"\\n\", `\n${lineIndent}Stack:\n`);\n        if (Object.keys(value).length > 0) {\n          stack += `\n${lineIndent}Extra properties: ${nestedNicify(Object.fromEntries(Object.entries(value)), path, null)}`;\n        }\n        if (value.cause) {\n          stack += `\n${lineIndent}Cause:\n${lineIndent}${lineIndent}${nestedNicify(value.cause, path, null, { currentIndent: currentIndent + lineIndent + lineIndent })}`;\n        }\n        stack = stack.replaceAll(\"\\n\", `\n${currentIndent}`);\n        return stack;\n      }\n      const constructorName = [null, Object.prototype].includes(Object.getPrototypeOf(value)) ? null : nicifiableClassNameOverrides.get(value.constructor) ?? value.constructor.name;\n      const constructorString = constructorName ? `${constructorName} ` : \"\";\n      const entries = getNicifiableEntries(value).filter(([k]) => !hideFields.includes(k));\n      const extraLines = [\n        ...getNicifiedObjectExtraLines(value),\n        ...hideFields.length > 0 ? [`<some fields may have been hidden>`] : []\n      ];\n      const resValueLength = entries.length + extraLines.length;\n      if (resValueLength === 0) return `${constructorString}{}`;\n      if (maxDepth <= 0) return `${constructorString}{ ... }`;\n      const resValues = entries.map(([k, v], keyIndex) => {\n        const keyNicified = nestedNicify(k, `Object.keys(${path})[${keyIndex}]`, null);\n        const keyInObjectLiteral = typeof k === \"string\" ? nicifyPropertyString(k) : `[${keyNicified}]`;\n        if (typeof v === \"function\" && v.name === k) {\n          return `${keyInObjectLiteral}(...): { ... }`;\n        } else {\n          return `${keyInObjectLiteral}: ${nestedNicify(v, `${path}[${keyNicified}]`, k)}`;\n        }\n      });\n      resValues.push(...extraLines);\n      if (resValues.length !== resValueLength) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"nicify of object: resValues.length !== resValueLength\", { value, resValues, resValueLength });\n      const shouldIndent = resValues.length > 1 || resValues.some((x) => x.includes(\"\\n\"));\n      if (resValues.length === 0) return `${constructorString}{}`;\n      if (shouldIndent) {\n        return `${constructorString}{${nl}${resValues.map((x) => `${lineIndent}${x},${nl}`).join(\"\")}}`;\n      } else {\n        return `${constructorString}{ ${resValues.join(\", \")} }`;\n      }\n    }\n    default: {\n      return `${typeof value}<${value}>`;\n    }\n  }\n}\nfunction replaceAll(input, searchValue, replaceValue) {\n  if (searchValue === \"\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"replaceAll: searchValue is empty\");\n  return input.split(searchValue).join(replaceValue);\n}\nfunction nicifyPropertyString(str) {\n  return JSON.stringify(str);\n}\nfunction getNicifiableKeys(value) {\n  const overridden = (\"getNicifiableKeys\" in value ? value.getNicifiableKeys?.bind(value) : null)?.();\n  if (overridden != null) return overridden;\n  if (value instanceof Response) {\n    return [\"status\", \"headers\"];\n  }\n  const keys = Object.keys(value).sort();\n  return (0,_arrays_js__WEBPACK_IMPORTED_MODULE_0__.unique)(keys);\n}\nfunction getNicifiableEntries(value) {\n  const recordLikes = [Headers];\n  function isRecordLike(value2) {\n    return recordLikes.some((x) => value2 instanceof x);\n  }\n  if (isRecordLike(value)) {\n    return [...value.entries()].sort(([a], [b]) => stringCompare(`${a}`, `${b}`));\n  }\n  const keys = getNicifiableKeys(value);\n  return keys.map((k) => [k, value[k]]);\n}\nfunction getNicifiedObjectExtraLines(value) {\n  return (\"getNicifiedObjectExtraLines\" in value ? value.getNicifiedObjectExtraLines : null)?.() ?? [];\n}\n\n//# sourceMappingURL=strings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvc3RyaW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNvRDtBQUNGO0FBQ0g7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsMkRBQW1CLDZDQUE2QyxHQUFHO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyREFBbUIsNkNBQTZDLEdBQUc7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDJEQUFtQixrREFBa0QsVUFBVSxNQUFNLFNBQVMsS0FBSyxNQUFNO0FBQ3pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseURBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDJEQUFtQiw0QkFBNEIsa0NBQWtDLGlCQUFpQjtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwyREFBbUIsNEJBQTRCLGtDQUFrQyxpQkFBaUI7QUFDeEo7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCLEVBQUUscUJBQXFCO0FBQ3ZCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw0REFBZTtBQUN0QjtBQUNBO0FBQ0E7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LCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFxzdHJpbmdzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9zdHJpbmdzLnRzeFxuaW1wb3J0IHsgZmluZExhc3RJbmRleCwgdW5pcXVlIH0gZnJvbSBcIi4vYXJyYXlzLmpzXCI7XG5pbXBvcnQgeyBTdGFja0Fzc2VydGlvbkVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBmaWx0ZXJVbmRlZmluZWQgfSBmcm9tIFwiLi9vYmplY3RzLmpzXCI7XG5mdW5jdGlvbiB0eXBlZEpvaW4oc3RyaW5ncywgc2VwYXJhdG9yKSB7XG4gIHJldHVybiBzdHJpbmdzLmpvaW4oc2VwYXJhdG9yKTtcbn1cbmZ1bmN0aW9uIHR5cGVkVG9Mb3dlcmNhc2Uocykge1xuICBpZiAodHlwZW9mIHMgIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiRXhwZWN0ZWQgYSBzdHJpbmcgZm9yIHR5cGVkVG9Mb3dlcmNhc2VcIiwgeyBzIH0pO1xuICByZXR1cm4gcy50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gdHlwZWRUb1VwcGVyY2FzZShzKSB7XG4gIGlmICh0eXBlb2YgcyAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJFeHBlY3RlZCBhIHN0cmluZyBmb3IgdHlwZWRUb1VwcGVyY2FzZVwiLCB7IHMgfSk7XG4gIHJldHVybiBzLnRvVXBwZXJDYXNlKCk7XG59XG5mdW5jdGlvbiB0eXBlZENhcGl0YWxpemUocykge1xuICByZXR1cm4gcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBzdHJpbmdDb21wYXJlKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBiICE9PSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgRXhwZWN0ZWQgdHdvIHN0cmluZ3MgZm9yIHN0cmluZ0NvbXBhcmUsIGZvdW5kICR7dHlwZW9mIGF9IGFuZCAke3R5cGVvZiBifWAsIHsgYSwgYiB9KTtcbiAgY29uc3QgY21wID0gKGEyLCBiMikgPT4gYTIgPCBiMiA/IC0xIDogYTIgPiBiMiA/IDEgOiAwO1xuICByZXR1cm4gY21wKGEudG9VcHBlckNhc2UoKSwgYi50b1VwcGVyQ2FzZSgpKSB8fCBjbXAoYiwgYSk7XG59XG5mdW5jdGlvbiBnZXRXaGl0ZXNwYWNlUHJlZml4KHMpIHtcbiAgcmV0dXJuIHMuc3Vic3RyaW5nKDAsIHMubGVuZ3RoIC0gcy50cmltU3RhcnQoKS5sZW5ndGgpO1xufVxuZnVuY3Rpb24gZ2V0V2hpdGVzcGFjZVN1ZmZpeChzKSB7XG4gIHJldHVybiBzLnN1YnN0cmluZyhzLnRyaW1FbmQoKS5sZW5ndGgpO1xufVxuZnVuY3Rpb24gdHJpbUVtcHR5TGluZXNTdGFydChzKSB7XG4gIGNvbnN0IGxpbmVzID0gcy5zcGxpdChcIlxcblwiKTtcbiAgY29uc3QgZmlyc3ROb25FbXB0eUxpbmVJbmRleCA9IGxpbmVzLmZpbmRJbmRleCgobGluZSkgPT4gbGluZS50cmltKCkgIT09IFwiXCIpO1xuICBpZiAoZmlyc3ROb25FbXB0eUxpbmVJbmRleCA9PT0gLTEpIHJldHVybiBcIlwiO1xuICByZXR1cm4gbGluZXMuc2xpY2UoZmlyc3ROb25FbXB0eUxpbmVJbmRleCkuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIHRyaW1FbXB0eUxpbmVzRW5kKHMpIHtcbiAgY29uc3QgbGluZXMgPSBzLnNwbGl0KFwiXFxuXCIpO1xuICBjb25zdCBsYXN0Tm9uRW1wdHlMaW5lSW5kZXggPSBmaW5kTGFzdEluZGV4KGxpbmVzLCAobGluZSkgPT4gbGluZS50cmltKCkgIT09IFwiXCIpO1xuICByZXR1cm4gbGluZXMuc2xpY2UoMCwgbGFzdE5vbkVtcHR5TGluZUluZGV4ICsgMSkuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIHRyaW1MaW5lcyhzKSB7XG4gIHJldHVybiB0cmltRW1wdHlMaW5lc0VuZCh0cmltRW1wdHlMaW5lc1N0YXJ0KHMpKTtcbn1cbmZ1bmN0aW9uIHRlbXBsYXRlSWRlbnRpdHkoc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gIGlmICh2YWx1ZXMubGVuZ3RoICE9PSBzdHJpbmdzLmxlbmd0aCAtIDEpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgdmFsdWVzOyBtdXN0IGJlIG9uZSBsZXNzIHRoYW4gc3RyaW5nc1wiLCB7IHN0cmluZ3MsIHZhbHVlcyB9KTtcbiAgcmV0dXJuIHN0cmluZ3MucmVkdWNlKChyZXN1bHQsIHN0ciwgaSkgPT4gcmVzdWx0ICsgc3RyICsgKHZhbHVlc1tpXSA/PyBcIlwiKSwgXCJcIik7XG59XG5mdW5jdGlvbiBkZWluZGVudChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmdzID09PSBcInN0cmluZ1wiKSByZXR1cm4gZGVpbmRlbnQoW3N0cmluZ3NdKTtcbiAgcmV0dXJuIHRlbXBsYXRlSWRlbnRpdHkoLi4uZGVpbmRlbnRUZW1wbGF0ZShzdHJpbmdzLCAuLi52YWx1ZXMpKTtcbn1cbmZ1bmN0aW9uIGRlaW5kZW50VGVtcGxhdGUoc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gIGlmICh2YWx1ZXMubGVuZ3RoICE9PSBzdHJpbmdzLmxlbmd0aCAtIDEpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgdmFsdWVzOyBtdXN0IGJlIG9uZSBsZXNzIHRoYW4gc3RyaW5nc1wiLCB7IHN0cmluZ3MsIHZhbHVlcyB9KTtcbiAgY29uc3QgdHJpbW1lZFN0cmluZ3MgPSBbLi4uc3RyaW5nc107XG4gIHRyaW1tZWRTdHJpbmdzWzBdID0gdHJpbUVtcHR5TGluZXNTdGFydCh0cmltbWVkU3RyaW5nc1swXSArIFwiK1wiKS5zbGljZSgwLCAtMSk7XG4gIHRyaW1tZWRTdHJpbmdzW3RyaW1tZWRTdHJpbmdzLmxlbmd0aCAtIDFdID0gdHJpbUVtcHR5TGluZXNFbmQoXCIrXCIgKyB0cmltbWVkU3RyaW5nc1t0cmltbWVkU3RyaW5ncy5sZW5ndGggLSAxXSkuc2xpY2UoMSk7XG4gIGNvbnN0IGluZGVudGF0aW9uID0gdHJpbW1lZFN0cmluZ3Muam9pbihcIiR7U09NRV9WQUxVRX1cIikuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lLnRyaW0oKSAhPT0gXCJcIikubWFwKChsaW5lKSA9PiBnZXRXaGl0ZXNwYWNlUHJlZml4KGxpbmUpLmxlbmd0aCkucmVkdWNlKChtaW4sIGN1cnJlbnQpID0+IE1hdGgubWluKG1pbiwgY3VycmVudCksIEluZmluaXR5KTtcbiAgY29uc3QgZGVpbmRlbnRlZFN0cmluZ3MgPSB0cmltbWVkU3RyaW5ncy5tYXAoKHN0cmluZywgc3RyaW5nSW5kZXgpID0+IHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KFwiXFxuXCIpLm1hcCgobGluZSwgbGluZUluZGV4KSA9PiBzdHJpbmdJbmRleCAhPT0gMCAmJiBsaW5lSW5kZXggPT09IDAgPyBsaW5lIDogbGluZS5zdWJzdHJpbmcoaW5kZW50YXRpb24pKS5qb2luKFwiXFxuXCIpO1xuICB9KTtcbiAgY29uc3QgaW5kZW50ZWRWYWx1ZXMgPSB2YWx1ZXMubWFwKCh2YWx1ZSwgaSkgPT4ge1xuICAgIGNvbnN0IGZpcnN0TGluZUluZGVudGF0aW9uID0gZ2V0V2hpdGVzcGFjZVByZWZpeChkZWluZGVudGVkU3RyaW5nc1tpXS5zcGxpdChcIlxcblwiKS5hdCgtMSkpO1xuICAgIHJldHVybiBgJHt2YWx1ZX1gLnJlcGxhY2VBbGwoXCJcXG5cIiwgYFxuJHtmaXJzdExpbmVJbmRlbnRhdGlvbn1gKTtcbiAgfSk7XG4gIHJldHVybiBbZGVpbmRlbnRlZFN0cmluZ3MsIC4uLmluZGVudGVkVmFsdWVzXTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTY29wZXMoc2NvcGUsIHJlbW92ZUR1cGxpY2F0ZXMgPSB0cnVlKSB7XG4gIGNvbnN0IHRyaW1tZWRTdHJpbmcgPSBzY29wZS50cmltKCk7XG4gIGNvbnN0IHNjb3Blc0FycmF5ID0gdHJpbW1lZFN0cmluZy5zcGxpdCgvXFxzKy8pO1xuICBjb25zdCBmaWx0ZXJlZCA9IHNjb3Blc0FycmF5LmZpbHRlcigoc2NvcGUyKSA9PiBzY29wZTIubGVuZ3RoID4gMCk7XG4gIHJldHVybiByZW1vdmVEdXBsaWNhdGVzID8gWy4uLm5ldyBTZXQoZmlsdGVyZWQpXSA6IGZpbHRlcmVkO1xufVxuZnVuY3Rpb24gbWVyZ2VTY29wZVN0cmluZ3MoLi4uc2NvcGVzKSB7XG4gIGNvbnN0IGFsbFNjb3BlID0gc2NvcGVzLm1hcCgocykgPT4gZXh0cmFjdFNjb3BlcyhzKSkuZmxhdCgpLmpvaW4oXCIgXCIpO1xuICByZXR1cm4gZXh0cmFjdFNjb3BlcyhhbGxTY29wZSkuam9pbihcIiBcIik7XG59XG5mdW5jdGlvbiBlc2NhcGVUZW1wbGF0ZUxpdGVyYWwocykge1xuICByZXR1cm4gcy5yZXBsYWNlQWxsKFwiYFwiLCBcIlxcXFxgXCIpLnJlcGxhY2VBbGwoXCJcXFxcXCIsIFwiXFxcXFxcXFxcIikucmVwbGFjZUFsbChcIiRcIiwgXCJcXFxcJFwiKTtcbn1cbnZhciBuaWNpZmlhYmxlQ2xhc3NOYW1lT3ZlcnJpZGVzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyh7XG4gIEhlYWRlcnNcbn0pLm1hcCgoW2ssIHZdKSA9PiBbdiwga10pKTtcbmZ1bmN0aW9uIG5pY2lmeSh2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGZ1bGxPcHRpb25zID0ge1xuICAgIG1heERlcHRoOiA1LFxuICAgIGN1cnJlbnRJbmRlbnQ6IFwiXCIsXG4gICAgbGluZUluZGVudDogXCIgIFwiLFxuICAgIG11bHRpbGluZTogdHJ1ZSxcbiAgICByZWZzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgIHBhdGg6IFwidmFsdWVcIixcbiAgICBwYXJlbnQ6IG51bGwsXG4gICAgb3ZlcnJpZGVzOiAoKSA9PiBudWxsLFxuICAgIGtleUluUGFyZW50OiBudWxsLFxuICAgIGhpZGVGaWVsZHM6IFtdLFxuICAgIC4uLmZpbHRlclVuZGVmaW5lZChvcHRpb25zKVxuICB9O1xuICBjb25zdCB7XG4gICAgbWF4RGVwdGgsXG4gICAgY3VycmVudEluZGVudCxcbiAgICBsaW5lSW5kZW50LFxuICAgIG11bHRpbGluZSxcbiAgICByZWZzLFxuICAgIHBhdGgsXG4gICAgb3ZlcnJpZGVzLFxuICAgIGhpZGVGaWVsZHNcbiAgfSA9IGZ1bGxPcHRpb25zO1xuICBjb25zdCBubCA9IGBcbiR7Y3VycmVudEluZGVudH1gO1xuICBjb25zdCBvdmVycmlkZVJlc3VsdCA9IG92ZXJyaWRlcyh2YWx1ZSwgb3B0aW9ucyk7XG4gIGlmIChvdmVycmlkZVJlc3VsdCAhPT0gbnVsbCkgcmV0dXJuIG92ZXJyaWRlUmVzdWx0O1xuICBpZiAoW1wiZnVuY3Rpb25cIiwgXCJvYmplY3RcIiwgXCJzeW1ib2xcIl0uaW5jbHVkZXModHlwZW9mIHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgIGlmIChyZWZzLmhhcyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBgUmVmPCR7cmVmcy5nZXQodmFsdWUpfT5gO1xuICAgIH1cbiAgICByZWZzLnNldCh2YWx1ZSwgcGF0aCk7XG4gIH1cbiAgY29uc3QgbmV3T3B0aW9ucyA9IHtcbiAgICBtYXhEZXB0aDogbWF4RGVwdGggLSAxLFxuICAgIGN1cnJlbnRJbmRlbnQsXG4gICAgbGluZUluZGVudCxcbiAgICBtdWx0aWxpbmUsXG4gICAgcmVmcyxcbiAgICBwYXRoOiBwYXRoICsgXCItPlt1bmtub3duIHByb3BlcnR5XVwiLFxuICAgIG92ZXJyaWRlcyxcbiAgICBwYXJlbnQ6IHsgdmFsdWUsIG9wdGlvbnM6IGZ1bGxPcHRpb25zIH0sXG4gICAga2V5SW5QYXJlbnQ6IG51bGwsXG4gICAgaGlkZUZpZWxkczogW11cbiAgfTtcbiAgY29uc3QgbmVzdGVkTmljaWZ5ID0gKG5ld1ZhbHVlLCBuZXdQYXRoLCBrZXlJblBhcmVudCwgb3B0aW9uczIgPSB7fSkgPT4ge1xuICAgIHJldHVybiBuaWNpZnkobmV3VmFsdWUsIHtcbiAgICAgIC4uLm5ld09wdGlvbnMsXG4gICAgICBwYXRoOiBuZXdQYXRoLFxuICAgICAgY3VycmVudEluZGVudDogY3VycmVudEluZGVudCArIGxpbmVJbmRlbnQsXG4gICAgICBrZXlJblBhcmVudCxcbiAgICAgIC4uLm9wdGlvbnMyXG4gICAgfSk7XG4gIH07XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJzdHJpbmdcIjoge1xuICAgICAgY29uc3QgaXNEZWluZGVudGFibGUgPSAodikgPT4gZGVpbmRlbnQodikgPT09IHYgJiYgdi5pbmNsdWRlcyhcIlxcblwiKTtcbiAgICAgIGNvbnN0IHdyYXBJbkRlaW5kZW50ID0gKHYpID0+IGRlaW5kZW50YFxuICAgICAgICBkZWluZGVudFxcYFxuICAgICAgICAke2N1cnJlbnRJbmRlbnQgKyBsaW5lSW5kZW50fSR7ZXNjYXBlVGVtcGxhdGVMaXRlcmFsKHYpLnJlcGxhY2VBbGwoXCJcXG5cIiwgbmwgKyBsaW5lSW5kZW50KX1cbiAgICAgICAgJHtjdXJyZW50SW5kZW50fVxcYFxuICAgICAgYDtcbiAgICAgIGlmIChpc0RlaW5kZW50YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBJbkRlaW5kZW50KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuZW5kc1dpdGgoXCJcXG5cIikgJiYgaXNEZWluZGVudGFibGUodmFsdWUuc2xpY2UoMCwgLTEpKSkge1xuICAgICAgICByZXR1cm4gd3JhcEluRGVpbmRlbnQodmFsdWUuc2xpY2UoMCwgLTEpKSArICcgKyBcIlxcXFxuXCInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBcInVuZGVmaW5lZFwiOiB7XG4gICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICB9XG4gICAgY2FzZSBcInN5bWJvbFwiOiB7XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgY2FzZSBcImJpZ2ludFwiOiB7XG4gICAgICByZXR1cm4gYCR7dmFsdWV9bmA7XG4gICAgfVxuICAgIGNhc2UgXCJmdW5jdGlvblwiOiB7XG4gICAgICBpZiAodmFsdWUubmFtZSkgcmV0dXJuIGBmdW5jdGlvbiAke3ZhbHVlLm5hbWV9KC4uLikgeyAuLi4gfWA7XG4gICAgICByZXR1cm4gYCguLi4pID0+IHsgLi4uIH1gO1xuICAgIH1cbiAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGV4dHJhTGluZXMyID0gZ2V0TmljaWZpZWRPYmplY3RFeHRyYUxpbmVzKHZhbHVlKTtcbiAgICAgICAgY29uc3QgcmVzVmFsdWVMZW5ndGgyID0gdmFsdWUubGVuZ3RoICsgZXh0cmFMaW5lczIubGVuZ3RoO1xuICAgICAgICBpZiAobWF4RGVwdGggPD0gMCAmJiByZXNWYWx1ZUxlbmd0aDIgPT09IDApIHJldHVybiBcIlsuLi5dXCI7XG4gICAgICAgIGNvbnN0IHJlc1ZhbHVlczIgPSB2YWx1ZS5tYXAoKHYsIGkpID0+IG5lc3RlZE5pY2lmeSh2LCBgJHtwYXRofVske2l9XWAsIGkpKTtcbiAgICAgICAgcmVzVmFsdWVzMi5wdXNoKC4uLmV4dHJhTGluZXMyKTtcbiAgICAgICAgaWYgKHJlc1ZhbHVlczIubGVuZ3RoICE9PSByZXNWYWx1ZUxlbmd0aDIpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwibmljaWZ5IG9mIG9iamVjdDogcmVzVmFsdWVzLmxlbmd0aCAhPT0gcmVzVmFsdWVMZW5ndGhcIiwgeyB2YWx1ZSwgcmVzVmFsdWVzOiByZXNWYWx1ZXMyLCByZXNWYWx1ZUxlbmd0aDogcmVzVmFsdWVMZW5ndGgyIH0pO1xuICAgICAgICBjb25zdCBzaG91bGRJbmRlbnQyID0gcmVzVmFsdWVzMi5sZW5ndGggPiA0IHx8IHJlc1ZhbHVlczIuc29tZSgoeCkgPT4gcmVzVmFsdWVzMi5sZW5ndGggPiAxICYmIHgubGVuZ3RoID4gNCB8fCB4LmluY2x1ZGVzKFwiXFxuXCIpKTtcbiAgICAgICAgaWYgKHNob3VsZEluZGVudDIpIHtcbiAgICAgICAgICByZXR1cm4gYFske25sfSR7cmVzVmFsdWVzMi5tYXAoKHgpID0+IGAke2xpbmVJbmRlbnR9JHt4fSwke25sfWApLmpvaW4oXCJcIil9XWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGBbJHtyZXNWYWx1ZXMyLmpvaW4oXCIsIFwiKX1dYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgIHJldHVybiBgVVJMKCR7bmVzdGVkTmljaWZ5KHZhbHVlLnRvU3RyaW5nKCksIGAke3BhdGh9LnRvU3RyaW5nKClgLCBudWxsKX0pYDtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBgJHt2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lfShbJHt2YWx1ZS50b1N0cmluZygpfV0pYDtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBgQXJyYXlCdWZmZXIgWyR7bmV3IFVpbnQ4QXJyYXkodmFsdWUpLnRvU3RyaW5nKCl9XWA7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBsZXQgc3RhY2sgPSB2YWx1ZS5zdGFjayA/PyBcIlwiO1xuICAgICAgICBjb25zdCB0b1N0cmluZyA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICghc3RhY2suc3RhcnRzV2l0aCh0b1N0cmluZykpIHN0YWNrID0gYCR7dG9TdHJpbmd9XG4ke3N0YWNrfWA7XG4gICAgICAgIHN0YWNrID0gc3RhY2sudHJpbUVuZCgpO1xuICAgICAgICBzdGFjayA9IHN0YWNrLnJlcGxhY2UoL1xcblxccysvZywgYFxuJHtsaW5lSW5kZW50fSR7bGluZUluZGVudH1gKTtcbiAgICAgICAgc3RhY2sgPSBzdGFjay5yZXBsYWNlKFwiXFxuXCIsIGBcbiR7bGluZUluZGVudH1TdGFjazpcbmApO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzdGFjayArPSBgXG4ke2xpbmVJbmRlbnR9RXh0cmEgcHJvcGVydGllczogJHtuZXN0ZWROaWNpZnkoT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHZhbHVlKSksIHBhdGgsIG51bGwpfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLmNhdXNlKSB7XG4gICAgICAgICAgc3RhY2sgKz0gYFxuJHtsaW5lSW5kZW50fUNhdXNlOlxuJHtsaW5lSW5kZW50fSR7bGluZUluZGVudH0ke25lc3RlZE5pY2lmeSh2YWx1ZS5jYXVzZSwgcGF0aCwgbnVsbCwgeyBjdXJyZW50SW5kZW50OiBjdXJyZW50SW5kZW50ICsgbGluZUluZGVudCArIGxpbmVJbmRlbnQgfSl9YDtcbiAgICAgICAgfVxuICAgICAgICBzdGFjayA9IHN0YWNrLnJlcGxhY2VBbGwoXCJcXG5cIiwgYFxuJHtjdXJyZW50SW5kZW50fWApO1xuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgICB9XG4gICAgICBjb25zdCBjb25zdHJ1Y3Rvck5hbWUgPSBbbnVsbCwgT2JqZWN0LnByb3RvdHlwZV0uaW5jbHVkZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSkgPyBudWxsIDogbmljaWZpYWJsZUNsYXNzTmFtZU92ZXJyaWRlcy5nZXQodmFsdWUuY29uc3RydWN0b3IpID8/IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvclN0cmluZyA9IGNvbnN0cnVjdG9yTmFtZSA/IGAke2NvbnN0cnVjdG9yTmFtZX0gYCA6IFwiXCI7XG4gICAgICBjb25zdCBlbnRyaWVzID0gZ2V0TmljaWZpYWJsZUVudHJpZXModmFsdWUpLmZpbHRlcigoW2tdKSA9PiAhaGlkZUZpZWxkcy5pbmNsdWRlcyhrKSk7XG4gICAgICBjb25zdCBleHRyYUxpbmVzID0gW1xuICAgICAgICAuLi5nZXROaWNpZmllZE9iamVjdEV4dHJhTGluZXModmFsdWUpLFxuICAgICAgICAuLi5oaWRlRmllbGRzLmxlbmd0aCA+IDAgPyBbYDxzb21lIGZpZWxkcyBtYXkgaGF2ZSBiZWVuIGhpZGRlbj5gXSA6IFtdXG4gICAgICBdO1xuICAgICAgY29uc3QgcmVzVmFsdWVMZW5ndGggPSBlbnRyaWVzLmxlbmd0aCArIGV4dHJhTGluZXMubGVuZ3RoO1xuICAgICAgaWYgKHJlc1ZhbHVlTGVuZ3RoID09PSAwKSByZXR1cm4gYCR7Y29uc3RydWN0b3JTdHJpbmd9e31gO1xuICAgICAgaWYgKG1heERlcHRoIDw9IDApIHJldHVybiBgJHtjb25zdHJ1Y3RvclN0cmluZ317IC4uLiB9YDtcbiAgICAgIGNvbnN0IHJlc1ZhbHVlcyA9IGVudHJpZXMubWFwKChbaywgdl0sIGtleUluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleU5pY2lmaWVkID0gbmVzdGVkTmljaWZ5KGssIGBPYmplY3Qua2V5cygke3BhdGh9KVske2tleUluZGV4fV1gLCBudWxsKTtcbiAgICAgICAgY29uc3Qga2V5SW5PYmplY3RMaXRlcmFsID0gdHlwZW9mIGsgPT09IFwic3RyaW5nXCIgPyBuaWNpZnlQcm9wZXJ0eVN0cmluZyhrKSA6IGBbJHtrZXlOaWNpZmllZH1dYDtcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSBcImZ1bmN0aW9uXCIgJiYgdi5uYW1lID09PSBrKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2tleUluT2JqZWN0TGl0ZXJhbH0oLi4uKTogeyAuLi4gfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGAke2tleUluT2JqZWN0TGl0ZXJhbH06ICR7bmVzdGVkTmljaWZ5KHYsIGAke3BhdGh9WyR7a2V5TmljaWZpZWR9XWAsIGspfWA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVzVmFsdWVzLnB1c2goLi4uZXh0cmFMaW5lcyk7XG4gICAgICBpZiAocmVzVmFsdWVzLmxlbmd0aCAhPT0gcmVzVmFsdWVMZW5ndGgpIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwibmljaWZ5IG9mIG9iamVjdDogcmVzVmFsdWVzLmxlbmd0aCAhPT0gcmVzVmFsdWVMZW5ndGhcIiwgeyB2YWx1ZSwgcmVzVmFsdWVzLCByZXNWYWx1ZUxlbmd0aCB9KTtcbiAgICAgIGNvbnN0IHNob3VsZEluZGVudCA9IHJlc1ZhbHVlcy5sZW5ndGggPiAxIHx8IHJlc1ZhbHVlcy5zb21lKCh4KSA9PiB4LmluY2x1ZGVzKFwiXFxuXCIpKTtcbiAgICAgIGlmIChyZXNWYWx1ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gYCR7Y29uc3RydWN0b3JTdHJpbmd9e31gO1xuICAgICAgaWYgKHNob3VsZEluZGVudCkge1xuICAgICAgICByZXR1cm4gYCR7Y29uc3RydWN0b3JTdHJpbmd9eyR7bmx9JHtyZXNWYWx1ZXMubWFwKCh4KSA9PiBgJHtsaW5lSW5kZW50fSR7eH0sJHtubH1gKS5qb2luKFwiXCIpfX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke2NvbnN0cnVjdG9yU3RyaW5nfXsgJHtyZXNWYWx1ZXMuam9pbihcIiwgXCIpfSB9YDtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgcmV0dXJuIGAke3R5cGVvZiB2YWx1ZX08JHt2YWx1ZX0+YDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJlcGxhY2VBbGwoaW5wdXQsIHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUpIHtcbiAgaWYgKHNlYXJjaFZhbHVlID09PSBcIlwiKSB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcInJlcGxhY2VBbGw6IHNlYXJjaFZhbHVlIGlzIGVtcHR5XCIpO1xuICByZXR1cm4gaW5wdXQuc3BsaXQoc2VhcmNoVmFsdWUpLmpvaW4ocmVwbGFjZVZhbHVlKTtcbn1cbmZ1bmN0aW9uIG5pY2lmeVByb3BlcnR5U3RyaW5nKHN0cikge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RyKTtcbn1cbmZ1bmN0aW9uIGdldE5pY2lmaWFibGVLZXlzKHZhbHVlKSB7XG4gIGNvbnN0IG92ZXJyaWRkZW4gPSAoXCJnZXROaWNpZmlhYmxlS2V5c1wiIGluIHZhbHVlID8gdmFsdWUuZ2V0TmljaWZpYWJsZUtleXM/LmJpbmQodmFsdWUpIDogbnVsbCk/LigpO1xuICBpZiAob3ZlcnJpZGRlbiAhPSBudWxsKSByZXR1cm4gb3ZlcnJpZGRlbjtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gW1wic3RhdHVzXCIsIFwiaGVhZGVyc1wiXTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpLnNvcnQoKTtcbiAgcmV0dXJuIHVuaXF1ZShrZXlzKTtcbn1cbmZ1bmN0aW9uIGdldE5pY2lmaWFibGVFbnRyaWVzKHZhbHVlKSB7XG4gIGNvbnN0IHJlY29yZExpa2VzID0gW0hlYWRlcnNdO1xuICBmdW5jdGlvbiBpc1JlY29yZExpa2UodmFsdWUyKSB7XG4gICAgcmV0dXJuIHJlY29yZExpa2VzLnNvbWUoKHgpID0+IHZhbHVlMiBpbnN0YW5jZW9mIHgpO1xuICB9XG4gIGlmIChpc1JlY29yZExpa2UodmFsdWUpKSB7XG4gICAgcmV0dXJuIFsuLi52YWx1ZS5lbnRyaWVzKCldLnNvcnQoKFthXSwgW2JdKSA9PiBzdHJpbmdDb21wYXJlKGAke2F9YCwgYCR7Yn1gKSk7XG4gIH1cbiAgY29uc3Qga2V5cyA9IGdldE5pY2lmaWFibGVLZXlzKHZhbHVlKTtcbiAgcmV0dXJuIGtleXMubWFwKChrKSA9PiBbaywgdmFsdWVba11dKTtcbn1cbmZ1bmN0aW9uIGdldE5pY2lmaWVkT2JqZWN0RXh0cmFMaW5lcyh2YWx1ZSkge1xuICByZXR1cm4gKFwiZ2V0TmljaWZpZWRPYmplY3RFeHRyYUxpbmVzXCIgaW4gdmFsdWUgPyB2YWx1ZS5nZXROaWNpZmllZE9iamVjdEV4dHJhTGluZXMgOiBudWxsKT8uKCkgPz8gW107XG59XG5leHBvcnQge1xuICBkZWluZGVudCxcbiAgZGVpbmRlbnRUZW1wbGF0ZSxcbiAgZXNjYXBlVGVtcGxhdGVMaXRlcmFsLFxuICBleHRyYWN0U2NvcGVzLFxuICBnZXRXaGl0ZXNwYWNlUHJlZml4LFxuICBnZXRXaGl0ZXNwYWNlU3VmZml4LFxuICBtZXJnZVNjb3BlU3RyaW5ncyxcbiAgbmljaWZ5LFxuICByZXBsYWNlQWxsLFxuICBzdHJpbmdDb21wYXJlLFxuICB0ZW1wbGF0ZUlkZW50aXR5LFxuICB0cmltRW1wdHlMaW5lc0VuZCxcbiAgdHJpbUVtcHR5TGluZXNTdGFydCxcbiAgdHJpbUxpbmVzLFxuICB0eXBlZENhcGl0YWxpemUsXG4gIHR5cGVkSm9pbixcbiAgdHlwZWRUb0xvd2VyY2FzZSxcbiAgdHlwZWRUb1VwcGVyY2FzZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/types.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/types.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   typeAssert: () => (/* binding */ typeAssert),\n/* harmony export */   typeAssertExtends: () => (/* binding */ typeAssertExtends),\n/* harmony export */   typeAssertIs: () => (/* binding */ typeAssertIs)\n/* harmony export */ });\n// src/utils/types.tsx\ntypeAssertIs()();\ntypeAssertIs()();\ntypeAssertIs()();\nfunction typeAssert() {\n  return () => void 0;\n}\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\nfunction typeAssertExtends() {\n  return () => void 0;\n}\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\nfunction typeAssertIs() {\n  return () => void 0;\n}\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\ntypeAssertExtends()();\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvdHlwZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcdHlwZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL3R5cGVzLnRzeFxudHlwZUFzc2VydElzKCkoKTtcbnR5cGVBc3NlcnRJcygpKCk7XG50eXBlQXNzZXJ0SXMoKSgpO1xuZnVuY3Rpb24gdHlwZUFzc2VydCgpIHtcbiAgcmV0dXJuICgpID0+IHZvaWQgMDtcbn1cbnR5cGVBc3NlcnRFeHRlbmRzKCkoKTtcbnR5cGVBc3NlcnRFeHRlbmRzKCkoKTtcbnR5cGVBc3NlcnRFeHRlbmRzKCkoKTtcbnR5cGVBc3NlcnRFeHRlbmRzKCkoKTtcbmZ1bmN0aW9uIHR5cGVBc3NlcnRFeHRlbmRzKCkge1xuICByZXR1cm4gKCkgPT4gdm9pZCAwO1xufVxudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xuZnVuY3Rpb24gdHlwZUFzc2VydElzKCkge1xuICByZXR1cm4gKCkgPT4gdm9pZCAwO1xufVxudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xudHlwZUFzc2VydEV4dGVuZHMoKSgpO1xuZXhwb3J0IHtcbiAgdHlwZUFzc2VydCxcbiAgdHlwZUFzc2VydEV4dGVuZHMsXG4gIHR5cGVBc3NlcnRJc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/types.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUrlIfValid: () => (/* binding */ createUrlIfValid),\n/* harmony export */   getRelativePart: () => (/* binding */ getRelativePart),\n/* harmony export */   isLocalhost: () => (/* binding */ isLocalhost),\n/* harmony export */   isRelative: () => (/* binding */ isRelative),\n/* harmony export */   isValidHostname: () => (/* binding */ isValidHostname),\n/* harmony export */   isValidHostnameWithWildcards: () => (/* binding */ isValidHostnameWithWildcards),\n/* harmony export */   isValidUrl: () => (/* binding */ isValidUrl),\n/* harmony export */   matchHostnamePattern: () => (/* binding */ matchHostnamePattern),\n/* harmony export */   url: () => (/* binding */ url),\n/* harmony export */   urlString: () => (/* binding */ urlString)\n/* harmony export */ });\n/* harmony import */ var _crypto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crypto.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js\");\n/* harmony import */ var _strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strings.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n// src/utils/urls.tsx\n\n\nfunction createUrlIfValid(...args) {\n  try {\n    return new URL(...args);\n  } catch (e) {\n    return null;\n  }\n}\nfunction isValidUrl(url2) {\n  return !!createUrlIfValid(url2);\n}\nfunction isValidHostname(hostname) {\n  if (!hostname || hostname.startsWith(\".\") || hostname.endsWith(\".\") || hostname.includes(\"..\")) {\n    return false;\n  }\n  const url2 = createUrlIfValid(`https://${hostname}`);\n  if (!url2) return false;\n  return url2.hostname === hostname;\n}\nfunction isValidHostnameWithWildcards(hostname) {\n  if (!hostname) return false;\n  const hasWildcard = hostname.includes(\"*\");\n  if (!hasWildcard) {\n    return isValidHostname(hostname);\n  }\n  if (hostname.startsWith(\".\") || hostname.endsWith(\".\")) {\n    return false;\n  }\n  if (hostname.includes(\"..\")) {\n    return false;\n  }\n  const testHostname = hostname.replace(/\\*+/g, \"wildcard\");\n  if (!/^[a-zA-Z0-9.-]+$/.test(testHostname)) {\n    return false;\n  }\n  const segments = hostname.split(/\\*+/);\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    if (segment === \"\") continue;\n    if (i === 0 && segment.startsWith(\".\")) {\n      return false;\n    }\n    if (i === segments.length - 1 && segment.endsWith(\".\")) {\n      return false;\n    }\n    if (segment.includes(\"..\")) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction matchHostnamePattern(pattern, hostname) {\n  if (!pattern.includes(\"*\")) {\n    return pattern === hostname;\n  }\n  let regexPattern = pattern.replace(/[.+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  const doubleWildcardPlaceholder = \"\\0DOUBLE_WILDCARD\\0\";\n  regexPattern = regexPattern.replace(/\\*\\*/g, doubleWildcardPlaceholder);\n  regexPattern = regexPattern.replace(/\\*/g, \"[^.]*\");\n  regexPattern = regexPattern.replace(new RegExp(doubleWildcardPlaceholder, \"g\"), \".*\");\n  regexPattern = \"^\" + regexPattern + \"$\";\n  try {\n    const regex = new RegExp(regexPattern);\n    return regex.test(hostname);\n  } catch {\n    return false;\n  }\n}\nfunction isLocalhost(urlOrString) {\n  const url2 = createUrlIfValid(urlOrString);\n  if (!url2) return false;\n  if (url2.hostname === \"localhost\" || url2.hostname.endsWith(\".localhost\")) return true;\n  if (url2.hostname.match(/^127\\.\\d+\\.\\d+\\.\\d+$/)) return true;\n  return false;\n}\nfunction isRelative(url2) {\n  const randomDomain = `${(0,_crypto_js__WEBPACK_IMPORTED_MODULE_0__.generateSecureRandomString)()}.stack-auth.example.com`;\n  const u = createUrlIfValid(url2, `https://${randomDomain}`);\n  if (!u) return false;\n  if (u.host !== randomDomain) return false;\n  if (u.protocol !== \"https:\") return false;\n  return true;\n}\nfunction getRelativePart(url2) {\n  return url2.pathname + url2.search + url2.hash;\n}\nfunction url(strings, ...values) {\n  return new URL(urlString(strings, ...values));\n}\nfunction urlString(strings, ...values) {\n  return (0,_strings_js__WEBPACK_IMPORTED_MODULE_1__.templateIdentity)(strings, ...values.map(encodeURIComponent));\n}\n\n//# sourceMappingURL=urls.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvdXJscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUN5RDtBQUNUO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0VBQTBCLEdBQUc7QUFDdkQsOENBQThDLGFBQWE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2REFBZ0I7QUFDekI7QUFZRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrLXNoYXJlZFxcZGlzdFxcZXNtXFx1dGlsc1xcdXJscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvdXJscy50c3hcbmltcG9ydCB7IGdlbmVyYXRlU2VjdXJlUmFuZG9tU3RyaW5nIH0gZnJvbSBcIi4vY3J5cHRvLmpzXCI7XG5pbXBvcnQgeyB0ZW1wbGF0ZUlkZW50aXR5IH0gZnJvbSBcIi4vc3RyaW5ncy5qc1wiO1xuZnVuY3Rpb24gY3JlYXRlVXJsSWZWYWxpZCguLi5hcmdzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBVUkwoLi4uYXJncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZFVybCh1cmwyKSB7XG4gIHJldHVybiAhIWNyZWF0ZVVybElmVmFsaWQodXJsMik7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSG9zdG5hbWUoaG9zdG5hbWUpIHtcbiAgaWYgKCFob3N0bmFtZSB8fCBob3N0bmFtZS5zdGFydHNXaXRoKFwiLlwiKSB8fCBob3N0bmFtZS5lbmRzV2l0aChcIi5cIikgfHwgaG9zdG5hbWUuaW5jbHVkZXMoXCIuLlwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB1cmwyID0gY3JlYXRlVXJsSWZWYWxpZChgaHR0cHM6Ly8ke2hvc3RuYW1lfWApO1xuICBpZiAoIXVybDIpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHVybDIuaG9zdG5hbWUgPT09IGhvc3RuYW1lO1xufVxuZnVuY3Rpb24gaXNWYWxpZEhvc3RuYW1lV2l0aFdpbGRjYXJkcyhob3N0bmFtZSkge1xuICBpZiAoIWhvc3RuYW1lKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGhhc1dpbGRjYXJkID0gaG9zdG5hbWUuaW5jbHVkZXMoXCIqXCIpO1xuICBpZiAoIWhhc1dpbGRjYXJkKSB7XG4gICAgcmV0dXJuIGlzVmFsaWRIb3N0bmFtZShob3N0bmFtZSk7XG4gIH1cbiAgaWYgKGhvc3RuYW1lLnN0YXJ0c1dpdGgoXCIuXCIpIHx8IGhvc3RuYW1lLmVuZHNXaXRoKFwiLlwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoXCIuLlwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0ZXN0SG9zdG5hbWUgPSBob3N0bmFtZS5yZXBsYWNlKC9cXCorL2csIFwid2lsZGNhcmRcIik7XG4gIGlmICghL15bYS16QS1aMC05Li1dKyQvLnRlc3QodGVzdEhvc3RuYW1lKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBzZWdtZW50cyA9IGhvc3RuYW1lLnNwbGl0KC9cXCorLyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgaWYgKHNlZ21lbnQgPT09IFwiXCIpIGNvbnRpbnVlO1xuICAgIGlmIChpID09PSAwICYmIHNlZ21lbnQuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGkgPT09IHNlZ21lbnRzLmxlbmd0aCAtIDEgJiYgc2VnbWVudC5lbmRzV2l0aChcIi5cIikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuaW5jbHVkZXMoXCIuLlwiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG1hdGNoSG9zdG5hbWVQYXR0ZXJuKHBhdHRlcm4sIGhvc3RuYW1lKSB7XG4gIGlmICghcGF0dGVybi5pbmNsdWRlcyhcIipcIikpIHtcbiAgICByZXR1cm4gcGF0dGVybiA9PT0gaG9zdG5hbWU7XG4gIH1cbiAgbGV0IHJlZ2V4UGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgvWy4rP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gIGNvbnN0IGRvdWJsZVdpbGRjYXJkUGxhY2Vob2xkZXIgPSBcIlxcMERPVUJMRV9XSUxEQ0FSRFxcMFwiO1xuICByZWdleFBhdHRlcm4gPSByZWdleFBhdHRlcm4ucmVwbGFjZSgvXFwqXFwqL2csIGRvdWJsZVdpbGRjYXJkUGxhY2Vob2xkZXIpO1xuICByZWdleFBhdHRlcm4gPSByZWdleFBhdHRlcm4ucmVwbGFjZSgvXFwqL2csIFwiW14uXSpcIik7XG4gIHJlZ2V4UGF0dGVybiA9IHJlZ2V4UGF0dGVybi5yZXBsYWNlKG5ldyBSZWdFeHAoZG91YmxlV2lsZGNhcmRQbGFjZWhvbGRlciwgXCJnXCIpLCBcIi4qXCIpO1xuICByZWdleFBhdHRlcm4gPSBcIl5cIiArIHJlZ2V4UGF0dGVybiArIFwiJFwiO1xuICB0cnkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleFBhdHRlcm4pO1xuICAgIHJldHVybiByZWdleC50ZXN0KGhvc3RuYW1lKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc0xvY2FsaG9zdCh1cmxPclN0cmluZykge1xuICBjb25zdCB1cmwyID0gY3JlYXRlVXJsSWZWYWxpZCh1cmxPclN0cmluZyk7XG4gIGlmICghdXJsMikgcmV0dXJuIGZhbHNlO1xuICBpZiAodXJsMi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiB8fCB1cmwyLmhvc3RuYW1lLmVuZHNXaXRoKFwiLmxvY2FsaG9zdFwiKSkgcmV0dXJuIHRydWU7XG4gIGlmICh1cmwyLmhvc3RuYW1lLm1hdGNoKC9eMTI3XFwuXFxkK1xcLlxcZCtcXC5cXGQrJC8pKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNSZWxhdGl2ZSh1cmwyKSB7XG4gIGNvbnN0IHJhbmRvbURvbWFpbiA9IGAke2dlbmVyYXRlU2VjdXJlUmFuZG9tU3RyaW5nKCl9LnN0YWNrLWF1dGguZXhhbXBsZS5jb21gO1xuICBjb25zdCB1ID0gY3JlYXRlVXJsSWZWYWxpZCh1cmwyLCBgaHR0cHM6Ly8ke3JhbmRvbURvbWFpbn1gKTtcbiAgaWYgKCF1KSByZXR1cm4gZmFsc2U7XG4gIGlmICh1Lmhvc3QgIT09IHJhbmRvbURvbWFpbikgcmV0dXJuIGZhbHNlO1xuICBpZiAodS5wcm90b2NvbCAhPT0gXCJodHRwczpcIikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldFJlbGF0aXZlUGFydCh1cmwyKSB7XG4gIHJldHVybiB1cmwyLnBhdGhuYW1lICsgdXJsMi5zZWFyY2ggKyB1cmwyLmhhc2g7XG59XG5mdW5jdGlvbiB1cmwoc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gIHJldHVybiBuZXcgVVJMKHVybFN0cmluZyhzdHJpbmdzLCAuLi52YWx1ZXMpKTtcbn1cbmZ1bmN0aW9uIHVybFN0cmluZyhzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgcmV0dXJuIHRlbXBsYXRlSWRlbnRpdHkoc3RyaW5ncywgLi4udmFsdWVzLm1hcChlbmNvZGVVUklDb21wb25lbnQpKTtcbn1cbmV4cG9ydCB7XG4gIGNyZWF0ZVVybElmVmFsaWQsXG4gIGdldFJlbGF0aXZlUGFydCxcbiAgaXNMb2NhbGhvc3QsXG4gIGlzUmVsYXRpdmUsXG4gIGlzVmFsaWRIb3N0bmFtZSxcbiAgaXNWYWxpZEhvc3RuYW1lV2l0aFdpbGRjYXJkcyxcbiAgaXNWYWxpZFVybCxcbiAgbWF0Y2hIb3N0bmFtZVBhdHRlcm4sXG4gIHVybCxcbiAgdXJsU3RyaW5nXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJscy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateUuid: () => (/* binding */ generateUuid),\n/* harmony export */   isUuid: () => (/* binding */ isUuid)\n/* harmony export */ });\n/* harmony import */ var _crypto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crypto.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/crypto.js\");\n// src/utils/uuids.tsx\n\nfunction generateUuid() {\n  return \"10000000-1000-4000-8000-100000000000\".replace(\n    /[018]/g,\n    (c) => (+c ^ (0,_crypto_js__WEBPACK_IMPORTED_MODULE_0__.generateRandomValues)(new Uint8Array(1))[0] & 15 >> +c / 4).toString(16)\n  );\n}\nfunction isUuid(str) {\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(str);\n}\n\n//# sourceMappingURL=uuids.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9lc20vdXRpbHMvdXVpZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRztBQUM5RTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2stc2hhcmVkXFxkaXN0XFxlc21cXHV0aWxzXFx1dWlkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvdXVpZHMudHN4XG5pbXBvcnQgeyBnZW5lcmF0ZVJhbmRvbVZhbHVlcyB9IGZyb20gXCIuL2NyeXB0by5qc1wiO1xuZnVuY3Rpb24gZ2VuZXJhdGVVdWlkKCkge1xuICByZXR1cm4gXCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKFxuICAgIC9bMDE4XS9nLFxuICAgIChjKSA9PiAoK2MgXiBnZW5lcmF0ZVJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiArYyAvIDQpLnRvU3RyaW5nKDE2KVxuICApO1xufVxuZnVuY3Rpb24gaXNVdWlkKHN0cikge1xuICByZXR1cm4gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS00WzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC8udGVzdChzdHIpO1xufVxuZXhwb3J0IHtcbiAgZ2VuZXJhdGVVdWlkLFxuICBpc1V1aWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dWlkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/auth.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/auth.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addNewOAuthProviderOrScope: () => (/* binding */ addNewOAuthProviderOrScope),\n/* harmony export */   callOAuthCallback: () => (/* binding */ callOAuthCallback),\n/* harmony export */   signInWithOAuth: () => (/* binding */ signInWithOAuth)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/promises */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/results */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_strings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/strings */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* harmony import */ var _utils_url_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/url.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/utils/url.js\");\n/* harmony import */ var _cookie_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cookie.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/cookie.js\");\n// src/lib/auth.ts\n\n\n\n\n\n\n\nasync function signInWithOAuth(iface, options, session) {\n  const { codeChallenge, state } = await (0,_cookie_js__WEBPACK_IMPORTED_MODULE_5__.saveVerifierAndState)();\n  const location = await iface.getOAuthUrl({\n    provider: options.provider,\n    redirectUrl: (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_6__.constructRedirectUrl)(options.redirectUrl, \"redirectUrl\"),\n    errorRedirectUrl: (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_6__.constructRedirectUrl)(options.errorRedirectUrl, \"errorRedirectUrl\"),\n    codeChallenge,\n    state,\n    type: \"authenticate\",\n    providerScope: options.providerScope,\n    session\n  });\n  window.location.assign(location);\n  await (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_2__.neverResolve)();\n}\nasync function addNewOAuthProviderOrScope(iface, options, session) {\n  const { codeChallenge, state } = await (0,_cookie_js__WEBPACK_IMPORTED_MODULE_5__.saveVerifierAndState)();\n  const location = await iface.getOAuthUrl({\n    provider: options.provider,\n    redirectUrl: (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_6__.constructRedirectUrl)(options.redirectUrl, \"redirectUrl\"),\n    errorRedirectUrl: (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_6__.constructRedirectUrl)(options.errorRedirectUrl, \"errorRedirectUrl\"),\n    afterCallbackRedirectUrl: (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_6__.constructRedirectUrl)(window.location.href, \"afterCallbackRedirectUrl\"),\n    codeChallenge,\n    state,\n    type: \"link\",\n    session,\n    providerScope: options.providerScope\n  });\n  window.location.assign(location);\n  await (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_2__.neverResolve)();\n}\nfunction consumeOAuthCallbackQueryParams() {\n  const requiredParams = [\"code\", \"state\"];\n  const originalUrl = new URL(window.location.href);\n  for (const param of requiredParams) {\n    if (!originalUrl.searchParams.has(param)) {\n      console.warn(new Error(`Missing required query parameter on OAuth callback: ${param}. Maybe you opened or reloaded the oauth-callback page from your history?`));\n      return null;\n    }\n  }\n  const expectedState = originalUrl.searchParams.get(\"state\") ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__.throwErr)(\"This should never happen; isn't state required above?\");\n  const cookieResult = (0,_cookie_js__WEBPACK_IMPORTED_MODULE_5__.consumeVerifierAndStateCookie)(expectedState);\n  if (!cookieResult) {\n    console.warn((0,_stackframe_stack_shared_dist_utils_strings__WEBPACK_IMPORTED_MODULE_4__.deindent)`\n      Stack found an outer OAuth callback state in the query parameters, but not in cookies.\n      \n      This could have multiple reasons:\n        - The cookie expired, because the OAuth flow took too long.\n        - The user's browser deleted the cookie, either manually or because of a very strict cookie policy.\n        - The cookie was already consumed by this page, and the user already logged in.\n        - You are using another OAuth client library with the same callback URL as Stack.\n        - The user opened the OAuth callback page from their history.\n\n      Either way, it is probably safe to ignore this warning unless you are debugging an OAuth issue.\n    `);\n    return null;\n  }\n  const newUrl = new URL(originalUrl);\n  for (const param of requiredParams) {\n    newUrl.searchParams.delete(param);\n  }\n  window.history.replaceState({}, \"\", newUrl.toString());\n  return {\n    originalUrl,\n    codeVerifier: cookieResult.codeVerifier,\n    state: expectedState\n  };\n}\nasync function callOAuthCallback(iface, redirectUrl) {\n  const consumed = consumeOAuthCallbackQueryParams();\n  if (!consumed) return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_3__.Result.ok(void 0);\n  try {\n    return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_3__.Result.ok(await iface.callOAuthCallback({\n      oauthParams: consumed.originalUrl.searchParams,\n      redirectUri: (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_6__.constructRedirectUrl)(redirectUrl, \"redirectUri\"),\n      codeVerifier: consumed.codeVerifier,\n      state: consumed.state\n    }));\n  } catch (e) {\n    if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.KnownError.isKnownError(e)) {\n      throw e;\n    }\n    throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"Error signing in during OAuth callback. Please try again.\", { cause: e });\n  }\n}\n\n//# sourceMappingURL=auth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDc0Q7QUFDcUM7QUFDZjtBQUNQO0FBQ0U7QUFDaEI7QUFDMkI7QUFDbEY7QUFDQSxVQUFVLHVCQUF1QixRQUFRLGdFQUFvQjtBQUM3RDtBQUNBO0FBQ0EsaUJBQWlCLG1FQUFvQjtBQUNyQyxzQkFBc0IsbUVBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxRQUFRLDBGQUFZO0FBQ3BCO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QixRQUFRLGdFQUFvQjtBQUM3RDtBQUNBO0FBQ0EsaUJBQWlCLG1FQUFvQjtBQUNyQyxzQkFBc0IsbUVBQW9CO0FBQzFDLDhCQUE4QixtRUFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsMEZBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLE1BQU07QUFDMUY7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLG9GQUFRLDRCQUE0QjtBQUNyRyx1QkFBdUIseUVBQTZCO0FBQ3BEO0FBQ0EsaUJBQWlCLHFGQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtFQUFNO0FBQzlCO0FBQ0EsV0FBVywrRUFBTTtBQUNqQjtBQUNBLG1CQUFtQixtRUFBb0I7QUFDdkM7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osUUFBUSxnRUFBVTtBQUNsQjtBQUNBO0FBQ0EsY0FBYywyRkFBbUIsZ0VBQWdFLFVBQVU7QUFDM0c7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvYXV0aC50c1xuaW1wb3J0IHsgS25vd25FcnJvciB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWRcIjtcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IsIHRocm93RXJyIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL2Vycm9yc1wiO1xuaW1wb3J0IHsgbmV2ZXJSZXNvbHZlIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL3Byb21pc2VzXCI7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvcmVzdWx0c1wiO1xuaW1wb3J0IHsgZGVpbmRlbnQgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvc3RyaW5nc1wiO1xuaW1wb3J0IHsgY29uc3RydWN0UmVkaXJlY3RVcmwgfSBmcm9tIFwiLi4vdXRpbHMvdXJsLmpzXCI7XG5pbXBvcnQgeyBjb25zdW1lVmVyaWZpZXJBbmRTdGF0ZUNvb2tpZSwgc2F2ZVZlcmlmaWVyQW5kU3RhdGUgfSBmcm9tIFwiLi9jb29raWUuanNcIjtcbmFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhPQXV0aChpZmFjZSwgb3B0aW9ucywgc2Vzc2lvbikge1xuICBjb25zdCB7IGNvZGVDaGFsbGVuZ2UsIHN0YXRlIH0gPSBhd2FpdCBzYXZlVmVyaWZpZXJBbmRTdGF0ZSgpO1xuICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IGlmYWNlLmdldE9BdXRoVXJsKHtcbiAgICBwcm92aWRlcjogb3B0aW9ucy5wcm92aWRlcixcbiAgICByZWRpcmVjdFVybDogY29uc3RydWN0UmVkaXJlY3RVcmwob3B0aW9ucy5yZWRpcmVjdFVybCwgXCJyZWRpcmVjdFVybFwiKSxcbiAgICBlcnJvclJlZGlyZWN0VXJsOiBjb25zdHJ1Y3RSZWRpcmVjdFVybChvcHRpb25zLmVycm9yUmVkaXJlY3RVcmwsIFwiZXJyb3JSZWRpcmVjdFVybFwiKSxcbiAgICBjb2RlQ2hhbGxlbmdlLFxuICAgIHN0YXRlLFxuICAgIHR5cGU6IFwiYXV0aGVudGljYXRlXCIsXG4gICAgcHJvdmlkZXJTY29wZTogb3B0aW9ucy5wcm92aWRlclNjb3BlLFxuICAgIHNlc3Npb25cbiAgfSk7XG4gIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24obG9jYXRpb24pO1xuICBhd2FpdCBuZXZlclJlc29sdmUoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFkZE5ld09BdXRoUHJvdmlkZXJPclNjb3BlKGlmYWNlLCBvcHRpb25zLCBzZXNzaW9uKSB7XG4gIGNvbnN0IHsgY29kZUNoYWxsZW5nZSwgc3RhdGUgfSA9IGF3YWl0IHNhdmVWZXJpZmllckFuZFN0YXRlKCk7XG4gIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgaWZhY2UuZ2V0T0F1dGhVcmwoe1xuICAgIHByb3ZpZGVyOiBvcHRpb25zLnByb3ZpZGVyLFxuICAgIHJlZGlyZWN0VXJsOiBjb25zdHJ1Y3RSZWRpcmVjdFVybChvcHRpb25zLnJlZGlyZWN0VXJsLCBcInJlZGlyZWN0VXJsXCIpLFxuICAgIGVycm9yUmVkaXJlY3RVcmw6IGNvbnN0cnVjdFJlZGlyZWN0VXJsKG9wdGlvbnMuZXJyb3JSZWRpcmVjdFVybCwgXCJlcnJvclJlZGlyZWN0VXJsXCIpLFxuICAgIGFmdGVyQ2FsbGJhY2tSZWRpcmVjdFVybDogY29uc3RydWN0UmVkaXJlY3RVcmwod2luZG93LmxvY2F0aW9uLmhyZWYsIFwiYWZ0ZXJDYWxsYmFja1JlZGlyZWN0VXJsXCIpLFxuICAgIGNvZGVDaGFsbGVuZ2UsXG4gICAgc3RhdGUsXG4gICAgdHlwZTogXCJsaW5rXCIsXG4gICAgc2Vzc2lvbixcbiAgICBwcm92aWRlclNjb3BlOiBvcHRpb25zLnByb3ZpZGVyU2NvcGVcbiAgfSk7XG4gIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24obG9jYXRpb24pO1xuICBhd2FpdCBuZXZlclJlc29sdmUoKTtcbn1cbmZ1bmN0aW9uIGNvbnN1bWVPQXV0aENhbGxiYWNrUXVlcnlQYXJhbXMoKSB7XG4gIGNvbnN0IHJlcXVpcmVkUGFyYW1zID0gW1wiY29kZVwiLCBcInN0YXRlXCJdO1xuICBjb25zdCBvcmlnaW5hbFVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICBmb3IgKGNvbnN0IHBhcmFtIG9mIHJlcXVpcmVkUGFyYW1zKSB7XG4gICAgaWYgKCFvcmlnaW5hbFVybC5zZWFyY2hQYXJhbXMuaGFzKHBhcmFtKSkge1xuICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBxdWVyeSBwYXJhbWV0ZXIgb24gT0F1dGggY2FsbGJhY2s6ICR7cGFyYW19LiBNYXliZSB5b3Ugb3BlbmVkIG9yIHJlbG9hZGVkIHRoZSBvYXV0aC1jYWxsYmFjayBwYWdlIGZyb20geW91ciBoaXN0b3J5P2ApKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBjb25zdCBleHBlY3RlZFN0YXRlID0gb3JpZ2luYWxVcmwuc2VhcmNoUGFyYW1zLmdldChcInN0YXRlXCIpID8/IHRocm93RXJyKFwiVGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuOyBpc24ndCBzdGF0ZSByZXF1aXJlZCBhYm92ZT9cIik7XG4gIGNvbnN0IGNvb2tpZVJlc3VsdCA9IGNvbnN1bWVWZXJpZmllckFuZFN0YXRlQ29va2llKGV4cGVjdGVkU3RhdGUpO1xuICBpZiAoIWNvb2tpZVJlc3VsdCkge1xuICAgIGNvbnNvbGUud2FybihkZWluZGVudGBcbiAgICAgIFN0YWNrIGZvdW5kIGFuIG91dGVyIE9BdXRoIGNhbGxiYWNrIHN0YXRlIGluIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLCBidXQgbm90IGluIGNvb2tpZXMuXG4gICAgICBcbiAgICAgIFRoaXMgY291bGQgaGF2ZSBtdWx0aXBsZSByZWFzb25zOlxuICAgICAgICAtIFRoZSBjb29raWUgZXhwaXJlZCwgYmVjYXVzZSB0aGUgT0F1dGggZmxvdyB0b29rIHRvbyBsb25nLlxuICAgICAgICAtIFRoZSB1c2VyJ3MgYnJvd3NlciBkZWxldGVkIHRoZSBjb29raWUsIGVpdGhlciBtYW51YWxseSBvciBiZWNhdXNlIG9mIGEgdmVyeSBzdHJpY3QgY29va2llIHBvbGljeS5cbiAgICAgICAgLSBUaGUgY29va2llIHdhcyBhbHJlYWR5IGNvbnN1bWVkIGJ5IHRoaXMgcGFnZSwgYW5kIHRoZSB1c2VyIGFscmVhZHkgbG9nZ2VkIGluLlxuICAgICAgICAtIFlvdSBhcmUgdXNpbmcgYW5vdGhlciBPQXV0aCBjbGllbnQgbGlicmFyeSB3aXRoIHRoZSBzYW1lIGNhbGxiYWNrIFVSTCBhcyBTdGFjay5cbiAgICAgICAgLSBUaGUgdXNlciBvcGVuZWQgdGhlIE9BdXRoIGNhbGxiYWNrIHBhZ2UgZnJvbSB0aGVpciBoaXN0b3J5LlxuXG4gICAgICBFaXRoZXIgd2F5LCBpdCBpcyBwcm9iYWJseSBzYWZlIHRvIGlnbm9yZSB0aGlzIHdhcm5pbmcgdW5sZXNzIHlvdSBhcmUgZGVidWdnaW5nIGFuIE9BdXRoIGlzc3VlLlxuICAgIGApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwob3JpZ2luYWxVcmwpO1xuICBmb3IgKGNvbnN0IHBhcmFtIG9mIHJlcXVpcmVkUGFyYW1zKSB7XG4gICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5kZWxldGUocGFyYW0pO1xuICB9XG4gIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgbmV3VXJsLnRvU3RyaW5nKCkpO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsVXJsLFxuICAgIGNvZGVWZXJpZmllcjogY29va2llUmVzdWx0LmNvZGVWZXJpZmllcixcbiAgICBzdGF0ZTogZXhwZWN0ZWRTdGF0ZVxuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gY2FsbE9BdXRoQ2FsbGJhY2soaWZhY2UsIHJlZGlyZWN0VXJsKSB7XG4gIGNvbnN0IGNvbnN1bWVkID0gY29uc3VtZU9BdXRoQ2FsbGJhY2tRdWVyeVBhcmFtcygpO1xuICBpZiAoIWNvbnN1bWVkKSByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIFJlc3VsdC5vayhhd2FpdCBpZmFjZS5jYWxsT0F1dGhDYWxsYmFjayh7XG4gICAgICBvYXV0aFBhcmFtczogY29uc3VtZWQub3JpZ2luYWxVcmwuc2VhcmNoUGFyYW1zLFxuICAgICAgcmVkaXJlY3RVcmk6IGNvbnN0cnVjdFJlZGlyZWN0VXJsKHJlZGlyZWN0VXJsLCBcInJlZGlyZWN0VXJpXCIpLFxuICAgICAgY29kZVZlcmlmaWVyOiBjb25zdW1lZC5jb2RlVmVyaWZpZXIsXG4gICAgICBzdGF0ZTogY29uc3VtZWQuc3RhdGVcbiAgICB9KSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoS25vd25FcnJvci5pc0tub3duRXJyb3IoZSkpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiRXJyb3Igc2lnbmluZyBpbiBkdXJpbmcgT0F1dGggY2FsbGJhY2suIFBsZWFzZSB0cnkgYWdhaW4uXCIsIHsgY2F1c2U6IGUgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIGFkZE5ld09BdXRoUHJvdmlkZXJPclNjb3BlLFxuICBjYWxsT0F1dGhDYWxsYmFjayxcbiAgc2lnbkluV2l0aE9BdXRoXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/auth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/cookie.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/cookie.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consumeVerifierAndStateCookie: () => (/* binding */ consumeVerifierAndStateCookie),\n/* harmony export */   createBrowserCookieHelper: () => (/* binding */ createBrowserCookieHelper),\n/* harmony export */   createCookieHelper: () => (/* binding */ createCookieHelper),\n/* harmony export */   createPlaceholderCookieHelper: () => (/* binding */ createPlaceholderCookieHelper),\n/* harmony export */   deleteCookie: () => (/* binding */ deleteCookie),\n/* harmony export */   deleteCookieClient: () => (/* binding */ deleteCookieClient),\n/* harmony export */   getCookie: () => (/* binding */ getCookie),\n/* harmony export */   getCookieClient: () => (/* binding */ getCookieClient),\n/* harmony export */   saveVerifierAndState: () => (/* binding */ saveVerifierAndState),\n/* harmony export */   setCookie: () => (/* binding */ setCookie),\n/* harmony export */   setCookieClient: () => (/* binding */ setCookieClient),\n/* harmony export */   setOrDeleteCookie: () => (/* binding */ setOrDeleteCookie),\n/* harmony export */   setOrDeleteCookieClient: () => (/* binding */ setOrDeleteCookieClient)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_sc_force_react_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-sc/force-react-server */ \"(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/index.react-server.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/env */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-cookie */ \"(app-pages-browser)/./node_modules/js-cookie/dist/js.cookie.mjs\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! oauth4webapi */ \"(app-pages-browser)/./node_modules/oauth4webapi/build/index.js\");\n// src/lib/cookie.ts\n\n\n\n\n\nfunction ensureClient() {\n  if (!(0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_1__.isBrowserLike)()) {\n    throw new Error(\"cookieClient functions can only be called in a browser environment, yet window is undefined\");\n  }\n}\nasync function createPlaceholderCookieHelper() {\n  function throwError() {\n    throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"Throwing cookie helper is just a placeholder. This should never be called\");\n  }\n  return {\n    get: throwError,\n    set: throwError,\n    setOrDelete: throwError,\n    delete: throwError\n  };\n}\nasync function createCookieHelper() {\n  if ((0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_1__.isBrowserLike)()) {\n    return createBrowserCookieHelper();\n  } else {\n    return createNextCookieHelper(\n      await (0,_stackframe_stack_sc_force_react_server__WEBPACK_IMPORTED_MODULE_0__.cookies)(),\n      await (0,_stackframe_stack_sc_force_react_server__WEBPACK_IMPORTED_MODULE_0__.headers)()\n    );\n  }\n}\nfunction createBrowserCookieHelper() {\n  return {\n    get: getCookieClient,\n    set: setCookieClient,\n    setOrDelete: setOrDeleteCookieClient,\n    delete: deleteCookieClient\n  };\n}\nfunction handleCookieError(e, options) {\n  if (e instanceof Error && e.message.includes(\"Cookies can only be modified in\")) {\n    if (options.noOpIfServerComponent) {\n    } else {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"Attempted to set cookie in server component. Pass { noOpIfServerComponent: true } in the options of Stack's cookie functions if this is intentional and you want to ignore this error. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options\");\n    }\n  } else {\n    throw e;\n  }\n}\nfunction createNextCookieHelper(rscCookiesAwaited, rscHeadersAwaited) {\n  const cookieHelper = {\n    get: (name) => {\n      try {\n        rscCookiesAwaited.set(\"stack-is-https\", \"true\", { secure: true });\n      } catch (e) {\n        if (typeof e === \"object\" && e !== null && \"message\" in e && typeof e.message === \"string\" && e.message.includes(\"Cookies can only be modified in a Server Action or Route Handler\")) {\n        } else {\n          throw e;\n        }\n      }\n      return rscCookiesAwaited.get(name)?.value ?? null;\n    },\n    set: (name, value, options) => {\n      let isSecureCookie = !!rscCookiesAwaited.get(\"stack-is-https\");\n      if (rscHeadersAwaited.get(\"x-forwarded-proto\") === \"https\") {\n        isSecureCookie = true;\n      }\n      try {\n        rscCookiesAwaited.set(name, value, {\n          secure: isSecureCookie,\n          maxAge: options.maxAge\n        });\n      } catch (e) {\n        handleCookieError(e, options);\n      }\n    },\n    setOrDelete(name, value, options = {}) {\n      if (value === null) {\n        this.delete(name, options);\n      } else {\n        this.set(name, value, options);\n      }\n    },\n    delete(name, options = {}) {\n      try {\n        rscCookiesAwaited.delete(name);\n      } catch (e) {\n        handleCookieError(e, options);\n      }\n    }\n  };\n  return cookieHelper;\n}\nfunction getCookieClient(name) {\n  ensureClient();\n  js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].set(\"stack-is-https\", \"true\", { secure: true });\n  return js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(name) ?? null;\n}\nasync function getCookie(name) {\n  const cookieHelper = await createCookieHelper();\n  return cookieHelper.get(name);\n}\nfunction setOrDeleteCookieClient(name, value, options = {}) {\n  ensureClient();\n  if (value === null) {\n    deleteCookieClient(name, options);\n  } else {\n    setCookieClient(name, value, options);\n  }\n}\nasync function setOrDeleteCookie(name, value, options = {}) {\n  const cookieHelper = await createCookieHelper();\n  cookieHelper.setOrDelete(name, value, options);\n}\nfunction deleteCookieClient(name, options = {}) {\n  ensureClient();\n  js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].remove(name);\n}\nasync function deleteCookie(name, options = {}) {\n  const cookieHelper = await createCookieHelper();\n  cookieHelper.delete(name, options);\n}\nfunction setCookieClient(name, value, options = {}) {\n  ensureClient();\n  js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].set(name, value, {\n    expires: options.maxAge === void 0 ? void 0 : new Date(Date.now() + options.maxAge * 1e3)\n  });\n}\nasync function setCookie(name, value, options = {}) {\n  const cookieHelper = await createCookieHelper();\n  cookieHelper.set(name, value, options);\n}\nasync function saveVerifierAndState() {\n  const codeVerifier = (0,oauth4webapi__WEBPACK_IMPORTED_MODULE_4__.generateRandomCodeVerifier)();\n  const codeChallenge = await (0,oauth4webapi__WEBPACK_IMPORTED_MODULE_4__.calculatePKCECodeChallenge)(codeVerifier);\n  const state = (0,oauth4webapi__WEBPACK_IMPORTED_MODULE_4__.generateRandomState)();\n  await setCookie(\"stack-oauth-outer-\" + state, codeVerifier, { maxAge: 60 * 60 });\n  return {\n    codeChallenge,\n    state\n  };\n}\nfunction consumeVerifierAndStateCookie(state) {\n  ensureClient();\n  const cookieName = \"stack-oauth-outer-\" + state;\n  const codeVerifier = getCookieClient(cookieName);\n  if (!codeVerifier) {\n    return null;\n  }\n  deleteCookieClient(cookieName);\n  return {\n    codeVerifier\n  };\n}\n\n//# sourceMappingURL=cookie.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvY29va2llLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3VHO0FBQy9CO0FBQ1M7QUFDakQ7QUFDMkU7QUFDM0c7QUFDQSxPQUFPLHNGQUFhO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJGQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNGQUFhO0FBQ25CO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsWUFBWSxnRkFBVTtBQUN0QixZQUFZLGdGQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sZ0JBQWdCLDJGQUFtQixzREFBc0QsOEJBQThCO0FBQ3ZIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEUsUUFBUTtBQUNSO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGlEQUFPLGlDQUFpQyxjQUFjO0FBQ3hELFNBQVMsaURBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBLEVBQUUsaURBQU87QUFDVDtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0VBQTBCO0FBQ2pELDhCQUE4Qix3RUFBMEI7QUFDeEQsZ0JBQWdCLGlFQUFtQjtBQUNuQyxnRUFBZ0UsaUJBQWlCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcY29va2llLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvY29va2llLnRzXG5pbXBvcnQgeyBjb29raWVzIGFzIHJzY0Nvb2tpZXMsIGhlYWRlcnMgYXMgcnNjSGVhZGVycyB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zYy9mb3JjZS1yZWFjdC1zZXJ2ZXJcIjtcbmltcG9ydCB7IGlzQnJvd3Nlckxpa2UgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvZW52XCI7XG5pbXBvcnQgeyBTdGFja0Fzc2VydGlvbkVycm9yIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL2Vycm9yc1wiO1xuaW1wb3J0IENvb2tpZXMgZnJvbSBcImpzLWNvb2tpZVwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUEtDRUNvZGVDaGFsbGVuZ2UsIGdlbmVyYXRlUmFuZG9tQ29kZVZlcmlmaWVyLCBnZW5lcmF0ZVJhbmRvbVN0YXRlIH0gZnJvbSBcIm9hdXRoNHdlYmFwaVwiO1xuZnVuY3Rpb24gZW5zdXJlQ2xpZW50KCkge1xuICBpZiAoIWlzQnJvd3Nlckxpa2UoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvb2tpZUNsaWVudCBmdW5jdGlvbnMgY2FuIG9ubHkgYmUgY2FsbGVkIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudCwgeWV0IHdpbmRvdyBpcyB1bmRlZmluZWRcIik7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVBsYWNlaG9sZGVyQ29va2llSGVscGVyKCkge1xuICBmdW5jdGlvbiB0aHJvd0Vycm9yKCkge1xuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiVGhyb3dpbmcgY29va2llIGhlbHBlciBpcyBqdXN0IGEgcGxhY2Vob2xkZXIuIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZFwiKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldDogdGhyb3dFcnJvcixcbiAgICBzZXQ6IHRocm93RXJyb3IsXG4gICAgc2V0T3JEZWxldGU6IHRocm93RXJyb3IsXG4gICAgZGVsZXRlOiB0aHJvd0Vycm9yXG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDb29raWVIZWxwZXIoKSB7XG4gIGlmIChpc0Jyb3dzZXJMaWtlKCkpIHtcbiAgICByZXR1cm4gY3JlYXRlQnJvd3NlckNvb2tpZUhlbHBlcigpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVOZXh0Q29va2llSGVscGVyKFxuICAgICAgYXdhaXQgcnNjQ29va2llcygpLFxuICAgICAgYXdhaXQgcnNjSGVhZGVycygpXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlckNvb2tpZUhlbHBlcigpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGdldENvb2tpZUNsaWVudCxcbiAgICBzZXQ6IHNldENvb2tpZUNsaWVudCxcbiAgICBzZXRPckRlbGV0ZTogc2V0T3JEZWxldGVDb29raWVDbGllbnQsXG4gICAgZGVsZXRlOiBkZWxldGVDb29raWVDbGllbnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUNvb2tpZUVycm9yKGUsIG9wdGlvbnMpIHtcbiAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UuaW5jbHVkZXMoXCJDb29raWVzIGNhbiBvbmx5IGJlIG1vZGlmaWVkIGluXCIpKSB7XG4gICAgaWYgKG9wdGlvbnMubm9PcElmU2VydmVyQ29tcG9uZW50KSB7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiQXR0ZW1wdGVkIHRvIHNldCBjb29raWUgaW4gc2VydmVyIGNvbXBvbmVudC4gUGFzcyB7IG5vT3BJZlNlcnZlckNvbXBvbmVudDogdHJ1ZSB9IGluIHRoZSBvcHRpb25zIG9mIFN0YWNrJ3MgY29va2llIGZ1bmN0aW9ucyBpZiB0aGlzIGlzIGludGVudGlvbmFsIGFuZCB5b3Ugd2FudCB0byBpZ25vcmUgdGhpcyBlcnJvci4gUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvY29va2llcyNvcHRpb25zXCIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBlO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVOZXh0Q29va2llSGVscGVyKHJzY0Nvb2tpZXNBd2FpdGVkLCByc2NIZWFkZXJzQXdhaXRlZCkge1xuICBjb25zdCBjb29raWVIZWxwZXIgPSB7XG4gICAgZ2V0OiAobmFtZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnNjQ29va2llc0F3YWl0ZWQuc2V0KFwic3RhY2staXMtaHR0cHNcIiwgXCJ0cnVlXCIsIHsgc2VjdXJlOiB0cnVlIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAodHlwZW9mIGUgPT09IFwib2JqZWN0XCIgJiYgZSAhPT0gbnVsbCAmJiBcIm1lc3NhZ2VcIiBpbiBlICYmIHR5cGVvZiBlLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiYgZS5tZXNzYWdlLmluY2x1ZGVzKFwiQ29va2llcyBjYW4gb25seSBiZSBtb2RpZmllZCBpbiBhIFNlcnZlciBBY3Rpb24gb3IgUm91dGUgSGFuZGxlclwiKSkge1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByc2NDb29raWVzQXdhaXRlZC5nZXQobmFtZSk/LnZhbHVlID8/IG51bGw7XG4gICAgfSxcbiAgICBzZXQ6IChuYW1lLCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgICAgbGV0IGlzU2VjdXJlQ29va2llID0gISFyc2NDb29raWVzQXdhaXRlZC5nZXQoXCJzdGFjay1pcy1odHRwc1wiKTtcbiAgICAgIGlmIChyc2NIZWFkZXJzQXdhaXRlZC5nZXQoXCJ4LWZvcndhcmRlZC1wcm90b1wiKSA9PT0gXCJodHRwc1wiKSB7XG4gICAgICAgIGlzU2VjdXJlQ29va2llID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHJzY0Nvb2tpZXNBd2FpdGVkLnNldChuYW1lLCB2YWx1ZSwge1xuICAgICAgICAgIHNlY3VyZTogaXNTZWN1cmVDb29raWUsXG4gICAgICAgICAgbWF4QWdlOiBvcHRpb25zLm1heEFnZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaGFuZGxlQ29va2llRXJyb3IoZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRPckRlbGV0ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5kZWxldGUobmFtZSwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWxldGUobmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICB0cnkge1xuICAgICAgICByc2NDb29raWVzQXdhaXRlZC5kZWxldGUobmFtZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGhhbmRsZUNvb2tpZUVycm9yKGUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGNvb2tpZUhlbHBlcjtcbn1cbmZ1bmN0aW9uIGdldENvb2tpZUNsaWVudChuYW1lKSB7XG4gIGVuc3VyZUNsaWVudCgpO1xuICBDb29raWVzLnNldChcInN0YWNrLWlzLWh0dHBzXCIsIFwidHJ1ZVwiLCB7IHNlY3VyZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIENvb2tpZXMuZ2V0KG5hbWUpID8/IG51bGw7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICBjb25zdCBjb29raWVIZWxwZXIgPSBhd2FpdCBjcmVhdGVDb29raWVIZWxwZXIoKTtcbiAgcmV0dXJuIGNvb2tpZUhlbHBlci5nZXQobmFtZSk7XG59XG5mdW5jdGlvbiBzZXRPckRlbGV0ZUNvb2tpZUNsaWVudChuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGVuc3VyZUNsaWVudCgpO1xuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICBkZWxldGVDb29raWVDbGllbnQobmFtZSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2V0Q29va2llQ2xpZW50KG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gc2V0T3JEZWxldGVDb29raWUobmFtZSwgdmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb29raWVIZWxwZXIgPSBhd2FpdCBjcmVhdGVDb29raWVIZWxwZXIoKTtcbiAgY29va2llSGVscGVyLnNldE9yRGVsZXRlKG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZUNvb2tpZUNsaWVudChuYW1lLCBvcHRpb25zID0ge30pIHtcbiAgZW5zdXJlQ2xpZW50KCk7XG4gIENvb2tpZXMucmVtb3ZlKG5hbWUpO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29va2llKG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb29raWVIZWxwZXIgPSBhd2FpdCBjcmVhdGVDb29raWVIZWxwZXIoKTtcbiAgY29va2llSGVscGVyLmRlbGV0ZShuYW1lLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHNldENvb2tpZUNsaWVudChuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGVuc3VyZUNsaWVudCgpO1xuICBDb29raWVzLnNldChuYW1lLCB2YWx1ZSwge1xuICAgIGV4cGlyZXM6IG9wdGlvbnMubWF4QWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgb3B0aW9ucy5tYXhBZ2UgKiAxZTMpXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gc2V0Q29va2llKG5hbWUsIHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgY29va2llSGVscGVyID0gYXdhaXQgY3JlYXRlQ29va2llSGVscGVyKCk7XG4gIGNvb2tpZUhlbHBlci5zZXQobmFtZSwgdmFsdWUsIG9wdGlvbnMpO1xufVxuYXN5bmMgZnVuY3Rpb24gc2F2ZVZlcmlmaWVyQW5kU3RhdGUoKSB7XG4gIGNvbnN0IGNvZGVWZXJpZmllciA9IGdlbmVyYXRlUmFuZG9tQ29kZVZlcmlmaWVyKCk7XG4gIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBhd2FpdCBjYWxjdWxhdGVQS0NFQ29kZUNoYWxsZW5nZShjb2RlVmVyaWZpZXIpO1xuICBjb25zdCBzdGF0ZSA9IGdlbmVyYXRlUmFuZG9tU3RhdGUoKTtcbiAgYXdhaXQgc2V0Q29va2llKFwic3RhY2stb2F1dGgtb3V0ZXItXCIgKyBzdGF0ZSwgY29kZVZlcmlmaWVyLCB7IG1heEFnZTogNjAgKiA2MCB9KTtcbiAgcmV0dXJuIHtcbiAgICBjb2RlQ2hhbGxlbmdlLFxuICAgIHN0YXRlXG4gIH07XG59XG5mdW5jdGlvbiBjb25zdW1lVmVyaWZpZXJBbmRTdGF0ZUNvb2tpZShzdGF0ZSkge1xuICBlbnN1cmVDbGllbnQoKTtcbiAgY29uc3QgY29va2llTmFtZSA9IFwic3RhY2stb2F1dGgtb3V0ZXItXCIgKyBzdGF0ZTtcbiAgY29uc3QgY29kZVZlcmlmaWVyID0gZ2V0Q29va2llQ2xpZW50KGNvb2tpZU5hbWUpO1xuICBpZiAoIWNvZGVWZXJpZmllcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRlbGV0ZUNvb2tpZUNsaWVudChjb29raWVOYW1lKTtcbiAgcmV0dXJuIHtcbiAgICBjb2RlVmVyaWZpZXJcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGNvbnN1bWVWZXJpZmllckFuZFN0YXRlQ29va2llLFxuICBjcmVhdGVCcm93c2VyQ29va2llSGVscGVyLFxuICBjcmVhdGVDb29raWVIZWxwZXIsXG4gIGNyZWF0ZVBsYWNlaG9sZGVyQ29va2llSGVscGVyLFxuICBkZWxldGVDb29raWUsXG4gIGRlbGV0ZUNvb2tpZUNsaWVudCxcbiAgZ2V0Q29va2llLFxuICBnZXRDb29raWVDbGllbnQsXG4gIHNhdmVWZXJpZmllckFuZFN0YXRlLFxuICBzZXRDb29raWUsXG4gIHNldENvb2tpZUNsaWVudCxcbiAgc2V0T3JEZWxldGVDb29raWUsXG4gIHNldE9yRGVsZXRlQ29va2llQ2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29va2llLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/cookie.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/hooks.js":
/*!**************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/hooks.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useStackApp: () => (/* binding */ useStackApp),\n/* harmony export */   useUser: () => (/* binding */ useUser)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _providers_stack_provider_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../providers/stack-provider-client.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js\");\n// src/lib/hooks.tsx\n\n\nfunction useUser(options = {}) {\n  const stackApp = useStackApp(options);\n  if (options.projectIdMustMatch && stackApp.projectId !== options.projectIdMustMatch) {\n    throw new Error(\"Unexpected project ID in useStackApp: \" + stackApp.projectId);\n  }\n  if (options.projectIdMustMatch === \"internal\") {\n    return stackApp.useUser(options);\n  } else {\n    return stackApp.useUser(options);\n  }\n}\nfunction useStackApp(options = {}) {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_providers_stack_provider_client_js__WEBPACK_IMPORTED_MODULE_1__.StackContext);\n  if (context === null) {\n    throw new Error(\"useStackApp must be used within a StackProvider\");\n  }\n  const stackApp = context.app;\n  if (options.projectIdMustMatch && stackApp.projectId !== options.projectIdMustMatch) {\n    throw new Error(\"Unexpected project ID in useStackApp: \" + stackApp.projectId);\n  }\n  return stackApp;\n}\n\n//# sourceMappingURL=hooks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvaG9va3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNtQztBQUNrQztBQUNyRSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxrQkFBa0IsaURBQVUsQ0FBQyw2RUFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcaG9va3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9ob29rcy50c3hcbmltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN0YWNrQ29udGV4dCB9IGZyb20gXCIuLi9wcm92aWRlcnMvc3RhY2stcHJvdmlkZXItY2xpZW50LmpzXCI7XG5mdW5jdGlvbiB1c2VVc2VyKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzdGFja0FwcCA9IHVzZVN0YWNrQXBwKG9wdGlvbnMpO1xuICBpZiAob3B0aW9ucy5wcm9qZWN0SWRNdXN0TWF0Y2ggJiYgc3RhY2tBcHAucHJvamVjdElkICE9PSBvcHRpb25zLnByb2plY3RJZE11c3RNYXRjaCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgcHJvamVjdCBJRCBpbiB1c2VTdGFja0FwcDogXCIgKyBzdGFja0FwcC5wcm9qZWN0SWQpO1xuICB9XG4gIGlmIChvcHRpb25zLnByb2plY3RJZE11c3RNYXRjaCA9PT0gXCJpbnRlcm5hbFwiKSB7XG4gICAgcmV0dXJuIHN0YWNrQXBwLnVzZVVzZXIob3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YWNrQXBwLnVzZVVzZXIob3B0aW9ucyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZVN0YWNrQXBwKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChTdGFja0NvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZVN0YWNrQXBwIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBTdGFja1Byb3ZpZGVyXCIpO1xuICB9XG4gIGNvbnN0IHN0YWNrQXBwID0gY29udGV4dC5hcHA7XG4gIGlmIChvcHRpb25zLnByb2plY3RJZE11c3RNYXRjaCAmJiBzdGFja0FwcC5wcm9qZWN0SWQgIT09IG9wdGlvbnMucHJvamVjdElkTXVzdE1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBwcm9qZWN0IElEIGluIHVzZVN0YWNrQXBwOiBcIiArIHN0YWNrQXBwLnByb2plY3RJZCk7XG4gIH1cbiAgcmV0dXJuIHN0YWNrQXBwO1xufVxuZXhwb3J0IHtcbiAgdXNlU3RhY2tBcHAsXG4gIHVzZVVzZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob29rcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/hooks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/api-keys/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/api-keys/index.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiKeyCreationOptionsToCrud: () => (/* binding */ apiKeyCreationOptionsToCrud),\n/* harmony export */   apiKeyUpdateOptionsToCrud: () => (/* binding */ apiKeyUpdateOptionsToCrud)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/objects */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n// src/lib/stack-app/api-keys/index.ts\n\nasync function apiKeyCreationOptionsToCrud(type, userIdOrTeamId, options) {\n  return {\n    description: options.description,\n    expires_at_millis: options.expiresAt == null ? options.expiresAt : options.expiresAt.getTime(),\n    is_public: options.isPublic,\n    ...type === \"user\" ? { user_id: userIdOrTeamId } : { team_id: userIdOrTeamId }\n  };\n}\nasync function apiKeyUpdateOptionsToCrud(type, options) {\n  return (0,_stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_0__.filterUndefined)({\n    description: options.description,\n    expires_at_millis: options.expiresAt == null ? options.expiresAt : options.expiresAt.getTime(),\n    revoked: options.revoked\n  });\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwaS1rZXlzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQzhFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCLElBQUk7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0RkFBZTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFJRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcc3RhY2stYXBwXFxhcGkta2V5c1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9zdGFjay1hcHAvYXBpLWtleXMvaW5kZXgudHNcbmltcG9ydCB7IGZpbHRlclVuZGVmaW5lZCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9vYmplY3RzXCI7XG5hc3luYyBmdW5jdGlvbiBhcGlLZXlDcmVhdGlvbk9wdGlvbnNUb0NydWQodHlwZSwgdXNlcklkT3JUZWFtSWQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkZXNjcmlwdGlvbjogb3B0aW9ucy5kZXNjcmlwdGlvbixcbiAgICBleHBpcmVzX2F0X21pbGxpczogb3B0aW9ucy5leHBpcmVzQXQgPT0gbnVsbCA/IG9wdGlvbnMuZXhwaXJlc0F0IDogb3B0aW9ucy5leHBpcmVzQXQuZ2V0VGltZSgpLFxuICAgIGlzX3B1YmxpYzogb3B0aW9ucy5pc1B1YmxpYyxcbiAgICAuLi50eXBlID09PSBcInVzZXJcIiA/IHsgdXNlcl9pZDogdXNlcklkT3JUZWFtSWQgfSA6IHsgdGVhbV9pZDogdXNlcklkT3JUZWFtSWQgfVxuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gYXBpS2V5VXBkYXRlT3B0aW9uc1RvQ3J1ZCh0eXBlLCBvcHRpb25zKSB7XG4gIHJldHVybiBmaWx0ZXJVbmRlZmluZWQoe1xuICAgIGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uLFxuICAgIGV4cGlyZXNfYXRfbWlsbGlzOiBvcHRpb25zLmV4cGlyZXNBdCA9PSBudWxsID8gb3B0aW9ucy5leHBpcmVzQXQgOiBvcHRpb25zLmV4cGlyZXNBdC5nZXRUaW1lKCksXG4gICAgcmV2b2tlZDogb3B0aW9ucy5yZXZva2VkXG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgYXBpS2V5Q3JlYXRpb25PcHRpb25zVG9DcnVkLFxuICBhcGlLZXlVcGRhdGVPcHRpb25zVG9DcnVkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/api-keys/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/admin-app-impl.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/admin-app-impl.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _StackAdminAppImplIncomplete: () => (/* binding */ _StackAdminAppImplIncomplete)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_helpers_production_mode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackframe/stack-shared/dist/helpers/production-mode */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/helpers/production-mode.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/objects */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/results */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/common.js\");\n/* harmony import */ var _internal_api_keys_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../internal-api-keys/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/internal-api-keys/index.js\");\n/* harmony import */ var _permissions_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../permissions/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/permissions/index.js\");\n/* harmony import */ var _projects_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../projects/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/projects/index.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/common.js\");\n/* harmony import */ var _server_app_impl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./server-app-impl.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/server-app-impl.js\");\n// src/lib/stack-app/apps/implementations/admin-app-impl.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _StackAdminAppImplIncomplete = class extends _server_app_impl_js__WEBPACK_IMPORTED_MODULE_6__._StackServerAppImplIncomplete {\n  constructor(options) {\n    super({\n      interface: new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.StackAdminInterface({\n        getBaseUrl: () => (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getBaseUrl)(options.baseUrl),\n        projectId: options.projectId ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultProjectId)(),\n        extraRequestHeaders: options.extraRequestHeaders ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultExtraRequestHeaders)(),\n        clientVersion: _common_js__WEBPACK_IMPORTED_MODULE_7__.clientVersion,\n        ...\"projectOwnerSession\" in options ? {\n          projectOwnerSession: options.projectOwnerSession\n        } : {\n          publishableClientKey: options.publishableClientKey ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultPublishableClientKey)(),\n          secretServerKey: options.secretServerKey ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultSecretServerKey)(),\n          superSecretAdminKey: options.superSecretAdminKey ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultSuperSecretAdminKey)()\n        }\n      }),\n      baseUrl: options.baseUrl,\n      extraRequestHeaders: options.extraRequestHeaders,\n      projectId: options.projectId,\n      tokenStore: options.tokenStore,\n      urls: options.urls,\n      oauthScopesOnSignIn: options.oauthScopesOnSignIn,\n      redirectMethod: options.redirectMethod\n    });\n    this._adminProjectCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.getProject();\n    });\n    this._internalApiKeysCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      const res = await this._interface.listInternalApiKeys();\n      return res;\n    });\n    this._adminEmailThemeCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([id]) => {\n      return await this._interface.getEmailTheme(id);\n    });\n    this._adminEmailThemesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.listEmailThemes();\n    });\n    this._adminEmailTemplatesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.listInternalEmailTemplates();\n    });\n    this._adminEmailDraftsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.listInternalEmailDrafts();\n    });\n    this._adminTeamPermissionDefinitionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.listTeamPermissionDefinitions();\n    });\n    this._adminProjectPermissionDefinitionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.listProjectPermissionDefinitions();\n    });\n    this._svixTokenCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.getSvixToken();\n    });\n    this._metricsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([includeAnonymous]) => {\n      return await this._interface.getMetrics(includeAnonymous);\n    });\n    this._emailPreviewCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([themeId, themeTsxSource, templateId, templateTsxSource]) => {\n      return await this._interface.renderEmailPreview({ themeId, themeTsxSource, templateId, templateTsxSource });\n    });\n    this._configOverridesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      return await this._interface.getConfig();\n    });\n    this._stripeAccountInfoCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async () => {\n      try {\n        return await this._interface.getStripeAccountInfo();\n      } catch (error) {\n        if (error?.status === 404) {\n          return null;\n        }\n        throw error;\n      }\n    });\n    this._transactionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([cursor, limit, type, customerType]) => {\n      return await this._interface.listTransactions({ cursor, limit, type, customerType });\n    });\n  }\n  _adminConfigFromCrud(data) {\n    return JSON.parse(data.config_string);\n  }\n  _adminOwnedProjectFromCrud(data, onRefresh) {\n    if (this._tokenStoreInit !== null) {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"Owned apps must always have tokenStore === null \\u2014 did you not create this project with app._createOwnedApp()?\");\n    }\n    return {\n      ...this._adminProjectFromCrud(data, onRefresh),\n      app: this\n    };\n  }\n  _adminProjectFromCrud(data, onRefresh) {\n    if (data.id !== this.projectId) {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(`The project ID of the provided project JSON (${data.id}) does not match the project ID of the app (${this.projectId})!`);\n    }\n    const app = this;\n    return {\n      id: data.id,\n      displayName: data.display_name,\n      description: data.description,\n      createdAt: new Date(data.created_at_millis),\n      isProductionMode: data.is_production_mode,\n      ownerTeamId: data.owner_team_id,\n      logoUrl: data.logo_url,\n      fullLogoUrl: data.full_logo_url,\n      config: {\n        signUpEnabled: data.config.sign_up_enabled,\n        credentialEnabled: data.config.credential_enabled,\n        magicLinkEnabled: data.config.magic_link_enabled,\n        passkeyEnabled: data.config.passkey_enabled,\n        clientTeamCreationEnabled: data.config.client_team_creation_enabled,\n        clientUserDeletionEnabled: data.config.client_user_deletion_enabled,\n        allowLocalhost: data.config.allow_localhost,\n        oauthAccountMergeStrategy: data.config.oauth_account_merge_strategy,\n        allowUserApiKeys: data.config.allow_user_api_keys,\n        allowTeamApiKeys: data.config.allow_team_api_keys,\n        oauthProviders: data.config.oauth_providers.map((p) => p.type === \"shared\" ? {\n          id: p.id,\n          type: \"shared\"\n        } : {\n          id: p.id,\n          type: \"standard\",\n          clientId: p.client_id ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Client ID is missing\"),\n          clientSecret: p.client_secret ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Client secret is missing\"),\n          facebookConfigId: p.facebook_config_id,\n          microsoftTenantId: p.microsoft_tenant_id\n        }),\n        emailConfig: data.config.email_config.type === \"shared\" ? {\n          type: \"shared\"\n        } : {\n          type: \"standard\",\n          host: data.config.email_config.host ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email host is missing\"),\n          port: data.config.email_config.port ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email port is missing\"),\n          username: data.config.email_config.username ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email username is missing\"),\n          password: data.config.email_config.password ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email password is missing\"),\n          senderName: data.config.email_config.sender_name ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email sender name is missing\"),\n          senderEmail: data.config.email_config.sender_email ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email sender email is missing\")\n        },\n        emailTheme: data.config.email_theme,\n        domains: data.config.domains.map((d) => ({\n          domain: d.domain,\n          handlerPath: d.handler_path\n        })),\n        createTeamOnSignUp: data.config.create_team_on_sign_up,\n        teamCreatorDefaultPermissions: data.config.team_creator_default_permissions,\n        teamMemberDefaultPermissions: data.config.team_member_default_permissions,\n        userDefaultPermissions: data.config.user_default_permissions\n      },\n      async getConfig() {\n        return app._adminConfigFromCrud(await app._interface.getConfig());\n      },\n      useConfig() {\n        const config = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._configOverridesCache, [], \"useConfig()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => app._adminConfigFromCrud(config), [config]);\n      },\n      async updateConfig(configOverride) {\n        await app._interface.updateConfig({ configOverride });\n        await app._configOverridesCache.refresh([]);\n      },\n      async update(update) {\n        const updateOptions = (0,_projects_index_js__WEBPACK_IMPORTED_MODULE_8__.adminProjectUpdateOptionsToCrud)(update);\n        await app._interface.updateProject(updateOptions);\n        await onRefresh();\n      },\n      async delete() {\n        await app._interface.deleteProject();\n      },\n      async transfer(user, newTeamId) {\n        await app._interface.transferProject(user._internalSession, newTeamId);\n        await onRefresh();\n      },\n      async getProductionModeErrors() {\n        return (0,_stackframe_stack_shared_dist_helpers_production_mode__WEBPACK_IMPORTED_MODULE_1__.getProductionModeErrors)(data);\n      },\n      useProductionModeErrors() {\n        return (0,_stackframe_stack_shared_dist_helpers_production_mode__WEBPACK_IMPORTED_MODULE_1__.getProductionModeErrors)(data);\n      }\n    };\n  }\n  _adminEmailTemplateFromCrud(data) {\n    return {\n      type: data.type,\n      subject: data.subject,\n      content: data.content,\n      isDefault: data.is_default\n    };\n  }\n  async getProject() {\n    return this._adminProjectFromCrud(\n      _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._adminProjectCache.getOrWait([], \"write-only\")),\n      () => this._refreshProject()\n    );\n  }\n  useProject() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminProjectCache, [], \"useProjectAdmin()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => this._adminProjectFromCrud(\n      crud,\n      () => this._refreshProject()\n    ), [crud]);\n  }\n  _createInternalApiKeyBaseFromCrud(data) {\n    const app = this;\n    return {\n      id: data.id,\n      description: data.description,\n      expiresAt: new Date(data.expires_at_millis),\n      manuallyRevokedAt: data.manually_revoked_at_millis ? new Date(data.manually_revoked_at_millis) : null,\n      createdAt: new Date(data.created_at_millis),\n      isValid() {\n        return this.whyInvalid() === null;\n      },\n      whyInvalid() {\n        if (this.expiresAt.getTime() < Date.now()) return \"expired\";\n        if (this.manuallyRevokedAt) return \"manually-revoked\";\n        return null;\n      },\n      async revoke() {\n        const res = await app._interface.revokeInternalApiKeyById(data.id);\n        await app._refreshInternalApiKeys();\n        return res;\n      }\n    };\n  }\n  _createInternalApiKeyFromCrud(data) {\n    return {\n      ...this._createInternalApiKeyBaseFromCrud(data),\n      publishableClientKey: data.publishable_client_key ? { lastFour: data.publishable_client_key.last_four } : null,\n      secretServerKey: data.secret_server_key ? { lastFour: data.secret_server_key.last_four } : null,\n      superSecretAdminKey: data.super_secret_admin_key ? { lastFour: data.super_secret_admin_key.last_four } : null\n    };\n  }\n  _createInternalApiKeyFirstViewFromCrud(data) {\n    return {\n      ...this._createInternalApiKeyBaseFromCrud(data),\n      publishableClientKey: data.publishable_client_key,\n      secretServerKey: data.secret_server_key,\n      superSecretAdminKey: data.super_secret_admin_key\n    };\n  }\n  async listInternalApiKeys() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._internalApiKeysCache.getOrWait([], \"write-only\"));\n    return crud.map((j) => this._createInternalApiKeyFromCrud(j));\n  }\n  useInternalApiKeys() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._internalApiKeysCache, [], \"useInternalApiKeys()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud.map((j) => this._createInternalApiKeyFromCrud(j));\n    }, [crud]);\n  }\n  async createInternalApiKey(options) {\n    const crud = await this._interface.createInternalApiKey((0,_internal_api_keys_index_js__WEBPACK_IMPORTED_MODULE_9__.internalApiKeyCreateOptionsToCrud)(options));\n    await this._refreshInternalApiKeys();\n    return this._createInternalApiKeyFirstViewFromCrud(crud);\n  }\n  useEmailThemes() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminEmailThemesCache, [], \"useEmailThemes()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud.map((theme) => ({\n        id: theme.id,\n        displayName: theme.display_name\n      }));\n    }, [crud]);\n  }\n  useEmailTemplates() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminEmailTemplatesCache, [], \"useEmailTemplates()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud.map((template) => ({\n        id: template.id,\n        displayName: template.display_name,\n        themeId: template.theme_id,\n        tsxSource: template.tsx_source\n      }));\n    }, [crud]);\n  }\n  useEmailDrafts() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminEmailDraftsCache, [], \"useEmailDrafts()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud.map((draft) => ({\n        id: draft.id,\n        displayName: draft.display_name,\n        themeId: draft.theme_id,\n        tsxSource: draft.tsx_source,\n        sentAt: draft.sent_at_millis ? new Date(draft.sent_at_millis) : null\n      }));\n    }, [crud]);\n  }\n  async listEmailThemes() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._adminEmailThemesCache.getOrWait([], \"write-only\"));\n    return crud.map((theme) => ({\n      id: theme.id,\n      displayName: theme.display_name\n    }));\n  }\n  async listEmailTemplates() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._adminEmailTemplatesCache.getOrWait([], \"write-only\"));\n    return crud.map((template) => ({\n      id: template.id,\n      displayName: template.display_name,\n      themeId: template.theme_id,\n      tsxSource: template.tsx_source\n    }));\n  }\n  async listEmailDrafts() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._adminEmailDraftsCache.getOrWait([], \"write-only\"));\n    return crud.map((draft) => ({\n      id: draft.id,\n      displayName: draft.display_name,\n      themeId: draft.theme_id,\n      tsxSource: draft.tsx_source,\n      sentAt: draft.sent_at_millis ? new Date(draft.sent_at_millis) : null\n    }));\n  }\n  async createTeamPermissionDefinition(data) {\n    const crud = await this._interface.createTeamPermissionDefinition((0,_permissions_index_js__WEBPACK_IMPORTED_MODULE_10__.adminTeamPermissionDefinitionCreateOptionsToCrud)(data));\n    await this._adminTeamPermissionDefinitionsCache.refresh([]);\n    return this._serverTeamPermissionDefinitionFromCrud(crud);\n  }\n  async updateTeamPermissionDefinition(permissionId, data) {\n    await this._interface.updateTeamPermissionDefinition(permissionId, (0,_permissions_index_js__WEBPACK_IMPORTED_MODULE_10__.adminTeamPermissionDefinitionUpdateOptionsToCrud)(data));\n    await this._adminTeamPermissionDefinitionsCache.refresh([]);\n  }\n  async deleteTeamPermissionDefinition(permissionId) {\n    await this._interface.deleteTeamPermissionDefinition(permissionId);\n    await this._adminTeamPermissionDefinitionsCache.refresh([]);\n  }\n  async listTeamPermissionDefinitions() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._adminTeamPermissionDefinitionsCache.getOrWait([], \"write-only\"));\n    return crud.map((p) => this._serverTeamPermissionDefinitionFromCrud(p));\n  }\n  useTeamPermissionDefinitions() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminTeamPermissionDefinitionsCache, [], \"usePermissions()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud.map((p) => this._serverTeamPermissionDefinitionFromCrud(p));\n    }, [crud]);\n  }\n  async createProjectPermissionDefinition(data) {\n    const crud = await this._interface.createProjectPermissionDefinition((0,_permissions_index_js__WEBPACK_IMPORTED_MODULE_10__.adminProjectPermissionDefinitionCreateOptionsToCrud)(data));\n    await this._adminProjectPermissionDefinitionsCache.refresh([]);\n    return this._serverProjectPermissionDefinitionFromCrud(crud);\n  }\n  async updateProjectPermissionDefinition(permissionId, data) {\n    await this._interface.updateProjectPermissionDefinition(permissionId, (0,_permissions_index_js__WEBPACK_IMPORTED_MODULE_10__.adminProjectPermissionDefinitionUpdateOptionsToCrud)(data));\n    await this._adminProjectPermissionDefinitionsCache.refresh([]);\n  }\n  async deleteProjectPermissionDefinition(permissionId) {\n    await this._interface.deleteProjectPermissionDefinition(permissionId);\n    await this._adminProjectPermissionDefinitionsCache.refresh([]);\n  }\n  async listProjectPermissionDefinitions() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._adminProjectPermissionDefinitionsCache.getOrWait([], \"write-only\"));\n    return crud.map((p) => this._serverProjectPermissionDefinitionFromCrud(p));\n  }\n  useProjectPermissionDefinitions() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminProjectPermissionDefinitionsCache, [], \"useProjectPermissions()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud.map((p) => this._serverProjectPermissionDefinitionFromCrud(p));\n    }, [crud]);\n  }\n  useSvixToken() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._svixTokenCache, [], \"useSvixToken()\");\n    return crud.token;\n  }\n  async _refreshProject() {\n    await Promise.all([\n      super._refreshProject(),\n      this._adminProjectCache.refresh([])\n    ]);\n  }\n  async _refreshInternalApiKeys() {\n    await this._internalApiKeysCache.refresh([]);\n  }\n  get [_common_js__WEBPACK_IMPORTED_MODULE_11__.stackAppInternalsSymbol]() {\n    return {\n      ...super[_common_js__WEBPACK_IMPORTED_MODULE_11__.stackAppInternalsSymbol],\n      useMetrics: (includeAnonymous = false) => {\n        return (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._metricsCache, [includeAnonymous], \"useMetrics()\");\n      }\n    };\n  }\n  async sendTestEmail(options) {\n    const response = await this._interface.sendTestEmail({\n      recipient_email: options.recipientEmail,\n      email_config: {\n        ...(0,_stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_3__.pick)(options.emailConfig, [\"host\", \"port\", \"username\", \"password\"]),\n        sender_email: options.emailConfig.senderEmail,\n        sender_name: options.emailConfig.senderName\n      }\n    });\n    if (response.success) {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.ok(void 0);\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.error({ errorMessage: response.error_message ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(\"Email test error not specified\") });\n    }\n  }\n  async listSentEmails() {\n    const response = await this._interface.listSentEmails();\n    return response.items.map((email) => ({\n      id: email.id,\n      to: email.to ?? [],\n      subject: email.subject,\n      recipient: email.to?.[0] ?? \"\",\n      sentAt: new Date(email.sent_at_millis),\n      error: email.error\n    }));\n  }\n  async sendSignInInvitationEmail(email, callbackUrl) {\n    await this._interface.sendSignInInvitationEmail(email, callbackUrl);\n  }\n  async createEmailTemplate(displayName) {\n    const result = await this._interface.createEmailTemplate(displayName);\n    await this._adminEmailTemplatesCache.refresh([]);\n    return result;\n  }\n  async createEmailDraft(options) {\n    const result = await this._interface.createEmailDraft({\n      display_name: options.displayName,\n      theme_id: options.themeId,\n      tsx_source: options.tsxSource\n    });\n    await this._adminEmailDraftsCache.refresh([]);\n    return result;\n  }\n  async updateEmailDraft(id, data) {\n    await this._interface.updateEmailDraft(id, {\n      display_name: data.displayName,\n      theme_id: data.themeId,\n      tsx_source: data.tsxSource\n    });\n    await this._adminEmailDraftsCache.refresh([]);\n  }\n  async sendChatMessage(threadId, contextType, messages, abortSignal) {\n    return await this._interface.sendChatMessage(threadId, contextType, messages, abortSignal);\n  }\n  async saveChatMessage(threadId, message) {\n    await this._interface.saveChatMessage(threadId, message);\n  }\n  async listChatMessages(threadId) {\n    return await this._interface.listChatMessages(threadId);\n  }\n  async createEmailTheme(displayName) {\n    const result = await this._interface.createEmailTheme(displayName);\n    await this._adminEmailThemesCache.refresh([]);\n    return result;\n  }\n  async getEmailPreview(options) {\n    return (await this._interface.renderEmailPreview(options)).html;\n  }\n  useEmailPreview(options) {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._emailPreviewCache, [options.themeId, options.themeTsxSource, options.templateId, options.templateTsxSource], \"useEmailPreview()\");\n    return crud.html;\n  }\n  useEmailTheme(id) {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._adminEmailThemeCache, [id], \"useEmailTheme()\");\n    return {\n      displayName: crud.display_name,\n      tsxSource: crud.tsx_source\n    };\n  }\n  async updateEmailTheme(id, tsxSource) {\n    await this._interface.updateEmailTheme(id, tsxSource);\n  }\n  async updateEmailTemplate(id, tsxSource, themeId) {\n    const result = await this._interface.updateEmailTemplate(id, tsxSource, themeId);\n    await this._adminEmailTemplatesCache.refresh([]);\n    return { renderedHtml: result.rendered_html };\n  }\n  async setupPayments() {\n    return await this._interface.setupPayments();\n  }\n  async createStripeWidgetAccountSession() {\n    return await this._interface.createStripeWidgetAccountSession();\n  }\n  async createItemQuantityChange(options) {\n    await this._interface.updateItemQuantity(\n      { itemId: options.itemId, ...\"userId\" in options ? { userId: options.userId } : \"teamId\" in options ? { teamId: options.teamId } : { customCustomerId: options.customCustomerId } },\n      {\n        delta: options.quantity,\n        expires_at: options.expiresAt,\n        description: options.description\n      }\n    );\n  }\n  async testModePurchase(options) {\n    await this._interface.testModePurchase({ price_id: options.priceId, full_code: options.fullCode, quantity: options.quantity });\n  }\n  async listTransactions(params) {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._transactionsCache.getOrWait([params.cursor, params.limit, params.type, params.customerType], \"write-only\"));\n    return crud;\n  }\n  useTransactions(params) {\n    const data = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._transactionsCache, [params.cursor, params.limit, params.type, params.customerType], \"useTransactions()\");\n    return data;\n  }\n  async getStripeAccountInfo() {\n    return await this._interface.getStripeAccountInfo();\n  }\n  useStripeAccountInfo() {\n    const data = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._stripeAccountInfoCache, [], \"useStripeAccountInfo()\");\n    return data;\n  }\n};\n\n//# sourceMappingURL=admin-app-impl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL2FkbWluLWFwcC1pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDK0Q7QUFDaUM7QUFDTDtBQUN4QjtBQUNFO0FBQ3JDO0FBQzBCO0FBQzJCO0FBQ3FLO0FBQ2hMO0FBQ3lJO0FBQzlJO0FBQ3pCO0FBQzVDLGlEQUFpRCw4RUFBNkI7QUFDOUU7QUFDQTtBQUNBLHFCQUFxQix5RUFBbUI7QUFDeEMsMEJBQTBCLHNEQUFVO0FBQ3BDLHdDQUF3QywrREFBbUI7QUFDM0QsNERBQTRELHlFQUE2QjtBQUN6RixxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFVBQVU7QUFDVixnRUFBZ0UsMEVBQThCO0FBQzlGLHNEQUFzRCxxRUFBeUI7QUFDL0UsOERBQThELHlFQUE2QjtBQUMzRjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw4QkFBOEIsdURBQVc7QUFDekM7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLHVEQUFXO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLHVEQUFXO0FBQzVDO0FBQ0EsS0FBSztBQUNMLGtDQUFrQyx1REFBVztBQUM3QztBQUNBLEtBQUs7QUFDTCxxQ0FBcUMsdURBQVc7QUFDaEQ7QUFDQSxLQUFLO0FBQ0wsa0NBQWtDLHVEQUFXO0FBQzdDO0FBQ0EsS0FBSztBQUNMLGdEQUFnRCx1REFBVztBQUMzRDtBQUNBLEtBQUs7QUFDTCxtREFBbUQsdURBQVc7QUFDOUQ7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLHVEQUFXO0FBQ3RDO0FBQ0EsS0FBSztBQUNMLHlCQUF5Qix1REFBVztBQUNwQztBQUNBLEtBQUs7QUFDTCw4QkFBOEIsdURBQVc7QUFDekMsd0RBQXdELHdEQUF3RDtBQUNoSCxL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Q0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtREFBbUQseUJBQXlCLDBCQUEwQix5QkFBeUIsSUFBSSw4Q0FBOEM7QUFDekw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxvRkFBb0Y7QUFDakk7QUFDQTtBQUNBLGlCQUFpQiwrRUFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxzdGFjay1hcHBcXGFwcHNcXGltcGxlbWVudGF0aW9uc1xcYWRtaW4tYXBwLWltcGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9zdGFjay1hcHAvYXBwcy9pbXBsZW1lbnRhdGlvbnMvYWRtaW4tYXBwLWltcGwudHNcbmltcG9ydCB7IFN0YWNrQWRtaW5JbnRlcmZhY2UgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkXCI7XG5pbXBvcnQgeyBnZXRQcm9kdWN0aW9uTW9kZUVycm9ycyB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC9oZWxwZXJzL3Byb2R1Y3Rpb24tbW9kZVwiO1xuaW1wb3J0IHsgU3RhY2tBc3NlcnRpb25FcnJvciwgdGhyb3dFcnIgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBwaWNrIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL29iamVjdHNcIjtcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9yZXN1bHRzXCI7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBzdGFja0FwcEludGVybmFsc1N5bWJvbCB9IGZyb20gXCIuLi8uLi9jb21tb24uanNcIjtcbmltcG9ydCB7IGludGVybmFsQXBpS2V5Q3JlYXRlT3B0aW9uc1RvQ3J1ZCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC1hcGkta2V5cy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgYWRtaW5Qcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25DcmVhdGVPcHRpb25zVG9DcnVkLCBhZG1pblByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvblVwZGF0ZU9wdGlvbnNUb0NydWQsIGFkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uQ3JlYXRlT3B0aW9uc1RvQ3J1ZCwgYWRtaW5UZWFtUGVybWlzc2lvbkRlZmluaXRpb25VcGRhdGVPcHRpb25zVG9DcnVkIH0gZnJvbSBcIi4uLy4uL3Blcm1pc3Npb25zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhZG1pblByb2plY3RVcGRhdGVPcHRpb25zVG9DcnVkIH0gZnJvbSBcIi4uLy4uL3Byb2plY3RzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjbGllbnRWZXJzaW9uLCBjcmVhdGVDYWNoZSwgZ2V0QmFzZVVybCwgZ2V0RGVmYXVsdEV4dHJhUmVxdWVzdEhlYWRlcnMsIGdldERlZmF1bHRQcm9qZWN0SWQsIGdldERlZmF1bHRQdWJsaXNoYWJsZUNsaWVudEtleSwgZ2V0RGVmYXVsdFNlY3JldFNlcnZlcktleSwgZ2V0RGVmYXVsdFN1cGVyU2VjcmV0QWRtaW5LZXkgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCB7IF9TdGFja1NlcnZlckFwcEltcGxJbmNvbXBsZXRlIH0gZnJvbSBcIi4vc2VydmVyLWFwcC1pbXBsLmpzXCI7XG5pbXBvcnQgeyB1c2VBc3luY0NhY2hlIH0gZnJvbSBcIi4vY29tbW9uLmpzXCI7XG52YXIgX1N0YWNrQWRtaW5BcHBJbXBsSW5jb21wbGV0ZSA9IGNsYXNzIGV4dGVuZHMgX1N0YWNrU2VydmVyQXBwSW1wbEluY29tcGxldGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgaW50ZXJmYWNlOiBuZXcgU3RhY2tBZG1pbkludGVyZmFjZSh7XG4gICAgICAgIGdldEJhc2VVcmw6ICgpID0+IGdldEJhc2VVcmwob3B0aW9ucy5iYXNlVXJsKSxcbiAgICAgICAgcHJvamVjdElkOiBvcHRpb25zLnByb2plY3RJZCA/PyBnZXREZWZhdWx0UHJvamVjdElkKCksXG4gICAgICAgIGV4dHJhUmVxdWVzdEhlYWRlcnM6IG9wdGlvbnMuZXh0cmFSZXF1ZXN0SGVhZGVycyA/PyBnZXREZWZhdWx0RXh0cmFSZXF1ZXN0SGVhZGVycygpLFxuICAgICAgICBjbGllbnRWZXJzaW9uLFxuICAgICAgICAuLi5cInByb2plY3RPd25lclNlc3Npb25cIiBpbiBvcHRpb25zID8ge1xuICAgICAgICAgIHByb2plY3RPd25lclNlc3Npb246IG9wdGlvbnMucHJvamVjdE93bmVyU2Vzc2lvblxuICAgICAgICB9IDoge1xuICAgICAgICAgIHB1Ymxpc2hhYmxlQ2xpZW50S2V5OiBvcHRpb25zLnB1Ymxpc2hhYmxlQ2xpZW50S2V5ID8/IGdldERlZmF1bHRQdWJsaXNoYWJsZUNsaWVudEtleSgpLFxuICAgICAgICAgIHNlY3JldFNlcnZlcktleTogb3B0aW9ucy5zZWNyZXRTZXJ2ZXJLZXkgPz8gZ2V0RGVmYXVsdFNlY3JldFNlcnZlcktleSgpLFxuICAgICAgICAgIHN1cGVyU2VjcmV0QWRtaW5LZXk6IG9wdGlvbnMuc3VwZXJTZWNyZXRBZG1pbktleSA/PyBnZXREZWZhdWx0U3VwZXJTZWNyZXRBZG1pbktleSgpXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgYmFzZVVybDogb3B0aW9ucy5iYXNlVXJsLFxuICAgICAgZXh0cmFSZXF1ZXN0SGVhZGVyczogb3B0aW9ucy5leHRyYVJlcXVlc3RIZWFkZXJzLFxuICAgICAgcHJvamVjdElkOiBvcHRpb25zLnByb2plY3RJZCxcbiAgICAgIHRva2VuU3RvcmU6IG9wdGlvbnMudG9rZW5TdG9yZSxcbiAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgIG9hdXRoU2NvcGVzT25TaWduSW46IG9wdGlvbnMub2F1dGhTY29wZXNPblNpZ25JbixcbiAgICAgIHJlZGlyZWN0TWV0aG9kOiBvcHRpb25zLnJlZGlyZWN0TWV0aG9kXG4gICAgfSk7XG4gICAgdGhpcy5fYWRtaW5Qcm9qZWN0Q2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmdldFByb2plY3QoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9pbnRlcm5hbEFwaUtleXNDYWNoZSA9IGNyZWF0ZUNhY2hlKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0SW50ZXJuYWxBcGlLZXlzKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIHRoaXMuX2FkbWluRW1haWxUaGVtZUNhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKFtpZF0pID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuZ2V0RW1haWxUaGVtZShpZCk7XG4gICAgfSk7XG4gICAgdGhpcy5fYWRtaW5FbWFpbFRoZW1lc0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0RW1haWxUaGVtZXMoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9hZG1pbkVtYWlsVGVtcGxhdGVzQ2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RJbnRlcm5hbEVtYWlsVGVtcGxhdGVzKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fYWRtaW5FbWFpbERyYWZ0c0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0SW50ZXJuYWxFbWFpbERyYWZ0cygpO1xuICAgIH0pO1xuICAgIHRoaXMuX2FkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uc0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0VGVhbVBlcm1pc3Npb25EZWZpbml0aW9ucygpO1xuICAgIH0pO1xuICAgIHRoaXMuX2FkbWluUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uc0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0UHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9ucygpO1xuICAgIH0pO1xuICAgIHRoaXMuX3N2aXhUb2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRTdml4VG9rZW4oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9tZXRyaWNzQ2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoW2luY2x1ZGVBbm9ueW1vdXNdKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmdldE1ldHJpY3MoaW5jbHVkZUFub255bW91cyk7XG4gICAgfSk7XG4gICAgdGhpcy5fZW1haWxQcmV2aWV3Q2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoW3RoZW1lSWQsIHRoZW1lVHN4U291cmNlLCB0ZW1wbGF0ZUlkLCB0ZW1wbGF0ZVRzeFNvdXJjZV0pID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UucmVuZGVyRW1haWxQcmV2aWV3KHsgdGhlbWVJZCwgdGhlbWVUc3hTb3VyY2UsIHRlbXBsYXRlSWQsIHRlbXBsYXRlVHN4U291cmNlIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX2NvbmZpZ092ZXJyaWRlc0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRDb25maWcoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zdHJpcGVBY2NvdW50SW5mb0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRTdHJpcGVBY2NvdW50SW5mbygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yPy5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3RyYW5zYWN0aW9uc0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKFtjdXJzb3IsIGxpbWl0LCB0eXBlLCBjdXN0b21lclR5cGVdKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RUcmFuc2FjdGlvbnMoeyBjdXJzb3IsIGxpbWl0LCB0eXBlLCBjdXN0b21lclR5cGUgfSk7XG4gICAgfSk7XG4gIH1cbiAgX2FkbWluQ29uZmlnRnJvbUNydWQoZGF0YSkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEuY29uZmlnX3N0cmluZyk7XG4gIH1cbiAgX2FkbWluT3duZWRQcm9qZWN0RnJvbUNydWQoZGF0YSwgb25SZWZyZXNoKSB7XG4gICAgaWYgKHRoaXMuX3Rva2VuU3RvcmVJbml0ICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIk93bmVkIGFwcHMgbXVzdCBhbHdheXMgaGF2ZSB0b2tlblN0b3JlID09PSBudWxsIFxcdTIwMTQgZGlkIHlvdSBub3QgY3JlYXRlIHRoaXMgcHJvamVjdCB3aXRoIGFwcC5fY3JlYXRlT3duZWRBcHAoKT9cIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLl9hZG1pblByb2plY3RGcm9tQ3J1ZChkYXRhLCBvblJlZnJlc2gpLFxuICAgICAgYXBwOiB0aGlzXG4gICAgfTtcbiAgfVxuICBfYWRtaW5Qcm9qZWN0RnJvbUNydWQoZGF0YSwgb25SZWZyZXNoKSB7XG4gICAgaWYgKGRhdGEuaWQgIT09IHRoaXMucHJvamVjdElkKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgVGhlIHByb2plY3QgSUQgb2YgdGhlIHByb3ZpZGVkIHByb2plY3QgSlNPTiAoJHtkYXRhLmlkfSkgZG9lcyBub3QgbWF0Y2ggdGhlIHByb2plY3QgSUQgb2YgdGhlIGFwcCAoJHt0aGlzLnByb2plY3RJZH0pIWApO1xuICAgIH1cbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZGF0YS5pZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmRpc3BsYXlfbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRfYXRfbWlsbGlzKSxcbiAgICAgIGlzUHJvZHVjdGlvbk1vZGU6IGRhdGEuaXNfcHJvZHVjdGlvbl9tb2RlLFxuICAgICAgb3duZXJUZWFtSWQ6IGRhdGEub3duZXJfdGVhbV9pZCxcbiAgICAgIGxvZ29Vcmw6IGRhdGEubG9nb191cmwsXG4gICAgICBmdWxsTG9nb1VybDogZGF0YS5mdWxsX2xvZ29fdXJsLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIHNpZ25VcEVuYWJsZWQ6IGRhdGEuY29uZmlnLnNpZ25fdXBfZW5hYmxlZCxcbiAgICAgICAgY3JlZGVudGlhbEVuYWJsZWQ6IGRhdGEuY29uZmlnLmNyZWRlbnRpYWxfZW5hYmxlZCxcbiAgICAgICAgbWFnaWNMaW5rRW5hYmxlZDogZGF0YS5jb25maWcubWFnaWNfbGlua19lbmFibGVkLFxuICAgICAgICBwYXNza2V5RW5hYmxlZDogZGF0YS5jb25maWcucGFzc2tleV9lbmFibGVkLFxuICAgICAgICBjbGllbnRUZWFtQ3JlYXRpb25FbmFibGVkOiBkYXRhLmNvbmZpZy5jbGllbnRfdGVhbV9jcmVhdGlvbl9lbmFibGVkLFxuICAgICAgICBjbGllbnRVc2VyRGVsZXRpb25FbmFibGVkOiBkYXRhLmNvbmZpZy5jbGllbnRfdXNlcl9kZWxldGlvbl9lbmFibGVkLFxuICAgICAgICBhbGxvd0xvY2FsaG9zdDogZGF0YS5jb25maWcuYWxsb3dfbG9jYWxob3N0LFxuICAgICAgICBvYXV0aEFjY291bnRNZXJnZVN0cmF0ZWd5OiBkYXRhLmNvbmZpZy5vYXV0aF9hY2NvdW50X21lcmdlX3N0cmF0ZWd5LFxuICAgICAgICBhbGxvd1VzZXJBcGlLZXlzOiBkYXRhLmNvbmZpZy5hbGxvd191c2VyX2FwaV9rZXlzLFxuICAgICAgICBhbGxvd1RlYW1BcGlLZXlzOiBkYXRhLmNvbmZpZy5hbGxvd190ZWFtX2FwaV9rZXlzLFxuICAgICAgICBvYXV0aFByb3ZpZGVyczogZGF0YS5jb25maWcub2F1dGhfcHJvdmlkZXJzLm1hcCgocCkgPT4gcC50eXBlID09PSBcInNoYXJlZFwiID8ge1xuICAgICAgICAgIGlkOiBwLmlkLFxuICAgICAgICAgIHR5cGU6IFwic2hhcmVkXCJcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICBpZDogcC5pZCxcbiAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgY2xpZW50SWQ6IHAuY2xpZW50X2lkID8/IHRocm93RXJyKFwiQ2xpZW50IElEIGlzIG1pc3NpbmdcIiksXG4gICAgICAgICAgY2xpZW50U2VjcmV0OiBwLmNsaWVudF9zZWNyZXQgPz8gdGhyb3dFcnIoXCJDbGllbnQgc2VjcmV0IGlzIG1pc3NpbmdcIiksXG4gICAgICAgICAgZmFjZWJvb2tDb25maWdJZDogcC5mYWNlYm9va19jb25maWdfaWQsXG4gICAgICAgICAgbWljcm9zb2Z0VGVuYW50SWQ6IHAubWljcm9zb2Z0X3RlbmFudF9pZFxuICAgICAgICB9KSxcbiAgICAgICAgZW1haWxDb25maWc6IGRhdGEuY29uZmlnLmVtYWlsX2NvbmZpZy50eXBlID09PSBcInNoYXJlZFwiID8ge1xuICAgICAgICAgIHR5cGU6IFwic2hhcmVkXCJcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgaG9zdDogZGF0YS5jb25maWcuZW1haWxfY29uZmlnLmhvc3QgPz8gdGhyb3dFcnIoXCJFbWFpbCBob3N0IGlzIG1pc3NpbmdcIiksXG4gICAgICAgICAgcG9ydDogZGF0YS5jb25maWcuZW1haWxfY29uZmlnLnBvcnQgPz8gdGhyb3dFcnIoXCJFbWFpbCBwb3J0IGlzIG1pc3NpbmdcIiksXG4gICAgICAgICAgdXNlcm5hbWU6IGRhdGEuY29uZmlnLmVtYWlsX2NvbmZpZy51c2VybmFtZSA/PyB0aHJvd0VycihcIkVtYWlsIHVzZXJuYW1lIGlzIG1pc3NpbmdcIiksXG4gICAgICAgICAgcGFzc3dvcmQ6IGRhdGEuY29uZmlnLmVtYWlsX2NvbmZpZy5wYXNzd29yZCA/PyB0aHJvd0VycihcIkVtYWlsIHBhc3N3b3JkIGlzIG1pc3NpbmdcIiksXG4gICAgICAgICAgc2VuZGVyTmFtZTogZGF0YS5jb25maWcuZW1haWxfY29uZmlnLnNlbmRlcl9uYW1lID8/IHRocm93RXJyKFwiRW1haWwgc2VuZGVyIG5hbWUgaXMgbWlzc2luZ1wiKSxcbiAgICAgICAgICBzZW5kZXJFbWFpbDogZGF0YS5jb25maWcuZW1haWxfY29uZmlnLnNlbmRlcl9lbWFpbCA/PyB0aHJvd0VycihcIkVtYWlsIHNlbmRlciBlbWFpbCBpcyBtaXNzaW5nXCIpXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsVGhlbWU6IGRhdGEuY29uZmlnLmVtYWlsX3RoZW1lLFxuICAgICAgICBkb21haW5zOiBkYXRhLmNvbmZpZy5kb21haW5zLm1hcCgoZCkgPT4gKHtcbiAgICAgICAgICBkb21haW46IGQuZG9tYWluLFxuICAgICAgICAgIGhhbmRsZXJQYXRoOiBkLmhhbmRsZXJfcGF0aFxuICAgICAgICB9KSksXG4gICAgICAgIGNyZWF0ZVRlYW1PblNpZ25VcDogZGF0YS5jb25maWcuY3JlYXRlX3RlYW1fb25fc2lnbl91cCxcbiAgICAgICAgdGVhbUNyZWF0b3JEZWZhdWx0UGVybWlzc2lvbnM6IGRhdGEuY29uZmlnLnRlYW1fY3JlYXRvcl9kZWZhdWx0X3Blcm1pc3Npb25zLFxuICAgICAgICB0ZWFtTWVtYmVyRGVmYXVsdFBlcm1pc3Npb25zOiBkYXRhLmNvbmZpZy50ZWFtX21lbWJlcl9kZWZhdWx0X3Blcm1pc3Npb25zLFxuICAgICAgICB1c2VyRGVmYXVsdFBlcm1pc3Npb25zOiBkYXRhLmNvbmZpZy51c2VyX2RlZmF1bHRfcGVybWlzc2lvbnNcbiAgICAgIH0sXG4gICAgICBhc3luYyBnZXRDb25maWcoKSB7XG4gICAgICAgIHJldHVybiBhcHAuX2FkbWluQ29uZmlnRnJvbUNydWQoYXdhaXQgYXBwLl9pbnRlcmZhY2UuZ2V0Q29uZmlnKCkpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbmZpZygpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gdXNlQXN5bmNDYWNoZShhcHAuX2NvbmZpZ092ZXJyaWRlc0NhY2hlLCBbXSwgXCJ1c2VDb25maWcoKVwiKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gYXBwLl9hZG1pbkNvbmZpZ0Zyb21DcnVkKGNvbmZpZyksIFtjb25maWddKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyB1cGRhdGVDb25maWcoY29uZmlnT3ZlcnJpZGUpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UudXBkYXRlQ29uZmlnKHsgY29uZmlnT3ZlcnJpZGUgfSk7XG4gICAgICAgIGF3YWl0IGFwcC5fY29uZmlnT3ZlcnJpZGVzQ2FjaGUucmVmcmVzaChbXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBjb25zdCB1cGRhdGVPcHRpb25zID0gYWRtaW5Qcm9qZWN0VXBkYXRlT3B0aW9uc1RvQ3J1ZCh1cGRhdGUpO1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS51cGRhdGVQcm9qZWN0KHVwZGF0ZU9wdGlvbnMpO1xuICAgICAgICBhd2FpdCBvblJlZnJlc2goKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBkZWxldGUoKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLmRlbGV0ZVByb2plY3QoKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyB0cmFuc2Zlcih1c2VyLCBuZXdUZWFtSWQpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UudHJhbnNmZXJQcm9qZWN0KHVzZXIuX2ludGVybmFsU2Vzc2lvbiwgbmV3VGVhbUlkKTtcbiAgICAgICAgYXdhaXQgb25SZWZyZXNoKCk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZ2V0UHJvZHVjdGlvbk1vZGVFcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiBnZXRQcm9kdWN0aW9uTW9kZUVycm9ycyhkYXRhKTtcbiAgICAgIH0sXG4gICAgICB1c2VQcm9kdWN0aW9uTW9kZUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIGdldFByb2R1Y3Rpb25Nb2RlRXJyb3JzKGRhdGEpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX2FkbWluRW1haWxUZW1wbGF0ZUZyb21DcnVkKGRhdGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgc3ViamVjdDogZGF0YS5zdWJqZWN0LFxuICAgICAgY29udGVudDogZGF0YS5jb250ZW50LFxuICAgICAgaXNEZWZhdWx0OiBkYXRhLmlzX2RlZmF1bHRcbiAgICB9O1xuICB9XG4gIGFzeW5jIGdldFByb2plY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkbWluUHJvamVjdEZyb21DcnVkKFxuICAgICAgUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fYWRtaW5Qcm9qZWN0Q2FjaGUuZ2V0T3JXYWl0KFtdLCBcIndyaXRlLW9ubHlcIikpLFxuICAgICAgKCkgPT4gdGhpcy5fcmVmcmVzaFByb2plY3QoKVxuICAgICk7XG4gIH1cbiAgdXNlUHJvamVjdCgpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9hZG1pblByb2plY3RDYWNoZSwgW10sIFwidXNlUHJvamVjdEFkbWluKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gdGhpcy5fYWRtaW5Qcm9qZWN0RnJvbUNydWQoXG4gICAgICBjcnVkLFxuICAgICAgKCkgPT4gdGhpcy5fcmVmcmVzaFByb2plY3QoKVxuICAgICksIFtjcnVkXSk7XG4gIH1cbiAgX2NyZWF0ZUludGVybmFsQXBpS2V5QmFzZUZyb21DcnVkKGRhdGEpIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZGF0YS5pZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShkYXRhLmV4cGlyZXNfYXRfbWlsbGlzKSxcbiAgICAgIG1hbnVhbGx5UmV2b2tlZEF0OiBkYXRhLm1hbnVhbGx5X3Jldm9rZWRfYXRfbWlsbGlzID8gbmV3IERhdGUoZGF0YS5tYW51YWxseV9yZXZva2VkX2F0X21pbGxpcykgOiBudWxsLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRfYXRfbWlsbGlzKSxcbiAgICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndoeUludmFsaWQoKSA9PT0gbnVsbDtcbiAgICAgIH0sXG4gICAgICB3aHlJbnZhbGlkKCkge1xuICAgICAgICBpZiAodGhpcy5leHBpcmVzQXQuZ2V0VGltZSgpIDwgRGF0ZS5ub3coKSkgcmV0dXJuIFwiZXhwaXJlZFwiO1xuICAgICAgICBpZiAodGhpcy5tYW51YWxseVJldm9rZWRBdCkgcmV0dXJuIFwibWFudWFsbHktcmV2b2tlZFwiO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICBhc3luYyByZXZva2UoKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLnJldm9rZUludGVybmFsQXBpS2V5QnlJZChkYXRhLmlkKTtcbiAgICAgICAgYXdhaXQgYXBwLl9yZWZyZXNoSW50ZXJuYWxBcGlLZXlzKCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlSW50ZXJuYWxBcGlLZXlGcm9tQ3J1ZChkYXRhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuX2NyZWF0ZUludGVybmFsQXBpS2V5QmFzZUZyb21DcnVkKGRhdGEpLFxuICAgICAgcHVibGlzaGFibGVDbGllbnRLZXk6IGRhdGEucHVibGlzaGFibGVfY2xpZW50X2tleSA/IHsgbGFzdEZvdXI6IGRhdGEucHVibGlzaGFibGVfY2xpZW50X2tleS5sYXN0X2ZvdXIgfSA6IG51bGwsXG4gICAgICBzZWNyZXRTZXJ2ZXJLZXk6IGRhdGEuc2VjcmV0X3NlcnZlcl9rZXkgPyB7IGxhc3RGb3VyOiBkYXRhLnNlY3JldF9zZXJ2ZXJfa2V5Lmxhc3RfZm91ciB9IDogbnVsbCxcbiAgICAgIHN1cGVyU2VjcmV0QWRtaW5LZXk6IGRhdGEuc3VwZXJfc2VjcmV0X2FkbWluX2tleSA/IHsgbGFzdEZvdXI6IGRhdGEuc3VwZXJfc2VjcmV0X2FkbWluX2tleS5sYXN0X2ZvdXIgfSA6IG51bGxcbiAgICB9O1xuICB9XG4gIF9jcmVhdGVJbnRlcm5hbEFwaUtleUZpcnN0Vmlld0Zyb21DcnVkKGRhdGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5fY3JlYXRlSW50ZXJuYWxBcGlLZXlCYXNlRnJvbUNydWQoZGF0YSksXG4gICAgICBwdWJsaXNoYWJsZUNsaWVudEtleTogZGF0YS5wdWJsaXNoYWJsZV9jbGllbnRfa2V5LFxuICAgICAgc2VjcmV0U2VydmVyS2V5OiBkYXRhLnNlY3JldF9zZXJ2ZXJfa2V5LFxuICAgICAgc3VwZXJTZWNyZXRBZG1pbktleTogZGF0YS5zdXBlcl9zZWNyZXRfYWRtaW5fa2V5XG4gICAgfTtcbiAgfVxuICBhc3luYyBsaXN0SW50ZXJuYWxBcGlLZXlzKCkge1xuICAgIGNvbnN0IGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9pbnRlcm5hbEFwaUtleXNDYWNoZS5nZXRPcldhaXQoW10sIFwid3JpdGUtb25seVwiKSk7XG4gICAgcmV0dXJuIGNydWQubWFwKChqKSA9PiB0aGlzLl9jcmVhdGVJbnRlcm5hbEFwaUtleUZyb21DcnVkKGopKTtcbiAgfVxuICB1c2VJbnRlcm5hbEFwaUtleXMoKSB7XG4gICAgY29uc3QgY3J1ZCA9IHVzZUFzeW5jQ2FjaGUodGhpcy5faW50ZXJuYWxBcGlLZXlzQ2FjaGUsIFtdLCBcInVzZUludGVybmFsQXBpS2V5cygpXCIpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBjcnVkLm1hcCgoaikgPT4gdGhpcy5fY3JlYXRlSW50ZXJuYWxBcGlLZXlGcm9tQ3J1ZChqKSk7XG4gICAgfSwgW2NydWRdKTtcbiAgfVxuICBhc3luYyBjcmVhdGVJbnRlcm5hbEFwaUtleShvcHRpb25zKSB7XG4gICAgY29uc3QgY3J1ZCA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5jcmVhdGVJbnRlcm5hbEFwaUtleShpbnRlcm5hbEFwaUtleUNyZWF0ZU9wdGlvbnNUb0NydWQob3B0aW9ucykpO1xuICAgIGF3YWl0IHRoaXMuX3JlZnJlc2hJbnRlcm5hbEFwaUtleXMoKTtcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlSW50ZXJuYWxBcGlLZXlGaXJzdFZpZXdGcm9tQ3J1ZChjcnVkKTtcbiAgfVxuICB1c2VFbWFpbFRoZW1lcygpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9hZG1pbkVtYWlsVGhlbWVzQ2FjaGUsIFtdLCBcInVzZUVtYWlsVGhlbWVzKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIGNydWQubWFwKCh0aGVtZSkgPT4gKHtcbiAgICAgICAgaWQ6IHRoZW1lLmlkLFxuICAgICAgICBkaXNwbGF5TmFtZTogdGhlbWUuZGlzcGxheV9uYW1lXG4gICAgICB9KSk7XG4gICAgfSwgW2NydWRdKTtcbiAgfVxuICB1c2VFbWFpbFRlbXBsYXRlcygpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9hZG1pbkVtYWlsVGVtcGxhdGVzQ2FjaGUsIFtdLCBcInVzZUVtYWlsVGVtcGxhdGVzKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIGNydWQubWFwKCh0ZW1wbGF0ZSkgPT4gKHtcbiAgICAgICAgaWQ6IHRlbXBsYXRlLmlkLFxuICAgICAgICBkaXNwbGF5TmFtZTogdGVtcGxhdGUuZGlzcGxheV9uYW1lLFxuICAgICAgICB0aGVtZUlkOiB0ZW1wbGF0ZS50aGVtZV9pZCxcbiAgICAgICAgdHN4U291cmNlOiB0ZW1wbGF0ZS50c3hfc291cmNlXG4gICAgICB9KSk7XG4gICAgfSwgW2NydWRdKTtcbiAgfVxuICB1c2VFbWFpbERyYWZ0cygpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9hZG1pbkVtYWlsRHJhZnRzQ2FjaGUsIFtdLCBcInVzZUVtYWlsRHJhZnRzKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIGNydWQubWFwKChkcmFmdCkgPT4gKHtcbiAgICAgICAgaWQ6IGRyYWZ0LmlkLFxuICAgICAgICBkaXNwbGF5TmFtZTogZHJhZnQuZGlzcGxheV9uYW1lLFxuICAgICAgICB0aGVtZUlkOiBkcmFmdC50aGVtZV9pZCxcbiAgICAgICAgdHN4U291cmNlOiBkcmFmdC50c3hfc291cmNlLFxuICAgICAgICBzZW50QXQ6IGRyYWZ0LnNlbnRfYXRfbWlsbGlzID8gbmV3IERhdGUoZHJhZnQuc2VudF9hdF9taWxsaXMpIDogbnVsbFxuICAgICAgfSkpO1xuICAgIH0sIFtjcnVkXSk7XG4gIH1cbiAgYXN5bmMgbGlzdEVtYWlsVGhlbWVzKCkge1xuICAgIGNvbnN0IGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9hZG1pbkVtYWlsVGhlbWVzQ2FjaGUuZ2V0T3JXYWl0KFtdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgIHJldHVybiBjcnVkLm1hcCgodGhlbWUpID0+ICh7XG4gICAgICBpZDogdGhlbWUuaWQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhlbWUuZGlzcGxheV9uYW1lXG4gICAgfSkpO1xuICB9XG4gIGFzeW5jIGxpc3RFbWFpbFRlbXBsYXRlcygpIHtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fYWRtaW5FbWFpbFRlbXBsYXRlc0NhY2hlLmdldE9yV2FpdChbXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICByZXR1cm4gY3J1ZC5tYXAoKHRlbXBsYXRlKSA9PiAoe1xuICAgICAgaWQ6IHRlbXBsYXRlLmlkLFxuICAgICAgZGlzcGxheU5hbWU6IHRlbXBsYXRlLmRpc3BsYXlfbmFtZSxcbiAgICAgIHRoZW1lSWQ6IHRlbXBsYXRlLnRoZW1lX2lkLFxuICAgICAgdHN4U291cmNlOiB0ZW1wbGF0ZS50c3hfc291cmNlXG4gICAgfSkpO1xuICB9XG4gIGFzeW5jIGxpc3RFbWFpbERyYWZ0cygpIHtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fYWRtaW5FbWFpbERyYWZ0c0NhY2hlLmdldE9yV2FpdChbXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICByZXR1cm4gY3J1ZC5tYXAoKGRyYWZ0KSA9PiAoe1xuICAgICAgaWQ6IGRyYWZ0LmlkLFxuICAgICAgZGlzcGxheU5hbWU6IGRyYWZ0LmRpc3BsYXlfbmFtZSxcbiAgICAgIHRoZW1lSWQ6IGRyYWZ0LnRoZW1lX2lkLFxuICAgICAgdHN4U291cmNlOiBkcmFmdC50c3hfc291cmNlLFxuICAgICAgc2VudEF0OiBkcmFmdC5zZW50X2F0X21pbGxpcyA/IG5ldyBEYXRlKGRyYWZ0LnNlbnRfYXRfbWlsbGlzKSA6IG51bGxcbiAgICB9KSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uKGRhdGEpIHtcbiAgICBjb25zdCBjcnVkID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmNyZWF0ZVRlYW1QZXJtaXNzaW9uRGVmaW5pdGlvbihhZG1pblRlYW1QZXJtaXNzaW9uRGVmaW5pdGlvbkNyZWF0ZU9wdGlvbnNUb0NydWQoZGF0YSkpO1xuICAgIGF3YWl0IHRoaXMuX2FkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uc0NhY2hlLnJlZnJlc2goW10pO1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJUZWFtUGVybWlzc2lvbkRlZmluaXRpb25Gcm9tQ3J1ZChjcnVkKTtcbiAgfVxuICBhc3luYyB1cGRhdGVUZWFtUGVybWlzc2lvbkRlZmluaXRpb24ocGVybWlzc2lvbklkLCBkYXRhKSB7XG4gICAgYXdhaXQgdGhpcy5faW50ZXJmYWNlLnVwZGF0ZVRlYW1QZXJtaXNzaW9uRGVmaW5pdGlvbihwZXJtaXNzaW9uSWQsIGFkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uVXBkYXRlT3B0aW9uc1RvQ3J1ZChkYXRhKSk7XG4gICAgYXdhaXQgdGhpcy5fYWRtaW5UZWFtUGVybWlzc2lvbkRlZmluaXRpb25zQ2FjaGUucmVmcmVzaChbXSk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uKHBlcm1pc3Npb25JZCkge1xuICAgIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5kZWxldGVUZWFtUGVybWlzc2lvbkRlZmluaXRpb24ocGVybWlzc2lvbklkKTtcbiAgICBhd2FpdCB0aGlzLl9hZG1pblRlYW1QZXJtaXNzaW9uRGVmaW5pdGlvbnNDYWNoZS5yZWZyZXNoKFtdKTtcbiAgfVxuICBhc3luYyBsaXN0VGVhbVBlcm1pc3Npb25EZWZpbml0aW9ucygpIHtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fYWRtaW5UZWFtUGVybWlzc2lvbkRlZmluaXRpb25zQ2FjaGUuZ2V0T3JXYWl0KFtdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgIHJldHVybiBjcnVkLm1hcCgocCkgPT4gdGhpcy5fc2VydmVyVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uRnJvbUNydWQocCkpO1xuICB9XG4gIHVzZVRlYW1QZXJtaXNzaW9uRGVmaW5pdGlvbnMoKSB7XG4gICAgY29uc3QgY3J1ZCA9IHVzZUFzeW5jQ2FjaGUodGhpcy5fYWRtaW5UZWFtUGVybWlzc2lvbkRlZmluaXRpb25zQ2FjaGUsIFtdLCBcInVzZVBlcm1pc3Npb25zKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIGNydWQubWFwKChwKSA9PiB0aGlzLl9zZXJ2ZXJUZWFtUGVybWlzc2lvbkRlZmluaXRpb25Gcm9tQ3J1ZChwKSk7XG4gICAgfSwgW2NydWRdKTtcbiAgfVxuICBhc3luYyBjcmVhdGVQcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb24oZGF0YSkge1xuICAgIGNvbnN0IGNydWQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuY3JlYXRlUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uKGFkbWluUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uQ3JlYXRlT3B0aW9uc1RvQ3J1ZChkYXRhKSk7XG4gICAgYXdhaXQgdGhpcy5fYWRtaW5Qcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25zQ2FjaGUucmVmcmVzaChbXSk7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbkZyb21DcnVkKGNydWQpO1xuICB9XG4gIGFzeW5jIHVwZGF0ZVByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbihwZXJtaXNzaW9uSWQsIGRhdGEpIHtcbiAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2UudXBkYXRlUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uKHBlcm1pc3Npb25JZCwgYWRtaW5Qcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25VcGRhdGVPcHRpb25zVG9DcnVkKGRhdGEpKTtcbiAgICBhd2FpdCB0aGlzLl9hZG1pblByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbnNDYWNoZS5yZWZyZXNoKFtdKTtcbiAgfVxuICBhc3luYyBkZWxldGVQcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb24ocGVybWlzc2lvbklkKSB7XG4gICAgYXdhaXQgdGhpcy5faW50ZXJmYWNlLmRlbGV0ZVByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbihwZXJtaXNzaW9uSWQpO1xuICAgIGF3YWl0IHRoaXMuX2FkbWluUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uc0NhY2hlLnJlZnJlc2goW10pO1xuICB9XG4gIGFzeW5jIGxpc3RQcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25zKCkge1xuICAgIGNvbnN0IGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9hZG1pblByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbnNDYWNoZS5nZXRPcldhaXQoW10sIFwid3JpdGUtb25seVwiKSk7XG4gICAgcmV0dXJuIGNydWQubWFwKChwKSA9PiB0aGlzLl9zZXJ2ZXJQcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25Gcm9tQ3J1ZChwKSk7XG4gIH1cbiAgdXNlUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9ucygpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9hZG1pblByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbnNDYWNoZSwgW10sIFwidXNlUHJvamVjdFBlcm1pc3Npb25zKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIGNydWQubWFwKChwKSA9PiB0aGlzLl9zZXJ2ZXJQcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25Gcm9tQ3J1ZChwKSk7XG4gICAgfSwgW2NydWRdKTtcbiAgfVxuICB1c2VTdml4VG9rZW4oKSB7XG4gICAgY29uc3QgY3J1ZCA9IHVzZUFzeW5jQ2FjaGUodGhpcy5fc3ZpeFRva2VuQ2FjaGUsIFtdLCBcInVzZVN2aXhUb2tlbigpXCIpO1xuICAgIHJldHVybiBjcnVkLnRva2VuO1xuICB9XG4gIGFzeW5jIF9yZWZyZXNoUHJvamVjdCgpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBzdXBlci5fcmVmcmVzaFByb2plY3QoKSxcbiAgICAgIHRoaXMuX2FkbWluUHJvamVjdENhY2hlLnJlZnJlc2goW10pXG4gICAgXSk7XG4gIH1cbiAgYXN5bmMgX3JlZnJlc2hJbnRlcm5hbEFwaUtleXMoKSB7XG4gICAgYXdhaXQgdGhpcy5faW50ZXJuYWxBcGlLZXlzQ2FjaGUucmVmcmVzaChbXSk7XG4gIH1cbiAgZ2V0IFtzdGFja0FwcEludGVybmFsc1N5bWJvbF0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyW3N0YWNrQXBwSW50ZXJuYWxzU3ltYm9sXSxcbiAgICAgIHVzZU1ldHJpY3M6IChpbmNsdWRlQW5vbnltb3VzID0gZmFsc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHVzZUFzeW5jQ2FjaGUodGhpcy5fbWV0cmljc0NhY2hlLCBbaW5jbHVkZUFub255bW91c10sIFwidXNlTWV0cmljcygpXCIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYXN5bmMgc2VuZFRlc3RFbWFpbChvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2Uuc2VuZFRlc3RFbWFpbCh7XG4gICAgICByZWNpcGllbnRfZW1haWw6IG9wdGlvbnMucmVjaXBpZW50RW1haWwsXG4gICAgICBlbWFpbF9jb25maWc6IHtcbiAgICAgICAgLi4ucGljayhvcHRpb25zLmVtYWlsQ29uZmlnLCBbXCJob3N0XCIsIFwicG9ydFwiLCBcInVzZXJuYW1lXCIsIFwicGFzc3dvcmRcIl0pLFxuICAgICAgICBzZW5kZXJfZW1haWw6IG9wdGlvbnMuZW1haWxDb25maWcuc2VuZGVyRW1haWwsXG4gICAgICAgIHNlbmRlcl9uYW1lOiBvcHRpb25zLmVtYWlsQ29uZmlnLnNlbmRlck5hbWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIFJlc3VsdC5vayh2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHsgZXJyb3JNZXNzYWdlOiByZXNwb25zZS5lcnJvcl9tZXNzYWdlID8/IHRocm93RXJyKFwiRW1haWwgdGVzdCBlcnJvciBub3Qgc3BlY2lmaWVkXCIpIH0pO1xuICAgIH1cbiAgfVxuICBhc3luYyBsaXN0U2VudEVtYWlscygpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VudEVtYWlscygpO1xuICAgIHJldHVybiByZXNwb25zZS5pdGVtcy5tYXAoKGVtYWlsKSA9PiAoe1xuICAgICAgaWQ6IGVtYWlsLmlkLFxuICAgICAgdG86IGVtYWlsLnRvID8/IFtdLFxuICAgICAgc3ViamVjdDogZW1haWwuc3ViamVjdCxcbiAgICAgIHJlY2lwaWVudDogZW1haWwudG8/LlswXSA/PyBcIlwiLFxuICAgICAgc2VudEF0OiBuZXcgRGF0ZShlbWFpbC5zZW50X2F0X21pbGxpcyksXG4gICAgICBlcnJvcjogZW1haWwuZXJyb3JcbiAgICB9KSk7XG4gIH1cbiAgYXN5bmMgc2VuZFNpZ25Jbkludml0YXRpb25FbWFpbChlbWFpbCwgY2FsbGJhY2tVcmwpIHtcbiAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2Uuc2VuZFNpZ25Jbkludml0YXRpb25FbWFpbChlbWFpbCwgY2FsbGJhY2tVcmwpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUVtYWlsVGVtcGxhdGUoZGlzcGxheU5hbWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuY3JlYXRlRW1haWxUZW1wbGF0ZShkaXNwbGF5TmFtZSk7XG4gICAgYXdhaXQgdGhpcy5fYWRtaW5FbWFpbFRlbXBsYXRlc0NhY2hlLnJlZnJlc2goW10pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgY3JlYXRlRW1haWxEcmFmdChvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmNyZWF0ZUVtYWlsRHJhZnQoe1xuICAgICAgZGlzcGxheV9uYW1lOiBvcHRpb25zLmRpc3BsYXlOYW1lLFxuICAgICAgdGhlbWVfaWQ6IG9wdGlvbnMudGhlbWVJZCxcbiAgICAgIHRzeF9zb3VyY2U6IG9wdGlvbnMudHN4U291cmNlXG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5fYWRtaW5FbWFpbERyYWZ0c0NhY2hlLnJlZnJlc2goW10pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgdXBkYXRlRW1haWxEcmFmdChpZCwgZGF0YSkge1xuICAgIGF3YWl0IHRoaXMuX2ludGVyZmFjZS51cGRhdGVFbWFpbERyYWZ0KGlkLCB7XG4gICAgICBkaXNwbGF5X25hbWU6IGRhdGEuZGlzcGxheU5hbWUsXG4gICAgICB0aGVtZV9pZDogZGF0YS50aGVtZUlkLFxuICAgICAgdHN4X3NvdXJjZTogZGF0YS50c3hTb3VyY2VcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLl9hZG1pbkVtYWlsRHJhZnRzQ2FjaGUucmVmcmVzaChbXSk7XG4gIH1cbiAgYXN5bmMgc2VuZENoYXRNZXNzYWdlKHRocmVhZElkLCBjb250ZXh0VHlwZSwgbWVzc2FnZXMsIGFib3J0U2lnbmFsKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zZW5kQ2hhdE1lc3NhZ2UodGhyZWFkSWQsIGNvbnRleHRUeXBlLCBtZXNzYWdlcywgYWJvcnRTaWduYWwpO1xuICB9XG4gIGFzeW5jIHNhdmVDaGF0TWVzc2FnZSh0aHJlYWRJZCwgbWVzc2FnZSkge1xuICAgIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zYXZlQ2hhdE1lc3NhZ2UodGhyZWFkSWQsIG1lc3NhZ2UpO1xuICB9XG4gIGFzeW5jIGxpc3RDaGF0TWVzc2FnZXModGhyZWFkSWQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RDaGF0TWVzc2FnZXModGhyZWFkSWQpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUVtYWlsVGhlbWUoZGlzcGxheU5hbWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuY3JlYXRlRW1haWxUaGVtZShkaXNwbGF5TmFtZSk7XG4gICAgYXdhaXQgdGhpcy5fYWRtaW5FbWFpbFRoZW1lc0NhY2hlLnJlZnJlc2goW10pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgYXN5bmMgZ2V0RW1haWxQcmV2aWV3KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuX2ludGVyZmFjZS5yZW5kZXJFbWFpbFByZXZpZXcob3B0aW9ucykpLmh0bWw7XG4gIH1cbiAgdXNlRW1haWxQcmV2aWV3KG9wdGlvbnMpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9lbWFpbFByZXZpZXdDYWNoZSwgW29wdGlvbnMudGhlbWVJZCwgb3B0aW9ucy50aGVtZVRzeFNvdXJjZSwgb3B0aW9ucy50ZW1wbGF0ZUlkLCBvcHRpb25zLnRlbXBsYXRlVHN4U291cmNlXSwgXCJ1c2VFbWFpbFByZXZpZXcoKVwiKTtcbiAgICByZXR1cm4gY3J1ZC5odG1sO1xuICB9XG4gIHVzZUVtYWlsVGhlbWUoaWQpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9hZG1pbkVtYWlsVGhlbWVDYWNoZSwgW2lkXSwgXCJ1c2VFbWFpbFRoZW1lKClcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc3BsYXlOYW1lOiBjcnVkLmRpc3BsYXlfbmFtZSxcbiAgICAgIHRzeFNvdXJjZTogY3J1ZC50c3hfc291cmNlXG4gICAgfTtcbiAgfVxuICBhc3luYyB1cGRhdGVFbWFpbFRoZW1lKGlkLCB0c3hTb3VyY2UpIHtcbiAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2UudXBkYXRlRW1haWxUaGVtZShpZCwgdHN4U291cmNlKTtcbiAgfVxuICBhc3luYyB1cGRhdGVFbWFpbFRlbXBsYXRlKGlkLCB0c3hTb3VyY2UsIHRoZW1lSWQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UudXBkYXRlRW1haWxUZW1wbGF0ZShpZCwgdHN4U291cmNlLCB0aGVtZUlkKTtcbiAgICBhd2FpdCB0aGlzLl9hZG1pbkVtYWlsVGVtcGxhdGVzQ2FjaGUucmVmcmVzaChbXSk7XG4gICAgcmV0dXJuIHsgcmVuZGVyZWRIdG1sOiByZXN1bHQucmVuZGVyZWRfaHRtbCB9O1xuICB9XG4gIGFzeW5jIHNldHVwUGF5bWVudHMoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zZXR1cFBheW1lbnRzKCk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlU3RyaXBlV2lkZ2V0QWNjb3VudFNlc3Npb24oKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5jcmVhdGVTdHJpcGVXaWRnZXRBY2NvdW50U2Vzc2lvbigpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZUl0ZW1RdWFudGl0eUNoYW5nZShvcHRpb25zKSB7XG4gICAgYXdhaXQgdGhpcy5faW50ZXJmYWNlLnVwZGF0ZUl0ZW1RdWFudGl0eShcbiAgICAgIHsgaXRlbUlkOiBvcHRpb25zLml0ZW1JZCwgLi4uXCJ1c2VySWRcIiBpbiBvcHRpb25zID8geyB1c2VySWQ6IG9wdGlvbnMudXNlcklkIH0gOiBcInRlYW1JZFwiIGluIG9wdGlvbnMgPyB7IHRlYW1JZDogb3B0aW9ucy50ZWFtSWQgfSA6IHsgY3VzdG9tQ3VzdG9tZXJJZDogb3B0aW9ucy5jdXN0b21DdXN0b21lcklkIH0gfSxcbiAgICAgIHtcbiAgICAgICAgZGVsdGE6IG9wdGlvbnMucXVhbnRpdHksXG4gICAgICAgIGV4cGlyZXNfYXQ6IG9wdGlvbnMuZXhwaXJlc0F0LFxuICAgICAgICBkZXNjcmlwdGlvbjogb3B0aW9ucy5kZXNjcmlwdGlvblxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgYXN5bmMgdGVzdE1vZGVQdXJjaGFzZShvcHRpb25zKSB7XG4gICAgYXdhaXQgdGhpcy5faW50ZXJmYWNlLnRlc3RNb2RlUHVyY2hhc2UoeyBwcmljZV9pZDogb3B0aW9ucy5wcmljZUlkLCBmdWxsX2NvZGU6IG9wdGlvbnMuZnVsbENvZGUsIHF1YW50aXR5OiBvcHRpb25zLnF1YW50aXR5IH0pO1xuICB9XG4gIGFzeW5jIGxpc3RUcmFuc2FjdGlvbnMocGFyYW1zKSB7XG4gICAgY29uc3QgY3J1ZCA9IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3RyYW5zYWN0aW9uc0NhY2hlLmdldE9yV2FpdChbcGFyYW1zLmN1cnNvciwgcGFyYW1zLmxpbWl0LCBwYXJhbXMudHlwZSwgcGFyYW1zLmN1c3RvbWVyVHlwZV0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgcmV0dXJuIGNydWQ7XG4gIH1cbiAgdXNlVHJhbnNhY3Rpb25zKHBhcmFtcykge1xuICAgIGNvbnN0IGRhdGEgPSB1c2VBc3luY0NhY2hlKHRoaXMuX3RyYW5zYWN0aW9uc0NhY2hlLCBbcGFyYW1zLmN1cnNvciwgcGFyYW1zLmxpbWl0LCBwYXJhbXMudHlwZSwgcGFyYW1zLmN1c3RvbWVyVHlwZV0sIFwidXNlVHJhbnNhY3Rpb25zKClcIik7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgYXN5bmMgZ2V0U3RyaXBlQWNjb3VudEluZm8oKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRTdHJpcGVBY2NvdW50SW5mbygpO1xuICB9XG4gIHVzZVN0cmlwZUFjY291bnRJbmZvKCkge1xuICAgIGNvbnN0IGRhdGEgPSB1c2VBc3luY0NhY2hlKHRoaXMuX3N0cmlwZUFjY291bnRJbmZvQ2FjaGUsIFtdLCBcInVzZVN0cmlwZUFjY291bnRJbmZvKClcIik7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5leHBvcnQge1xuICBfU3RhY2tBZG1pbkFwcEltcGxJbmNvbXBsZXRlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRtaW4tYXBwLWltcGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/admin-app-impl.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/client-app-impl.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/client-app-impl.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _StackClientAppImplIncomplete: () => (/* binding */ _StackClientAppImplIncomplete)\n/* harmony export */ });\n/* harmony import */ var _simplewebauthn_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @simplewebauthn/browser */ \"(app-pages-browser)/./node_modules/@simplewebauthn/browser/dist/bundle/index.js\");\n/* harmony import */ var _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackframe/stack-shared */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_sessions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack-shared/dist/sessions */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/sessions.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_compile_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/compile-time */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/compile-time.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/env */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_maps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/maps */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/maps.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/objects */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/promises */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/react */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/react.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/results */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/stores */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_strings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/strings */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/strings.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_urls__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/urls */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/urls.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_uuids__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/uuids */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/uuids.js\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! cookie */ \"(app-pages-browser)/./node_modules/cookie/index.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _utils_url_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../utils/url.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/utils/url.js\");\n/* harmony import */ var _auth_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../auth.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/auth.js\");\n/* harmony import */ var _cookie_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../cookie.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/cookie.js\");\n/* harmony import */ var _api_keys_index_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../api-keys/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/api-keys/index.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../common.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/common.js\");\n/* harmony import */ var _contact_channels_index_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../contact-channels/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/contact-channels/index.js\");\n/* harmony import */ var _projects_index_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../projects/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/projects/index.js\");\n/* harmony import */ var _teams_index_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../teams/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/teams/index.js\");\n/* harmony import */ var _users_index_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../users/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/users/index.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./common.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/common.js\");\n/* harmony import */ var _stackframe_stack_sc__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @stackframe/stack-sc */ \"(app-pages-browser)/./node_modules/@stackframe/stack-sc/dist/index.default.js\");\n// src/lib/stack-app/apps/implementations/client-app-impl.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar isReactServer2 = false;\nisReactServer2 = _stackframe_stack_sc__WEBPACK_IMPORTED_MODULE_18__.isReactServer;\nvar NextNavigation = (0,_stackframe_stack_shared_dist_utils_compile_time__WEBPACK_IMPORTED_MODULE_3__.scrambleDuringCompileTime)(next_navigation__WEBPACK_IMPORTED_MODULE_16__);\nvar allClientApps = /* @__PURE__ */ new Map();\nvar __StackClientAppImplIncomplete = class __StackClientAppImplIncomplete {\n  constructor(_options) {\n    this._options = _options;\n    this._uniqueIdentifier = void 0;\n    this.__DEMO_ENABLE_SLIGHT_FETCH_DELAY = false;\n    this._ownedAdminApps = new _stackframe_stack_shared_dist_utils_maps__WEBPACK_IMPORTED_MODULE_6__.DependenciesMap();\n    this._currentUserCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(async (session) => {\n      if (this.__DEMO_ENABLE_SLIGHT_FETCH_DELAY) {\n        await (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.wait)(2e3);\n      }\n      if (session.isKnownToBeInvalid()) {\n        return null;\n      }\n      return await this._interface.getClientUserByToken(session);\n    });\n    this._currentProjectCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCache)(async () => {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._interface.getClientProject());\n    });\n    this._ownedProjectsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(async (session) => {\n      return await this._interface.listProjects(session);\n    });\n    this._currentUserPermissionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(async (session, [teamId, recursive]) => {\n      return await this._interface.listCurrentUserTeamPermissions({ teamId, recursive }, session);\n    });\n    this._currentUserProjectPermissionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(async (session, [recursive]) => {\n      return await this._interface.listCurrentUserProjectPermissions({ recursive }, session);\n    });\n    this._currentUserTeamsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(async (session) => {\n      return await this._interface.listCurrentUserTeams(session);\n    });\n    this._currentUserOAuthConnectionAccessTokensCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [providerId, scope]) => {\n        try {\n          const result = await this._interface.createProviderAccessToken(providerId, scope || \"\", session);\n          return { accessToken: result.access_token };\n        } catch (err) {\n          if (!(_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.OAuthConnectionDoesNotHaveRequiredScope.isInstance(err) || _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.OAuthConnectionNotConnectedToUser.isInstance(err))) {\n            throw err;\n          }\n        }\n        return null;\n      }\n    );\n    this._currentUserOAuthConnectionCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [providerId, scope, redirect]) => {\n        return await this._getUserOAuthConnectionCacheFn({\n          getUser: async () => _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._currentUserCache.getOrWait([session], \"write-only\")),\n          getOrWaitOAuthToken: async () => _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._currentUserOAuthConnectionAccessTokensCache.getOrWait([session, providerId, scope || \"\"], \"write-only\")),\n          useOAuthToken: () => (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(this._currentUserOAuthConnectionAccessTokensCache, [session, providerId, scope || \"\"], \"useOAuthToken\"),\n          providerId,\n          scope,\n          redirect,\n          session\n        });\n      }\n    );\n    this._teamMemberProfilesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [teamId]) => {\n        return await this._interface.listTeamMemberProfiles({ teamId }, session);\n      }\n    );\n    this._teamInvitationsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [teamId]) => {\n        return await this._interface.listTeamInvitations({ teamId }, session);\n      }\n    );\n    this._currentUserTeamProfileCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [teamId]) => {\n        return await this._interface.getTeamMemberProfile({ teamId, userId: \"me\" }, session);\n      }\n    );\n    this._clientContactChannelsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session) => {\n        return await this._interface.listClientContactChannels(session);\n      }\n    );\n    this._userApiKeysCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session) => {\n        const results = await this._interface.listProjectApiKeys({ user_id: \"me\" }, session, \"client\");\n        return results;\n      }\n    );\n    this._teamApiKeysCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [teamId]) => {\n        const results = await this._interface.listProjectApiKeys({ team_id: teamId }, session, \"client\");\n        return results;\n      }\n    );\n    this._notificationCategoriesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session) => {\n        const results = await this._interface.listNotificationCategories(session);\n        return results;\n      }\n    );\n    this._currentUserOAuthProvidersCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session) => {\n        return await this._interface.listOAuthProviders({ user_id: \"me\" }, session);\n      }\n    );\n    this._userItemCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [userId, itemId]) => {\n        return await this._interface.getItem({ userId, itemId }, session);\n      }\n    );\n    this._teamItemCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [teamId, itemId]) => {\n        return await this._interface.getItem({ teamId, itemId }, session);\n      }\n    );\n    this._customItemCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCacheBySession)(\n      async (session, [customCustomerId, itemId]) => {\n        return await this._interface.getItem({ customCustomerId, itemId }, session);\n      }\n    );\n    this._convexPartialUserCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createCache)(\n      async ([ctx]) => await this._getPartialUserFromConvex(ctx)\n    );\n    this._anonymousSignUpInProgress = null;\n    this._memoryTokenStore = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createEmptyTokenStore)();\n    this._nextServerCookiesTokenStores = /* @__PURE__ */ new WeakMap();\n    this._requestTokenStores = /* @__PURE__ */ new WeakMap();\n    this._storedBrowserCookieTokenStore = null;\n    /**\n     * A map from token stores and session keys to sessions.\n     *\n     * This isn't just a map from session keys to sessions for two reasons:\n     *\n     * - So we can garbage-collect Session objects when the token store is garbage-collected\n     * - So different token stores are separated and don't leak information between each other, eg. if the same user sends two requests to the same server they should get a different session object\n     */\n    this._sessionsByTokenStoreAndSessionKey = /* @__PURE__ */ new WeakMap();\n    if (!__StackClientAppImplIncomplete.LazyStackAdminAppImpl.value) {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"Admin app implementation not initialized. Did you import the _StackClientApp from stack-app/apps/implementations/index.ts? You can't import it directly from ./apps/implementations/client-app-impl.ts as that causes a circular dependency (see the comment at _LazyStackAdminAppImpl for more details).\");\n    }\n    if (\"interface\" in _options) {\n      this._interface = _options.interface;\n    } else {\n      this._interface = new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.StackClientInterface({\n        getBaseUrl: () => (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.getBaseUrl)(_options.baseUrl),\n        extraRequestHeaders: _options.extraRequestHeaders ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.getDefaultExtraRequestHeaders)(),\n        projectId: _options.projectId ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.getDefaultProjectId)(),\n        clientVersion: _common_js__WEBPACK_IMPORTED_MODULE_19__.clientVersion,\n        publishableClientKey: _options.publishableClientKey ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.getDefaultPublishableClientKey)(),\n        prepareRequest: async () => {\n          await (0,_stackframe_stack_sc__WEBPACK_IMPORTED_MODULE_18__.cookies)?.();\n        }\n      });\n    }\n    this._tokenStoreInit = _options.tokenStore;\n    this._redirectMethod = _options.redirectMethod || \"none\";\n    this._redirectMethod = _options.redirectMethod || \"nextjs\";\n    this._urlOptions = _options.urls ?? {};\n    this._oauthScopesOnSignIn = _options.oauthScopesOnSignIn ?? {};\n    if (_options.uniqueIdentifier) {\n      this._uniqueIdentifier = _options.uniqueIdentifier;\n      this._initUniqueIdentifier();\n    }\n  }\n  async _createCookieHelper() {\n    if (this._tokenStoreInit === \"nextjs-cookie\" || this._tokenStoreInit === \"cookie\") {\n      return await (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.createCookieHelper)();\n    } else {\n      return await (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.createPlaceholderCookieHelper)();\n    }\n  }\n  async _getUserOAuthConnectionCacheFn(options) {\n    const user = await options.getUser();\n    let hasConnection = true;\n    if (!user || !user.oauth_providers.find((p) => p.id === options.providerId)) {\n      hasConnection = false;\n    }\n    const token = await options.getOrWaitOAuthToken();\n    if (!token) {\n      hasConnection = false;\n    }\n    if (!hasConnection && options.redirect) {\n      if (!options.session) {\n        throw new Error((0,_stackframe_stack_shared_dist_utils_strings__WEBPACK_IMPORTED_MODULE_12__.deindent)`\n          Cannot add new scopes to a user that is not a CurrentUser. Please ensure that you are calling this function on a CurrentUser object, or remove the 'or: redirect' option.\n\n          Often, you can solve this by calling this function in the browser instead, or by removing the 'or: redirect' option and dealing with the case where the user doesn't have enough permissions.\n        `);\n      }\n      await (0,_auth_js__WEBPACK_IMPORTED_MODULE_21__.addNewOAuthProviderOrScope)(\n        this._interface,\n        {\n          provider: options.providerId,\n          redirectUrl: this.urls.oauthCallback,\n          errorRedirectUrl: this.urls.error,\n          providerScope: (0,_stackframe_stack_shared_dist_utils_strings__WEBPACK_IMPORTED_MODULE_12__.mergeScopeStrings)(options.scope || \"\", (this._oauthScopesOnSignIn[options.providerId] ?? []).join(\" \"))\n        },\n        options.session\n      );\n      return await (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.neverResolve)();\n    } else if (!hasConnection) {\n      return null;\n    }\n    return {\n      id: options.providerId,\n      async getAccessToken() {\n        const result = await options.getOrWaitOAuthToken();\n        if (!result) {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"No access token available\");\n        }\n        return result;\n      },\n      useAccessToken() {\n        const result = options.useOAuthToken();\n        if (!result) {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"No access token available\");\n        }\n        return result;\n      }\n    };\n  }\n  _initUniqueIdentifier() {\n    if (!this._uniqueIdentifier) {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"Unique identifier not initialized\");\n    }\n    if (allClientApps.has(this._uniqueIdentifier)) {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"A Stack client app with the same unique identifier already exists\");\n    }\n    allClientApps.set(this._uniqueIdentifier, [this._options.checkString ?? void 0, this]);\n  }\n  /**\n   * Cloudflare workers does not allow use of randomness on the global scope (on which the Stack app is probably\n   * initialized). For that reason, we generate the unique identifier lazily when it is first needed instead of in the\n   * constructor.\n   */\n  _getUniqueIdentifier() {\n    if (!this._uniqueIdentifier) {\n      this._uniqueIdentifier = (0,_stackframe_stack_shared_dist_utils_uuids__WEBPACK_IMPORTED_MODULE_14__.generateUuid)();\n      this._initUniqueIdentifier();\n    }\n    return this._uniqueIdentifier;\n  }\n  async _checkFeatureSupport(name, options) {\n    return await this._interface.checkFeatureSupport({ ...options, name });\n  }\n  _useCheckFeatureSupport(name, options) {\n    (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.runAsynchronously)(this._checkFeatureSupport(name, options));\n    throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(`${name} is not currently supported. Please reach out to Stack support for more information.`);\n  }\n  get _refreshTokenCookieName() {\n    return `stack-refresh-${this.projectId}`;\n  }\n  _getTokensFromCookies(cookies2) {\n    const refreshToken = cookies2.refreshTokenCookie;\n    const accessTokenObject = cookies2.accessTokenCookie?.startsWith('[\"') ? JSON.parse(cookies2.accessTokenCookie) : null;\n    const accessToken = accessTokenObject && refreshToken === accessTokenObject[0] ? accessTokenObject[1] : null;\n    return {\n      refreshToken,\n      accessToken\n    };\n  }\n  get _accessTokenCookieName() {\n    return `stack-access`;\n  }\n  _getBrowserCookieTokenStore() {\n    if (!(0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_4__.isBrowserLike)()) {\n      throw new Error(\"Cannot use cookie token store on the server!\");\n    }\n    if (this._storedBrowserCookieTokenStore === null) {\n      const getCurrentValue = (old) => {\n        const tokens = this._getTokensFromCookies({\n          refreshTokenCookie: (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.getCookieClient)(this._refreshTokenCookieName) ?? (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.getCookieClient)(\"stack-refresh\"),\n          // keep old cookie name for backwards-compatibility\n          accessTokenCookie: (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.getCookieClient)(this._accessTokenCookieName)\n        });\n        return {\n          refreshToken: tokens.refreshToken,\n          accessToken: tokens.accessToken ?? (old?.refreshToken === tokens.refreshToken ? old.accessToken : null)\n        };\n      };\n      this._storedBrowserCookieTokenStore = new _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_11__.Store(getCurrentValue(null));\n      let hasSucceededInWriting = true;\n      setInterval(() => {\n        if (hasSucceededInWriting) {\n          const oldValue = this._storedBrowserCookieTokenStore.get();\n          const currentValue = getCurrentValue(oldValue);\n          if (!(0,_stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_7__.deepPlainEquals)(currentValue, oldValue)) {\n            this._storedBrowserCookieTokenStore.set(currentValue);\n          }\n        }\n      }, 100);\n      this._storedBrowserCookieTokenStore.onChange((value) => {\n        try {\n          (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.setOrDeleteCookieClient)(this._refreshTokenCookieName, value.refreshToken, { maxAge: 60 * 60 * 24 * 365 });\n          (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.setOrDeleteCookieClient)(this._accessTokenCookieName, value.accessToken ? JSON.stringify([value.refreshToken, value.accessToken]) : null, { maxAge: 60 * 60 * 24 });\n          (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.deleteCookieClient)(\"stack-refresh\");\n          hasSucceededInWriting = true;\n        } catch (e) {\n          if (!(0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_4__.isBrowserLike)()) {\n            hasSucceededInWriting = false;\n          } else {\n            throw e;\n          }\n        }\n      });\n    }\n    return this._storedBrowserCookieTokenStore;\n  }\n  _getOrCreateTokenStore(cookieHelper, overrideTokenStoreInit) {\n    const tokenStoreInit = overrideTokenStoreInit === void 0 ? this._tokenStoreInit : overrideTokenStoreInit;\n    switch (tokenStoreInit) {\n      case \"cookie\": {\n        return this._getBrowserCookieTokenStore();\n      }\n      case \"nextjs-cookie\": {\n        if ((0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_4__.isBrowserLike)()) {\n          return this._getBrowserCookieTokenStore();\n        } else {\n          const tokens = this._getTokensFromCookies({\n            refreshTokenCookie: cookieHelper.get(this._refreshTokenCookieName) ?? cookieHelper.get(\"stack-refresh\"),\n            // keep old cookie name for backwards-compatibility\n            accessTokenCookie: cookieHelper.get(this._accessTokenCookieName)\n          });\n          const store = new _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_11__.Store(tokens);\n          store.onChange((value) => {\n            (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.runAsynchronously)(async () => {\n              await Promise.all([\n                (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.setOrDeleteCookie)(this._refreshTokenCookieName, value.refreshToken, { maxAge: 60 * 60 * 24 * 365, noOpIfServerComponent: true }),\n                (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.setOrDeleteCookie)(this._accessTokenCookieName, value.accessToken ? JSON.stringify([value.refreshToken, value.accessToken]) : null, { maxAge: 60 * 60 * 24, noOpIfServerComponent: true })\n              ]);\n            });\n          });\n          return store;\n        }\n      }\n      case \"memory\": {\n        return this._memoryTokenStore;\n      }\n      default: {\n        if (tokenStoreInit === null) {\n          return (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.createEmptyTokenStore)();\n        } else if (typeof tokenStoreInit === \"object\" && \"headers\" in tokenStoreInit) {\n          if (this._requestTokenStores.has(tokenStoreInit)) return this._requestTokenStores.get(tokenStoreInit);\n          const stackAuthHeader = tokenStoreInit.headers.get(\"x-stack-auth\");\n          if (stackAuthHeader) {\n            let parsed2;\n            try {\n              parsed2 = JSON.parse(stackAuthHeader);\n              if (typeof parsed2 !== \"object\") throw new Error(\"x-stack-auth header must be a JSON object\");\n              if (parsed2 === null) throw new Error(\"x-stack-auth header must not be null\");\n            } catch (e) {\n              throw new Error(`Invalid x-stack-auth header: ${stackAuthHeader}`, { cause: e });\n            }\n            return this._getOrCreateTokenStore(cookieHelper, {\n              accessToken: parsed2.accessToken ?? null,\n              refreshToken: parsed2.refreshToken ?? null\n            });\n          }\n          const cookieHeader = tokenStoreInit.headers.get(\"cookie\");\n          const parsed = cookie__WEBPACK_IMPORTED_MODULE_15__.parse(cookieHeader || \"\");\n          const res = new _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_11__.Store({\n            refreshToken: parsed[this._refreshTokenCookieName] || parsed[\"stack-refresh\"] || null,\n            // keep old cookie name for backwards-compatibility\n            accessToken: parsed[this._accessTokenCookieName] || null\n          });\n          this._requestTokenStores.set(tokenStoreInit, res);\n          return res;\n        } else if (\"accessToken\" in tokenStoreInit || \"refreshToken\" in tokenStoreInit) {\n          return new _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_11__.Store({\n            refreshToken: tokenStoreInit.refreshToken,\n            accessToken: tokenStoreInit.accessToken\n          });\n        }\n        throw new Error(`Invalid token store ${tokenStoreInit}`);\n      }\n    }\n  }\n  _useTokenStore(overrideTokenStoreInit) {\n    (0,_stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_9__.suspendIfSsr)();\n    const cookieHelper = (0,_cookie_js__WEBPACK_IMPORTED_MODULE_20__.createBrowserCookieHelper)();\n    const tokenStore = this._getOrCreateTokenStore(cookieHelper, overrideTokenStoreInit);\n    return tokenStore;\n  }\n  _getSessionFromTokenStore(tokenStore) {\n    const tokenObj = tokenStore.get();\n    const sessionKey = _stackframe_stack_shared_dist_sessions__WEBPACK_IMPORTED_MODULE_2__.InternalSession.calculateSessionKey(tokenObj);\n    const existing = sessionKey ? this._sessionsByTokenStoreAndSessionKey.get(tokenStore)?.get(sessionKey) : null;\n    if (existing) return existing;\n    const session = this._interface.createSession({\n      refreshToken: tokenObj.refreshToken,\n      accessToken: tokenObj.accessToken\n    });\n    session.onAccessTokenChange((newAccessToken) => {\n      tokenStore.update((old) => ({\n        ...old,\n        accessToken: newAccessToken?.token ?? null\n      }));\n    });\n    session.onInvalidate(() => {\n      tokenStore.update((old) => ({\n        ...old,\n        accessToken: null,\n        refreshToken: null\n      }));\n    });\n    let sessionsBySessionKey = this._sessionsByTokenStoreAndSessionKey.get(tokenStore) ?? /* @__PURE__ */ new Map();\n    this._sessionsByTokenStoreAndSessionKey.set(tokenStore, sessionsBySessionKey);\n    sessionsBySessionKey.set(sessionKey, session);\n    return session;\n  }\n  async _getSession(overrideTokenStoreInit) {\n    const tokenStore = this._getOrCreateTokenStore(await this._createCookieHelper(), overrideTokenStoreInit);\n    const session = this._getSessionFromTokenStore(tokenStore);\n    return session;\n  }\n  _useSession(overrideTokenStoreInit) {\n    const tokenStore = this._useTokenStore(overrideTokenStoreInit);\n    const subscribe = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)((cb) => {\n      const { unsubscribe } = tokenStore.onChange(() => {\n        cb();\n      });\n      return unsubscribe;\n    }, [tokenStore]);\n    const getSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_17__.useCallback)(() => this._getSessionFromTokenStore(tokenStore), [tokenStore]);\n    return react__WEBPACK_IMPORTED_MODULE_17___default().useSyncExternalStore(subscribe, getSnapshot, getSnapshot);\n  }\n  async _signInToAccountWithTokens(tokens) {\n    if (!(\"accessToken\" in tokens) || !(\"refreshToken\" in tokens)) {\n      throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"Invalid tokens object; can't sign in with this\", { tokens });\n    }\n    const tokenStore = this._getOrCreateTokenStore(await this._createCookieHelper());\n    tokenStore.set(tokens);\n  }\n  _hasPersistentTokenStore(overrideTokenStoreInit) {\n    return (overrideTokenStoreInit !== void 0 ? overrideTokenStoreInit : this._tokenStoreInit) !== null;\n  }\n  _ensurePersistentTokenStore(overrideTokenStoreInit) {\n    if (!this._hasPersistentTokenStore(overrideTokenStoreInit)) {\n      throw new Error(\"Cannot call this function on a Stack app without a persistent token store. Make sure the tokenStore option on the constructor is set to a non-null value when initializing Stack.\\n\\nStack uses token stores to access access tokens of the current user. For example, on web frontends it is commonly the string value 'cookies' for cookie storage.\");\n    }\n  }\n  _isInternalProject() {\n    return this.projectId === \"internal\";\n  }\n  _ensureInternalProject() {\n    if (!this._isInternalProject()) {\n      throw new Error(\"Cannot call this function on a Stack app with a project ID other than 'internal'.\");\n    }\n  }\n  _clientProjectFromCrud(crud) {\n    return {\n      id: crud.id,\n      displayName: crud.display_name,\n      config: {\n        signUpEnabled: crud.config.sign_up_enabled,\n        credentialEnabled: crud.config.credential_enabled,\n        magicLinkEnabled: crud.config.magic_link_enabled,\n        passkeyEnabled: crud.config.passkey_enabled,\n        clientTeamCreationEnabled: crud.config.client_team_creation_enabled,\n        clientUserDeletionEnabled: crud.config.client_user_deletion_enabled,\n        allowTeamApiKeys: crud.config.allow_team_api_keys,\n        allowUserApiKeys: crud.config.allow_user_api_keys,\n        oauthProviders: crud.config.enabled_oauth_providers.map((p) => ({\n          id: p.id\n        }))\n      }\n    };\n  }\n  _clientPermissionFromCrud(crud) {\n    return {\n      id: crud.id\n    };\n  }\n  _clientTeamUserFromCrud(crud) {\n    return {\n      id: crud.user_id,\n      teamProfile: {\n        displayName: crud.display_name,\n        profileImageUrl: crud.profile_image_url\n      }\n    };\n  }\n  _clientTeamInvitationFromCrud(session, crud) {\n    return {\n      id: crud.id,\n      recipientEmail: crud.recipient_email,\n      expiresAt: new Date(crud.expires_at_millis),\n      revoke: async () => {\n        await this._interface.revokeTeamInvitation(crud.id, crud.team_id, session);\n        await this._teamInvitationsCache.refresh([session, crud.team_id]);\n      }\n    };\n  }\n  _baseApiKeyFromCrud(crud) {\n    return {\n      id: crud.id,\n      description: crud.description,\n      expiresAt: crud.expires_at_millis ? new Date(crud.expires_at_millis) : void 0,\n      manuallyRevokedAt: crud.manually_revoked_at_millis ? new Date(crud.manually_revoked_at_millis) : null,\n      createdAt: new Date(crud.created_at_millis),\n      ...crud.type === \"team\" ? { type: \"team\", teamId: crud.team_id } : { type: \"user\", userId: crud.user_id },\n      value: typeof crud.value === \"string\" ? crud.value : {\n        lastFour: crud.value.last_four\n      },\n      isValid: function() {\n        return this.whyInvalid() === null;\n      },\n      whyInvalid: function() {\n        if (this.manuallyRevokedAt) {\n          return \"manually-revoked\";\n        }\n        if (this.expiresAt && this.expiresAt < /* @__PURE__ */ new Date()) {\n          return \"expired\";\n        }\n        return null;\n      }\n    };\n  }\n  _clientApiKeyFromCrud(session, crud) {\n    return {\n      ...this._baseApiKeyFromCrud(crud),\n      async revoke() {\n        await this.update({ revoked: true });\n      },\n      update: async (options) => {\n        await this._interface.updateProjectApiKey(crud.type === \"team\" ? { team_id: crud.team_id } : { user_id: crud.user_id }, crud.id, options, session, \"client\");\n        if (crud.type === \"team\") {\n          await this._teamApiKeysCache.refresh([session, crud.team_id]);\n        } else {\n          await this._userApiKeysCache.refresh([session]);\n        }\n      }\n    };\n  }\n  _clientTeamFromCrud(crud, session) {\n    const app = this;\n    return {\n      id: crud.id,\n      displayName: crud.display_name,\n      profileImageUrl: crud.profile_image_url,\n      clientMetadata: crud.client_metadata,\n      clientReadOnlyMetadata: crud.client_read_only_metadata,\n      ...this._createCustomer(crud.id, \"team\", session),\n      async inviteUser(options) {\n        await app._interface.sendTeamInvitation({\n          teamId: crud.id,\n          email: options.email,\n          session,\n          callbackUrl: options.callbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_22__.constructRedirectUrl)(app.urls.teamInvitation, \"callbackUrl\")\n        });\n        await app._teamInvitationsCache.refresh([session, crud.id]);\n      },\n      async listUsers() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._teamMemberProfilesCache.getOrWait([session, crud.id], \"write-only\"));\n        return result.map((crud2) => app._clientTeamUserFromCrud(crud2));\n      },\n      useUsers() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._teamMemberProfilesCache, [session, crud.id], \"team.useUsers()\");\n        return result.map((crud2) => app._clientTeamUserFromCrud(crud2));\n      },\n      async listInvitations() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._teamInvitationsCache.getOrWait([session, crud.id], \"write-only\"));\n        return result.map((crud2) => app._clientTeamInvitationFromCrud(session, crud2));\n      },\n      useInvitations() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._teamInvitationsCache, [session, crud.id], \"team.useInvitations()\");\n        return result.map((crud2) => app._clientTeamInvitationFromCrud(session, crud2));\n      },\n      async update(data) {\n        await app._interface.updateTeam({ data: (0,_teams_index_js__WEBPACK_IMPORTED_MODULE_23__.teamUpdateOptionsToCrud)(data), teamId: crud.id }, session);\n        await app._currentUserTeamsCache.refresh([session]);\n      },\n      async delete() {\n        await app._interface.deleteTeam(crud.id, session);\n        await app._currentUserTeamsCache.refresh([session]);\n      },\n      useApiKeys() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._teamApiKeysCache, [session, crud.id], \"team.useApiKeys()\");\n        return result.map((crud2) => app._clientApiKeyFromCrud(session, crud2));\n      },\n      async listApiKeys() {\n        const results = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._teamApiKeysCache.getOrWait([session, crud.id], \"write-only\"));\n        return results.map((crud2) => app._clientApiKeyFromCrud(session, crud2));\n      },\n      async createApiKey(options) {\n        const result = await app._interface.createProjectApiKey(\n          await (0,_api_keys_index_js__WEBPACK_IMPORTED_MODULE_24__.apiKeyCreationOptionsToCrud)(\"team\", crud.id, options),\n          session,\n          \"client\"\n        );\n        await app._teamApiKeysCache.refresh([session, crud.id]);\n        return app._clientApiKeyFromCrud(session, result);\n      }\n    };\n  }\n  _clientContactChannelFromCrud(crud, session) {\n    const app = this;\n    return {\n      id: crud.id,\n      value: crud.value,\n      type: crud.type,\n      isVerified: crud.is_verified,\n      isPrimary: crud.is_primary,\n      usedForAuth: crud.used_for_auth,\n      async sendVerificationEmail(options) {\n        await app._interface.sendCurrentUserContactChannelVerificationEmail(\n          crud.id,\n          options?.callbackUrl || (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_22__.constructRedirectUrl)(app.urls.emailVerification, \"callbackUrl\"),\n          session\n        );\n      },\n      async update(data) {\n        await app._interface.updateClientContactChannel(crud.id, (0,_contact_channels_index_js__WEBPACK_IMPORTED_MODULE_25__.contactChannelUpdateOptionsToCrud)(data), session);\n        await app._clientContactChannelsCache.refresh([session]);\n      },\n      async delete() {\n        await app._interface.deleteClientContactChannel(crud.id, session);\n        await app._clientContactChannelsCache.refresh([session]);\n      }\n    };\n  }\n  _clientNotificationCategoryFromCrud(crud, session) {\n    const app = this;\n    return {\n      id: crud.notification_category_id,\n      name: crud.notification_category_name,\n      enabled: crud.enabled,\n      canDisable: crud.can_disable,\n      async setEnabled(enabled) {\n        await app._interface.setNotificationsEnabled(crud.notification_category_id, enabled, session);\n        await app._notificationCategoriesCache.refresh([session]);\n      }\n    };\n  }\n  _clientOAuthProviderFromCrud(crud, session) {\n    const app = this;\n    return {\n      id: crud.id,\n      type: crud.type,\n      userId: crud.user_id,\n      email: crud.email,\n      allowSignIn: crud.allow_sign_in,\n      allowConnectedAccounts: crud.allow_connected_accounts,\n      async update(data) {\n        try {\n          await app._interface.updateOAuthProvider(\n            crud.user_id,\n            crud.id,\n            {\n              allow_sign_in: data.allowSignIn,\n              allow_connected_accounts: data.allowConnectedAccounts\n            },\n            session\n          );\n          await app._currentUserOAuthProvidersCache.refresh([session]);\n          return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n        } catch (error) {\n          if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.OAuthProviderAccountIdAlreadyUsedForSignIn.isInstance(error)) {\n            return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(error);\n          }\n          throw error;\n        }\n      },\n      async delete() {\n        await app._interface.deleteOAuthProvider(crud.user_id, crud.id, session);\n        await app._currentUserOAuthProvidersCache.refresh([session]);\n      }\n    };\n  }\n  _clientItemFromCrud(crud) {\n    const app = this;\n    return {\n      displayName: crud.display_name,\n      quantity: crud.quantity,\n      nonNegativeQuantity: Math.max(0, crud.quantity)\n    };\n  }\n  _createAuth(session) {\n    const app = this;\n    return {\n      _internalSession: session,\n      currentSession: {\n        async getTokens() {\n          const tokens = await session.getOrFetchLikelyValidTokens(2e4);\n          return {\n            accessToken: tokens?.accessToken.token ?? null,\n            refreshToken: tokens?.refreshToken?.token ?? null\n          };\n        }\n      },\n      async getAuthHeaders() {\n        return {\n          \"x-stack-auth\": JSON.stringify(await this.getAuthJson())\n        };\n      },\n      async getAuthJson() {\n        const tokens = await this.currentSession.getTokens();\n        return tokens;\n      },\n      async registerPasskey(options) {\n        const hostname = (await app._getCurrentUrl())?.hostname;\n        if (!hostname) {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"hostname must be provided if the Stack App does not have a redirect method\");\n        }\n        const initiationResult = await app._interface.initiatePasskeyRegistration({}, session);\n        if (initiationResult.status !== \"ok\") {\n          return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasskeyRegistrationFailed(\"Failed to get initiation options for passkey registration\"));\n        }\n        const { options_json, code } = initiationResult.data;\n        if (options_json.rp.id !== \"THIS_VALUE_WILL_BE_REPLACED.example.com\") {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(`Expected returned RP ID from server to equal sentinel, but found ${options_json.rp.id}`);\n        }\n        options_json.rp.id = hostname;\n        let attResp;\n        try {\n          attResp = await (0,_simplewebauthn_browser__WEBPACK_IMPORTED_MODULE_0__.startRegistration)({ optionsJSON: options_json });\n        } catch (error) {\n          if (error instanceof _simplewebauthn_browser__WEBPACK_IMPORTED_MODULE_0__.WebAuthnError) {\n            return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasskeyWebAuthnError(error.message, error.name));\n          } else {\n            (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.captureError)(\"passkey-registration-failed\", error);\n            return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasskeyRegistrationFailed(\"Failed to start passkey registration due to unknown error\"));\n          }\n        }\n        const registrationResult = await app._interface.registerPasskey({ credential: attResp, code }, session);\n        await app._refreshUser(session);\n        return registrationResult;\n      },\n      signOut(options) {\n        return app._signOut(session, options);\n      }\n    };\n  }\n  _editableTeamProfileFromCrud(crud, session) {\n    const app = this;\n    return {\n      displayName: crud.display_name,\n      profileImageUrl: crud.profile_image_url,\n      async update(update) {\n        await app._interface.updateTeamMemberProfile({\n          teamId: crud.team_id,\n          userId: crud.user_id,\n          profile: {\n            display_name: update.displayName,\n            profile_image_url: update.profileImageUrl\n          }\n        }, session);\n        await app._currentUserTeamProfileCache.refresh([session, crud.team_id]);\n      }\n    };\n  }\n  _createBaseUser(crud) {\n    return {\n      id: crud.id,\n      displayName: crud.display_name,\n      primaryEmail: crud.primary_email,\n      primaryEmailVerified: crud.primary_email_verified,\n      profileImageUrl: crud.profile_image_url,\n      signedUpAt: new Date(crud.signed_up_at_millis),\n      clientMetadata: crud.client_metadata,\n      clientReadOnlyMetadata: crud.client_read_only_metadata,\n      hasPassword: crud.has_password,\n      emailAuthEnabled: crud.auth_with_email,\n      otpAuthEnabled: crud.otp_auth_enabled,\n      oauthProviders: crud.oauth_providers,\n      passkeyAuthEnabled: crud.passkey_auth_enabled,\n      isMultiFactorRequired: crud.requires_totp_mfa,\n      isAnonymous: crud.is_anonymous,\n      toClientJson() {\n        return crud;\n      }\n    };\n  }\n  _createUserExtraFromCurrent(crud, session) {\n    const app = this;\n    async function getConnectedAccount(id, options) {\n      const scopeString = options?.scopes?.join(\" \");\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._currentUserOAuthConnectionCache.getOrWait([session, id, scopeString || \"\", options?.or === \"redirect\"], \"write-only\"));\n    }\n    function useConnectedAccount(id, options) {\n      const scopeString = options?.scopes?.join(\" \");\n      return (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._currentUserOAuthConnectionCache, [session, id, scopeString || \"\", options?.or === \"redirect\"], \"user.useConnectedAccount()\");\n    }\n    return {\n      async getActiveSessions() {\n        const sessions = await app._interface.listSessions(session);\n        return sessions.items.map((crud2) => app._clientSessionFromCrud(crud2));\n      },\n      async revokeSession(sessionId) {\n        await app._interface.deleteSession(sessionId, session);\n      },\n      setDisplayName(displayName) {\n        return this.update({ displayName });\n      },\n      setClientMetadata(metadata) {\n        return this.update({ clientMetadata: metadata });\n      },\n      async setSelectedTeam(team) {\n        await this.update({ selectedTeamId: team?.id ?? null });\n      },\n      getConnectedAccount,\n      useConnectedAccount,\n      // THIS_LINE_PLATFORM react-like\n      async getTeam(teamId) {\n        const teams = await this.listTeams();\n        return teams.find((t) => t.id === teamId) ?? null;\n      },\n      useTeam(teamId) {\n        const teams = this.useTeams();\n        return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => {\n          return teams.find((t) => t.id === teamId) ?? null;\n        }, [teams, teamId]);\n      },\n      async listTeams() {\n        const teams = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._currentUserTeamsCache.getOrWait([session], \"write-only\"));\n        return teams.map((crud2) => app._clientTeamFromCrud(crud2, session));\n      },\n      useTeams() {\n        const teams = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._currentUserTeamsCache, [session], \"user.useTeams()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => teams.map((crud2) => app._clientTeamFromCrud(crud2, session)), [teams]);\n      },\n      async createTeam(data) {\n        const crud2 = await app._interface.createClientTeam((0,_teams_index_js__WEBPACK_IMPORTED_MODULE_23__.teamCreateOptionsToCrud)(data, \"me\"), session);\n        await app._currentUserTeamsCache.refresh([session]);\n        await this.update({ selectedTeamId: crud2.id });\n        return app._clientTeamFromCrud(crud2, session);\n      },\n      async leaveTeam(team) {\n        await app._interface.leaveTeam(team.id, session);\n      },\n      async listPermissions(scopeOrOptions, options) {\n        if (scopeOrOptions && \"id\" in scopeOrOptions) {\n          const scope = scopeOrOptions;\n          const recursive = options?.recursive ?? true;\n          const permissions = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._currentUserPermissionsCache.getOrWait([session, scope.id, recursive], \"write-only\"));\n          return permissions.map((crud2) => app._clientPermissionFromCrud(crud2));\n        } else {\n          const opts = scopeOrOptions;\n          const recursive = opts?.recursive ?? true;\n          const permissions = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._currentUserProjectPermissionsCache.getOrWait([session, recursive], \"write-only\"));\n          return permissions.map((crud2) => app._clientPermissionFromCrud(crud2));\n        }\n      },\n      usePermissions(scopeOrOptions, options) {\n        if (scopeOrOptions && \"id\" in scopeOrOptions) {\n          const scope = scopeOrOptions;\n          const recursive = options?.recursive ?? true;\n          const permissions = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._currentUserPermissionsCache, [session, scope.id, recursive], \"user.usePermissions()\");\n          return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => permissions.map((crud2) => app._clientPermissionFromCrud(crud2)), [permissions]);\n        } else {\n          const opts = scopeOrOptions;\n          const recursive = opts?.recursive ?? true;\n          const permissions = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._currentUserProjectPermissionsCache, [session, recursive], \"user.usePermissions()\");\n          return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => permissions.map((crud2) => app._clientPermissionFromCrud(crud2)), [permissions]);\n        }\n      },\n      usePermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\") {\n          const scope = scopeOrPermissionId;\n          const permissions = this.usePermissions(scope);\n          return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => permissions.find((p) => p.id === permissionId) ?? null, [permissions, permissionId]);\n        } else {\n          const pid = scopeOrPermissionId;\n          const permissions = this.usePermissions();\n          return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => permissions.find((p) => p.id === pid) ?? null, [permissions, pid]);\n        }\n      },\n      async getPermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\") {\n          const scope = scopeOrPermissionId;\n          const permissions = await this.listPermissions(scope);\n          return permissions.find((p) => p.id === permissionId) ?? null;\n        } else {\n          const pid = scopeOrPermissionId;\n          const permissions = await this.listPermissions();\n          return permissions.find((p) => p.id === pid) ?? null;\n        }\n      },\n      async hasPermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\") {\n          const scope = scopeOrPermissionId;\n          return await this.getPermission(scope, permissionId) !== null;\n        } else {\n          const pid = scopeOrPermissionId;\n          return await this.getPermission(pid) !== null;\n        }\n      },\n      async update(update) {\n        return await app._updateClientUser(update, session);\n      },\n      async sendVerificationEmail(options) {\n        if (!crud.primary_email) {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"User does not have a primary email\");\n        }\n        return await app._interface.sendVerificationEmail(\n          crud.primary_email,\n          options?.callbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_22__.constructRedirectUrl)(app.urls.emailVerification, \"callbackUrl\"),\n          session\n        );\n      },\n      async updatePassword(options) {\n        const result = await app._interface.updatePassword(options, session);\n        await app._currentUserCache.refresh([session]);\n        return result;\n      },\n      async setPassword(options) {\n        const result = await app._interface.setPassword(options, session);\n        await app._currentUserCache.refresh([session]);\n        return result;\n      },\n      selectedTeam: crud.selected_team && this._clientTeamFromCrud(crud.selected_team, session),\n      async getTeamProfile(team) {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._currentUserTeamProfileCache.getOrWait([session, team.id], \"write-only\"));\n        return app._editableTeamProfileFromCrud(result, session);\n      },\n      useTeamProfile(team) {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._currentUserTeamProfileCache, [session, team.id], \"user.useTeamProfile()\");\n        return app._editableTeamProfileFromCrud(result, session);\n      },\n      async delete() {\n        await app._interface.deleteCurrentUser(session);\n        session.markInvalid();\n      },\n      async listContactChannels() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._clientContactChannelsCache.getOrWait([session], \"write-only\"));\n        return result.map((crud2) => app._clientContactChannelFromCrud(crud2, session));\n      },\n      useContactChannels() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._clientContactChannelsCache, [session], \"user.useContactChannels()\");\n        return result.map((crud2) => app._clientContactChannelFromCrud(crud2, session));\n      },\n      async createContactChannel(data) {\n        const crud2 = await app._interface.createClientContactChannel((0,_contact_channels_index_js__WEBPACK_IMPORTED_MODULE_25__.contactChannelCreateOptionsToCrud)(\"me\", data), session);\n        await app._clientContactChannelsCache.refresh([session]);\n        return app._clientContactChannelFromCrud(crud2, session);\n      },\n      useNotificationCategories() {\n        const results = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._notificationCategoriesCache, [session], \"user.useNotificationCategories()\");\n        return results.map((crud2) => app._clientNotificationCategoryFromCrud(crud2, session));\n      },\n      async listNotificationCategories() {\n        const results = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._notificationCategoriesCache.getOrWait([session], \"write-only\"));\n        return results.map((crud2) => app._clientNotificationCategoryFromCrud(crud2, session));\n      },\n      useApiKeys() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._userApiKeysCache, [session], \"user.useApiKeys()\");\n        return result.map((crud2) => app._clientApiKeyFromCrud(session, crud2));\n      },\n      async listApiKeys() {\n        const results = await app._interface.listProjectApiKeys({ user_id: \"me\" }, session, \"client\");\n        return results.map((crud2) => app._clientApiKeyFromCrud(session, crud2));\n      },\n      async createApiKey(options) {\n        const result = await app._interface.createProjectApiKey(\n          await (0,_api_keys_index_js__WEBPACK_IMPORTED_MODULE_24__.apiKeyCreationOptionsToCrud)(\"user\", \"me\", options),\n          session,\n          \"client\"\n        );\n        await app._userApiKeysCache.refresh([session]);\n        return app._clientApiKeyFromCrud(session, result);\n      },\n      useOAuthProviders() {\n        const results = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(app._currentUserOAuthProvidersCache, [session], \"user.useOAuthProviders()\");\n        return results.map((crud2) => app._clientOAuthProviderFromCrud(crud2, session));\n      },\n      async listOAuthProviders() {\n        const results = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await app._currentUserOAuthProvidersCache.getOrWait([session], \"write-only\"));\n        return results.map((crud2) => app._clientOAuthProviderFromCrud(crud2, session));\n      },\n      useOAuthProvider(id) {\n        const providers = this.useOAuthProviders();\n        return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => providers.find((p) => p.id === id) ?? null, [providers, id]);\n      },\n      async getOAuthProvider(id) {\n        const providers = await this.listOAuthProviders();\n        return providers.find((p) => p.id === id) ?? null;\n      }\n    };\n  }\n  _createInternalUserExtra(session) {\n    const app = this;\n    this._ensureInternalProject();\n    return {\n      createProject(newProject) {\n        return app._createProject(session, newProject);\n      },\n      listOwnedProjects() {\n        return app._listOwnedProjects(session);\n      },\n      useOwnedProjects() {\n        return app._useOwnedProjects(session);\n      }\n    };\n  }\n  _createCustomer(userIdOrTeamId, type, session) {\n    const app = this;\n    const cache = type === \"user\" ? app._userItemCache : app._teamItemCache;\n    return {\n      async getItem(itemId) {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await cache.getOrWait([session, userIdOrTeamId, itemId], \"write-only\"));\n        return app._clientItemFromCrud(result);\n      },\n      useItem(itemId) {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(cache, [session, userIdOrTeamId, itemId], \"team.useItem()\");\n        return app._clientItemFromCrud(result);\n      },\n      async createCheckoutUrl(options) {\n        return await app._interface.createCheckoutUrl(type, userIdOrTeamId, options.offerId, session);\n      }\n    };\n  }\n  async getItem(options) {\n    const session = await this._getSession();\n    let crud;\n    if (\"userId\" in options) {\n      crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._userItemCache.getOrWait([session, options.userId, options.itemId], \"write-only\"));\n    } else if (\"teamId\" in options) {\n      crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._teamItemCache.getOrWait([session, options.teamId, options.itemId], \"write-only\"));\n    } else {\n      crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._customItemCache.getOrWait([session, options.customCustomerId, options.itemId], \"write-only\"));\n    }\n    return this._clientItemFromCrud(crud);\n  }\n  useItem(options) {\n    const session = this._useSession();\n    const [cache, ownerId] = \"userId\" in options ? [this._userItemCache, options.userId] : \"teamId\" in options ? [this._teamItemCache, options.teamId] : [this._customItemCache, options.customCustomerId];\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(cache, [session, ownerId, options.itemId], \"app.useItem()\");\n    return this._clientItemFromCrud(crud);\n  }\n  _currentUserFromCrud(crud, session) {\n    const currentUser = {\n      ...this._createBaseUser(crud),\n      ...this._createAuth(session),\n      ...this._createUserExtraFromCurrent(crud, session),\n      ...this._isInternalProject() ? this._createInternalUserExtra(session) : {},\n      ...this._createCustomer(crud.id, \"user\", session)\n    };\n    Object.freeze(currentUser);\n    return currentUser;\n  }\n  _clientSessionFromCrud(crud) {\n    return {\n      id: crud.id,\n      userId: crud.user_id,\n      createdAt: new Date(crud.created_at),\n      isImpersonation: crud.is_impersonation,\n      lastUsedAt: crud.last_used_at ? new Date(crud.last_used_at) : void 0,\n      isCurrentSession: crud.is_current_session ?? false,\n      geoInfo: crud.last_used_at_end_user_ip_info\n    };\n  }\n  _getOwnedAdminApp(forProjectId, session) {\n    if (!this._ownedAdminApps.has([session, forProjectId])) {\n      this._ownedAdminApps.set([session, forProjectId], new __StackClientAppImplIncomplete.LazyStackAdminAppImpl.value({\n        baseUrl: this._interface.options.getBaseUrl(),\n        projectId: forProjectId,\n        tokenStore: null,\n        projectOwnerSession: session,\n        noAutomaticPrefetch: true\n      }));\n    }\n    return this._ownedAdminApps.get([session, forProjectId]);\n  }\n  get projectId() {\n    return this._interface.projectId;\n  }\n  async _isTrusted(url) {\n    return (0,_stackframe_stack_shared_dist_utils_urls__WEBPACK_IMPORTED_MODULE_13__.isRelative)(url);\n  }\n  get urls() {\n    return (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.getUrls)(this._urlOptions);\n  }\n  async _getCurrentUrl() {\n    if (this._redirectMethod === \"none\") {\n      return null;\n    }\n    return new URL(window.location.href);\n  }\n  async _redirectTo(options) {\n    if (this._redirectMethod === \"none\") {\n      return;\n    } else if (isReactServer2 && this._redirectMethod === \"nextjs\") {\n      NextNavigation.redirect(options.url.toString(), options.replace ? NextNavigation.RedirectType.replace : NextNavigation.RedirectType.push);\n    } else if (typeof this._redirectMethod === \"object\" && this._redirectMethod.navigate) {\n      this._redirectMethod.navigate(options.url.toString());\n    } else {\n      if (options.replace) {\n        window.location.replace(options.url);\n      } else {\n        window.location.assign(options.url);\n      }\n    }\n    await (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.wait)(2e3);\n  }\n  useNavigate() {\n    if (typeof this._redirectMethod === \"object\") {\n      return this._redirectMethod.useNavigate();\n    } else if (this._redirectMethod === \"window\") {\n      return (to) => window.location.assign(to);\n    } else if (this._redirectMethod === \"nextjs\") {\n      const router = NextNavigation.useRouter();\n      return (to) => router.push(to);\n    } else {\n      return (to) => {\n      };\n    }\n  }\n  async _redirectIfTrusted(url, options) {\n    if (!await this._isTrusted(url)) {\n      throw new Error(`Redirect URL ${url} is not trusted; should be relative.`);\n    }\n    return await this._redirectTo({ url, ...options });\n  }\n  async _redirectToHandler(handlerName, options) {\n    let url = this.urls[handlerName];\n    if (!url) {\n      throw new Error(`No URL for handler name ${handlerName}`);\n    }\n    if (!options?.noRedirectBack) {\n      if (handlerName === \"afterSignIn\" || handlerName === \"afterSignUp\") {\n        if (isReactServer2 || typeof window === \"undefined\") {\n        } else {\n          const queryParams = new URLSearchParams(window.location.search);\n          url = queryParams.get(\"after_auth_return_to\") || url;\n        }\n      } else if (handlerName === \"signIn\" || handlerName === \"signUp\") {\n        if (isReactServer2 || typeof window === \"undefined\") {\n        } else {\n          const currentUrl = new URL(window.location.href);\n          const nextUrl = new URL(url, currentUrl);\n          if (currentUrl.searchParams.has(\"after_auth_return_to\")) {\n            nextUrl.searchParams.set(\"after_auth_return_to\", currentUrl.searchParams.get(\"after_auth_return_to\"));\n          } else if (currentUrl.protocol === nextUrl.protocol && currentUrl.host === nextUrl.host) {\n            nextUrl.searchParams.set(\"after_auth_return_to\", (0,_stackframe_stack_shared_dist_utils_urls__WEBPACK_IMPORTED_MODULE_13__.getRelativePart)(currentUrl));\n          }\n          url = (0,_stackframe_stack_shared_dist_utils_urls__WEBPACK_IMPORTED_MODULE_13__.getRelativePart)(nextUrl);\n        }\n      }\n    }\n    await this._redirectIfTrusted(url, options);\n  }\n  async redirectToSignIn(options) {\n    return await this._redirectToHandler(\"signIn\", options);\n  }\n  async redirectToSignUp(options) {\n    return await this._redirectToHandler(\"signUp\", options);\n  }\n  async redirectToSignOut(options) {\n    return await this._redirectToHandler(\"signOut\", options);\n  }\n  async redirectToEmailVerification(options) {\n    return await this._redirectToHandler(\"emailVerification\", options);\n  }\n  async redirectToPasswordReset(options) {\n    return await this._redirectToHandler(\"passwordReset\", options);\n  }\n  async redirectToForgotPassword(options) {\n    return await this._redirectToHandler(\"forgotPassword\", options);\n  }\n  async redirectToHome(options) {\n    return await this._redirectToHandler(\"home\", options);\n  }\n  async redirectToOAuthCallback(options) {\n    return await this._redirectToHandler(\"oauthCallback\", options);\n  }\n  async redirectToMagicLinkCallback(options) {\n    return await this._redirectToHandler(\"magicLinkCallback\", options);\n  }\n  async redirectToAfterSignIn(options) {\n    return await this._redirectToHandler(\"afterSignIn\", options);\n  }\n  async redirectToAfterSignUp(options) {\n    return await this._redirectToHandler(\"afterSignUp\", options);\n  }\n  async redirectToAfterSignOut(options) {\n    return await this._redirectToHandler(\"afterSignOut\", options);\n  }\n  async redirectToAccountSettings(options) {\n    return await this._redirectToHandler(\"accountSettings\", options);\n  }\n  async redirectToError(options) {\n    return await this._redirectToHandler(\"error\", options);\n  }\n  async redirectToTeamInvitation(options) {\n    return await this._redirectToHandler(\"teamInvitation\", options);\n  }\n  async redirectToMfa(options) {\n    return await this._redirectToHandler(\"mfa\", options);\n  }\n  async sendForgotPasswordEmail(email, options) {\n    return await this._interface.sendForgotPasswordEmail(email, options?.callbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_22__.constructRedirectUrl)(this.urls.passwordReset, \"callbackUrl\"));\n  }\n  async sendMagicLinkEmail(email, options) {\n    return await this._interface.sendMagicLinkEmail(email, options?.callbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_22__.constructRedirectUrl)(this.urls.magicLinkCallback, \"callbackUrl\"));\n  }\n  async resetPassword(options) {\n    return await this._interface.resetPassword(options);\n  }\n  async verifyPasswordResetCode(code) {\n    return await this._interface.verifyPasswordResetCode(code);\n  }\n  async verifyTeamInvitationCode(code) {\n    return await this._interface.acceptTeamInvitation({\n      type: \"check\",\n      code,\n      session: await this._getSession()\n    });\n  }\n  async acceptTeamInvitation(code) {\n    const result = await this._interface.acceptTeamInvitation({\n      type: \"use\",\n      code,\n      session: await this._getSession()\n    });\n    if (result.status === \"ok\") {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n    }\n  }\n  async getTeamInvitationDetails(code) {\n    const result = await this._interface.acceptTeamInvitation({\n      type: \"details\",\n      code,\n      session: await this._getSession()\n    });\n    if (result.status === \"ok\") {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok({ teamDisplayName: result.data.team_display_name });\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n    }\n  }\n  async verifyEmail(code) {\n    const result = await this._interface.verifyEmail(code);\n    await this._currentUserCache.refresh([await this._getSession()]);\n    await this._clientContactChannelsCache.refresh([await this._getSession()]);\n    return result;\n  }\n  async getUser(options) {\n    this._ensurePersistentTokenStore(options?.tokenStore);\n    const session = await this._getSession(options?.tokenStore);\n    let crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._currentUserCache.getOrWait([session], \"write-only\"));\n    if (crud?.is_anonymous && options?.or !== \"anonymous\" && options?.or !== \"anonymous-if-exists[deprecated]\") {\n      crud = null;\n    }\n    if (crud === null) {\n      switch (options?.or) {\n        case \"redirect\": {\n          await this.redirectToSignIn({ replace: true });\n          break;\n        }\n        case \"throw\": {\n          throw new Error(\"User is not signed in but getUser was called with { or: 'throw' }\");\n        }\n        case \"anonymous\": {\n          const tokens = await this._signUpAnonymously();\n          return await this.getUser({ tokenStore: tokens, or: \"anonymous-if-exists[deprecated]\" }) ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.throwErr)(\"Something went wrong while signing up anonymously\");\n        }\n        case void 0:\n        case \"anonymous-if-exists[deprecated]\":\n        case \"return-null\": {\n          return null;\n        }\n      }\n    }\n    return crud && this._currentUserFromCrud(crud, session);\n  }\n  useUser(options) {\n    this._ensurePersistentTokenStore(options?.tokenStore);\n    const session = this._useSession(options?.tokenStore);\n    let crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(this._currentUserCache, [session], \"useUser()\");\n    if (crud?.is_anonymous && options?.or !== \"anonymous\" && options?.or !== \"anonymous-if-exists[deprecated]\") {\n      crud = null;\n    }\n    if (crud === null) {\n      switch (options?.or) {\n        case \"redirect\": {\n          (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.runAsynchronously)(this.redirectToSignIn({ replace: true }));\n          (0,_stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_9__.suspend)();\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"suspend should never return\");\n        }\n        case \"throw\": {\n          throw new Error(\"User is not signed in but useUser was called with { or: 'throw' }\");\n        }\n        case \"anonymous\": {\n          (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.runAsynchronously)(async () => {\n            await this._signUpAnonymously();\n            if (typeof window !== \"undefined\") {\n              window.location.reload();\n            }\n          });\n          (0,_stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_9__.suspend)();\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"suspend should never return\");\n        }\n        case void 0:\n        case \"anonymous-if-exists[deprecated]\":\n        case \"return-null\": {\n        }\n      }\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => {\n      return crud && this._currentUserFromCrud(crud, session);\n    }, [crud, session, options?.or]);\n  }\n  _getTokenPartialUserFromSession(session, options) {\n    const accessToken = session.getAccessTokenIfNotExpiredYet(0);\n    if (!accessToken) {\n      return null;\n    }\n    const isAnonymous = accessToken.payload.is_anonymous;\n    if (isAnonymous && options.or !== \"anonymous\") {\n      return null;\n    }\n    return {\n      id: accessToken.payload.sub,\n      primaryEmail: accessToken.payload.email,\n      displayName: accessToken.payload.name,\n      primaryEmailVerified: accessToken.payload.email_verified,\n      isAnonymous\n    };\n  }\n  async _getPartialUserFromConvex(ctx) {\n    const auth = await ctx.auth.getUserIdentity();\n    if (!auth) {\n      return null;\n    }\n    return {\n      id: auth.subject,\n      displayName: auth.name ?? null,\n      primaryEmail: auth.email ?? null,\n      primaryEmailVerified: auth.email_verified,\n      isAnonymous: auth.is_anonymous\n    };\n  }\n  async getPartialUser(options) {\n    switch (options.from) {\n      case \"token\": {\n        this._ensurePersistentTokenStore(options.tokenStore ?? this._tokenStoreInit);\n        const session = await this._getSession(options.tokenStore);\n        return this._getTokenPartialUserFromSession(session, options);\n      }\n      case \"convex\": {\n        return await this._getPartialUserFromConvex(options.ctx);\n      }\n      default: {\n        throw new Error(`Invalid 'from' option: ${options.from}`);\n      }\n    }\n  }\n  usePartialUser(options) {\n    switch (options.from) {\n      case \"token\": {\n        this._ensurePersistentTokenStore(options.tokenStore ?? this._tokenStoreInit);\n        const session = this._useSession(options.tokenStore);\n        return this._getTokenPartialUserFromSession(session, options);\n      }\n      case \"convex\": {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(this._convexPartialUserCache, [options.ctx], \"usePartialUser(convex)\");\n        return result;\n      }\n      default: {\n        throw new Error(`Invalid 'from' option: ${options.from}`);\n      }\n    }\n  }\n  getConvexClientAuth(options) {\n    return async (args) => {\n      const session = await this._getSession(options.tokenStore);\n      if (!args.forceRefreshToken) {\n        const tokens2 = await session.getOrFetchLikelyValidTokens(2e4);\n        return tokens2?.accessToken.token ?? null;\n      }\n      const tokens = await session.fetchNewTokens();\n      return tokens?.accessToken.token ?? null;\n    };\n  }\n  async getConvexHttpClientAuth(options) {\n    const session = await this._getSession(options.tokenStore);\n    const tokens = await session.getOrFetchLikelyValidTokens(2e4);\n    return tokens?.accessToken.token ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.throwErr)(\"No access token available\");\n  }\n  async _updateClientUser(update, session) {\n    const res = await this._interface.updateClientUser((0,_users_index_js__WEBPACK_IMPORTED_MODULE_26__.userUpdateOptionsToCrud)(update), session);\n    await this._refreshUser(session);\n    return res;\n  }\n  async signInWithOAuth(provider, options) {\n    if (typeof window === \"undefined\") {\n      throw new Error(\"signInWithOAuth can currently only be called in a browser environment\");\n    }\n    this._ensurePersistentTokenStore();\n    const session = await this._getSession();\n    await (0,_auth_js__WEBPACK_IMPORTED_MODULE_21__.signInWithOAuth)(\n      this._interface,\n      {\n        provider,\n        redirectUrl: options?.returnTo ?? this.urls.oauthCallback,\n        errorRedirectUrl: this.urls.error,\n        providerScope: this._oauthScopesOnSignIn[provider]?.join(\" \")\n      },\n      session\n    );\n  }\n  /**\n   * Handles MFA verification by redirecting to the OTP page\n   */\n  async _experimentalMfa(error, session) {\n    if (typeof window !== \"undefined\") {\n      window.sessionStorage.setItem(\"stack_mfa_attempt_code\", error.details?.attempt_code ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.throwErr)(\"attempt code missing\"));\n    }\n    await this.redirectToMfa();\n    throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"we should have redirected in redirectToMfa()\");\n  }\n  /**\n   * @deprecated\n   * TODO remove\n   */\n  async _catchMfaRequiredError(callback) {\n    try {\n      return await callback();\n    } catch (e) {\n      if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.MultiFactorAuthenticationRequired.isInstance(e)) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(await this._experimentalMfa(e, await this._getSession()));\n      }\n      throw e;\n    }\n  }\n  async signInWithCredential(options) {\n    this._ensurePersistentTokenStore();\n    const session = await this._getSession();\n    let result;\n    try {\n      result = await this._catchMfaRequiredError(async () => {\n        return await this._interface.signInWithCredential(options.email, options.password, session);\n      });\n    } catch (e) {\n      if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.InvalidTotpCode.isInstance(e)) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(e);\n      }\n      throw e;\n    }\n    if (result.status === \"ok\") {\n      await this._signInToAccountWithTokens(result.data);\n      if (!options.noRedirect) {\n        await this.redirectToAfterSignIn({ replace: true });\n      }\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n    }\n  }\n  async signUpWithCredential(options) {\n    this._ensurePersistentTokenStore();\n    const session = await this._getSession();\n    const emailVerificationRedirectUrl = options.verificationCallbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_22__.constructRedirectUrl)(this.urls.emailVerification, \"verificationCallbackUrl\");\n    const result = await this._interface.signUpWithCredential(\n      options.email,\n      options.password,\n      emailVerificationRedirectUrl,\n      session\n    );\n    if (result.status === \"ok\") {\n      await this._signInToAccountWithTokens(result.data);\n      if (!options.noRedirect) {\n        await this.redirectToAfterSignUp({ replace: true });\n      }\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n    }\n  }\n  async _signUpAnonymously() {\n    this._ensurePersistentTokenStore();\n    if (!this._anonymousSignUpInProgress) {\n      this._anonymousSignUpInProgress = (async () => {\n        this._ensurePersistentTokenStore();\n        const session = await this._getSession();\n        const result = await this._interface.signUpAnonymously(session);\n        if (result.status === \"ok\") {\n          await this._signInToAccountWithTokens(result.data);\n        } else {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"signUpAnonymously() should never return an error\");\n        }\n        this._anonymousSignUpInProgress = null;\n        return result.data;\n      })();\n    }\n    return await this._anonymousSignUpInProgress;\n  }\n  async signInWithMagicLink(code, options) {\n    this._ensurePersistentTokenStore();\n    const session = await this._getSession();\n    let result;\n    try {\n      result = await this._catchMfaRequiredError(async () => {\n        return await this._interface.signInWithMagicLink(code, session);\n      });\n    } catch (e) {\n      if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.InvalidTotpCode.isInstance(e)) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(e);\n      }\n      throw e;\n    }\n    if (result.status === \"ok\") {\n      await this._signInToAccountWithTokens(result.data);\n      if (!options?.noRedirect) {\n        if (result.data.newUser) {\n          await this.redirectToAfterSignUp({ replace: true });\n        } else {\n          await this.redirectToAfterSignIn({ replace: true });\n        }\n      }\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n    }\n  }\n  /**\n   * Initiates a CLI authentication process that allows a command line application\n   * to get a refresh token for a user's account.\n   *\n   * This process works as follows:\n   * 1. The CLI app calls this method, which initiates the auth process with the server\n   * 2. The server returns a polling code and a login code\n   * 3. The CLI app opens a browser window to the appUrl with the login code as a parameter\n   * 4. The user logs in through the browser and confirms the authorization\n   * 5. The CLI app polls for the refresh token using the polling code\n   *\n   * @param options Options for the CLI login\n   * @param options.appUrl The URL of the app that will handle the CLI auth confirmation\n   * @param options.expiresInMillis Optional duration in milliseconds before the auth attempt expires (default: 2 hours)\n   * @param options.maxAttempts Optional maximum number of polling attempts (default: Infinity)\n   * @param options.waitTimeMillis Optional time to wait between polling attempts (default: 2 seconds)\n   * @param options.promptLink Optional function to call with the login URL to prompt the user to open the browser\n   * @returns Result containing either the refresh token or an error\n   */\n  async promptCliLogin(options) {\n    const response = await this._interface.sendClientRequest(\n      \"/auth/cli\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          expires_in_millis: options.expiresInMillis\n        })\n      },\n      null\n    );\n    if (!response.ok) {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CliAuthError(`Failed to initiate CLI auth: ${response.status} ${await response.text()}`));\n    }\n    const initResult = await response.json();\n    const pollingCode = initResult.polling_code;\n    const loginCode = initResult.login_code;\n    const url = `${options.appUrl}/handler/cli-auth-confirm?login_code=${encodeURIComponent(loginCode)}`;\n    if (options.promptLink) {\n      options.promptLink(url);\n    } else {\n      console.log(`Please visit the following URL to authenticate:\n${url}`);\n    }\n    let attempts = 0;\n    while (attempts < (options.maxAttempts ?? Infinity)) {\n      attempts++;\n      const pollResponse = await this._interface.sendClientRequest(\"/auth/cli/poll\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          polling_code: pollingCode\n        })\n      }, null);\n      if (!pollResponse.ok) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CliAuthError(`Failed to initiate CLI auth: ${pollResponse.status} ${await pollResponse.text()}`));\n      }\n      const pollResult = await pollResponse.json();\n      if (pollResponse.status === 201 && pollResult.status === \"success\") {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(pollResult.refresh_token);\n      }\n      if (pollResult.status === \"waiting\") {\n        await (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.wait)(options.waitTimeMillis ?? 2e3);\n        continue;\n      }\n      if (pollResult.status === \"expired\") {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CliAuthExpiredError(\"CLI authentication request expired. Please try again.\"));\n      }\n      if (pollResult.status === \"used\") {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CliAuthUsedError(\"This authentication token has already been used.\"));\n      }\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CliAuthError(`Unexpected status from CLI auth polling: ${pollResult.status}`));\n    }\n    return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.CliAuthError(\"Timed out waiting for CLI authentication.\"));\n  }\n  /*\n   * Completes the MFA sign-in process by verifying the provided OTP code\n   * @param totp The TOTP (Time-based One-Time Password) provided by the user\n   * @param code The Attempt code provided by the user\n   * @param options Additional options for the sign-in process\n   * @returns A Result indicating success or failure\n   */\n  async signInWithMfa(totp, code, options) {\n    this._ensurePersistentTokenStore();\n    const session = await this._getSession();\n    let result;\n    try {\n      result = await this._catchMfaRequiredError(async () => {\n        return await this._interface.signInWithMfa(totp, code, session);\n      });\n    } catch (e) {\n      if (e instanceof _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.InvalidTotpCode) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(e);\n      }\n      throw e;\n    }\n    if (result.status === \"ok\") {\n      await this._signInToAccountWithTokens(result.data);\n      if (!options?.noRedirect) {\n        if (result.data.newUser) {\n          await this.redirectToAfterSignUp({ replace: true });\n        } else {\n          await this.redirectToAfterSignIn({ replace: true });\n        }\n      }\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n    }\n    return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n  }\n  async signInWithPasskey() {\n    this._ensurePersistentTokenStore();\n    const session = await this._getSession();\n    let result;\n    try {\n      result = await this._catchMfaRequiredError(async () => {\n        const initiationResult = await this._interface.initiatePasskeyAuthentication({}, session);\n        if (initiationResult.status !== \"ok\") {\n          return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasskeyAuthenticationFailed(\"Failed to get initiation options for passkey authentication\"));\n        }\n        const { options_json, code } = initiationResult.data;\n        if (options_json.rpId !== \"THIS_VALUE_WILL_BE_REPLACED.example.com\") {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(`Expected returned RP ID from server to equal sentinel, but found ${options_json.rpId}`);\n        }\n        options_json.rpId = window.location.hostname;\n        const authentication_response = await (0,_simplewebauthn_browser__WEBPACK_IMPORTED_MODULE_0__.startAuthentication)({ optionsJSON: options_json });\n        return await this._interface.signInWithPasskey({ authentication_response, code }, session);\n      });\n    } catch (error) {\n      if (error instanceof _simplewebauthn_browser__WEBPACK_IMPORTED_MODULE_0__.WebAuthnError) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasskeyWebAuthnError(error.message, error.name));\n      } else {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.PasskeyAuthenticationFailed(\"Failed to sign in with passkey\"));\n      }\n    }\n    if (result.status === \"ok\") {\n      await this._signInToAccountWithTokens(result.data);\n      await this.redirectToAfterSignIn({ replace: true });\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.ok(void 0);\n    } else {\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.error(result.error);\n    }\n  }\n  async callOAuthCallback() {\n    if (typeof window === \"undefined\") {\n      throw new Error(\"callOAuthCallback can currently only be called in a browser environment\");\n    }\n    this._ensurePersistentTokenStore();\n    let result;\n    try {\n      result = await this._catchMfaRequiredError(async () => {\n        return await (0,_auth_js__WEBPACK_IMPORTED_MODULE_21__.callOAuthCallback)(this._interface, this.urls.oauthCallback);\n      });\n    } catch (e) {\n      if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_1__.KnownErrors.InvalidTotpCode.isInstance(e)) {\n        alert(\"Invalid TOTP code. Please try signing in again.\");\n        return false;\n      } else {\n        throw e;\n      }\n    }\n    if (result.status === \"ok\" && result.data) {\n      await this._signInToAccountWithTokens(result.data);\n      if (\"afterCallbackRedirectUrl\" in result.data && result.data.afterCallbackRedirectUrl) {\n        await this._redirectTo({ url: result.data.afterCallbackRedirectUrl, replace: true });\n        return true;\n      } else if (result.data.newUser) {\n        await this.redirectToAfterSignUp({ replace: true });\n        return true;\n      } else {\n        await this.redirectToAfterSignIn({ replace: true });\n        return true;\n      }\n    }\n    return false;\n  }\n  async _signOut(session, options) {\n    await _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_11__.storeLock.withWriteLock(async () => {\n      await this._interface.signOut(session);\n      if (options?.redirectUrl) {\n        await this._redirectTo({ url: options.redirectUrl, replace: true });\n      } else {\n        await this.redirectToAfterSignOut();\n      }\n    });\n  }\n  async signOut(options) {\n    const user = await this.getUser();\n    if (user) {\n      await user.signOut(options);\n    }\n  }\n  async getProject() {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._currentProjectCache.getOrWait([], \"write-only\"));\n    return this._clientProjectFromCrud(crud);\n  }\n  useProject() {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(this._currentProjectCache, [], \"useProject()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => this._clientProjectFromCrud(crud), [crud]);\n  }\n  async _listOwnedProjects(session) {\n    this._ensureInternalProject();\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.orThrow(await this._ownedProjectsCache.getOrWait([session], \"write-only\"));\n    return crud.map((j) => this._getOwnedAdminApp(j.id, session)._adminOwnedProjectFromCrud(\n      j,\n      () => this._refreshOwnedProjects(session)\n    ));\n  }\n  _useOwnedProjects(session) {\n    this._ensureInternalProject();\n    const projects = (0,_common_js__WEBPACK_IMPORTED_MODULE_19__.useAsyncCache)(this._ownedProjectsCache, [session], \"useOwnedProjects()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_17__.useMemo)(() => projects.map((j) => this._getOwnedAdminApp(j.id, session)._adminOwnedProjectFromCrud(\n      j,\n      () => this._refreshOwnedProjects(session)\n    )), [projects]);\n  }\n  async _createProject(session, newProject) {\n    this._ensureInternalProject();\n    const crud = await this._interface.createProject((0,_projects_index_js__WEBPACK_IMPORTED_MODULE_27__.adminProjectCreateOptionsToCrud)(newProject), session);\n    const res = this._getOwnedAdminApp(crud.id, session)._adminOwnedProjectFromCrud(\n      crud,\n      () => this._refreshOwnedProjects(session)\n    );\n    await this._refreshOwnedProjects(session);\n    return res;\n  }\n  async _refreshUser(session) {\n    await this._refreshSession(session);\n  }\n  async _refreshSession(session) {\n    await this._currentUserCache.refresh([session]);\n  }\n  async _refreshUsers() {\n  }\n  async _refreshProject() {\n    await this._currentProjectCache.refresh([]);\n  }\n  async _refreshOwnedProjects(session) {\n    await this._ownedProjectsCache.refresh([session]);\n  }\n  static get [_common_js__WEBPACK_IMPORTED_MODULE_28__.stackAppInternalsSymbol]() {\n    return {\n      fromClientJson: (json) => {\n        const providedCheckString = JSON.stringify((0,_stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_7__.omit)(json, [\n          /* none currently */\n        ]));\n        const existing = allClientApps.get(json.uniqueIdentifier);\n        if (existing) {\n          const [existingCheckString, clientApp] = existing;\n          if (existingCheckString !== void 0 && existingCheckString !== providedCheckString) {\n            throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"The provided app JSON does not match the configuration of the existing client app with the same unique identifier\", { providedObj: json, existingString: existingCheckString });\n          }\n          return clientApp;\n        }\n        return new __StackClientAppImplIncomplete({\n          ...json,\n          checkString: providedCheckString\n        });\n      }\n    };\n  }\n  get [_common_js__WEBPACK_IMPORTED_MODULE_28__.stackAppInternalsSymbol]() {\n    return {\n      toClientJson: () => {\n        if (!(\"publishableClientKey\" in this._interface.options)) {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"Cannot serialize to JSON from an application without a publishable client key\");\n        }\n        if (typeof this._redirectMethod !== \"string\") {\n          throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_5__.StackAssertionError(\"Cannot serialize to JSON from an application with a non-string redirect method\");\n        }\n        return {\n          baseUrl: this._options.baseUrl,\n          projectId: this.projectId,\n          publishableClientKey: this._interface.options.publishableClientKey,\n          tokenStore: this._tokenStoreInit,\n          urls: this._urlOptions,\n          oauthScopesOnSignIn: this._oauthScopesOnSignIn,\n          uniqueIdentifier: this._getUniqueIdentifier(),\n          redirectMethod: this._redirectMethod,\n          extraRequestHeaders: this._options.extraRequestHeaders\n        };\n      },\n      setCurrentUser: (userJsonPromise) => {\n        (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_8__.runAsynchronously)(async () => {\n          await this._currentUserCache.forceSetCachedValueAsync([await this._getSession()], _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_10__.Result.fromPromise(userJsonPromise));\n        });\n      },\n      sendRequest: async (path, requestOptions, requestType = \"client\") => {\n        return await this._interface.sendClientRequest(path, requestOptions, await this._getSession(), requestType);\n      }\n    };\n  }\n};\n/**\n * There is a circular dependency between the admin app and the client app, as the former inherits from the latter and\n * the latter needs to use the former when creating a new instance of an internal project.\n *\n * To break it, we set the admin app here lazily instead of importing it directly. This variable is set by ./index.ts,\n * which imports both this file and ./admin-app-impl.ts.\n */\n__StackClientAppImplIncomplete.LazyStackAdminAppImpl = { value: void 0 };\nvar _StackClientAppImplIncomplete = __StackClientAppImplIncomplete;\n\n//# sourceMappingURL=client-app-impl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL2NsaWVudC1hcHAtaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDZ0c7QUFDbkI7QUFDSjtBQUNvQjtBQUNyQjtBQUNpQztBQUM5QjtBQUNTO0FBQ2lCO0FBQ25CO0FBQ2I7QUFDUztBQUNZO0FBQ0g7QUFDZDtBQUN4QztBQUM0QjtBQUNUO0FBQ1k7QUFDa0M7QUFDaUc7QUFDN0g7QUFDWjtBQUM2RDtBQUM3QztBQUNjO0FBQ3pCO0FBQ2dKO0FBQ25LO0FBQ0Q7QUFDSTtBQUMvQztBQUNBLGlCQUFpQixnRUFBZ0I7QUFDakMscUJBQXFCLDJHQUF5QixDQUFDLDZDQUF5QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscUZBQWU7QUFDOUMsNkJBQTZCLGlFQUFvQjtBQUNqRDtBQUNBLGNBQWMsa0ZBQUk7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnQ0FBZ0Msd0RBQVc7QUFDM0MsYUFBYSxnRkFBTTtBQUNuQixLQUFLO0FBQ0wsK0JBQStCLGlFQUFvQjtBQUNuRDtBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsaUVBQW9CO0FBQzVELG9FQUFvRSxtQkFBbUI7QUFDdkYsS0FBSztBQUNMLCtDQUErQyxpRUFBb0I7QUFDbkUsdUVBQXVFLFdBQVc7QUFDbEYsS0FBSztBQUNMLGtDQUFrQyxpRUFBb0I7QUFDdEQ7QUFDQSxLQUFLO0FBQ0wsd0RBQXdELGlFQUFvQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsVUFBVTtBQUNWLGdCQUFnQixpRUFBVyw0REFBNEQsaUVBQVc7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGlFQUFvQjtB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OlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcc3RhY2stYXBwXFxhcHBzXFxpbXBsZW1lbnRhdGlvbnNcXGNsaWVudC1hcHAtaW1wbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N0YWNrLWFwcC9hcHBzL2ltcGxlbWVudGF0aW9ucy9jbGllbnQtYXBwLWltcGwudHNcbmltcG9ydCB7IFdlYkF1dGhuRXJyb3IsIHN0YXJ0QXV0aGVudGljYXRpb24sIHN0YXJ0UmVnaXN0cmF0aW9uIH0gZnJvbSBcIkBzaW1wbGV3ZWJhdXRobi9icm93c2VyXCI7XG5pbXBvcnQgeyBLbm93bkVycm9ycywgU3RhY2tDbGllbnRJbnRlcmZhY2UgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkXCI7XG5pbXBvcnQgeyBJbnRlcm5hbFNlc3Npb24gfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3Qvc2Vzc2lvbnNcIjtcbmltcG9ydCB7IHNjcmFtYmxlRHVyaW5nQ29tcGlsZVRpbWUgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvY29tcGlsZS10aW1lXCI7XG5pbXBvcnQgeyBpc0Jyb3dzZXJMaWtlIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL2VudlwiO1xuaW1wb3J0IHsgU3RhY2tBc3NlcnRpb25FcnJvciwgY2FwdHVyZUVycm9yLCB0aHJvd0VyciB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9lcnJvcnNcIjtcbmltcG9ydCB7IERlcGVuZGVuY2llc01hcCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9tYXBzXCI7XG5pbXBvcnQgeyBkZWVwUGxhaW5FcXVhbHMsIG9taXQgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvb2JqZWN0c1wiO1xuaW1wb3J0IHsgbmV2ZXJSZXNvbHZlLCBydW5Bc3luY2hyb25vdXNseSwgd2FpdCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgc3VzcGVuZCwgc3VzcGVuZElmU3NyIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL3JlYWN0XCI7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvcmVzdWx0c1wiO1xuaW1wb3J0IHsgU3RvcmUsIHN0b3JlTG9jayB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9zdG9yZXNcIjtcbmltcG9ydCB7IGRlaW5kZW50LCBtZXJnZVNjb3BlU3RyaW5ncyB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9zdHJpbmdzXCI7XG5pbXBvcnQgeyBnZXRSZWxhdGl2ZVBhcnQsIGlzUmVsYXRpdmUgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvdXJsc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVVdWlkIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL3V1aWRzXCI7XG5pbXBvcnQgKiBhcyBjb29raWUgZnJvbSBcImNvb2tpZVwiO1xuaW1wb3J0ICogYXMgTmV4dE5hdmlnYXRpb25VbnNjcmFtYmxlZCBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbnN0cnVjdFJlZGlyZWN0VXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3VybC5qc1wiO1xuaW1wb3J0IHsgYWRkTmV3T0F1dGhQcm92aWRlck9yU2NvcGUsIGNhbGxPQXV0aENhbGxiYWNrLCBzaWduSW5XaXRoT0F1dGggfSBmcm9tIFwiLi4vLi4vLi4vYXV0aC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckNvb2tpZUhlbHBlciwgY3JlYXRlQ29va2llSGVscGVyLCBjcmVhdGVQbGFjZWhvbGRlckNvb2tpZUhlbHBlciwgZGVsZXRlQ29va2llQ2xpZW50LCBnZXRDb29raWVDbGllbnQsIHNldE9yRGVsZXRlQ29va2llLCBzZXRPckRlbGV0ZUNvb2tpZUNsaWVudCB9IGZyb20gXCIuLi8uLi8uLi9jb29raWUuanNcIjtcbmltcG9ydCB7IGFwaUtleUNyZWF0aW9uT3B0aW9uc1RvQ3J1ZCB9IGZyb20gXCIuLi8uLi9hcGkta2V5cy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc3RhY2tBcHBJbnRlcm5hbHNTeW1ib2wgfSBmcm9tIFwiLi4vLi4vY29tbW9uLmpzXCI7XG5pbXBvcnQgeyBjb250YWN0Q2hhbm5lbENyZWF0ZU9wdGlvbnNUb0NydWQsIGNvbnRhY3RDaGFubmVsVXBkYXRlT3B0aW9uc1RvQ3J1ZCB9IGZyb20gXCIuLi8uLi9jb250YWN0LWNoYW5uZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhZG1pblByb2plY3RDcmVhdGVPcHRpb25zVG9DcnVkIH0gZnJvbSBcIi4uLy4uL3Byb2plY3RzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB0ZWFtQ3JlYXRlT3B0aW9uc1RvQ3J1ZCwgdGVhbVVwZGF0ZU9wdGlvbnNUb0NydWQgfSBmcm9tIFwiLi4vLi4vdGVhbXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZXJVcGRhdGVPcHRpb25zVG9DcnVkIH0gZnJvbSBcIi4uLy4uL3VzZXJzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjbGllbnRWZXJzaW9uLCBjcmVhdGVDYWNoZSwgY3JlYXRlQ2FjaGVCeVNlc3Npb24sIGNyZWF0ZUVtcHR5VG9rZW5TdG9yZSwgZ2V0QmFzZVVybCwgZ2V0RGVmYXVsdEV4dHJhUmVxdWVzdEhlYWRlcnMsIGdldERlZmF1bHRQcm9qZWN0SWQsIGdldERlZmF1bHRQdWJsaXNoYWJsZUNsaWVudEtleSwgZ2V0VXJscyB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgdXNlQXN5bmNDYWNoZSB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0ICogYXMgc2MgZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNjXCI7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNjXCI7XG52YXIgaXNSZWFjdFNlcnZlcjIgPSBmYWxzZTtcbmlzUmVhY3RTZXJ2ZXIyID0gc2MuaXNSZWFjdFNlcnZlcjtcbnZhciBOZXh0TmF2aWdhdGlvbiA9IHNjcmFtYmxlRHVyaW5nQ29tcGlsZVRpbWUoTmV4dE5hdmlnYXRpb25VbnNjcmFtYmxlZCk7XG52YXIgYWxsQ2xpZW50QXBwcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG52YXIgX19TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlID0gY2xhc3MgX19TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlIHtcbiAgY29uc3RydWN0b3IoX29wdGlvbnMpIHtcbiAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG4gICAgdGhpcy5fdW5pcXVlSWRlbnRpZmllciA9IHZvaWQgMDtcbiAgICB0aGlzLl9fREVNT19FTkFCTEVfU0xJR0hUX0ZFVENIX0RFTEFZID0gZmFsc2U7XG4gICAgdGhpcy5fb3duZWRBZG1pbkFwcHMgPSBuZXcgRGVwZW5kZW5jaWVzTWFwKCk7XG4gICAgdGhpcy5fY3VycmVudFVzZXJDYWNoZSA9IGNyZWF0ZUNhY2hlQnlTZXNzaW9uKGFzeW5jIChzZXNzaW9uKSA9PiB7XG4gICAgICBpZiAodGhpcy5fX0RFTU9fRU5BQkxFX1NMSUdIVF9GRVRDSF9ERUxBWSkge1xuICAgICAgICBhd2FpdCB3YWl0KDJlMyk7XG4gICAgICB9XG4gICAgICBpZiAoc2Vzc2lvbi5pc0tub3duVG9CZUludmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuZ2V0Q2xpZW50VXNlckJ5VG9rZW4oc2Vzc2lvbik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudFByb2plY3RDYWNoZSA9IGNyZWF0ZUNhY2hlKGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9pbnRlcmZhY2UuZ2V0Q2xpZW50UHJvamVjdCgpKTtcbiAgICB9KTtcbiAgICB0aGlzLl9vd25lZFByb2plY3RzQ2FjaGUgPSBjcmVhdGVDYWNoZUJ5U2Vzc2lvbihhc3luYyAoc2Vzc2lvbikgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0UHJvamVjdHMoc2Vzc2lvbik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudFVzZXJQZXJtaXNzaW9uc0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oYXN5bmMgKHNlc3Npb24sIFt0ZWFtSWQsIHJlY3Vyc2l2ZV0pID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UubGlzdEN1cnJlbnRVc2VyVGVhbVBlcm1pc3Npb25zKHsgdGVhbUlkLCByZWN1cnNpdmUgfSwgc2Vzc2lvbik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudFVzZXJQcm9qZWN0UGVybWlzc2lvbnNDYWNoZSA9IGNyZWF0ZUNhY2hlQnlTZXNzaW9uKGFzeW5jIChzZXNzaW9uLCBbcmVjdXJzaXZlXSkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0Q3VycmVudFVzZXJQcm9qZWN0UGVybWlzc2lvbnMoeyByZWN1cnNpdmUgfSwgc2Vzc2lvbik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudFVzZXJUZWFtc0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oYXN5bmMgKHNlc3Npb24pID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UubGlzdEN1cnJlbnRVc2VyVGVhbXMoc2Vzc2lvbik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudFVzZXJPQXV0aENvbm5lY3Rpb25BY2Nlc3NUb2tlbnNDYWNoZSA9IGNyZWF0ZUNhY2hlQnlTZXNzaW9uKFxuICAgICAgYXN5bmMgKHNlc3Npb24sIFtwcm92aWRlcklkLCBzY29wZV0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuY3JlYXRlUHJvdmlkZXJBY2Nlc3NUb2tlbihwcm92aWRlcklkLCBzY29wZSB8fCBcIlwiLCBzZXNzaW9uKTtcbiAgICAgICAgICByZXR1cm4geyBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbiB9O1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoIShLbm93bkVycm9ycy5PQXV0aENvbm5lY3Rpb25Eb2VzTm90SGF2ZVJlcXVpcmVkU2NvcGUuaXNJbnN0YW5jZShlcnIpIHx8IEtub3duRXJyb3JzLk9BdXRoQ29ubmVjdGlvbk5vdENvbm5lY3RlZFRvVXNlci5pc0luc3RhbmNlKGVycikpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fY3VycmVudFVzZXJPQXV0aENvbm5lY3Rpb25DYWNoZSA9IGNyZWF0ZUNhY2hlQnlTZXNzaW9uKFxuICAgICAgYXN5bmMgKHNlc3Npb24sIFtwcm92aWRlcklkLCBzY29wZSwgcmVkaXJlY3RdKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9nZXRVc2VyT0F1dGhDb25uZWN0aW9uQ2FjaGVGbih7XG4gICAgICAgICAgZ2V0VXNlcjogYXN5bmMgKCkgPT4gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fY3VycmVudFVzZXJDYWNoZS5nZXRPcldhaXQoW3Nlc3Npb25dLCBcIndyaXRlLW9ubHlcIikpLFxuICAgICAgICAgIGdldE9yV2FpdE9BdXRoVG9rZW46IGFzeW5jICgpID0+IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX2N1cnJlbnRVc2VyT0F1dGhDb25uZWN0aW9uQWNjZXNzVG9rZW5zQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCBwcm92aWRlcklkLCBzY29wZSB8fCBcIlwiXSwgXCJ3cml0ZS1vbmx5XCIpKSxcbiAgICAgICAgICB1c2VPQXV0aFRva2VuOiAoKSA9PiB1c2VBc3luY0NhY2hlKHRoaXMuX2N1cnJlbnRVc2VyT0F1dGhDb25uZWN0aW9uQWNjZXNzVG9rZW5zQ2FjaGUsIFtzZXNzaW9uLCBwcm92aWRlcklkLCBzY29wZSB8fCBcIlwiXSwgXCJ1c2VPQXV0aFRva2VuXCIpLFxuICAgICAgICAgIHByb3ZpZGVySWQsXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgcmVkaXJlY3QsXG4gICAgICAgICAgc2Vzc2lvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX3RlYW1NZW1iZXJQcm9maWxlc0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbiwgW3RlYW1JZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0VGVhbU1lbWJlclByb2ZpbGVzKHsgdGVhbUlkIH0sIHNlc3Npb24pO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fdGVhbUludml0YXRpb25zQ2FjaGUgPSBjcmVhdGVDYWNoZUJ5U2Vzc2lvbihcbiAgICAgIGFzeW5jIChzZXNzaW9uLCBbdGVhbUlkXSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RUZWFtSW52aXRhdGlvbnMoeyB0ZWFtSWQgfSwgc2Vzc2lvbik7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9jdXJyZW50VXNlclRlYW1Qcm9maWxlQ2FjaGUgPSBjcmVhdGVDYWNoZUJ5U2Vzc2lvbihcbiAgICAgIGFzeW5jIChzZXNzaW9uLCBbdGVhbUlkXSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmdldFRlYW1NZW1iZXJQcm9maWxlKHsgdGVhbUlkLCB1c2VySWQ6IFwibWVcIiB9LCBzZXNzaW9uKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX2NsaWVudENvbnRhY3RDaGFubmVsc0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbikgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RDbGllbnRDb250YWN0Q2hhbm5lbHMoc2Vzc2lvbik7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl91c2VyQXBpS2V5c0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbikgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RQcm9qZWN0QXBpS2V5cyh7IHVzZXJfaWQ6IFwibWVcIiB9LCBzZXNzaW9uLCBcImNsaWVudFwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl90ZWFtQXBpS2V5c0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbiwgW3RlYW1JZF0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0UHJvamVjdEFwaUtleXMoeyB0ZWFtX2lkOiB0ZWFtSWQgfSwgc2Vzc2lvbiwgXCJjbGllbnRcIik7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fbm90aWZpY2F0aW9uQ2F0ZWdvcmllc0NhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbikgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3ROb3RpZmljYXRpb25DYXRlZ29yaWVzKHNlc3Npb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX2N1cnJlbnRVc2VyT0F1dGhQcm92aWRlcnNDYWNoZSA9IGNyZWF0ZUNhY2hlQnlTZXNzaW9uKFxuICAgICAgYXN5bmMgKHNlc3Npb24pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0T0F1dGhQcm92aWRlcnMoeyB1c2VyX2lkOiBcIm1lXCIgfSwgc2Vzc2lvbik7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl91c2VySXRlbUNhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbiwgW3VzZXJJZCwgaXRlbUlkXSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmdldEl0ZW0oeyB1c2VySWQsIGl0ZW1JZCB9LCBzZXNzaW9uKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX3RlYW1JdGVtQ2FjaGUgPSBjcmVhdGVDYWNoZUJ5U2Vzc2lvbihcbiAgICAgIGFzeW5jIChzZXNzaW9uLCBbdGVhbUlkLCBpdGVtSWRdKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuZ2V0SXRlbSh7IHRlYW1JZCwgaXRlbUlkIH0sIHNlc3Npb24pO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fY3VzdG9tSXRlbUNhY2hlID0gY3JlYXRlQ2FjaGVCeVNlc3Npb24oXG4gICAgICBhc3luYyAoc2Vzc2lvbiwgW2N1c3RvbUN1c3RvbWVySWQsIGl0ZW1JZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRJdGVtKHsgY3VzdG9tQ3VzdG9tZXJJZCwgaXRlbUlkIH0sIHNlc3Npb24pO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fY29udmV4UGFydGlhbFVzZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFtjdHhdKSA9PiBhd2FpdCB0aGlzLl9nZXRQYXJ0aWFsVXNlckZyb21Db252ZXgoY3R4KVxuICAgICk7XG4gICAgdGhpcy5fYW5vbnltb3VzU2lnblVwSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgdGhpcy5fbWVtb3J5VG9rZW5TdG9yZSA9IGNyZWF0ZUVtcHR5VG9rZW5TdG9yZSgpO1xuICAgIHRoaXMuX25leHRTZXJ2ZXJDb29raWVzVG9rZW5TdG9yZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgICB0aGlzLl9yZXF1ZXN0VG9rZW5TdG9yZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgICB0aGlzLl9zdG9yZWRCcm93c2VyQ29va2llVG9rZW5TdG9yZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQSBtYXAgZnJvbSB0b2tlbiBzdG9yZXMgYW5kIHNlc3Npb24ga2V5cyB0byBzZXNzaW9ucy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXNuJ3QganVzdCBhIG1hcCBmcm9tIHNlc3Npb24ga2V5cyB0byBzZXNzaW9ucyBmb3IgdHdvIHJlYXNvbnM6XG4gICAgICpcbiAgICAgKiAtIFNvIHdlIGNhbiBnYXJiYWdlLWNvbGxlY3QgU2Vzc2lvbiBvYmplY3RzIHdoZW4gdGhlIHRva2VuIHN0b3JlIGlzIGdhcmJhZ2UtY29sbGVjdGVkXG4gICAgICogLSBTbyBkaWZmZXJlbnQgdG9rZW4gc3RvcmVzIGFyZSBzZXBhcmF0ZWQgYW5kIGRvbid0IGxlYWsgaW5mb3JtYXRpb24gYmV0d2VlbiBlYWNoIG90aGVyLCBlZy4gaWYgdGhlIHNhbWUgdXNlciBzZW5kcyB0d28gcmVxdWVzdHMgdG8gdGhlIHNhbWUgc2VydmVyIHRoZXkgc2hvdWxkIGdldCBhIGRpZmZlcmVudCBzZXNzaW9uIG9iamVjdFxuICAgICAqL1xuICAgIHRoaXMuX3Nlc3Npb25zQnlUb2tlblN0b3JlQW5kU2Vzc2lvbktleSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICAgIGlmICghX19TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlLkxhenlTdGFja0FkbWluQXBwSW1wbC52YWx1ZSkge1xuICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJBZG1pbiBhcHAgaW1wbGVtZW50YXRpb24gbm90IGluaXRpYWxpemVkLiBEaWQgeW91IGltcG9ydCB0aGUgX1N0YWNrQ2xpZW50QXBwIGZyb20gc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL2luZGV4LnRzPyBZb3UgY2FuJ3QgaW1wb3J0IGl0IGRpcmVjdGx5IGZyb20gLi9hcHBzL2ltcGxlbWVudGF0aW9ucy9jbGllbnQtYXBwLWltcGwudHMgYXMgdGhhdCBjYXVzZXMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IChzZWUgdGhlIGNvbW1lbnQgYXQgX0xhenlTdGFja0FkbWluQXBwSW1wbCBmb3IgbW9yZSBkZXRhaWxzKS5cIik7XG4gICAgfVxuICAgIGlmIChcImludGVyZmFjZVwiIGluIF9vcHRpb25zKSB7XG4gICAgICB0aGlzLl9pbnRlcmZhY2UgPSBfb3B0aW9ucy5pbnRlcmZhY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ludGVyZmFjZSA9IG5ldyBTdGFja0NsaWVudEludGVyZmFjZSh7XG4gICAgICAgIGdldEJhc2VVcmw6ICgpID0+IGdldEJhc2VVcmwoX29wdGlvbnMuYmFzZVVybCksXG4gICAgICAgIGV4dHJhUmVxdWVzdEhlYWRlcnM6IF9vcHRpb25zLmV4dHJhUmVxdWVzdEhlYWRlcnMgPz8gZ2V0RGVmYXVsdEV4dHJhUmVxdWVzdEhlYWRlcnMoKSxcbiAgICAgICAgcHJvamVjdElkOiBfb3B0aW9ucy5wcm9qZWN0SWQgPz8gZ2V0RGVmYXVsdFByb2plY3RJZCgpLFxuICAgICAgICBjbGllbnRWZXJzaW9uLFxuICAgICAgICBwdWJsaXNoYWJsZUNsaWVudEtleTogX29wdGlvbnMucHVibGlzaGFibGVDbGllbnRLZXkgPz8gZ2V0RGVmYXVsdFB1Ymxpc2hhYmxlQ2xpZW50S2V5KCksXG4gICAgICAgIHByZXBhcmVSZXF1ZXN0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgY29va2llcz8uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl90b2tlblN0b3JlSW5pdCA9IF9vcHRpb25zLnRva2VuU3RvcmU7XG4gICAgdGhpcy5fcmVkaXJlY3RNZXRob2QgPSBfb3B0aW9ucy5yZWRpcmVjdE1ldGhvZCB8fCBcIm5vbmVcIjtcbiAgICB0aGlzLl9yZWRpcmVjdE1ldGhvZCA9IF9vcHRpb25zLnJlZGlyZWN0TWV0aG9kIHx8IFwibmV4dGpzXCI7XG4gICAgdGhpcy5fdXJsT3B0aW9ucyA9IF9vcHRpb25zLnVybHMgPz8ge307XG4gICAgdGhpcy5fb2F1dGhTY29wZXNPblNpZ25JbiA9IF9vcHRpb25zLm9hdXRoU2NvcGVzT25TaWduSW4gPz8ge307XG4gICAgaWYgKF9vcHRpb25zLnVuaXF1ZUlkZW50aWZpZXIpIHtcbiAgICAgIHRoaXMuX3VuaXF1ZUlkZW50aWZpZXIgPSBfb3B0aW9ucy51bmlxdWVJZGVudGlmaWVyO1xuICAgICAgdGhpcy5faW5pdFVuaXF1ZUlkZW50aWZpZXIoKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgX2NyZWF0ZUNvb2tpZUhlbHBlcigpIHtcbiAgICBpZiAodGhpcy5fdG9rZW5TdG9yZUluaXQgPT09IFwibmV4dGpzLWNvb2tpZVwiIHx8IHRoaXMuX3Rva2VuU3RvcmVJbml0ID09PSBcImNvb2tpZVwiKSB7XG4gICAgICByZXR1cm4gYXdhaXQgY3JlYXRlQ29va2llSGVscGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVQbGFjZWhvbGRlckNvb2tpZUhlbHBlcigpO1xuICAgIH1cbiAgfVxuICBhc3luYyBfZ2V0VXNlck9BdXRoQ29ubmVjdGlvbkNhY2hlRm4ob3B0aW9ucykge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBvcHRpb25zLmdldFVzZXIoKTtcbiAgICBsZXQgaGFzQ29ubmVjdGlvbiA9IHRydWU7XG4gICAgaWYgKCF1c2VyIHx8ICF1c2VyLm9hdXRoX3Byb3ZpZGVycy5maW5kKChwKSA9PiBwLmlkID09PSBvcHRpb25zLnByb3ZpZGVySWQpKSB7XG4gICAgICBoYXNDb25uZWN0aW9uID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgb3B0aW9ucy5nZXRPcldhaXRPQXV0aFRva2VuKCk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgaGFzQ29ubmVjdGlvbiA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWhhc0Nvbm5lY3Rpb24gJiYgb3B0aW9ucy5yZWRpcmVjdCkge1xuICAgICAgaWYgKCFvcHRpb25zLnNlc3Npb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRlaW5kZW50YFxuICAgICAgICAgIENhbm5vdCBhZGQgbmV3IHNjb3BlcyB0byBhIHVzZXIgdGhhdCBpcyBub3QgYSBDdXJyZW50VXNlci4gUGxlYXNlIGVuc3VyZSB0aGF0IHlvdSBhcmUgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIG9uIGEgQ3VycmVudFVzZXIgb2JqZWN0LCBvciByZW1vdmUgdGhlICdvcjogcmVkaXJlY3QnIG9wdGlvbi5cblxuICAgICAgICAgIE9mdGVuLCB5b3UgY2FuIHNvbHZlIHRoaXMgYnkgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIGluIHRoZSBicm93c2VyIGluc3RlYWQsIG9yIGJ5IHJlbW92aW5nIHRoZSAnb3I6IHJlZGlyZWN0JyBvcHRpb24gYW5kIGRlYWxpbmcgd2l0aCB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkb2Vzbid0IGhhdmUgZW5vdWdoIHBlcm1pc3Npb25zLlxuICAgICAgICBgKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IGFkZE5ld09BdXRoUHJvdmlkZXJPclNjb3BlKFxuICAgICAgICB0aGlzLl9pbnRlcmZhY2UsXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlcjogb3B0aW9ucy5wcm92aWRlcklkLFxuICAgICAgICAgIHJlZGlyZWN0VXJsOiB0aGlzLnVybHMub2F1dGhDYWxsYmFjayxcbiAgICAgICAgICBlcnJvclJlZGlyZWN0VXJsOiB0aGlzLnVybHMuZXJyb3IsXG4gICAgICAgICAgcHJvdmlkZXJTY29wZTogbWVyZ2VTY29wZVN0cmluZ3Mob3B0aW9ucy5zY29wZSB8fCBcIlwiLCAodGhpcy5fb2F1dGhTY29wZXNPblNpZ25JbltvcHRpb25zLnByb3ZpZGVySWRdID8/IFtdKS5qb2luKFwiIFwiKSlcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucy5zZXNzaW9uXG4gICAgICApO1xuICAgICAgcmV0dXJuIGF3YWl0IG5ldmVyUmVzb2x2ZSgpO1xuICAgIH0gZWxzZSBpZiAoIWhhc0Nvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IG9wdGlvbnMucHJvdmlkZXJJZCxcbiAgICAgIGFzeW5jIGdldEFjY2Vzc1Rva2VuKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpb25zLmdldE9yV2FpdE9BdXRoVG9rZW4oKTtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIk5vIGFjY2VzcyB0b2tlbiBhdmFpbGFibGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICB1c2VBY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9ucy51c2VPQXV0aFRva2VuKCk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJObyBhY2Nlc3MgdG9rZW4gYXZhaWxhYmxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfaW5pdFVuaXF1ZUlkZW50aWZpZXIoKSB7XG4gICAgaWYgKCF0aGlzLl91bmlxdWVJZGVudGlmaWVyKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIlVuaXF1ZSBpZGVudGlmaWVyIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICB9XG4gICAgaWYgKGFsbENsaWVudEFwcHMuaGFzKHRoaXMuX3VuaXF1ZUlkZW50aWZpZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIkEgU3RhY2sgY2xpZW50IGFwcCB3aXRoIHRoZSBzYW1lIHVuaXF1ZSBpZGVudGlmaWVyIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgIH1cbiAgICBhbGxDbGllbnRBcHBzLnNldCh0aGlzLl91bmlxdWVJZGVudGlmaWVyLCBbdGhpcy5fb3B0aW9ucy5jaGVja1N0cmluZyA/PyB2b2lkIDAsIHRoaXNdKTtcbiAgfVxuICAvKipcbiAgICogQ2xvdWRmbGFyZSB3b3JrZXJzIGRvZXMgbm90IGFsbG93IHVzZSBvZiByYW5kb21uZXNzIG9uIHRoZSBnbG9iYWwgc2NvcGUgKG9uIHdoaWNoIHRoZSBTdGFjayBhcHAgaXMgcHJvYmFibHlcbiAgICogaW5pdGlhbGl6ZWQpLiBGb3IgdGhhdCByZWFzb24sIHdlIGdlbmVyYXRlIHRoZSB1bmlxdWUgaWRlbnRpZmllciBsYXppbHkgd2hlbiBpdCBpcyBmaXJzdCBuZWVkZWQgaW5zdGVhZCBvZiBpbiB0aGVcbiAgICogY29uc3RydWN0b3IuXG4gICAqL1xuICBfZ2V0VW5pcXVlSWRlbnRpZmllcigpIHtcbiAgICBpZiAoIXRoaXMuX3VuaXF1ZUlkZW50aWZpZXIpIHtcbiAgICAgIHRoaXMuX3VuaXF1ZUlkZW50aWZpZXIgPSBnZW5lcmF0ZVV1aWQoKTtcbiAgICAgIHRoaXMuX2luaXRVbmlxdWVJZGVudGlmaWVyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl91bmlxdWVJZGVudGlmaWVyO1xuICB9XG4gIGFzeW5jIF9jaGVja0ZlYXR1cmVTdXBwb3J0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmNoZWNrRmVhdHVyZVN1cHBvcnQoeyAuLi5vcHRpb25zLCBuYW1lIH0pO1xuICB9XG4gIF91c2VDaGVja0ZlYXR1cmVTdXBwb3J0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICBydW5Bc3luY2hyb25vdXNseSh0aGlzLl9jaGVja0ZlYXR1cmVTdXBwb3J0KG5hbWUsIG9wdGlvbnMpKTtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgJHtuYW1lfSBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZC4gUGxlYXNlIHJlYWNoIG91dCB0byBTdGFjayBzdXBwb3J0IGZvciBtb3JlIGluZm9ybWF0aW9uLmApO1xuICB9XG4gIGdldCBfcmVmcmVzaFRva2VuQ29va2llTmFtZSgpIHtcbiAgICByZXR1cm4gYHN0YWNrLXJlZnJlc2gtJHt0aGlzLnByb2plY3RJZH1gO1xuICB9XG4gIF9nZXRUb2tlbnNGcm9tQ29va2llcyhjb29raWVzMikge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGNvb2tpZXMyLnJlZnJlc2hUb2tlbkNvb2tpZTtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbk9iamVjdCA9IGNvb2tpZXMyLmFjY2Vzc1Rva2VuQ29va2llPy5zdGFydHNXaXRoKCdbXCInKSA/IEpTT04ucGFyc2UoY29va2llczIuYWNjZXNzVG9rZW5Db29raWUpIDogbnVsbDtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuT2JqZWN0ICYmIHJlZnJlc2hUb2tlbiA9PT0gYWNjZXNzVG9rZW5PYmplY3RbMF0gPyBhY2Nlc3NUb2tlbk9iamVjdFsxXSA6IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIGFjY2Vzc1Rva2VuXG4gICAgfTtcbiAgfVxuICBnZXQgX2FjY2Vzc1Rva2VuQ29va2llTmFtZSgpIHtcbiAgICByZXR1cm4gYHN0YWNrLWFjY2Vzc2A7XG4gIH1cbiAgX2dldEJyb3dzZXJDb29raWVUb2tlblN0b3JlKCkge1xuICAgIGlmICghaXNCcm93c2VyTGlrZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIGNvb2tpZSB0b2tlbiBzdG9yZSBvbiB0aGUgc2VydmVyIVwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N0b3JlZEJyb3dzZXJDb29raWVUb2tlblN0b3JlID09PSBudWxsKSB7XG4gICAgICBjb25zdCBnZXRDdXJyZW50VmFsdWUgPSAob2xkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHRoaXMuX2dldFRva2Vuc0Zyb21Db29raWVzKHtcbiAgICAgICAgICByZWZyZXNoVG9rZW5Db29raWU6IGdldENvb2tpZUNsaWVudCh0aGlzLl9yZWZyZXNoVG9rZW5Db29raWVOYW1lKSA/PyBnZXRDb29raWVDbGllbnQoXCJzdGFjay1yZWZyZXNoXCIpLFxuICAgICAgICAgIC8vIGtlZXAgb2xkIGNvb2tpZSBuYW1lIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGFjY2Vzc1Rva2VuQ29va2llOiBnZXRDb29raWVDbGllbnQodGhpcy5fYWNjZXNzVG9rZW5Db29raWVOYW1lKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZWZyZXNoVG9rZW46IHRva2Vucy5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgYWNjZXNzVG9rZW46IHRva2Vucy5hY2Nlc3NUb2tlbiA/PyAob2xkPy5yZWZyZXNoVG9rZW4gPT09IHRva2Vucy5yZWZyZXNoVG9rZW4gPyBvbGQuYWNjZXNzVG9rZW4gOiBudWxsKVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIHRoaXMuX3N0b3JlZEJyb3dzZXJDb29raWVUb2tlblN0b3JlID0gbmV3IFN0b3JlKGdldEN1cnJlbnRWYWx1ZShudWxsKSk7XG4gICAgICBsZXQgaGFzU3VjY2VlZGVkSW5Xcml0aW5nID0gdHJ1ZTtcbiAgICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKGhhc1N1Y2NlZWRlZEluV3JpdGluZykge1xuICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5fc3RvcmVkQnJvd3NlckNvb2tpZVRva2VuU3RvcmUuZ2V0KCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gZ2V0Q3VycmVudFZhbHVlKG9sZFZhbHVlKTtcbiAgICAgICAgICBpZiAoIWRlZXBQbGFpbkVxdWFscyhjdXJyZW50VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fc3RvcmVkQnJvd3NlckNvb2tpZVRva2VuU3RvcmUuc2V0KGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgICAgdGhpcy5fc3RvcmVkQnJvd3NlckNvb2tpZVRva2VuU3RvcmUub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0T3JEZWxldGVDb29raWVDbGllbnQodGhpcy5fcmVmcmVzaFRva2VuQ29va2llTmFtZSwgdmFsdWUucmVmcmVzaFRva2VuLCB7IG1heEFnZTogNjAgKiA2MCAqIDI0ICogMzY1IH0pO1xuICAgICAgICAgIHNldE9yRGVsZXRlQ29va2llQ2xpZW50KHRoaXMuX2FjY2Vzc1Rva2VuQ29va2llTmFtZSwgdmFsdWUuYWNjZXNzVG9rZW4gPyBKU09OLnN0cmluZ2lmeShbdmFsdWUucmVmcmVzaFRva2VuLCB2YWx1ZS5hY2Nlc3NUb2tlbl0pIDogbnVsbCwgeyBtYXhBZ2U6IDYwICogNjAgKiAyNCB9KTtcbiAgICAgICAgICBkZWxldGVDb29raWVDbGllbnQoXCJzdGFjay1yZWZyZXNoXCIpO1xuICAgICAgICAgIGhhc1N1Y2NlZWRlZEluV3JpdGluZyA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoIWlzQnJvd3Nlckxpa2UoKSkge1xuICAgICAgICAgICAgaGFzU3VjY2VlZGVkSW5Xcml0aW5nID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlZEJyb3dzZXJDb29raWVUb2tlblN0b3JlO1xuICB9XG4gIF9nZXRPckNyZWF0ZVRva2VuU3RvcmUoY29va2llSGVscGVyLCBvdmVycmlkZVRva2VuU3RvcmVJbml0KSB7XG4gICAgY29uc3QgdG9rZW5TdG9yZUluaXQgPSBvdmVycmlkZVRva2VuU3RvcmVJbml0ID09PSB2b2lkIDAgPyB0aGlzLl90b2tlblN0b3JlSW5pdCA6IG92ZXJyaWRlVG9rZW5TdG9yZUluaXQ7XG4gICAgc3dpdGNoICh0b2tlblN0b3JlSW5pdCkge1xuICAgICAgY2FzZSBcImNvb2tpZVwiOiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCcm93c2VyQ29va2llVG9rZW5TdG9yZSgpO1xuICAgICAgfVxuICAgICAgY2FzZSBcIm5leHRqcy1jb29raWVcIjoge1xuICAgICAgICBpZiAoaXNCcm93c2VyTGlrZSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJyb3dzZXJDb29raWVUb2tlblN0b3JlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdG9rZW5zID0gdGhpcy5fZ2V0VG9rZW5zRnJvbUNvb2tpZXMoe1xuICAgICAgICAgICAgcmVmcmVzaFRva2VuQ29va2llOiBjb29raWVIZWxwZXIuZ2V0KHRoaXMuX3JlZnJlc2hUb2tlbkNvb2tpZU5hbWUpID8/IGNvb2tpZUhlbHBlci5nZXQoXCJzdGFjay1yZWZyZXNoXCIpLFxuICAgICAgICAgICAgLy8ga2VlcCBvbGQgY29va2llIG5hbWUgZm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbkNvb2tpZTogY29va2llSGVscGVyLmdldCh0aGlzLl9hY2Nlc3NUb2tlbkNvb2tpZU5hbWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgU3RvcmUodG9rZW5zKTtcbiAgICAgICAgICBzdG9yZS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJ1bkFzeW5jaHJvbm91c2x5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHNldE9yRGVsZXRlQ29va2llKHRoaXMuX3JlZnJlc2hUb2tlbkNvb2tpZU5hbWUsIHZhbHVlLnJlZnJlc2hUb2tlbiwgeyBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDM2NSwgbm9PcElmU2VydmVyQ29tcG9uZW50OiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgIHNldE9yRGVsZXRlQ29va2llKHRoaXMuX2FjY2Vzc1Rva2VuQ29va2llTmFtZSwgdmFsdWUuYWNjZXNzVG9rZW4gPyBKU09OLnN0cmluZ2lmeShbdmFsdWUucmVmcmVzaFRva2VuLCB2YWx1ZS5hY2Nlc3NUb2tlbl0pIDogbnVsbCwgeyBtYXhBZ2U6IDYwICogNjAgKiAyNCwgbm9PcElmU2VydmVyQ29tcG9uZW50OiB0cnVlIH0pXG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXNlIFwibWVtb3J5XCI6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lbW9yeVRva2VuU3RvcmU7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGlmICh0b2tlblN0b3JlSW5pdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVFbXB0eVRva2VuU3RvcmUoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdG9rZW5TdG9yZUluaXQgPT09IFwib2JqZWN0XCIgJiYgXCJoZWFkZXJzXCIgaW4gdG9rZW5TdG9yZUluaXQpIHtcbiAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdFRva2VuU3RvcmVzLmhhcyh0b2tlblN0b3JlSW5pdCkpIHJldHVybiB0aGlzLl9yZXF1ZXN0VG9rZW5TdG9yZXMuZ2V0KHRva2VuU3RvcmVJbml0KTtcbiAgICAgICAgICBjb25zdCBzdGFja0F1dGhIZWFkZXIgPSB0b2tlblN0b3JlSW5pdC5oZWFkZXJzLmdldChcIngtc3RhY2stYXV0aFwiKTtcbiAgICAgICAgICBpZiAoc3RhY2tBdXRoSGVhZGVyKSB7XG4gICAgICAgICAgICBsZXQgcGFyc2VkMjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHBhcnNlZDIgPSBKU09OLnBhcnNlKHN0YWNrQXV0aEhlYWRlcik7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2VkMiAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwieC1zdGFjay1hdXRoIGhlYWRlciBtdXN0IGJlIGEgSlNPTiBvYmplY3RcIik7XG4gICAgICAgICAgICAgIGlmIChwYXJzZWQyID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJ4LXN0YWNrLWF1dGggaGVhZGVyIG11c3Qgbm90IGJlIG51bGxcIik7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB4LXN0YWNrLWF1dGggaGVhZGVyOiAke3N0YWNrQXV0aEhlYWRlcn1gLCB7IGNhdXNlOiBlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE9yQ3JlYXRlVG9rZW5TdG9yZShjb29raWVIZWxwZXIsIHtcbiAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IHBhcnNlZDIuYWNjZXNzVG9rZW4gPz8gbnVsbCxcbiAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiBwYXJzZWQyLnJlZnJlc2hUb2tlbiA/PyBudWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgY29va2llSGVhZGVyID0gdG9rZW5TdG9yZUluaXQuaGVhZGVycy5nZXQoXCJjb29raWVcIik7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gY29va2llLnBhcnNlKGNvb2tpZUhlYWRlciB8fCBcIlwiKTtcbiAgICAgICAgICBjb25zdCByZXMgPSBuZXcgU3RvcmUoe1xuICAgICAgICAgICAgcmVmcmVzaFRva2VuOiBwYXJzZWRbdGhpcy5fcmVmcmVzaFRva2VuQ29va2llTmFtZV0gfHwgcGFyc2VkW1wic3RhY2stcmVmcmVzaFwiXSB8fCBudWxsLFxuICAgICAgICAgICAgLy8ga2VlcCBvbGQgY29va2llIG5hbWUgZm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5XG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogcGFyc2VkW3RoaXMuX2FjY2Vzc1Rva2VuQ29va2llTmFtZV0gfHwgbnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX3JlcXVlc3RUb2tlblN0b3Jlcy5zZXQodG9rZW5TdG9yZUluaXQsIHJlcyk7XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSBlbHNlIGlmIChcImFjY2Vzc1Rva2VuXCIgaW4gdG9rZW5TdG9yZUluaXQgfHwgXCJyZWZyZXNoVG9rZW5cIiBpbiB0b2tlblN0b3JlSW5pdCkge1xuICAgICAgICAgIHJldHVybiBuZXcgU3RvcmUoe1xuICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB0b2tlblN0b3JlSW5pdC5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogdG9rZW5TdG9yZUluaXQuYWNjZXNzVG9rZW5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdG9rZW4gc3RvcmUgJHt0b2tlblN0b3JlSW5pdH1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VzZVRva2VuU3RvcmUob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCkge1xuICAgIHN1c3BlbmRJZlNzcigpO1xuICAgIGNvbnN0IGNvb2tpZUhlbHBlciA9IGNyZWF0ZUJyb3dzZXJDb29raWVIZWxwZXIoKTtcbiAgICBjb25zdCB0b2tlblN0b3JlID0gdGhpcy5fZ2V0T3JDcmVhdGVUb2tlblN0b3JlKGNvb2tpZUhlbHBlciwgb3ZlcnJpZGVUb2tlblN0b3JlSW5pdCk7XG4gICAgcmV0dXJuIHRva2VuU3RvcmU7XG4gIH1cbiAgX2dldFNlc3Npb25Gcm9tVG9rZW5TdG9yZSh0b2tlblN0b3JlKSB7XG4gICAgY29uc3QgdG9rZW5PYmogPSB0b2tlblN0b3JlLmdldCgpO1xuICAgIGNvbnN0IHNlc3Npb25LZXkgPSBJbnRlcm5hbFNlc3Npb24uY2FsY3VsYXRlU2Vzc2lvbktleSh0b2tlbk9iaik7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBzZXNzaW9uS2V5ID8gdGhpcy5fc2Vzc2lvbnNCeVRva2VuU3RvcmVBbmRTZXNzaW9uS2V5LmdldCh0b2tlblN0b3JlKT8uZ2V0KHNlc3Npb25LZXkpIDogbnVsbDtcbiAgICBpZiAoZXhpc3RpbmcpIHJldHVybiBleGlzdGluZztcbiAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5faW50ZXJmYWNlLmNyZWF0ZVNlc3Npb24oe1xuICAgICAgcmVmcmVzaFRva2VuOiB0b2tlbk9iai5yZWZyZXNoVG9rZW4sXG4gICAgICBhY2Nlc3NUb2tlbjogdG9rZW5PYmouYWNjZXNzVG9rZW5cbiAgICB9KTtcbiAgICBzZXNzaW9uLm9uQWNjZXNzVG9rZW5DaGFuZ2UoKG5ld0FjY2Vzc1Rva2VuKSA9PiB7XG4gICAgICB0b2tlblN0b3JlLnVwZGF0ZSgob2xkKSA9PiAoe1xuICAgICAgICAuLi5vbGQsXG4gICAgICAgIGFjY2Vzc1Rva2VuOiBuZXdBY2Nlc3NUb2tlbj8udG9rZW4gPz8gbnVsbFxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHNlc3Npb24ub25JbnZhbGlkYXRlKCgpID0+IHtcbiAgICAgIHRva2VuU3RvcmUudXBkYXRlKChvbGQpID0+ICh7XG4gICAgICAgIC4uLm9sZCxcbiAgICAgICAgYWNjZXNzVG9rZW46IG51bGwsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogbnVsbFxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIGxldCBzZXNzaW9uc0J5U2Vzc2lvbktleSA9IHRoaXMuX3Nlc3Npb25zQnlUb2tlblN0b3JlQW5kU2Vzc2lvbktleS5nZXQodG9rZW5TdG9yZSkgPz8gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLl9zZXNzaW9uc0J5VG9rZW5TdG9yZUFuZFNlc3Npb25LZXkuc2V0KHRva2VuU3RvcmUsIHNlc3Npb25zQnlTZXNzaW9uS2V5KTtcbiAgICBzZXNzaW9uc0J5U2Vzc2lvbktleS5zZXQoc2Vzc2lvbktleSwgc2Vzc2lvbik7XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cbiAgYXN5bmMgX2dldFNlc3Npb24ob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCkge1xuICAgIGNvbnN0IHRva2VuU3RvcmUgPSB0aGlzLl9nZXRPckNyZWF0ZVRva2VuU3RvcmUoYXdhaXQgdGhpcy5fY3JlYXRlQ29va2llSGVscGVyKCksIG92ZXJyaWRlVG9rZW5TdG9yZUluaXQpO1xuICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLl9nZXRTZXNzaW9uRnJvbVRva2VuU3RvcmUodG9rZW5TdG9yZSk7XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cbiAgX3VzZVNlc3Npb24ob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCkge1xuICAgIGNvbnN0IHRva2VuU3RvcmUgPSB0aGlzLl91c2VUb2tlblN0b3JlKG92ZXJyaWRlVG9rZW5TdG9yZUluaXQpO1xuICAgIGNvbnN0IHN1YnNjcmliZSA9IHVzZUNhbGxiYWNrKChjYikgPT4ge1xuICAgICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gdG9rZW5TdG9yZS5vbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgICB9LCBbdG9rZW5TdG9yZV0pO1xuICAgIGNvbnN0IGdldFNuYXBzaG90ID0gdXNlQ2FsbGJhY2soKCkgPT4gdGhpcy5fZ2V0U2Vzc2lvbkZyb21Ub2tlblN0b3JlKHRva2VuU3RvcmUpLCBbdG9rZW5TdG9yZV0pO1xuICAgIHJldHVybiBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90LCBnZXRTbmFwc2hvdCk7XG4gIH1cbiAgYXN5bmMgX3NpZ25JblRvQWNjb3VudFdpdGhUb2tlbnModG9rZW5zKSB7XG4gICAgaWYgKCEoXCJhY2Nlc3NUb2tlblwiIGluIHRva2VucykgfHwgIShcInJlZnJlc2hUb2tlblwiIGluIHRva2VucykpIHtcbiAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiSW52YWxpZCB0b2tlbnMgb2JqZWN0OyBjYW4ndCBzaWduIGluIHdpdGggdGhpc1wiLCB7IHRva2VucyB9KTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5TdG9yZSA9IHRoaXMuX2dldE9yQ3JlYXRlVG9rZW5TdG9yZShhd2FpdCB0aGlzLl9jcmVhdGVDb29raWVIZWxwZXIoKSk7XG4gICAgdG9rZW5TdG9yZS5zZXQodG9rZW5zKTtcbiAgfVxuICBfaGFzUGVyc2lzdGVudFRva2VuU3RvcmUob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCkge1xuICAgIHJldHVybiAob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCAhPT0gdm9pZCAwID8gb3ZlcnJpZGVUb2tlblN0b3JlSW5pdCA6IHRoaXMuX3Rva2VuU3RvcmVJbml0KSAhPT0gbnVsbDtcbiAgfVxuICBfZW5zdXJlUGVyc2lzdGVudFRva2VuU3RvcmUob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCkge1xuICAgIGlmICghdGhpcy5faGFzUGVyc2lzdGVudFRva2VuU3RvcmUob3ZlcnJpZGVUb2tlblN0b3JlSW5pdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIHRoaXMgZnVuY3Rpb24gb24gYSBTdGFjayBhcHAgd2l0aG91dCBhIHBlcnNpc3RlbnQgdG9rZW4gc3RvcmUuIE1ha2Ugc3VyZSB0aGUgdG9rZW5TdG9yZSBvcHRpb24gb24gdGhlIGNvbnN0cnVjdG9yIGlzIHNldCB0byBhIG5vbi1udWxsIHZhbHVlIHdoZW4gaW5pdGlhbGl6aW5nIFN0YWNrLlxcblxcblN0YWNrIHVzZXMgdG9rZW4gc3RvcmVzIHRvIGFjY2VzcyBhY2Nlc3MgdG9rZW5zIG9mIHRoZSBjdXJyZW50IHVzZXIuIEZvciBleGFtcGxlLCBvbiB3ZWIgZnJvbnRlbmRzIGl0IGlzIGNvbW1vbmx5IHRoZSBzdHJpbmcgdmFsdWUgJ2Nvb2tpZXMnIGZvciBjb29raWUgc3RvcmFnZS5cIik7XG4gICAgfVxuICB9XG4gIF9pc0ludGVybmFsUHJvamVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0SWQgPT09IFwiaW50ZXJuYWxcIjtcbiAgfVxuICBfZW5zdXJlSW50ZXJuYWxQcm9qZWN0KCkge1xuICAgIGlmICghdGhpcy5faXNJbnRlcm5hbFByb2plY3QoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgdGhpcyBmdW5jdGlvbiBvbiBhIFN0YWNrIGFwcCB3aXRoIGEgcHJvamVjdCBJRCBvdGhlciB0aGFuICdpbnRlcm5hbCcuXCIpO1xuICAgIH1cbiAgfVxuICBfY2xpZW50UHJvamVjdEZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICBkaXNwbGF5TmFtZTogY3J1ZC5kaXNwbGF5X25hbWUsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgc2lnblVwRW5hYmxlZDogY3J1ZC5jb25maWcuc2lnbl91cF9lbmFibGVkLFxuICAgICAgICBjcmVkZW50aWFsRW5hYmxlZDogY3J1ZC5jb25maWcuY3JlZGVudGlhbF9lbmFibGVkLFxuICAgICAgICBtYWdpY0xpbmtFbmFibGVkOiBjcnVkLmNvbmZpZy5tYWdpY19saW5rX2VuYWJsZWQsXG4gICAgICAgIHBhc3NrZXlFbmFibGVkOiBjcnVkLmNvbmZpZy5wYXNza2V5X2VuYWJsZWQsXG4gICAgICAgIGNsaWVudFRlYW1DcmVhdGlvbkVuYWJsZWQ6IGNydWQuY29uZmlnLmNsaWVudF90ZWFtX2NyZWF0aW9uX2VuYWJsZWQsXG4gICAgICAgIGNsaWVudFVzZXJEZWxldGlvbkVuYWJsZWQ6IGNydWQuY29uZmlnLmNsaWVudF91c2VyX2RlbGV0aW9uX2VuYWJsZWQsXG4gICAgICAgIGFsbG93VGVhbUFwaUtleXM6IGNydWQuY29uZmlnLmFsbG93X3RlYW1fYXBpX2tleXMsXG4gICAgICAgIGFsbG93VXNlckFwaUtleXM6IGNydWQuY29uZmlnLmFsbG93X3VzZXJfYXBpX2tleXMsXG4gICAgICAgIG9hdXRoUHJvdmlkZXJzOiBjcnVkLmNvbmZpZy5lbmFibGVkX29hdXRoX3Byb3ZpZGVycy5tYXAoKHApID0+ICh7XG4gICAgICAgICAgaWQ6IHAuaWRcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY2xpZW50UGVybWlzc2lvbkZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWRcbiAgICB9O1xuICB9XG4gIF9jbGllbnRUZWFtVXNlckZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQudXNlcl9pZCxcbiAgICAgIHRlYW1Qcm9maWxlOiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBjcnVkLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgcHJvZmlsZUltYWdlVXJsOiBjcnVkLnByb2ZpbGVfaW1hZ2VfdXJsXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY2xpZW50VGVhbUludml0YXRpb25Gcm9tQ3J1ZChzZXNzaW9uLCBjcnVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBjcnVkLmlkLFxuICAgICAgcmVjaXBpZW50RW1haWw6IGNydWQucmVjaXBpZW50X2VtYWlsLFxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShjcnVkLmV4cGlyZXNfYXRfbWlsbGlzKSxcbiAgICAgIHJldm9rZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2UucmV2b2tlVGVhbUludml0YXRpb24oY3J1ZC5pZCwgY3J1ZC50ZWFtX2lkLCBzZXNzaW9uKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fdGVhbUludml0YXRpb25zQ2FjaGUucmVmcmVzaChbc2Vzc2lvbiwgY3J1ZC50ZWFtX2lkXSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfYmFzZUFwaUtleUZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICBkZXNjcmlwdGlvbjogY3J1ZC5kZXNjcmlwdGlvbixcbiAgICAgIGV4cGlyZXNBdDogY3J1ZC5leHBpcmVzX2F0X21pbGxpcyA/IG5ldyBEYXRlKGNydWQuZXhwaXJlc19hdF9taWxsaXMpIDogdm9pZCAwLFxuICAgICAgbWFudWFsbHlSZXZva2VkQXQ6IGNydWQubWFudWFsbHlfcmV2b2tlZF9hdF9taWxsaXMgPyBuZXcgRGF0ZShjcnVkLm1hbnVhbGx5X3Jldm9rZWRfYXRfbWlsbGlzKSA6IG51bGwsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNydWQuY3JlYXRlZF9hdF9taWxsaXMpLFxuICAgICAgLi4uY3J1ZC50eXBlID09PSBcInRlYW1cIiA/IHsgdHlwZTogXCJ0ZWFtXCIsIHRlYW1JZDogY3J1ZC50ZWFtX2lkIH0gOiB7IHR5cGU6IFwidXNlclwiLCB1c2VySWQ6IGNydWQudXNlcl9pZCB9LFxuICAgICAgdmFsdWU6IHR5cGVvZiBjcnVkLnZhbHVlID09PSBcInN0cmluZ1wiID8gY3J1ZC52YWx1ZSA6IHtcbiAgICAgICAgbGFzdEZvdXI6IGNydWQudmFsdWUubGFzdF9mb3VyXG4gICAgICB9LFxuICAgICAgaXNWYWxpZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndoeUludmFsaWQoKSA9PT0gbnVsbDtcbiAgICAgIH0sXG4gICAgICB3aHlJbnZhbGlkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMubWFudWFsbHlSZXZva2VkQXQpIHtcbiAgICAgICAgICByZXR1cm4gXCJtYW51YWxseS1yZXZva2VkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXhwaXJlc0F0ICYmIHRoaXMuZXhwaXJlc0F0IDwgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpIHtcbiAgICAgICAgICByZXR1cm4gXCJleHBpcmVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY2xpZW50QXBpS2V5RnJvbUNydWQoc2Vzc2lvbiwgY3J1ZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLl9iYXNlQXBpS2V5RnJvbUNydWQoY3J1ZCksXG4gICAgICBhc3luYyByZXZva2UoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlKHsgcmV2b2tlZDogdHJ1ZSB9KTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGU6IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2ludGVyZmFjZS51cGRhdGVQcm9qZWN0QXBpS2V5KGNydWQudHlwZSA9PT0gXCJ0ZWFtXCIgPyB7IHRlYW1faWQ6IGNydWQudGVhbV9pZCB9IDogeyB1c2VyX2lkOiBjcnVkLnVzZXJfaWQgfSwgY3J1ZC5pZCwgb3B0aW9ucywgc2Vzc2lvbiwgXCJjbGllbnRcIik7XG4gICAgICAgIGlmIChjcnVkLnR5cGUgPT09IFwidGVhbVwiKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5fdGVhbUFwaUtleXNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uLCBjcnVkLnRlYW1faWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLl91c2VyQXBpS2V5c0NhY2hlLnJlZnJlc2goW3Nlc3Npb25dKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX2NsaWVudFRlYW1Gcm9tQ3J1ZChjcnVkLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICBkaXNwbGF5TmFtZTogY3J1ZC5kaXNwbGF5X25hbWUsXG4gICAgICBwcm9maWxlSW1hZ2VVcmw6IGNydWQucHJvZmlsZV9pbWFnZV91cmwsXG4gICAgICBjbGllbnRNZXRhZGF0YTogY3J1ZC5jbGllbnRfbWV0YWRhdGEsXG4gICAgICBjbGllbnRSZWFkT25seU1ldGFkYXRhOiBjcnVkLmNsaWVudF9yZWFkX29ubHlfbWV0YWRhdGEsXG4gICAgICAuLi50aGlzLl9jcmVhdGVDdXN0b21lcihjcnVkLmlkLCBcInRlYW1cIiwgc2Vzc2lvbiksXG4gICAgICBhc3luYyBpbnZpdGVVc2VyKG9wdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2Uuc2VuZFRlYW1JbnZpdGF0aW9uKHtcbiAgICAgICAgICB0ZWFtSWQ6IGNydWQuaWQsXG4gICAgICAgICAgZW1haWw6IG9wdGlvbnMuZW1haWwsXG4gICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICBjYWxsYmFja1VybDogb3B0aW9ucy5jYWxsYmFja1VybCA/PyBjb25zdHJ1Y3RSZWRpcmVjdFVybChhcHAudXJscy50ZWFtSW52aXRhdGlvbiwgXCJjYWxsYmFja1VybFwiKVxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgYXBwLl90ZWFtSW52aXRhdGlvbnNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uLCBjcnVkLmlkXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdFVzZXJzKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3RlYW1NZW1iZXJQcm9maWxlc0NhY2hlLmdldE9yV2FpdChbc2Vzc2lvbiwgY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKChjcnVkMikgPT4gYXBwLl9jbGllbnRUZWFtVXNlckZyb21DcnVkKGNydWQyKSk7XG4gICAgICB9LFxuICAgICAgdXNlVXNlcnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHVzZUFzeW5jQ2FjaGUoYXBwLl90ZWFtTWVtYmVyUHJvZmlsZXNDYWNoZSwgW3Nlc3Npb24sIGNydWQuaWRdLCBcInRlYW0udXNlVXNlcnMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudFRlYW1Vc2VyRnJvbUNydWQoY3J1ZDIpKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0SW52aXRhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fdGVhbUludml0YXRpb25zQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCBjcnVkLmlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudFRlYW1JbnZpdGF0aW9uRnJvbUNydWQoc2Vzc2lvbiwgY3J1ZDIpKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnZpdGF0aW9ucygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShhcHAuX3RlYW1JbnZpdGF0aW9uc0NhY2hlLCBbc2Vzc2lvbiwgY3J1ZC5pZF0sIFwidGVhbS51c2VJbnZpdGF0aW9ucygpXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50VGVhbUludml0YXRpb25Gcm9tQ3J1ZChzZXNzaW9uLCBjcnVkMikpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHVwZGF0ZShkYXRhKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLnVwZGF0ZVRlYW0oeyBkYXRhOiB0ZWFtVXBkYXRlT3B0aW9uc1RvQ3J1ZChkYXRhKSwgdGVhbUlkOiBjcnVkLmlkIH0sIHNlc3Npb24pO1xuICAgICAgICBhd2FpdCBhcHAuX2N1cnJlbnRVc2VyVGVhbXNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZGVsZXRlKCkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5kZWxldGVUZWFtKGNydWQuaWQsIHNlc3Npb24pO1xuICAgICAgICBhd2FpdCBhcHAuX2N1cnJlbnRVc2VyVGVhbXNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gICAgICB9LFxuICAgICAgdXNlQXBpS2V5cygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShhcHAuX3RlYW1BcGlLZXlzQ2FjaGUsIFtzZXNzaW9uLCBjcnVkLmlkXSwgXCJ0ZWFtLnVzZUFwaUtleXMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudEFwaUtleUZyb21DcnVkKHNlc3Npb24sIGNydWQyKSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdEFwaUtleXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3RlYW1BcGlLZXlzQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCBjcnVkLmlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMubWFwKChjcnVkMikgPT4gYXBwLl9jbGllbnRBcGlLZXlGcm9tQ3J1ZChzZXNzaW9uLCBjcnVkMikpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGNyZWF0ZUFwaUtleShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLmNyZWF0ZVByb2plY3RBcGlLZXkoXG4gICAgICAgICAgYXdhaXQgYXBpS2V5Q3JlYXRpb25PcHRpb25zVG9DcnVkKFwidGVhbVwiLCBjcnVkLmlkLCBvcHRpb25zKSxcbiAgICAgICAgICBzZXNzaW9uLFxuICAgICAgICAgIFwiY2xpZW50XCJcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgYXBwLl90ZWFtQXBpS2V5c0NhY2hlLnJlZnJlc2goW3Nlc3Npb24sIGNydWQuaWRdKTtcbiAgICAgICAgcmV0dXJuIGFwcC5fY2xpZW50QXBpS2V5RnJvbUNydWQoc2Vzc2lvbiwgcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9jbGllbnRDb250YWN0Q2hhbm5lbEZyb21DcnVkKGNydWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogY3J1ZC5pZCxcbiAgICAgIHZhbHVlOiBjcnVkLnZhbHVlLFxuICAgICAgdHlwZTogY3J1ZC50eXBlLFxuICAgICAgaXNWZXJpZmllZDogY3J1ZC5pc192ZXJpZmllZCxcbiAgICAgIGlzUHJpbWFyeTogY3J1ZC5pc19wcmltYXJ5LFxuICAgICAgdXNlZEZvckF1dGg6IGNydWQudXNlZF9mb3JfYXV0aCxcbiAgICAgIGFzeW5jIHNlbmRWZXJpZmljYXRpb25FbWFpbChvcHRpb25zKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLnNlbmRDdXJyZW50VXNlckNvbnRhY3RDaGFubmVsVmVyaWZpY2F0aW9uRW1haWwoXG4gICAgICAgICAgY3J1ZC5pZCxcbiAgICAgICAgICBvcHRpb25zPy5jYWxsYmFja1VybCB8fCBjb25zdHJ1Y3RSZWRpcmVjdFVybChhcHAudXJscy5lbWFpbFZlcmlmaWNhdGlvbiwgXCJjYWxsYmFja1VybFwiKSxcbiAgICAgICAgICBzZXNzaW9uXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UudXBkYXRlQ2xpZW50Q29udGFjdENoYW5uZWwoY3J1ZC5pZCwgY29udGFjdENoYW5uZWxVcGRhdGVPcHRpb25zVG9DcnVkKGRhdGEpLCBzZXNzaW9uKTtcbiAgICAgICAgYXdhaXQgYXBwLl9jbGllbnRDb250YWN0Q2hhbm5lbHNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZGVsZXRlKCkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5kZWxldGVDbGllbnRDb250YWN0Q2hhbm5lbChjcnVkLmlkLCBzZXNzaW9uKTtcbiAgICAgICAgYXdhaXQgYXBwLl9jbGllbnRDb250YWN0Q2hhbm5lbHNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY2xpZW50Tm90aWZpY2F0aW9uQ2F0ZWdvcnlGcm9tQ3J1ZChjcnVkLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQubm90aWZpY2F0aW9uX2NhdGVnb3J5X2lkLFxuICAgICAgbmFtZTogY3J1ZC5ub3RpZmljYXRpb25fY2F0ZWdvcnlfbmFtZSxcbiAgICAgIGVuYWJsZWQ6IGNydWQuZW5hYmxlZCxcbiAgICAgIGNhbkRpc2FibGU6IGNydWQuY2FuX2Rpc2FibGUsXG4gICAgICBhc3luYyBzZXRFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2Uuc2V0Tm90aWZpY2F0aW9uc0VuYWJsZWQoY3J1ZC5ub3RpZmljYXRpb25fY2F0ZWdvcnlfaWQsIGVuYWJsZWQsIHNlc3Npb24pO1xuICAgICAgICBhd2FpdCBhcHAuX25vdGlmaWNhdGlvbkNhdGVnb3JpZXNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY2xpZW50T0F1dGhQcm92aWRlckZyb21DcnVkKGNydWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogY3J1ZC5pZCxcbiAgICAgIHR5cGU6IGNydWQudHlwZSxcbiAgICAgIHVzZXJJZDogY3J1ZC51c2VyX2lkLFxuICAgICAgZW1haWw6IGNydWQuZW1haWwsXG4gICAgICBhbGxvd1NpZ25JbjogY3J1ZC5hbGxvd19zaWduX2luLFxuICAgICAgYWxsb3dDb25uZWN0ZWRBY2NvdW50czogY3J1ZC5hbGxvd19jb25uZWN0ZWRfYWNjb3VudHMsXG4gICAgICBhc3luYyB1cGRhdGUoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLnVwZGF0ZU9BdXRoUHJvdmlkZXIoXG4gICAgICAgICAgICBjcnVkLnVzZXJfaWQsXG4gICAgICAgICAgICBjcnVkLmlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhbGxvd19zaWduX2luOiBkYXRhLmFsbG93U2lnbkluLFxuICAgICAgICAgICAgICBhbGxvd19jb25uZWN0ZWRfYWNjb3VudHM6IGRhdGEuYWxsb3dDb25uZWN0ZWRBY2NvdW50c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlc3Npb25cbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IGFwcC5fY3VycmVudFVzZXJPQXV0aFByb3ZpZGVyc0NhY2hlLnJlZnJlc2goW3Nlc3Npb25dKTtcbiAgICAgICAgICByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKEtub3duRXJyb3JzLk9BdXRoUHJvdmlkZXJBY2NvdW50SWRBbHJlYWR5VXNlZEZvclNpZ25Jbi5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgZGVsZXRlKCkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5kZWxldGVPQXV0aFByb3ZpZGVyKGNydWQudXNlcl9pZCwgY3J1ZC5pZCwgc2Vzc2lvbik7XG4gICAgICAgIGF3YWl0IGFwcC5fY3VycmVudFVzZXJPQXV0aFByb3ZpZGVyc0NhY2hlLnJlZnJlc2goW3Nlc3Npb25dKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9jbGllbnRJdGVtRnJvbUNydWQoY3J1ZCkge1xuICAgIGNvbnN0IGFwcCA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc3BsYXlOYW1lOiBjcnVkLmRpc3BsYXlfbmFtZSxcbiAgICAgIHF1YW50aXR5OiBjcnVkLnF1YW50aXR5LFxuICAgICAgbm9uTmVnYXRpdmVRdWFudGl0eTogTWF0aC5tYXgoMCwgY3J1ZC5xdWFudGl0eSlcbiAgICB9O1xuICB9XG4gIF9jcmVhdGVBdXRoKHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBfaW50ZXJuYWxTZXNzaW9uOiBzZXNzaW9uLFxuICAgICAgY3VycmVudFNlc3Npb246IHtcbiAgICAgICAgYXN5bmMgZ2V0VG9rZW5zKCkge1xuICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHNlc3Npb24uZ2V0T3JGZXRjaExpa2VseVZhbGlkVG9rZW5zKDJlNCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiB0b2tlbnM/LmFjY2Vzc1Rva2VuLnRva2VuID8/IG51bGwsXG4gICAgICAgICAgICByZWZyZXNoVG9rZW46IHRva2Vucz8ucmVmcmVzaFRva2VuPy50b2tlbiA/PyBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGdldEF1dGhIZWFkZXJzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFwieC1zdGFjay1hdXRoXCI6IEpTT04uc3RyaW5naWZ5KGF3YWl0IHRoaXMuZ2V0QXV0aEpzb24oKSlcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBnZXRBdXRoSnNvbigpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdGhpcy5jdXJyZW50U2Vzc2lvbi5nZXRUb2tlbnMoKTtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgIH0sXG4gICAgICBhc3luYyByZWdpc3RlclBhc3NrZXkob3B0aW9ucykge1xuICAgICAgICBjb25zdCBob3N0bmFtZSA9IChhd2FpdCBhcHAuX2dldEN1cnJlbnRVcmwoKSk/Lmhvc3RuYW1lO1xuICAgICAgICBpZiAoIWhvc3RuYW1lKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJob3N0bmFtZSBtdXN0IGJlIHByb3ZpZGVkIGlmIHRoZSBTdGFjayBBcHAgZG9lcyBub3QgaGF2ZSBhIHJlZGlyZWN0IG1ldGhvZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbml0aWF0aW9uUmVzdWx0ID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UuaW5pdGlhdGVQYXNza2V5UmVnaXN0cmF0aW9uKHt9LCBzZXNzaW9uKTtcbiAgICAgICAgaWYgKGluaXRpYXRpb25SZXN1bHQuc3RhdHVzICE9PSBcIm9rXCIpIHtcbiAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKG5ldyBLbm93bkVycm9ycy5QYXNza2V5UmVnaXN0cmF0aW9uRmFpbGVkKFwiRmFpbGVkIHRvIGdldCBpbml0aWF0aW9uIG9wdGlvbnMgZm9yIHBhc3NrZXkgcmVnaXN0cmF0aW9uXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG9wdGlvbnNfanNvbiwgY29kZSB9ID0gaW5pdGlhdGlvblJlc3VsdC5kYXRhO1xuICAgICAgICBpZiAob3B0aW9uc19qc29uLnJwLmlkICE9PSBcIlRISVNfVkFMVUVfV0lMTF9CRV9SRVBMQUNFRC5leGFtcGxlLmNvbVwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoYEV4cGVjdGVkIHJldHVybmVkIFJQIElEIGZyb20gc2VydmVyIHRvIGVxdWFsIHNlbnRpbmVsLCBidXQgZm91bmQgJHtvcHRpb25zX2pzb24ucnAuaWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uc19qc29uLnJwLmlkID0gaG9zdG5hbWU7XG4gICAgICAgIGxldCBhdHRSZXNwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF0dFJlc3AgPSBhd2FpdCBzdGFydFJlZ2lzdHJhdGlvbih7IG9wdGlvbnNKU09OOiBvcHRpb25zX2pzb24gfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgV2ViQXV0aG5FcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihuZXcgS25vd25FcnJvcnMuUGFzc2tleVdlYkF1dGhuRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IubmFtZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYXB0dXJlRXJyb3IoXCJwYXNza2V5LXJlZ2lzdHJhdGlvbi1mYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihuZXcgS25vd25FcnJvcnMuUGFzc2tleVJlZ2lzdHJhdGlvbkZhaWxlZChcIkZhaWxlZCB0byBzdGFydCBwYXNza2V5IHJlZ2lzdHJhdGlvbiBkdWUgdG8gdW5rbm93biBlcnJvclwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvblJlc3VsdCA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLnJlZ2lzdGVyUGFzc2tleSh7IGNyZWRlbnRpYWw6IGF0dFJlc3AsIGNvZGUgfSwgc2Vzc2lvbik7XG4gICAgICAgIGF3YWl0IGFwcC5fcmVmcmVzaFVzZXIoc2Vzc2lvbik7XG4gICAgICAgIHJldHVybiByZWdpc3RyYXRpb25SZXN1bHQ7XG4gICAgICB9LFxuICAgICAgc2lnbk91dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhcHAuX3NpZ25PdXQoc2Vzc2lvbiwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfZWRpdGFibGVUZWFtUHJvZmlsZUZyb21DcnVkKGNydWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICBkaXNwbGF5TmFtZTogY3J1ZC5kaXNwbGF5X25hbWUsXG4gICAgICBwcm9maWxlSW1hZ2VVcmw6IGNydWQucHJvZmlsZV9pbWFnZV91cmwsXG4gICAgICBhc3luYyB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLnVwZGF0ZVRlYW1NZW1iZXJQcm9maWxlKHtcbiAgICAgICAgICB0ZWFtSWQ6IGNydWQudGVhbV9pZCxcbiAgICAgICAgICB1c2VySWQ6IGNydWQudXNlcl9pZCxcbiAgICAgICAgICBwcm9maWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5X25hbWU6IHVwZGF0ZS5kaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHByb2ZpbGVfaW1hZ2VfdXJsOiB1cGRhdGUucHJvZmlsZUltYWdlVXJsXG4gICAgICAgICAgfVxuICAgICAgICB9LCBzZXNzaW9uKTtcbiAgICAgICAgYXdhaXQgYXBwLl9jdXJyZW50VXNlclRlYW1Qcm9maWxlQ2FjaGUucmVmcmVzaChbc2Vzc2lvbiwgY3J1ZC50ZWFtX2lkXSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfY3JlYXRlQmFzZVVzZXIoY3J1ZCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogY3J1ZC5pZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBjcnVkLmRpc3BsYXlfbmFtZSxcbiAgICAgIHByaW1hcnlFbWFpbDogY3J1ZC5wcmltYXJ5X2VtYWlsLFxuICAgICAgcHJpbWFyeUVtYWlsVmVyaWZpZWQ6IGNydWQucHJpbWFyeV9lbWFpbF92ZXJpZmllZCxcbiAgICAgIHByb2ZpbGVJbWFnZVVybDogY3J1ZC5wcm9maWxlX2ltYWdlX3VybCxcbiAgICAgIHNpZ25lZFVwQXQ6IG5ldyBEYXRlKGNydWQuc2lnbmVkX3VwX2F0X21pbGxpcyksXG4gICAgICBjbGllbnRNZXRhZGF0YTogY3J1ZC5jbGllbnRfbWV0YWRhdGEsXG4gICAgICBjbGllbnRSZWFkT25seU1ldGFkYXRhOiBjcnVkLmNsaWVudF9yZWFkX29ubHlfbWV0YWRhdGEsXG4gICAgICBoYXNQYXNzd29yZDogY3J1ZC5oYXNfcGFzc3dvcmQsXG4gICAgICBlbWFpbEF1dGhFbmFibGVkOiBjcnVkLmF1dGhfd2l0aF9lbWFpbCxcbiAgICAgIG90cEF1dGhFbmFibGVkOiBjcnVkLm90cF9hdXRoX2VuYWJsZWQsXG4gICAgICBvYXV0aFByb3ZpZGVyczogY3J1ZC5vYXV0aF9wcm92aWRlcnMsXG4gICAgICBwYXNza2V5QXV0aEVuYWJsZWQ6IGNydWQucGFzc2tleV9hdXRoX2VuYWJsZWQsXG4gICAgICBpc011bHRpRmFjdG9yUmVxdWlyZWQ6IGNydWQucmVxdWlyZXNfdG90cF9tZmEsXG4gICAgICBpc0Fub255bW91czogY3J1ZC5pc19hbm9ueW1vdXMsXG4gICAgICB0b0NsaWVudEpzb24oKSB7XG4gICAgICAgIHJldHVybiBjcnVkO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX2NyZWF0ZVVzZXJFeHRyYUZyb21DdXJyZW50KGNydWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldENvbm5lY3RlZEFjY291bnQoaWQsIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNjb3BlU3RyaW5nID0gb3B0aW9ucz8uc2NvcGVzPy5qb2luKFwiIFwiKTtcbiAgICAgIHJldHVybiBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX2N1cnJlbnRVc2VyT0F1dGhDb25uZWN0aW9uQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCBpZCwgc2NvcGVTdHJpbmcgfHwgXCJcIiwgb3B0aW9ucz8ub3IgPT09IFwicmVkaXJlY3RcIl0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZUNvbm5lY3RlZEFjY291bnQoaWQsIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNjb3BlU3RyaW5nID0gb3B0aW9ucz8uc2NvcGVzPy5qb2luKFwiIFwiKTtcbiAgICAgIHJldHVybiB1c2VBc3luY0NhY2hlKGFwcC5fY3VycmVudFVzZXJPQXV0aENvbm5lY3Rpb25DYWNoZSwgW3Nlc3Npb24sIGlkLCBzY29wZVN0cmluZyB8fCBcIlwiLCBvcHRpb25zPy5vciA9PT0gXCJyZWRpcmVjdFwiXSwgXCJ1c2VyLnVzZUNvbm5lY3RlZEFjY291bnQoKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGFzeW5jIGdldEFjdGl2ZVNlc3Npb25zKCkge1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLmxpc3RTZXNzaW9ucyhzZXNzaW9uKTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25zLml0ZW1zLm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50U2Vzc2lvbkZyb21DcnVkKGNydWQyKSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgcmV2b2tlU2Vzc2lvbihzZXNzaW9uSWQpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UuZGVsZXRlU2Vzc2lvbihzZXNzaW9uSWQsIHNlc3Npb24pO1xuICAgICAgfSxcbiAgICAgIHNldERpc3BsYXlOYW1lKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7IGRpc3BsYXlOYW1lIH0pO1xuICAgICAgfSxcbiAgICAgIHNldENsaWVudE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7IGNsaWVudE1ldGFkYXRhOiBtZXRhZGF0YSB9KTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBzZXRTZWxlY3RlZFRlYW0odGVhbSkge1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IHNlbGVjdGVkVGVhbUlkOiB0ZWFtPy5pZCA/PyBudWxsIH0pO1xuICAgICAgfSxcbiAgICAgIGdldENvbm5lY3RlZEFjY291bnQsXG4gICAgICB1c2VDb25uZWN0ZWRBY2NvdW50LFxuICAgICAgLy8gVEhJU19MSU5FX1BMQVRGT1JNIHJlYWN0LWxpa2VcbiAgICAgIGFzeW5jIGdldFRlYW0odGVhbUlkKSB7XG4gICAgICAgIGNvbnN0IHRlYW1zID0gYXdhaXQgdGhpcy5saXN0VGVhbXMoKTtcbiAgICAgICAgcmV0dXJuIHRlYW1zLmZpbmQoKHQpID0+IHQuaWQgPT09IHRlYW1JZCkgPz8gbnVsbDtcbiAgICAgIH0sXG4gICAgICB1c2VUZWFtKHRlYW1JZCkge1xuICAgICAgICBjb25zdCB0ZWFtcyA9IHRoaXMudXNlVGVhbXMoKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0ZWFtcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZWFtSWQpID8/IG51bGw7XG4gICAgICAgIH0sIFt0ZWFtcywgdGVhbUlkXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdFRlYW1zKCkge1xuICAgICAgICBjb25zdCB0ZWFtcyA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fY3VycmVudFVzZXJUZWFtc0NhY2hlLmdldE9yV2FpdChbc2Vzc2lvbl0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiB0ZWFtcy5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudFRlYW1Gcm9tQ3J1ZChjcnVkMiwgc2Vzc2lvbikpO1xuICAgICAgfSxcbiAgICAgIHVzZVRlYW1zKCkge1xuICAgICAgICBjb25zdCB0ZWFtcyA9IHVzZUFzeW5jQ2FjaGUoYXBwLl9jdXJyZW50VXNlclRlYW1zQ2FjaGUsIFtzZXNzaW9uXSwgXCJ1c2VyLnVzZVRlYW1zKClcIik7XG4gICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHRlYW1zLm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50VGVhbUZyb21DcnVkKGNydWQyLCBzZXNzaW9uKSksIFt0ZWFtc10pO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGNyZWF0ZVRlYW0oZGF0YSkge1xuICAgICAgICBjb25zdCBjcnVkMiA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLmNyZWF0ZUNsaWVudFRlYW0odGVhbUNyZWF0ZU9wdGlvbnNUb0NydWQoZGF0YSwgXCJtZVwiKSwgc2Vzc2lvbik7XG4gICAgICAgIGF3YWl0IGFwcC5fY3VycmVudFVzZXJUZWFtc0NhY2hlLnJlZnJlc2goW3Nlc3Npb25dKTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoeyBzZWxlY3RlZFRlYW1JZDogY3J1ZDIuaWQgfSk7XG4gICAgICAgIHJldHVybiBhcHAuX2NsaWVudFRlYW1Gcm9tQ3J1ZChjcnVkMiwgc2Vzc2lvbik7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGVhdmVUZWFtKHRlYW0pIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UubGVhdmVUZWFtKHRlYW0uaWQsIHNlc3Npb24pO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGxpc3RQZXJtaXNzaW9ucyhzY29wZU9yT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgICBpZiAoc2NvcGVPck9wdGlvbnMgJiYgXCJpZFwiIGluIHNjb3BlT3JPcHRpb25zKSB7XG4gICAgICAgICAgY29uc3Qgc2NvcGUgPSBzY29wZU9yT3B0aW9ucztcbiAgICAgICAgICBjb25zdCByZWN1cnNpdmUgPSBvcHRpb25zPy5yZWN1cnNpdmUgPz8gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fY3VycmVudFVzZXJQZXJtaXNzaW9uc0NhY2hlLmdldE9yV2FpdChbc2Vzc2lvbiwgc2NvcGUuaWQsIHJlY3Vyc2l2ZV0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgICAgcmV0dXJuIHBlcm1pc3Npb25zLm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50UGVybWlzc2lvbkZyb21DcnVkKGNydWQyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgb3B0cyA9IHNjb3BlT3JPcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHJlY3Vyc2l2ZSA9IG9wdHM/LnJlY3Vyc2l2ZSA/PyB0cnVlO1xuICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25zID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgYXBwLl9jdXJyZW50VXNlclByb2plY3RQZXJtaXNzaW9uc0NhY2hlLmdldE9yV2FpdChbc2Vzc2lvbiwgcmVjdXJzaXZlXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnMubWFwKChjcnVkMikgPT4gYXBwLl9jbGllbnRQZXJtaXNzaW9uRnJvbUNydWQoY3J1ZDIpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVBlcm1pc3Npb25zKHNjb3BlT3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChzY29wZU9yT3B0aW9ucyAmJiBcImlkXCIgaW4gc2NvcGVPck9wdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IHNjb3BlT3JPcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHJlY3Vyc2l2ZSA9IG9wdGlvbnM/LnJlY3Vyc2l2ZSA/PyB0cnVlO1xuICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25zID0gdXNlQXN5bmNDYWNoZShhcHAuX2N1cnJlbnRVc2VyUGVybWlzc2lvbnNDYWNoZSwgW3Nlc3Npb24sIHNjb3BlLmlkLCByZWN1cnNpdmVdLCBcInVzZXIudXNlUGVybWlzc2lvbnMoKVwiKTtcbiAgICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBwZXJtaXNzaW9ucy5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudFBlcm1pc3Npb25Gcm9tQ3J1ZChjcnVkMikpLCBbcGVybWlzc2lvbnNdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvcHRzID0gc2NvcGVPck9wdGlvbnM7XG4gICAgICAgICAgY29uc3QgcmVjdXJzaXZlID0gb3B0cz8ucmVjdXJzaXZlID8/IHRydWU7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSB1c2VBc3luY0NhY2hlKGFwcC5fY3VycmVudFVzZXJQcm9qZWN0UGVybWlzc2lvbnNDYWNoZSwgW3Nlc3Npb24sIHJlY3Vyc2l2ZV0sIFwidXNlci51c2VQZXJtaXNzaW9ucygpXCIpO1xuICAgICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHBlcm1pc3Npb25zLm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50UGVybWlzc2lvbkZyb21DcnVkKGNydWQyKSksIFtwZXJtaXNzaW9uc10pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUGVybWlzc2lvbihzY29wZU9yUGVybWlzc2lvbklkLCBwZXJtaXNzaW9uSWQpIHtcbiAgICAgICAgaWYgKHNjb3BlT3JQZXJtaXNzaW9uSWQgJiYgdHlwZW9mIHNjb3BlT3JQZXJtaXNzaW9uSWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IHNjb3BlT3JQZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSB0aGlzLnVzZVBlcm1pc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBwZXJtaXNzaW9ucy5maW5kKChwKSA9PiBwLmlkID09PSBwZXJtaXNzaW9uSWQpID8/IG51bGwsIFtwZXJtaXNzaW9ucywgcGVybWlzc2lvbklkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcGlkID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IHRoaXMudXNlUGVybWlzc2lvbnMoKTtcbiAgICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBwZXJtaXNzaW9ucy5maW5kKChwKSA9PiBwLmlkID09PSBwaWQpID8/IG51bGwsIFtwZXJtaXNzaW9ucywgcGlkXSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBnZXRQZXJtaXNzaW9uKHNjb3BlT3JQZXJtaXNzaW9uSWQsIHBlcm1pc3Npb25JZCkge1xuICAgICAgICBpZiAoc2NvcGVPclBlcm1pc3Npb25JZCAmJiB0eXBlb2Ygc2NvcGVPclBlcm1pc3Npb25JZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IHNjb3BlID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IGF3YWl0IHRoaXMubGlzdFBlcm1pc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnMuZmluZCgocCkgPT4gcC5pZCA9PT0gcGVybWlzc2lvbklkKSA/PyBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHBpZCA9IHNjb3BlT3JQZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSBhd2FpdCB0aGlzLmxpc3RQZXJtaXNzaW9ucygpO1xuICAgICAgICAgIHJldHVybiBwZXJtaXNzaW9ucy5maW5kKChwKSA9PiBwLmlkID09PSBwaWQpID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBoYXNQZXJtaXNzaW9uKHNjb3BlT3JQZXJtaXNzaW9uSWQsIHBlcm1pc3Npb25JZCkge1xuICAgICAgICBpZiAoc2NvcGVPclBlcm1pc3Npb25JZCAmJiB0eXBlb2Ygc2NvcGVPclBlcm1pc3Npb25JZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IHNjb3BlID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRQZXJtaXNzaW9uKHNjb3BlLCBwZXJtaXNzaW9uSWQpICE9PSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHBpZCA9IHNjb3BlT3JQZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0UGVybWlzc2lvbihwaWQpICE9PSBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgYXBwLl91cGRhdGVDbGllbnRVc2VyKHVwZGF0ZSwgc2Vzc2lvbik7XG4gICAgICB9LFxuICAgICAgYXN5bmMgc2VuZFZlcmlmaWNhdGlvbkVtYWlsKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFjcnVkLnByaW1hcnlfZW1haWwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIlVzZXIgZG9lcyBub3QgaGF2ZSBhIHByaW1hcnkgZW1haWxcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IGFwcC5faW50ZXJmYWNlLnNlbmRWZXJpZmljYXRpb25FbWFpbChcbiAgICAgICAgICBjcnVkLnByaW1hcnlfZW1haWwsXG4gICAgICAgICAgb3B0aW9ucz8uY2FsbGJhY2tVcmwgPz8gY29uc3RydWN0UmVkaXJlY3RVcmwoYXBwLnVybHMuZW1haWxWZXJpZmljYXRpb24sIFwiY2FsbGJhY2tVcmxcIiksXG4gICAgICAgICAgc2Vzc2lvblxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHVwZGF0ZVBhc3N3b3JkKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UudXBkYXRlUGFzc3dvcmQob3B0aW9ucywgc2Vzc2lvbik7XG4gICAgICAgIGF3YWl0IGFwcC5fY3VycmVudFVzZXJDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgYXN5bmMgc2V0UGFzc3dvcmQob3B0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcHAuX2ludGVyZmFjZS5zZXRQYXNzd29yZChvcHRpb25zLCBzZXNzaW9uKTtcbiAgICAgICAgYXdhaXQgYXBwLl9jdXJyZW50VXNlckNhY2hlLnJlZnJlc2goW3Nlc3Npb25dKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBzZWxlY3RlZFRlYW06IGNydWQuc2VsZWN0ZWRfdGVhbSAmJiB0aGlzLl9jbGllbnRUZWFtRnJvbUNydWQoY3J1ZC5zZWxlY3RlZF90ZWFtLCBzZXNzaW9uKSxcbiAgICAgIGFzeW5jIGdldFRlYW1Qcm9maWxlKHRlYW0pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgYXBwLl9jdXJyZW50VXNlclRlYW1Qcm9maWxlQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCB0ZWFtLmlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgcmV0dXJuIGFwcC5fZWRpdGFibGVUZWFtUHJvZmlsZUZyb21DcnVkKHJlc3VsdCwgc2Vzc2lvbik7XG4gICAgICB9LFxuICAgICAgdXNlVGVhbVByb2ZpbGUodGVhbSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1c2VBc3luY0NhY2hlKGFwcC5fY3VycmVudFVzZXJUZWFtUHJvZmlsZUNhY2hlLCBbc2Vzc2lvbiwgdGVhbS5pZF0sIFwidXNlci51c2VUZWFtUHJvZmlsZSgpXCIpO1xuICAgICAgICByZXR1cm4gYXBwLl9lZGl0YWJsZVRlYW1Qcm9maWxlRnJvbUNydWQocmVzdWx0LCBzZXNzaW9uKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBkZWxldGUoKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLmRlbGV0ZUN1cnJlbnRVc2VyKHNlc3Npb24pO1xuICAgICAgICBzZXNzaW9uLm1hcmtJbnZhbGlkKCk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdENvbnRhY3RDaGFubmVscygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgYXBwLl9jbGllbnRDb250YWN0Q2hhbm5lbHNDYWNoZS5nZXRPcldhaXQoW3Nlc3Npb25dLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50Q29udGFjdENoYW5uZWxGcm9tQ3J1ZChjcnVkMiwgc2Vzc2lvbikpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRhY3RDaGFubmVscygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShhcHAuX2NsaWVudENvbnRhY3RDaGFubmVsc0NhY2hlLCBbc2Vzc2lvbl0sIFwidXNlci51c2VDb250YWN0Q2hhbm5lbHMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudENvbnRhY3RDaGFubmVsRnJvbUNydWQoY3J1ZDIsIHNlc3Npb24pKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBjcmVhdGVDb250YWN0Q2hhbm5lbChkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNydWQyID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UuY3JlYXRlQ2xpZW50Q29udGFjdENoYW5uZWwoY29udGFjdENoYW5uZWxDcmVhdGVPcHRpb25zVG9DcnVkKFwibWVcIiwgZGF0YSksIHNlc3Npb24pO1xuICAgICAgICBhd2FpdCBhcHAuX2NsaWVudENvbnRhY3RDaGFubmVsc0NhY2hlLnJlZnJlc2goW3Nlc3Npb25dKTtcbiAgICAgICAgcmV0dXJuIGFwcC5fY2xpZW50Q29udGFjdENoYW5uZWxGcm9tQ3J1ZChjcnVkMiwgc2Vzc2lvbik7XG4gICAgICB9LFxuICAgICAgdXNlTm90aWZpY2F0aW9uQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHVzZUFzeW5jQ2FjaGUoYXBwLl9ub3RpZmljYXRpb25DYXRlZ29yaWVzQ2FjaGUsIFtzZXNzaW9uXSwgXCJ1c2VyLnVzZU5vdGlmaWNhdGlvbkNhdGVnb3JpZXMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMubWFwKChjcnVkMikgPT4gYXBwLl9jbGllbnROb3RpZmljYXRpb25DYXRlZ29yeUZyb21DcnVkKGNydWQyLCBzZXNzaW9uKSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdE5vdGlmaWNhdGlvbkNhdGVnb3JpZXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX25vdGlmaWNhdGlvbkNhdGVnb3JpZXNDYWNoZS5nZXRPcldhaXQoW3Nlc3Npb25dLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudE5vdGlmaWNhdGlvbkNhdGVnb3J5RnJvbUNydWQoY3J1ZDIsIHNlc3Npb24pKTtcbiAgICAgIH0sXG4gICAgICB1c2VBcGlLZXlzKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1c2VBc3luY0NhY2hlKGFwcC5fdXNlckFwaUtleXNDYWNoZSwgW3Nlc3Npb25dLCBcInVzZXIudXNlQXBpS2V5cygpXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgoY3J1ZDIpID0+IGFwcC5fY2xpZW50QXBpS2V5RnJvbUNydWQoc2Vzc2lvbiwgY3J1ZDIpKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0QXBpS2V5cygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLmxpc3RQcm9qZWN0QXBpS2V5cyh7IHVzZXJfaWQ6IFwibWVcIiB9LCBzZXNzaW9uLCBcImNsaWVudFwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMubWFwKChjcnVkMikgPT4gYXBwLl9jbGllbnRBcGlLZXlGcm9tQ3J1ZChzZXNzaW9uLCBjcnVkMikpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGNyZWF0ZUFwaUtleShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLmNyZWF0ZVByb2plY3RBcGlLZXkoXG4gICAgICAgICAgYXdhaXQgYXBpS2V5Q3JlYXRpb25PcHRpb25zVG9DcnVkKFwidXNlclwiLCBcIm1lXCIsIG9wdGlvbnMpLFxuICAgICAgICAgIHNlc3Npb24sXG4gICAgICAgICAgXCJjbGllbnRcIlxuICAgICAgICApO1xuICAgICAgICBhd2FpdCBhcHAuX3VzZXJBcGlLZXlzQ2FjaGUucmVmcmVzaChbc2Vzc2lvbl0pO1xuICAgICAgICByZXR1cm4gYXBwLl9jbGllbnRBcGlLZXlGcm9tQ3J1ZChzZXNzaW9uLCByZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIHVzZU9BdXRoUHJvdmlkZXJzKCkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdXNlQXN5bmNDYWNoZShhcHAuX2N1cnJlbnRVc2VyT0F1dGhQcm92aWRlcnNDYWNoZSwgW3Nlc3Npb25dLCBcInVzZXIudXNlT0F1dGhQcm92aWRlcnMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMubWFwKChjcnVkMikgPT4gYXBwLl9jbGllbnRPQXV0aFByb3ZpZGVyRnJvbUNydWQoY3J1ZDIsIHNlc3Npb24pKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0T0F1dGhQcm92aWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX2N1cnJlbnRVc2VyT0F1dGhQcm92aWRlcnNDYWNoZS5nZXRPcldhaXQoW3Nlc3Npb25dLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKGNydWQyKSA9PiBhcHAuX2NsaWVudE9BdXRoUHJvdmlkZXJGcm9tQ3J1ZChjcnVkMiwgc2Vzc2lvbikpO1xuICAgICAgfSxcbiAgICAgIHVzZU9BdXRoUHJvdmlkZXIoaWQpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gdGhpcy51c2VPQXV0aFByb3ZpZGVycygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBwcm92aWRlcnMuZmluZCgocCkgPT4gcC5pZCA9PT0gaWQpID8/IG51bGwsIFtwcm92aWRlcnMsIGlkXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZ2V0T0F1dGhQcm92aWRlcihpZCkge1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBhd2FpdCB0aGlzLmxpc3RPQXV0aFByb3ZpZGVycygpO1xuICAgICAgICByZXR1cm4gcHJvdmlkZXJzLmZpbmQoKHApID0+IHAuaWQgPT09IGlkKSA/PyBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX2NyZWF0ZUludGVybmFsVXNlckV4dHJhKHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIHRoaXMuX2Vuc3VyZUludGVybmFsUHJvamVjdCgpO1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVQcm9qZWN0KG5ld1Byb2plY3QpIHtcbiAgICAgICAgcmV0dXJuIGFwcC5fY3JlYXRlUHJvamVjdChzZXNzaW9uLCBuZXdQcm9qZWN0KTtcbiAgICAgIH0sXG4gICAgICBsaXN0T3duZWRQcm9qZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIGFwcC5fbGlzdE93bmVkUHJvamVjdHMoc2Vzc2lvbik7XG4gICAgICB9LFxuICAgICAgdXNlT3duZWRQcm9qZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIGFwcC5fdXNlT3duZWRQcm9qZWN0cyhzZXNzaW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9jcmVhdGVDdXN0b21lcih1c2VySWRPclRlYW1JZCwgdHlwZSwgc2Vzc2lvbikge1xuICAgIGNvbnN0IGFwcCA9IHRoaXM7XG4gICAgY29uc3QgY2FjaGUgPSB0eXBlID09PSBcInVzZXJcIiA/IGFwcC5fdXNlckl0ZW1DYWNoZSA6IGFwcC5fdGVhbUl0ZW1DYWNoZTtcbiAgICByZXR1cm4ge1xuICAgICAgYXN5bmMgZ2V0SXRlbShpdGVtSWQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgY2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCB1c2VySWRPclRlYW1JZCwgaXRlbUlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgcmV0dXJuIGFwcC5fY2xpZW50SXRlbUZyb21DcnVkKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgdXNlSXRlbShpdGVtSWQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShjYWNoZSwgW3Nlc3Npb24sIHVzZXJJZE9yVGVhbUlkLCBpdGVtSWRdLCBcInRlYW0udXNlSXRlbSgpXCIpO1xuICAgICAgICByZXR1cm4gYXBwLl9jbGllbnRJdGVtRnJvbUNydWQocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBjcmVhdGVDaGVja291dFVybChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBhcHAuX2ludGVyZmFjZS5jcmVhdGVDaGVja291dFVybCh0eXBlLCB1c2VySWRPclRlYW1JZCwgb3B0aW9ucy5vZmZlcklkLCBzZXNzaW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGdldEl0ZW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKCk7XG4gICAgbGV0IGNydWQ7XG4gICAgaWYgKFwidXNlcklkXCIgaW4gb3B0aW9ucykge1xuICAgICAgY3J1ZCA9IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3VzZXJJdGVtQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCBvcHRpb25zLnVzZXJJZCwgb3B0aW9ucy5pdGVtSWRdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgIH0gZWxzZSBpZiAoXCJ0ZWFtSWRcIiBpbiBvcHRpb25zKSB7XG4gICAgICBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fdGVhbUl0ZW1DYWNoZS5nZXRPcldhaXQoW3Nlc3Npb24sIG9wdGlvbnMudGVhbUlkLCBvcHRpb25zLml0ZW1JZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9jdXN0b21JdGVtQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uLCBvcHRpb25zLmN1c3RvbUN1c3RvbWVySWQsIG9wdGlvbnMuaXRlbUlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudEl0ZW1Gcm9tQ3J1ZChjcnVkKTtcbiAgfVxuICB1c2VJdGVtKG9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5fdXNlU2Vzc2lvbigpO1xuICAgIGNvbnN0IFtjYWNoZSwgb3duZXJJZF0gPSBcInVzZXJJZFwiIGluIG9wdGlvbnMgPyBbdGhpcy5fdXNlckl0ZW1DYWNoZSwgb3B0aW9ucy51c2VySWRdIDogXCJ0ZWFtSWRcIiBpbiBvcHRpb25zID8gW3RoaXMuX3RlYW1JdGVtQ2FjaGUsIG9wdGlvbnMudGVhbUlkXSA6IFt0aGlzLl9jdXN0b21JdGVtQ2FjaGUsIG9wdGlvbnMuY3VzdG9tQ3VzdG9tZXJJZF07XG4gICAgY29uc3QgY3J1ZCA9IHVzZUFzeW5jQ2FjaGUoY2FjaGUsIFtzZXNzaW9uLCBvd25lcklkLCBvcHRpb25zLml0ZW1JZF0sIFwiYXBwLnVzZUl0ZW0oKVwiKTtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50SXRlbUZyb21DcnVkKGNydWQpO1xuICB9XG4gIF9jdXJyZW50VXNlckZyb21DcnVkKGNydWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHtcbiAgICAgIC4uLnRoaXMuX2NyZWF0ZUJhc2VVc2VyKGNydWQpLFxuICAgICAgLi4udGhpcy5fY3JlYXRlQXV0aChzZXNzaW9uKSxcbiAgICAgIC4uLnRoaXMuX2NyZWF0ZVVzZXJFeHRyYUZyb21DdXJyZW50KGNydWQsIHNlc3Npb24pLFxuICAgICAgLi4udGhpcy5faXNJbnRlcm5hbFByb2plY3QoKSA/IHRoaXMuX2NyZWF0ZUludGVybmFsVXNlckV4dHJhKHNlc3Npb24pIDoge30sXG4gICAgICAuLi50aGlzLl9jcmVhdGVDdXN0b21lcihjcnVkLmlkLCBcInVzZXJcIiwgc2Vzc2lvbilcbiAgICB9O1xuICAgIE9iamVjdC5mcmVlemUoY3VycmVudFVzZXIpO1xuICAgIHJldHVybiBjdXJyZW50VXNlcjtcbiAgfVxuICBfY2xpZW50U2Vzc2lvbkZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICB1c2VySWQ6IGNydWQudXNlcl9pZCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoY3J1ZC5jcmVhdGVkX2F0KSxcbiAgICAgIGlzSW1wZXJzb25hdGlvbjogY3J1ZC5pc19pbXBlcnNvbmF0aW9uLFxuICAgICAgbGFzdFVzZWRBdDogY3J1ZC5sYXN0X3VzZWRfYXQgPyBuZXcgRGF0ZShjcnVkLmxhc3RfdXNlZF9hdCkgOiB2b2lkIDAsXG4gICAgICBpc0N1cnJlbnRTZXNzaW9uOiBjcnVkLmlzX2N1cnJlbnRfc2Vzc2lvbiA/PyBmYWxzZSxcbiAgICAgIGdlb0luZm86IGNydWQubGFzdF91c2VkX2F0X2VuZF91c2VyX2lwX2luZm9cbiAgICB9O1xuICB9XG4gIF9nZXRPd25lZEFkbWluQXBwKGZvclByb2plY3RJZCwgc2Vzc2lvbikge1xuICAgIGlmICghdGhpcy5fb3duZWRBZG1pbkFwcHMuaGFzKFtzZXNzaW9uLCBmb3JQcm9qZWN0SWRdKSkge1xuICAgICAgdGhpcy5fb3duZWRBZG1pbkFwcHMuc2V0KFtzZXNzaW9uLCBmb3JQcm9qZWN0SWRdLCBuZXcgX19TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlLkxhenlTdGFja0FkbWluQXBwSW1wbC52YWx1ZSh7XG4gICAgICAgIGJhc2VVcmw6IHRoaXMuX2ludGVyZmFjZS5vcHRpb25zLmdldEJhc2VVcmwoKSxcbiAgICAgICAgcHJvamVjdElkOiBmb3JQcm9qZWN0SWQsXG4gICAgICAgIHRva2VuU3RvcmU6IG51bGwsXG4gICAgICAgIHByb2plY3RPd25lclNlc3Npb246IHNlc3Npb24sXG4gICAgICAgIG5vQXV0b21hdGljUHJlZmV0Y2g6IHRydWVcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX293bmVkQWRtaW5BcHBzLmdldChbc2Vzc2lvbiwgZm9yUHJvamVjdElkXSk7XG4gIH1cbiAgZ2V0IHByb2plY3RJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJmYWNlLnByb2plY3RJZDtcbiAgfVxuICBhc3luYyBfaXNUcnVzdGVkKHVybCkge1xuICAgIHJldHVybiBpc1JlbGF0aXZlKHVybCk7XG4gIH1cbiAgZ2V0IHVybHMoKSB7XG4gICAgcmV0dXJuIGdldFVybHModGhpcy5fdXJsT3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgX2dldEN1cnJlbnRVcmwoKSB7XG4gICAgaWYgKHRoaXMuX3JlZGlyZWN0TWV0aG9kID09PSBcIm5vbmVcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgfVxuICBhc3luYyBfcmVkaXJlY3RUbyhvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuX3JlZGlyZWN0TWV0aG9kID09PSBcIm5vbmVcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoaXNSZWFjdFNlcnZlcjIgJiYgdGhpcy5fcmVkaXJlY3RNZXRob2QgPT09IFwibmV4dGpzXCIpIHtcbiAgICAgIE5leHROYXZpZ2F0aW9uLnJlZGlyZWN0KG9wdGlvbnMudXJsLnRvU3RyaW5nKCksIG9wdGlvbnMucmVwbGFjZSA/IE5leHROYXZpZ2F0aW9uLlJlZGlyZWN0VHlwZS5yZXBsYWNlIDogTmV4dE5hdmlnYXRpb24uUmVkaXJlY3RUeXBlLnB1c2gpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX3JlZGlyZWN0TWV0aG9kID09PSBcIm9iamVjdFwiICYmIHRoaXMuX3JlZGlyZWN0TWV0aG9kLm5hdmlnYXRlKSB7XG4gICAgICB0aGlzLl9yZWRpcmVjdE1ldGhvZC5uYXZpZ2F0ZShvcHRpb25zLnVybC50b1N0cmluZygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wdGlvbnMucmVwbGFjZSkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShvcHRpb25zLnVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKG9wdGlvbnMudXJsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgd2FpdCgyZTMpO1xuICB9XG4gIHVzZU5hdmlnYXRlKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fcmVkaXJlY3RNZXRob2QgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZWRpcmVjdE1ldGhvZC51c2VOYXZpZ2F0ZSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fcmVkaXJlY3RNZXRob2QgPT09IFwid2luZG93XCIpIHtcbiAgICAgIHJldHVybiAodG8pID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odG8pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fcmVkaXJlY3RNZXRob2QgPT09IFwibmV4dGpzXCIpIHtcbiAgICAgIGNvbnN0IHJvdXRlciA9IE5leHROYXZpZ2F0aW9uLnVzZVJvdXRlcigpO1xuICAgICAgcmV0dXJuICh0bykgPT4gcm91dGVyLnB1c2godG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKHRvKSA9PiB7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBhc3luYyBfcmVkaXJlY3RJZlRydXN0ZWQodXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKCFhd2FpdCB0aGlzLl9pc1RydXN0ZWQodXJsKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWRpcmVjdCBVUkwgJHt1cmx9IGlzIG5vdCB0cnVzdGVkOyBzaG91bGQgYmUgcmVsYXRpdmUuYCk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZWRpcmVjdFRvKHsgdXJsLCAuLi5vcHRpb25zIH0pO1xuICB9XG4gIGFzeW5jIF9yZWRpcmVjdFRvSGFuZGxlcihoYW5kbGVyTmFtZSwgb3B0aW9ucykge1xuICAgIGxldCB1cmwgPSB0aGlzLnVybHNbaGFuZGxlck5hbWVdO1xuICAgIGlmICghdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIFVSTCBmb3IgaGFuZGxlciBuYW1lICR7aGFuZGxlck5hbWV9YCk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucz8ubm9SZWRpcmVjdEJhY2spIHtcbiAgICAgIGlmIChoYW5kbGVyTmFtZSA9PT0gXCJhZnRlclNpZ25JblwiIHx8IGhhbmRsZXJOYW1lID09PSBcImFmdGVyU2lnblVwXCIpIHtcbiAgICAgICAgaWYgKGlzUmVhY3RTZXJ2ZXIyIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgdXJsID0gcXVlcnlQYXJhbXMuZ2V0KFwiYWZ0ZXJfYXV0aF9yZXR1cm5fdG9cIikgfHwgdXJsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhbmRsZXJOYW1lID09PSBcInNpZ25JblwiIHx8IGhhbmRsZXJOYW1lID09PSBcInNpZ25VcFwiKSB7XG4gICAgICAgIGlmIChpc1JlYWN0U2VydmVyMiB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgIGNvbnN0IG5leHRVcmwgPSBuZXcgVVJMKHVybCwgY3VycmVudFVybCk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRVcmwuc2VhcmNoUGFyYW1zLmhhcyhcImFmdGVyX2F1dGhfcmV0dXJuX3RvXCIpKSB7XG4gICAgICAgICAgICBuZXh0VXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJhZnRlcl9hdXRoX3JldHVybl90b1wiLCBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJhZnRlcl9hdXRoX3JldHVybl90b1wiKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VXJsLnByb3RvY29sID09PSBuZXh0VXJsLnByb3RvY29sICYmIGN1cnJlbnRVcmwuaG9zdCA9PT0gbmV4dFVybC5ob3N0KSB7XG4gICAgICAgICAgICBuZXh0VXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJhZnRlcl9hdXRoX3JldHVybl90b1wiLCBnZXRSZWxhdGl2ZVBhcnQoY3VycmVudFVybCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cmwgPSBnZXRSZWxhdGl2ZVBhcnQobmV4dFVybCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgdGhpcy5fcmVkaXJlY3RJZlRydXN0ZWQodXJsLCBvcHRpb25zKTtcbiAgfVxuICBhc3luYyByZWRpcmVjdFRvU2lnbkluKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJzaWduSW5cIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgcmVkaXJlY3RUb1NpZ25VcChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwic2lnblVwXCIsIG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIHJlZGlyZWN0VG9TaWduT3V0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJzaWduT3V0XCIsIG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIHJlZGlyZWN0VG9FbWFpbFZlcmlmaWNhdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwiZW1haWxWZXJpZmljYXRpb25cIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgcmVkaXJlY3RUb1Bhc3N3b3JkUmVzZXQob3B0aW9ucykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZWRpcmVjdFRvSGFuZGxlcihcInBhc3N3b3JkUmVzZXRcIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgcmVkaXJlY3RUb0ZvcmdvdFBhc3N3b3JkKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJmb3Jnb3RQYXNzd29yZFwiLCBvcHRpb25zKTtcbiAgfVxuICBhc3luYyByZWRpcmVjdFRvSG9tZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwiaG9tZVwiLCBvcHRpb25zKTtcbiAgfVxuICBhc3luYyByZWRpcmVjdFRvT0F1dGhDYWxsYmFjayhvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwib2F1dGhDYWxsYmFja1wiLCBvcHRpb25zKTtcbiAgfVxuICBhc3luYyByZWRpcmVjdFRvTWFnaWNMaW5rQ2FsbGJhY2sob3B0aW9ucykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZWRpcmVjdFRvSGFuZGxlcihcIm1hZ2ljTGlua0NhbGxiYWNrXCIsIG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIHJlZGlyZWN0VG9BZnRlclNpZ25JbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwiYWZ0ZXJTaWduSW5cIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgcmVkaXJlY3RUb0FmdGVyU2lnblVwKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJhZnRlclNpZ25VcFwiLCBvcHRpb25zKTtcbiAgfVxuICBhc3luYyByZWRpcmVjdFRvQWZ0ZXJTaWduT3V0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJhZnRlclNpZ25PdXRcIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgcmVkaXJlY3RUb0FjY291bnRTZXR0aW5ncyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwiYWNjb3VudFNldHRpbmdzXCIsIG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIHJlZGlyZWN0VG9FcnJvcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG9IYW5kbGVyKFwiZXJyb3JcIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgcmVkaXJlY3RUb1RlYW1JbnZpdGF0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJ0ZWFtSW52aXRhdGlvblwiLCBvcHRpb25zKTtcbiAgfVxuICBhc3luYyByZWRpcmVjdFRvTWZhKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVkaXJlY3RUb0hhbmRsZXIoXCJtZmFcIiwgb3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgc2VuZEZvcmdvdFBhc3N3b3JkRW1haWwoZW1haWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnNlbmRGb3Jnb3RQYXNzd29yZEVtYWlsKGVtYWlsLCBvcHRpb25zPy5jYWxsYmFja1VybCA/PyBjb25zdHJ1Y3RSZWRpcmVjdFVybCh0aGlzLnVybHMucGFzc3dvcmRSZXNldCwgXCJjYWxsYmFja1VybFwiKSk7XG4gIH1cbiAgYXN5bmMgc2VuZE1hZ2ljTGlua0VtYWlsKGVtYWlsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zZW5kTWFnaWNMaW5rRW1haWwoZW1haWwsIG9wdGlvbnM/LmNhbGxiYWNrVXJsID8/IGNvbnN0cnVjdFJlZGlyZWN0VXJsKHRoaXMudXJscy5tYWdpY0xpbmtDYWxsYmFjaywgXCJjYWxsYmFja1VybFwiKSk7XG4gIH1cbiAgYXN5bmMgcmVzZXRQYXNzd29yZChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5yZXNldFBhc3N3b3JkKG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIHZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlKGNvZGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlKGNvZGUpO1xuICB9XG4gIGFzeW5jIHZlcmlmeVRlYW1JbnZpdGF0aW9uQ29kZShjb2RlKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5hY2NlcHRUZWFtSW52aXRhdGlvbih7XG4gICAgICB0eXBlOiBcImNoZWNrXCIsXG4gICAgICBjb2RlLFxuICAgICAgc2Vzc2lvbjogYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbigpXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgYWNjZXB0VGVhbUludml0YXRpb24oY29kZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5hY2NlcHRUZWFtSW52aXRhdGlvbih7XG4gICAgICB0eXBlOiBcInVzZVwiLFxuICAgICAgY29kZSxcbiAgICAgIHNlc3Npb246IGF3YWl0IHRoaXMuX2dldFNlc3Npb24oKVxuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcIm9rXCIpIHtcbiAgICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRUZWFtSW52aXRhdGlvbkRldGFpbHMoY29kZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5hY2NlcHRUZWFtSW52aXRhdGlvbih7XG4gICAgICB0eXBlOiBcImRldGFpbHNcIixcbiAgICAgIGNvZGUsXG4gICAgICBzZXNzaW9uOiBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKClcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJva1wiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKHsgdGVhbURpc3BsYXlOYW1lOiByZXN1bHQuZGF0YS50ZWFtX2Rpc3BsYXlfbmFtZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgfVxuICBhc3luYyB2ZXJpZnlFbWFpbChjb2RlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnZlcmlmeUVtYWlsKGNvZGUpO1xuICAgIGF3YWl0IHRoaXMuX2N1cnJlbnRVc2VyQ2FjaGUucmVmcmVzaChbYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbigpXSk7XG4gICAgYXdhaXQgdGhpcy5fY2xpZW50Q29udGFjdENoYW5uZWxzQ2FjaGUucmVmcmVzaChbYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbigpXSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBhc3luYyBnZXRVc2VyKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZShvcHRpb25zPy50b2tlblN0b3JlKTtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbihvcHRpb25zPy50b2tlblN0b3JlKTtcbiAgICBsZXQgY3J1ZCA9IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX2N1cnJlbnRVc2VyQ2FjaGUuZ2V0T3JXYWl0KFtzZXNzaW9uXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICBpZiAoY3J1ZD8uaXNfYW5vbnltb3VzICYmIG9wdGlvbnM/Lm9yICE9PSBcImFub255bW91c1wiICYmIG9wdGlvbnM/Lm9yICE9PSBcImFub255bW91cy1pZi1leGlzdHNbZGVwcmVjYXRlZF1cIikge1xuICAgICAgY3J1ZCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjcnVkID09PSBudWxsKSB7XG4gICAgICBzd2l0Y2ggKG9wdGlvbnM/Lm9yKSB7XG4gICAgICAgIGNhc2UgXCJyZWRpcmVjdFwiOiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWRpcmVjdFRvU2lnbkluKHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidGhyb3dcIjoge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgaXMgbm90IHNpZ25lZCBpbiBidXQgZ2V0VXNlciB3YXMgY2FsbGVkIHdpdGggeyBvcjogJ3Rocm93JyB9XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJhbm9ueW1vdXNcIjoge1xuICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHRoaXMuX3NpZ25VcEFub255bW91c2x5KCk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlcih7IHRva2VuU3RvcmU6IHRva2Vucywgb3I6IFwiYW5vbnltb3VzLWlmLWV4aXN0c1tkZXByZWNhdGVkXVwiIH0pID8/IHRocm93RXJyKFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgc2lnbmluZyB1cCBhbm9ueW1vdXNseVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgY2FzZSBcImFub255bW91cy1pZi1leGlzdHNbZGVwcmVjYXRlZF1cIjpcbiAgICAgICAgY2FzZSBcInJldHVybi1udWxsXCI6IHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3J1ZCAmJiB0aGlzLl9jdXJyZW50VXNlckZyb21DcnVkKGNydWQsIHNlc3Npb24pO1xuICB9XG4gIHVzZVVzZXIob3B0aW9ucykge1xuICAgIHRoaXMuX2Vuc3VyZVBlcnNpc3RlbnRUb2tlblN0b3JlKG9wdGlvbnM/LnRva2VuU3RvcmUpO1xuICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLl91c2VTZXNzaW9uKG9wdGlvbnM/LnRva2VuU3RvcmUpO1xuICAgIGxldCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9jdXJyZW50VXNlckNhY2hlLCBbc2Vzc2lvbl0sIFwidXNlVXNlcigpXCIpO1xuICAgIGlmIChjcnVkPy5pc19hbm9ueW1vdXMgJiYgb3B0aW9ucz8ub3IgIT09IFwiYW5vbnltb3VzXCIgJiYgb3B0aW9ucz8ub3IgIT09IFwiYW5vbnltb3VzLWlmLWV4aXN0c1tkZXByZWNhdGVkXVwiKSB7XG4gICAgICBjcnVkID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNydWQgPT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAob3B0aW9ucz8ub3IpIHtcbiAgICAgICAgY2FzZSBcInJlZGlyZWN0XCI6IHtcbiAgICAgICAgICBydW5Bc3luY2hyb25vdXNseSh0aGlzLnJlZGlyZWN0VG9TaWduSW4oeyByZXBsYWNlOiB0cnVlIH0pKTtcbiAgICAgICAgICBzdXNwZW5kKCk7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJzdXNwZW5kIHNob3VsZCBuZXZlciByZXR1cm5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInRocm93XCI6IHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIGlzIG5vdCBzaWduZWQgaW4gYnV0IHVzZVVzZXIgd2FzIGNhbGxlZCB3aXRoIHsgb3I6ICd0aHJvdycgfVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYW5vbnltb3VzXCI6IHtcbiAgICAgICAgICBydW5Bc3luY2hyb25vdXNseShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zaWduVXBBbm9ueW1vdXNseSgpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN1c3BlbmQoKTtcbiAgICAgICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcInN1c3BlbmQgc2hvdWxkIG5ldmVyIHJldHVyblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgY2FzZSBcImFub255bW91cy1pZi1leGlzdHNbZGVwcmVjYXRlZF1cIjpcbiAgICAgICAgY2FzZSBcInJldHVybi1udWxsXCI6IHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gY3J1ZCAmJiB0aGlzLl9jdXJyZW50VXNlckZyb21DcnVkKGNydWQsIHNlc3Npb24pO1xuICAgIH0sIFtjcnVkLCBzZXNzaW9uLCBvcHRpb25zPy5vcl0pO1xuICB9XG4gIF9nZXRUb2tlblBhcnRpYWxVc2VyRnJvbVNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gc2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbklmTm90RXhwaXJlZFlldCgwKTtcbiAgICBpZiAoIWFjY2Vzc1Rva2VuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaXNBbm9ueW1vdXMgPSBhY2Nlc3NUb2tlbi5wYXlsb2FkLmlzX2Fub255bW91cztcbiAgICBpZiAoaXNBbm9ueW1vdXMgJiYgb3B0aW9ucy5vciAhPT0gXCJhbm9ueW1vdXNcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpZDogYWNjZXNzVG9rZW4ucGF5bG9hZC5zdWIsXG4gICAgICBwcmltYXJ5RW1haWw6IGFjY2Vzc1Rva2VuLnBheWxvYWQuZW1haWwsXG4gICAgICBkaXNwbGF5TmFtZTogYWNjZXNzVG9rZW4ucGF5bG9hZC5uYW1lLFxuICAgICAgcHJpbWFyeUVtYWlsVmVyaWZpZWQ6IGFjY2Vzc1Rva2VuLnBheWxvYWQuZW1haWxfdmVyaWZpZWQsXG4gICAgICBpc0Fub255bW91c1xuICAgIH07XG4gIH1cbiAgYXN5bmMgX2dldFBhcnRpYWxVc2VyRnJvbUNvbnZleChjdHgpIHtcbiAgICBjb25zdCBhdXRoID0gYXdhaXQgY3R4LmF1dGguZ2V0VXNlcklkZW50aXR5KCk7XG4gICAgaWYgKCFhdXRoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBhdXRoLnN1YmplY3QsXG4gICAgICBkaXNwbGF5TmFtZTogYXV0aC5uYW1lID8/IG51bGwsXG4gICAgICBwcmltYXJ5RW1haWw6IGF1dGguZW1haWwgPz8gbnVsbCxcbiAgICAgIHByaW1hcnlFbWFpbFZlcmlmaWVkOiBhdXRoLmVtYWlsX3ZlcmlmaWVkLFxuICAgICAgaXNBbm9ueW1vdXM6IGF1dGguaXNfYW5vbnltb3VzXG4gICAgfTtcbiAgfVxuICBhc3luYyBnZXRQYXJ0aWFsVXNlcihvcHRpb25zKSB7XG4gICAgc3dpdGNoIChvcHRpb25zLmZyb20pIHtcbiAgICAgIGNhc2UgXCJ0b2tlblwiOiB7XG4gICAgICAgIHRoaXMuX2Vuc3VyZVBlcnNpc3RlbnRUb2tlblN0b3JlKG9wdGlvbnMudG9rZW5TdG9yZSA/PyB0aGlzLl90b2tlblN0b3JlSW5pdCk7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKG9wdGlvbnMudG9rZW5TdG9yZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRUb2tlblBhcnRpYWxVc2VyRnJvbVNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjYXNlIFwiY29udmV4XCI6IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2dldFBhcnRpYWxVc2VyRnJvbUNvbnZleChvcHRpb25zLmN0eCk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCAnZnJvbScgb3B0aW9uOiAke29wdGlvbnMuZnJvbX1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdXNlUGFydGlhbFVzZXIob3B0aW9ucykge1xuICAgIHN3aXRjaCAob3B0aW9ucy5mcm9tKSB7XG4gICAgICBjYXNlIFwidG9rZW5cIjoge1xuICAgICAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZShvcHRpb25zLnRva2VuU3RvcmUgPz8gdGhpcy5fdG9rZW5TdG9yZUluaXQpO1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5fdXNlU2Vzc2lvbihvcHRpb25zLnRva2VuU3RvcmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VG9rZW5QYXJ0aWFsVXNlckZyb21TZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgY2FzZSBcImNvbnZleFwiOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHVzZUFzeW5jQ2FjaGUodGhpcy5fY29udmV4UGFydGlhbFVzZXJDYWNoZSwgW29wdGlvbnMuY3R4XSwgXCJ1c2VQYXJ0aWFsVXNlcihjb252ZXgpXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgJ2Zyb20nIG9wdGlvbjogJHtvcHRpb25zLmZyb219YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldENvbnZleENsaWVudEF1dGgob3B0aW9ucykge1xuICAgIHJldHVybiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb24ob3B0aW9ucy50b2tlblN0b3JlKTtcbiAgICAgIGlmICghYXJncy5mb3JjZVJlZnJlc2hUb2tlbikge1xuICAgICAgICBjb25zdCB0b2tlbnMyID0gYXdhaXQgc2Vzc2lvbi5nZXRPckZldGNoTGlrZWx5VmFsaWRUb2tlbnMoMmU0KTtcbiAgICAgICAgcmV0dXJuIHRva2VuczI/LmFjY2Vzc1Rva2VuLnRva2VuID8/IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBzZXNzaW9uLmZldGNoTmV3VG9rZW5zKCk7XG4gICAgICByZXR1cm4gdG9rZW5zPy5hY2Nlc3NUb2tlbi50b2tlbiA/PyBudWxsO1xuICAgIH07XG4gIH1cbiAgYXN5bmMgZ2V0Q29udmV4SHR0cENsaWVudEF1dGgob3B0aW9ucykge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKG9wdGlvbnMudG9rZW5TdG9yZSk7XG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgc2Vzc2lvbi5nZXRPckZldGNoTGlrZWx5VmFsaWRUb2tlbnMoMmU0KTtcbiAgICByZXR1cm4gdG9rZW5zPy5hY2Nlc3NUb2tlbi50b2tlbiA/PyB0aHJvd0VycihcIk5vIGFjY2VzcyB0b2tlbiBhdmFpbGFibGVcIik7XG4gIH1cbiAgYXN5bmMgX3VwZGF0ZUNsaWVudFVzZXIodXBkYXRlLCBzZXNzaW9uKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnVwZGF0ZUNsaWVudFVzZXIodXNlclVwZGF0ZU9wdGlvbnNUb0NydWQodXBkYXRlKSwgc2Vzc2lvbik7XG4gICAgYXdhaXQgdGhpcy5fcmVmcmVzaFVzZXIoc2Vzc2lvbik7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBhc3luYyBzaWduSW5XaXRoT0F1dGgocHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2lnbkluV2l0aE9BdXRoIGNhbiBjdXJyZW50bHkgb25seSBiZSBjYWxsZWQgaW4gYSBicm93c2VyIGVudmlyb25tZW50XCIpO1xuICAgIH1cbiAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZSgpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKCk7XG4gICAgYXdhaXQgc2lnbkluV2l0aE9BdXRoKFxuICAgICAgdGhpcy5faW50ZXJmYWNlLFxuICAgICAge1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgcmVkaXJlY3RVcmw6IG9wdGlvbnM/LnJldHVyblRvID8/IHRoaXMudXJscy5vYXV0aENhbGxiYWNrLFxuICAgICAgICBlcnJvclJlZGlyZWN0VXJsOiB0aGlzLnVybHMuZXJyb3IsXG4gICAgICAgIHByb3ZpZGVyU2NvcGU6IHRoaXMuX29hdXRoU2NvcGVzT25TaWduSW5bcHJvdmlkZXJdPy5qb2luKFwiIFwiKVxuICAgICAgfSxcbiAgICAgIHNlc3Npb25cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIE1GQSB2ZXJpZmljYXRpb24gYnkgcmVkaXJlY3RpbmcgdG8gdGhlIE9UUCBwYWdlXG4gICAqL1xuICBhc3luYyBfZXhwZXJpbWVudGFsTWZhKGVycm9yLCBzZXNzaW9uKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwic3RhY2tfbWZhX2F0dGVtcHRfY29kZVwiLCBlcnJvci5kZXRhaWxzPy5hdHRlbXB0X2NvZGUgPz8gdGhyb3dFcnIoXCJhdHRlbXB0IGNvZGUgbWlzc2luZ1wiKSk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMucmVkaXJlY3RUb01mYSgpO1xuICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwid2Ugc2hvdWxkIGhhdmUgcmVkaXJlY3RlZCBpbiByZWRpcmVjdFRvTWZhKClcIik7XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIFRPRE8gcmVtb3ZlXG4gICAqL1xuICBhc3luYyBfY2F0Y2hNZmFSZXF1aXJlZEVycm9yKGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBjYWxsYmFjaygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChLbm93bkVycm9ycy5NdWx0aUZhY3RvckF1dGhlbnRpY2F0aW9uUmVxdWlyZWQuaXNJbnN0YW5jZShlKSkge1xuICAgICAgICByZXR1cm4gUmVzdWx0Lm9rKGF3YWl0IHRoaXMuX2V4cGVyaW1lbnRhbE1mYShlLCBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKCkpKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNpZ25JbldpdGhDcmVkZW50aWFsKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZSgpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKCk7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5fY2F0Y2hNZmFSZXF1aXJlZEVycm9yKGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zaWduSW5XaXRoQ3JlZGVudGlhbChvcHRpb25zLmVtYWlsLCBvcHRpb25zLnBhc3N3b3JkLCBzZXNzaW9uKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChLbm93bkVycm9ycy5JbnZhbGlkVG90cENvZGUuaXNJbnN0YW5jZShlKSkge1xuICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKGUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgYXdhaXQgdGhpcy5fc2lnbkluVG9BY2NvdW50V2l0aFRva2VucyhyZXN1bHQuZGF0YSk7XG4gICAgICBpZiAoIW9wdGlvbnMubm9SZWRpcmVjdCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0VG9BZnRlclNpZ25Jbih7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzdWx0LmVycm9yKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc2lnblVwV2l0aENyZWRlbnRpYWwob3B0aW9ucykge1xuICAgIHRoaXMuX2Vuc3VyZVBlcnNpc3RlbnRUb2tlblN0b3JlKCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb24oKTtcbiAgICBjb25zdCBlbWFpbFZlcmlmaWNhdGlvblJlZGlyZWN0VXJsID0gb3B0aW9ucy52ZXJpZmljYXRpb25DYWxsYmFja1VybCA/PyBjb25zdHJ1Y3RSZWRpcmVjdFVybCh0aGlzLnVybHMuZW1haWxWZXJpZmljYXRpb24sIFwidmVyaWZpY2F0aW9uQ2FsbGJhY2tVcmxcIik7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnNpZ25VcFdpdGhDcmVkZW50aWFsKFxuICAgICAgb3B0aW9ucy5lbWFpbCxcbiAgICAgIG9wdGlvbnMucGFzc3dvcmQsXG4gICAgICBlbWFpbFZlcmlmaWNhdGlvblJlZGlyZWN0VXJsLFxuICAgICAgc2Vzc2lvblxuICAgICk7XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgYXdhaXQgdGhpcy5fc2lnbkluVG9BY2NvdW50V2l0aFRva2VucyhyZXN1bHQuZGF0YSk7XG4gICAgICBpZiAoIW9wdGlvbnMubm9SZWRpcmVjdCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0VG9BZnRlclNpZ25VcCh7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzdWx0LmVycm9yKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgX3NpZ25VcEFub255bW91c2x5KCkge1xuICAgIHRoaXMuX2Vuc3VyZVBlcnNpc3RlbnRUb2tlblN0b3JlKCk7XG4gICAgaWYgKCF0aGlzLl9hbm9ueW1vdXNTaWduVXBJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9hbm9ueW1vdXNTaWduVXBJblByb2dyZXNzID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5fZW5zdXJlUGVyc2lzdGVudFRva2VuU3RvcmUoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb24oKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnNpZ25VcEFub255bW91c2x5KHNlc3Npb24pO1xuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJva1wiKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5fc2lnbkluVG9BY2NvdW50V2l0aFRva2VucyhyZXN1bHQuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJzaWduVXBBbm9ueW1vdXNseSgpIHNob3VsZCBuZXZlciByZXR1cm4gYW4gZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYW5vbnltb3VzU2lnblVwSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgIH0pKCk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLl9hbm9ueW1vdXNTaWduVXBJblByb2dyZXNzO1xuICB9XG4gIGFzeW5jIHNpZ25JbldpdGhNYWdpY0xpbmsoY29kZSwgb3B0aW9ucykge1xuICAgIHRoaXMuX2Vuc3VyZVBlcnNpc3RlbnRUb2tlblN0b3JlKCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb24oKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLl9jYXRjaE1mYVJlcXVpcmVkRXJyb3IoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnNpZ25JbldpdGhNYWdpY0xpbmsoY29kZSwgc2Vzc2lvbik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoS25vd25FcnJvcnMuSW52YWxpZFRvdHBDb2RlLmlzSW5zdGFuY2UoZSkpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcIm9rXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuX3NpZ25JblRvQWNjb3VudFdpdGhUb2tlbnMocmVzdWx0LmRhdGEpO1xuICAgICAgaWYgKCFvcHRpb25zPy5ub1JlZGlyZWN0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuZGF0YS5uZXdVc2VyKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWRpcmVjdFRvQWZ0ZXJTaWduVXAoeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RUb0FmdGVyU2lnbkluKHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFJlc3VsdC5vayh2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKHJlc3VsdC5lcnJvcik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgYSBDTEkgYXV0aGVudGljYXRpb24gcHJvY2VzcyB0aGF0IGFsbG93cyBhIGNvbW1hbmQgbGluZSBhcHBsaWNhdGlvblxuICAgKiB0byBnZXQgYSByZWZyZXNoIHRva2VuIGZvciBhIHVzZXIncyBhY2NvdW50LlxuICAgKlxuICAgKiBUaGlzIHByb2Nlc3Mgd29ya3MgYXMgZm9sbG93czpcbiAgICogMS4gVGhlIENMSSBhcHAgY2FsbHMgdGhpcyBtZXRob2QsIHdoaWNoIGluaXRpYXRlcyB0aGUgYXV0aCBwcm9jZXNzIHdpdGggdGhlIHNlcnZlclxuICAgKiAyLiBUaGUgc2VydmVyIHJldHVybnMgYSBwb2xsaW5nIGNvZGUgYW5kIGEgbG9naW4gY29kZVxuICAgKiAzLiBUaGUgQ0xJIGFwcCBvcGVucyBhIGJyb3dzZXIgd2luZG93IHRvIHRoZSBhcHBVcmwgd2l0aCB0aGUgbG9naW4gY29kZSBhcyBhIHBhcmFtZXRlclxuICAgKiA0LiBUaGUgdXNlciBsb2dzIGluIHRocm91Z2ggdGhlIGJyb3dzZXIgYW5kIGNvbmZpcm1zIHRoZSBhdXRob3JpemF0aW9uXG4gICAqIDUuIFRoZSBDTEkgYXBwIHBvbGxzIGZvciB0aGUgcmVmcmVzaCB0b2tlbiB1c2luZyB0aGUgcG9sbGluZyBjb2RlXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZm9yIHRoZSBDTEkgbG9naW5cbiAgICogQHBhcmFtIG9wdGlvbnMuYXBwVXJsIFRoZSBVUkwgb2YgdGhlIGFwcCB0aGF0IHdpbGwgaGFuZGxlIHRoZSBDTEkgYXV0aCBjb25maXJtYXRpb25cbiAgICogQHBhcmFtIG9wdGlvbnMuZXhwaXJlc0luTWlsbGlzIE9wdGlvbmFsIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyBiZWZvcmUgdGhlIGF1dGggYXR0ZW1wdCBleHBpcmVzIChkZWZhdWx0OiAyIGhvdXJzKVxuICAgKiBAcGFyYW0gb3B0aW9ucy5tYXhBdHRlbXB0cyBPcHRpb25hbCBtYXhpbXVtIG51bWJlciBvZiBwb2xsaW5nIGF0dGVtcHRzIChkZWZhdWx0OiBJbmZpbml0eSlcbiAgICogQHBhcmFtIG9wdGlvbnMud2FpdFRpbWVNaWxsaXMgT3B0aW9uYWwgdGltZSB0byB3YWl0IGJldHdlZW4gcG9sbGluZyBhdHRlbXB0cyAoZGVmYXVsdDogMiBzZWNvbmRzKVxuICAgKiBAcGFyYW0gb3B0aW9ucy5wcm9tcHRMaW5rIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGNhbGwgd2l0aCB0aGUgbG9naW4gVVJMIHRvIHByb21wdCB0aGUgdXNlciB0byBvcGVuIHRoZSBicm93c2VyXG4gICAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIGVpdGhlciB0aGUgcmVmcmVzaCB0b2tlbiBvciBhbiBlcnJvclxuICAgKi9cbiAgYXN5bmMgcHJvbXB0Q2xpTG9naW4ob3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLnNlbmRDbGllbnRSZXF1ZXN0KFxuICAgICAgXCIvYXV0aC9jbGlcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBleHBpcmVzX2luX21pbGxpczogb3B0aW9ucy5leHBpcmVzSW5NaWxsaXNcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmVycm9yKG5ldyBLbm93bkVycm9ycy5DbGlBdXRoRXJyb3IoYEZhaWxlZCB0byBpbml0aWF0ZSBDTEkgYXV0aDogJHtyZXNwb25zZS5zdGF0dXN9ICR7YXdhaXQgcmVzcG9uc2UudGV4dCgpfWApKTtcbiAgICB9XG4gICAgY29uc3QgaW5pdFJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBwb2xsaW5nQ29kZSA9IGluaXRSZXN1bHQucG9sbGluZ19jb2RlO1xuICAgIGNvbnN0IGxvZ2luQ29kZSA9IGluaXRSZXN1bHQubG9naW5fY29kZTtcbiAgICBjb25zdCB1cmwgPSBgJHtvcHRpb25zLmFwcFVybH0vaGFuZGxlci9jbGktYXV0aC1jb25maXJtP2xvZ2luX2NvZGU9JHtlbmNvZGVVUklDb21wb25lbnQobG9naW5Db2RlKX1gO1xuICAgIGlmIChvcHRpb25zLnByb21wdExpbmspIHtcbiAgICAgIG9wdGlvbnMucHJvbXB0TGluayh1cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgUGxlYXNlIHZpc2l0IHRoZSBmb2xsb3dpbmcgVVJMIHRvIGF1dGhlbnRpY2F0ZTpcbiR7dXJsfWApO1xuICAgIH1cbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIHdoaWxlIChhdHRlbXB0cyA8IChvcHRpb25zLm1heEF0dGVtcHRzID8/IEluZmluaXR5KSkge1xuICAgICAgYXR0ZW1wdHMrKztcbiAgICAgIGNvbnN0IHBvbGxSZXNwb25zZSA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zZW5kQ2xpZW50UmVxdWVzdChcIi9hdXRoL2NsaS9wb2xsXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBwb2xsaW5nX2NvZGU6IHBvbGxpbmdDb2RlXG4gICAgICAgIH0pXG4gICAgICB9LCBudWxsKTtcbiAgICAgIGlmICghcG9sbFJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IobmV3IEtub3duRXJyb3JzLkNsaUF1dGhFcnJvcihgRmFpbGVkIHRvIGluaXRpYXRlIENMSSBhdXRoOiAke3BvbGxSZXNwb25zZS5zdGF0dXN9ICR7YXdhaXQgcG9sbFJlc3BvbnNlLnRleHQoKX1gKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwb2xsUmVzdWx0ID0gYXdhaXQgcG9sbFJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChwb2xsUmVzcG9uc2Uuc3RhdHVzID09PSAyMDEgJiYgcG9sbFJlc3VsdC5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgIHJldHVybiBSZXN1bHQub2socG9sbFJlc3VsdC5yZWZyZXNoX3Rva2VuKTtcbiAgICAgIH1cbiAgICAgIGlmIChwb2xsUmVzdWx0LnN0YXR1cyA9PT0gXCJ3YWl0aW5nXCIpIHtcbiAgICAgICAgYXdhaXQgd2FpdChvcHRpb25zLndhaXRUaW1lTWlsbGlzID8/IDJlMyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBvbGxSZXN1bHQuc3RhdHVzID09PSBcImV4cGlyZWRcIikge1xuICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKG5ldyBLbm93bkVycm9ycy5DbGlBdXRoRXhwaXJlZEVycm9yKFwiQ0xJIGF1dGhlbnRpY2F0aW9uIHJlcXVlc3QgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIikpO1xuICAgICAgfVxuICAgICAgaWYgKHBvbGxSZXN1bHQuc3RhdHVzID09PSBcInVzZWRcIikge1xuICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKG5ldyBLbm93bkVycm9ycy5DbGlBdXRoVXNlZEVycm9yKFwiVGhpcyBhdXRoZW50aWNhdGlvbiB0b2tlbiBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IobmV3IEtub3duRXJyb3JzLkNsaUF1dGhFcnJvcihgVW5leHBlY3RlZCBzdGF0dXMgZnJvbSBDTEkgYXV0aCBwb2xsaW5nOiAke3BvbGxSZXN1bHQuc3RhdHVzfWApKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3VsdC5lcnJvcihuZXcgS25vd25FcnJvcnMuQ2xpQXV0aEVycm9yKFwiVGltZWQgb3V0IHdhaXRpbmcgZm9yIENMSSBhdXRoZW50aWNhdGlvbi5cIikpO1xuICB9XG4gIC8qXG4gICAqIENvbXBsZXRlcyB0aGUgTUZBIHNpZ24taW4gcHJvY2VzcyBieSB2ZXJpZnlpbmcgdGhlIHByb3ZpZGVkIE9UUCBjb2RlXG4gICAqIEBwYXJhbSB0b3RwIFRoZSBUT1RQIChUaW1lLWJhc2VkIE9uZS1UaW1lIFBhc3N3b3JkKSBwcm92aWRlZCBieSB0aGUgdXNlclxuICAgKiBAcGFyYW0gY29kZSBUaGUgQXR0ZW1wdCBjb2RlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyXG4gICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucyBmb3IgdGhlIHNpZ24taW4gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyBBIFJlc3VsdCBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZVxuICAgKi9cbiAgYXN5bmMgc2lnbkluV2l0aE1mYSh0b3RwLCBjb2RlLCBvcHRpb25zKSB7XG4gICAgdGhpcy5fZW5zdXJlUGVyc2lzdGVudFRva2VuU3RvcmUoKTtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbigpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuX2NhdGNoTWZhUmVxdWlyZWRFcnJvcihhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2Uuc2lnbkluV2l0aE1mYSh0b3RwLCBjb2RlLCBzZXNzaW9uKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgS25vd25FcnJvcnMuSW52YWxpZFRvdHBDb2RlKSB7XG4gICAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJva1wiKSB7XG4gICAgICBhd2FpdCB0aGlzLl9zaWduSW5Ub0FjY291bnRXaXRoVG9rZW5zKHJlc3VsdC5kYXRhKTtcbiAgICAgIGlmICghb3B0aW9ucz8ubm9SZWRpcmVjdCkge1xuICAgICAgICBpZiAocmVzdWx0LmRhdGEubmV3VXNlcikge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RUb0FmdGVyU2lnblVwKHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0VG9BZnRlclNpZ25Jbih7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3VsdC5lcnJvcihyZXN1bHQuZXJyb3IpO1xuICB9XG4gIGFzeW5jIHNpZ25JbldpdGhQYXNza2V5KCkge1xuICAgIHRoaXMuX2Vuc3VyZVBlcnNpc3RlbnRUb2tlblN0b3JlKCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb24oKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLl9jYXRjaE1mYVJlcXVpcmVkRXJyb3IoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0aWF0aW9uUmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmluaXRpYXRlUGFzc2tleUF1dGhlbnRpY2F0aW9uKHt9LCBzZXNzaW9uKTtcbiAgICAgICAgaWYgKGluaXRpYXRpb25SZXN1bHQuc3RhdHVzICE9PSBcIm9rXCIpIHtcbiAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKG5ldyBLbm93bkVycm9ycy5QYXNza2V5QXV0aGVudGljYXRpb25GYWlsZWQoXCJGYWlsZWQgdG8gZ2V0IGluaXRpYXRpb24gb3B0aW9ucyBmb3IgcGFzc2tleSBhdXRoZW50aWNhdGlvblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBvcHRpb25zX2pzb24sIGNvZGUgfSA9IGluaXRpYXRpb25SZXN1bHQuZGF0YTtcbiAgICAgICAgaWYgKG9wdGlvbnNfanNvbi5ycElkICE9PSBcIlRISVNfVkFMVUVfV0lMTF9CRV9SRVBMQUNFRC5leGFtcGxlLmNvbVwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoYEV4cGVjdGVkIHJldHVybmVkIFJQIElEIGZyb20gc2VydmVyIHRvIGVxdWFsIHNlbnRpbmVsLCBidXQgZm91bmQgJHtvcHRpb25zX2pzb24ucnBJZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zX2pzb24ucnBJZCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRpb25fcmVzcG9uc2UgPSBhd2FpdCBzdGFydEF1dGhlbnRpY2F0aW9uKHsgb3B0aW9uc0pTT046IG9wdGlvbnNfanNvbiB9KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zaWduSW5XaXRoUGFzc2tleSh7IGF1dGhlbnRpY2F0aW9uX3Jlc3BvbnNlLCBjb2RlIH0sIHNlc3Npb24pO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFdlYkF1dGhuRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihuZXcgS25vd25FcnJvcnMuUGFzc2tleVdlYkF1dGhuRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IubmFtZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihuZXcgS25vd25FcnJvcnMuUGFzc2tleUF1dGhlbnRpY2F0aW9uRmFpbGVkKFwiRmFpbGVkIHRvIHNpZ24gaW4gd2l0aCBwYXNza2V5XCIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgYXdhaXQgdGhpcy5fc2lnbkluVG9BY2NvdW50V2l0aFRva2VucyhyZXN1bHQuZGF0YSk7XG4gICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0VG9BZnRlclNpZ25Jbih7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZXN1bHQuZXJyb3IocmVzdWx0LmVycm9yKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY2FsbE9BdXRoQ2FsbGJhY2soKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbGxPQXV0aENhbGxiYWNrIGNhbiBjdXJyZW50bHkgb25seSBiZSBjYWxsZWQgaW4gYSBicm93c2VyIGVudmlyb25tZW50XCIpO1xuICAgIH1cbiAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZSgpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuX2NhdGNoTWZhUmVxdWlyZWRFcnJvcihhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjYWxsT0F1dGhDYWxsYmFjayh0aGlzLl9pbnRlcmZhY2UsIHRoaXMudXJscy5vYXV0aENhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChLbm93bkVycm9ycy5JbnZhbGlkVG90cENvZGUuaXNJbnN0YW5jZShlKSkge1xuICAgICAgICBhbGVydChcIkludmFsaWQgVE9UUCBjb2RlLiBQbGVhc2UgdHJ5IHNpZ25pbmcgaW4gYWdhaW4uXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJva1wiICYmIHJlc3VsdC5kYXRhKSB7XG4gICAgICBhd2FpdCB0aGlzLl9zaWduSW5Ub0FjY291bnRXaXRoVG9rZW5zKHJlc3VsdC5kYXRhKTtcbiAgICAgIGlmIChcImFmdGVyQ2FsbGJhY2tSZWRpcmVjdFVybFwiIGluIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmFmdGVyQ2FsbGJhY2tSZWRpcmVjdFVybCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9yZWRpcmVjdFRvKHsgdXJsOiByZXN1bHQuZGF0YS5hZnRlckNhbGxiYWNrUmVkaXJlY3RVcmwsIHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZGF0YS5uZXdVc2VyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RUb0FmdGVyU2lnblVwKHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0VG9BZnRlclNpZ25Jbih7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgX3NpZ25PdXQoc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgIGF3YWl0IHN0b3JlTG9jay53aXRoV3JpdGVMb2NrKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zaWduT3V0KHNlc3Npb24pO1xuICAgICAgaWYgKG9wdGlvbnM/LnJlZGlyZWN0VXJsKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3JlZGlyZWN0VG8oeyB1cmw6IG9wdGlvbnMucmVkaXJlY3RVcmwsIHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0VG9BZnRlclNpZ25PdXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBzaWduT3V0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5nZXRVc2VyKCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGF3YWl0IHVzZXIuc2lnbk91dChvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0UHJvamVjdCgpIHtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fY3VycmVudFByb2plY3RDYWNoZS5nZXRPcldhaXQoW10sIFwid3JpdGUtb25seVwiKSk7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudFByb2plY3RGcm9tQ3J1ZChjcnVkKTtcbiAgfVxuICB1c2VQcm9qZWN0KCkge1xuICAgIGNvbnN0IGNydWQgPSB1c2VBc3luY0NhY2hlKHRoaXMuX2N1cnJlbnRQcm9qZWN0Q2FjaGUsIFtdLCBcInVzZVByb2plY3QoKVwiKTtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB0aGlzLl9jbGllbnRQcm9qZWN0RnJvbUNydWQoY3J1ZCksIFtjcnVkXSk7XG4gIH1cbiAgYXN5bmMgX2xpc3RPd25lZFByb2plY3RzKHNlc3Npb24pIHtcbiAgICB0aGlzLl9lbnN1cmVJbnRlcm5hbFByb2plY3QoKTtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fb3duZWRQcm9qZWN0c0NhY2hlLmdldE9yV2FpdChbc2Vzc2lvbl0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgcmV0dXJuIGNydWQubWFwKChqKSA9PiB0aGlzLl9nZXRPd25lZEFkbWluQXBwKGouaWQsIHNlc3Npb24pLl9hZG1pbk93bmVkUHJvamVjdEZyb21DcnVkKFxuICAgICAgaixcbiAgICAgICgpID0+IHRoaXMuX3JlZnJlc2hPd25lZFByb2plY3RzKHNlc3Npb24pXG4gICAgKSk7XG4gIH1cbiAgX3VzZU93bmVkUHJvamVjdHMoc2Vzc2lvbikge1xuICAgIHRoaXMuX2Vuc3VyZUludGVybmFsUHJvamVjdCgpO1xuICAgIGNvbnN0IHByb2plY3RzID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9vd25lZFByb2plY3RzQ2FjaGUsIFtzZXNzaW9uXSwgXCJ1c2VPd25lZFByb2plY3RzKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gcHJvamVjdHMubWFwKChqKSA9PiB0aGlzLl9nZXRPd25lZEFkbWluQXBwKGouaWQsIHNlc3Npb24pLl9hZG1pbk93bmVkUHJvamVjdEZyb21DcnVkKFxuICAgICAgaixcbiAgICAgICgpID0+IHRoaXMuX3JlZnJlc2hPd25lZFByb2plY3RzKHNlc3Npb24pXG4gICAgKSksIFtwcm9qZWN0c10pO1xuICB9XG4gIGFzeW5jIF9jcmVhdGVQcm9qZWN0KHNlc3Npb24sIG5ld1Byb2plY3QpIHtcbiAgICB0aGlzLl9lbnN1cmVJbnRlcm5hbFByb2plY3QoKTtcbiAgICBjb25zdCBjcnVkID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmNyZWF0ZVByb2plY3QoYWRtaW5Qcm9qZWN0Q3JlYXRlT3B0aW9uc1RvQ3J1ZChuZXdQcm9qZWN0KSwgc2Vzc2lvbik7XG4gICAgY29uc3QgcmVzID0gdGhpcy5fZ2V0T3duZWRBZG1pbkFwcChjcnVkLmlkLCBzZXNzaW9uKS5fYWRtaW5Pd25lZFByb2plY3RGcm9tQ3J1ZChcbiAgICAgIGNydWQsXG4gICAgICAoKSA9PiB0aGlzLl9yZWZyZXNoT3duZWRQcm9qZWN0cyhzZXNzaW9uKVxuICAgICk7XG4gICAgYXdhaXQgdGhpcy5fcmVmcmVzaE93bmVkUHJvamVjdHMoc2Vzc2lvbik7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBhc3luYyBfcmVmcmVzaFVzZXIoc2Vzc2lvbikge1xuICAgIGF3YWl0IHRoaXMuX3JlZnJlc2hTZXNzaW9uKHNlc3Npb24pO1xuICB9XG4gIGFzeW5jIF9yZWZyZXNoU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgYXdhaXQgdGhpcy5fY3VycmVudFVzZXJDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gIH1cbiAgYXN5bmMgX3JlZnJlc2hVc2VycygpIHtcbiAgfVxuICBhc3luYyBfcmVmcmVzaFByb2plY3QoKSB7XG4gICAgYXdhaXQgdGhpcy5fY3VycmVudFByb2plY3RDYWNoZS5yZWZyZXNoKFtdKTtcbiAgfVxuICBhc3luYyBfcmVmcmVzaE93bmVkUHJvamVjdHMoc2Vzc2lvbikge1xuICAgIGF3YWl0IHRoaXMuX293bmVkUHJvamVjdHNDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSk7XG4gIH1cbiAgc3RhdGljIGdldCBbc3RhY2tBcHBJbnRlcm5hbHNTeW1ib2xdKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmcm9tQ2xpZW50SnNvbjogKGpzb24pID0+IHtcbiAgICAgICAgY29uc3QgcHJvdmlkZWRDaGVja1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9taXQoanNvbiwgW1xuICAgICAgICAgIC8qIG5vbmUgY3VycmVudGx5ICovXG4gICAgICAgIF0pKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhbGxDbGllbnRBcHBzLmdldChqc29uLnVuaXF1ZUlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICBjb25zdCBbZXhpc3RpbmdDaGVja1N0cmluZywgY2xpZW50QXBwXSA9IGV4aXN0aW5nO1xuICAgICAgICAgIGlmIChleGlzdGluZ0NoZWNrU3RyaW5nICE9PSB2b2lkIDAgJiYgZXhpc3RpbmdDaGVja1N0cmluZyAhPT0gcHJvdmlkZWRDaGVja1N0cmluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJUaGUgcHJvdmlkZWQgYXBwIEpTT04gZG9lcyBub3QgbWF0Y2ggdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGV4aXN0aW5nIGNsaWVudCBhcHAgd2l0aCB0aGUgc2FtZSB1bmlxdWUgaWRlbnRpZmllclwiLCB7IHByb3ZpZGVkT2JqOiBqc29uLCBleGlzdGluZ1N0cmluZzogZXhpc3RpbmdDaGVja1N0cmluZyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNsaWVudEFwcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9fU3RhY2tDbGllbnRBcHBJbXBsSW5jb21wbGV0ZSh7XG4gICAgICAgICAgLi4uanNvbixcbiAgICAgICAgICBjaGVja1N0cmluZzogcHJvdmlkZWRDaGVja1N0cmluZ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGdldCBbc3RhY2tBcHBJbnRlcm5hbHNTeW1ib2xdKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b0NsaWVudEpzb246ICgpID0+IHtcbiAgICAgICAgaWYgKCEoXCJwdWJsaXNoYWJsZUNsaWVudEtleVwiIGluIHRoaXMuX2ludGVyZmFjZS5vcHRpb25zKSkge1xuICAgICAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiQ2Fubm90IHNlcmlhbGl6ZSB0byBKU09OIGZyb20gYW4gYXBwbGljYXRpb24gd2l0aG91dCBhIHB1Ymxpc2hhYmxlIGNsaWVudCBrZXlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9yZWRpcmVjdE1ldGhvZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRocm93IG5ldyBTdGFja0Fzc2VydGlvbkVycm9yKFwiQ2Fubm90IHNlcmlhbGl6ZSB0byBKU09OIGZyb20gYW4gYXBwbGljYXRpb24gd2l0aCBhIG5vbi1zdHJpbmcgcmVkaXJlY3QgbWV0aG9kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYmFzZVVybDogdGhpcy5fb3B0aW9ucy5iYXNlVXJsLFxuICAgICAgICAgIHByb2plY3RJZDogdGhpcy5wcm9qZWN0SWQsXG4gICAgICAgICAgcHVibGlzaGFibGVDbGllbnRLZXk6IHRoaXMuX2ludGVyZmFjZS5vcHRpb25zLnB1Ymxpc2hhYmxlQ2xpZW50S2V5LFxuICAgICAgICAgIHRva2VuU3RvcmU6IHRoaXMuX3Rva2VuU3RvcmVJbml0LFxuICAgICAgICAgIHVybHM6IHRoaXMuX3VybE9wdGlvbnMsXG4gICAgICAgICAgb2F1dGhTY29wZXNPblNpZ25JbjogdGhpcy5fb2F1dGhTY29wZXNPblNpZ25JbixcbiAgICAgICAgICB1bmlxdWVJZGVudGlmaWVyOiB0aGlzLl9nZXRVbmlxdWVJZGVudGlmaWVyKCksXG4gICAgICAgICAgcmVkaXJlY3RNZXRob2Q6IHRoaXMuX3JlZGlyZWN0TWV0aG9kLFxuICAgICAgICAgIGV4dHJhUmVxdWVzdEhlYWRlcnM6IHRoaXMuX29wdGlvbnMuZXh0cmFSZXF1ZXN0SGVhZGVyc1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHNldEN1cnJlbnRVc2VyOiAodXNlckpzb25Qcm9taXNlKSA9PiB7XG4gICAgICAgIHJ1bkFzeW5jaHJvbm91c2x5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLl9jdXJyZW50VXNlckNhY2hlLmZvcmNlU2V0Q2FjaGVkVmFsdWVBc3luYyhbYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbigpXSwgUmVzdWx0LmZyb21Qcm9taXNlKHVzZXJKc29uUHJvbWlzZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZW5kUmVxdWVzdDogYXN5bmMgKHBhdGgsIHJlcXVlc3RPcHRpb25zLCByZXF1ZXN0VHlwZSA9IFwiY2xpZW50XCIpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5zZW5kQ2xpZW50UmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucywgYXdhaXQgdGhpcy5fZ2V0U2Vzc2lvbigpLCByZXF1ZXN0VHlwZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbi8qKlxuICogVGhlcmUgaXMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IGJldHdlZW4gdGhlIGFkbWluIGFwcCBhbmQgdGhlIGNsaWVudCBhcHAsIGFzIHRoZSBmb3JtZXIgaW5oZXJpdHMgZnJvbSB0aGUgbGF0dGVyIGFuZFxuICogdGhlIGxhdHRlciBuZWVkcyB0byB1c2UgdGhlIGZvcm1lciB3aGVuIGNyZWF0aW5nIGEgbmV3IGluc3RhbmNlIG9mIGFuIGludGVybmFsIHByb2plY3QuXG4gKlxuICogVG8gYnJlYWsgaXQsIHdlIHNldCB0aGUgYWRtaW4gYXBwIGhlcmUgbGF6aWx5IGluc3RlYWQgb2YgaW1wb3J0aW5nIGl0IGRpcmVjdGx5LiBUaGlzIHZhcmlhYmxlIGlzIHNldCBieSAuL2luZGV4LnRzLFxuICogd2hpY2ggaW1wb3J0cyBib3RoIHRoaXMgZmlsZSBhbmQgLi9hZG1pbi1hcHAtaW1wbC50cy5cbiAqL1xuX19TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlLkxhenlTdGFja0FkbWluQXBwSW1wbCA9IHsgdmFsdWU6IHZvaWQgMCB9O1xudmFyIF9TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlID0gX19TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlO1xuZXhwb3J0IHtcbiAgX1N0YWNrQ2xpZW50QXBwSW1wbEluY29tcGxldGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQtYXBwLWltcGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/client-app-impl.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/common.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/common.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clientVersion: () => (/* binding */ clientVersion),\n/* harmony export */   createCache: () => (/* binding */ createCache),\n/* harmony export */   createCacheBySession: () => (/* binding */ createCacheBySession),\n/* harmony export */   createEmptyTokenStore: () => (/* binding */ createEmptyTokenStore),\n/* harmony export */   getBaseUrl: () => (/* binding */ getBaseUrl),\n/* harmony export */   getDefaultExtraRequestHeaders: () => (/* binding */ getDefaultExtraRequestHeaders),\n/* harmony export */   getDefaultProjectId: () => (/* binding */ getDefaultProjectId),\n/* harmony export */   getDefaultPublishableClientKey: () => (/* binding */ getDefaultPublishableClientKey),\n/* harmony export */   getDefaultSecretServerKey: () => (/* binding */ getDefaultSecretServerKey),\n/* harmony export */   getDefaultSuperSecretAdminKey: () => (/* binding */ getDefaultSuperSecretAdminKey),\n/* harmony export */   getUrls: () => (/* binding */ getUrls),\n/* harmony export */   useAsyncCache: () => (/* binding */ useAsyncCache)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared_dist_utils_caches__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/caches */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/caches.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/env */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/env.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/objects */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/objects.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/react */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/react.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/results */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/stores */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/stores.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// src/lib/stack-app/apps/implementations/common.ts\n\n\n\n\n\n\n\n\nvar clientVersion = \"js @stackframe/stack@2.8.41\";\nif (clientVersion.startsWith(\"STACK_COMPILE_TIME\")) {\n  throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.StackAssertionError(\"Client version was not replaced. Something went wrong during build!\");\n}\nvar createCache = (fetcher) => {\n  return new _stackframe_stack_shared_dist_utils_caches__WEBPACK_IMPORTED_MODULE_0__.AsyncCache(\n    async (dependencies) => await _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_5__.Result.fromThrowingAsync(async () => await fetcher(dependencies)),\n    {}\n  );\n};\nvar createCacheBySession = (fetcher) => {\n  return new _stackframe_stack_shared_dist_utils_caches__WEBPACK_IMPORTED_MODULE_0__.AsyncCache(\n    async ([session, ...extraDependencies]) => await _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_5__.Result.fromThrowingAsync(async () => await fetcher(session, extraDependencies)),\n    {\n      onSubscribe: ([session], refresh) => {\n        const handler = session.onInvalidate(() => refresh());\n        return () => handler.unsubscribe();\n      }\n    }\n  );\n};\nfunction getUrls(partial) {\n  const handler = partial.handler ?? \"/handler\";\n  const home = partial.home ?? \"/\";\n  const afterSignIn = partial.afterSignIn ?? home;\n  return {\n    handler,\n    signIn: `${handler}/sign-in`,\n    afterSignIn: home,\n    signUp: `${handler}/sign-up`,\n    afterSignUp: afterSignIn,\n    signOut: `${handler}/sign-out`,\n    afterSignOut: home,\n    emailVerification: `${handler}/email-verification`,\n    passwordReset: `${handler}/password-reset`,\n    forgotPassword: `${handler}/forgot-password`,\n    oauthCallback: `${handler}/oauth-callback`,\n    magicLinkCallback: `${handler}/magic-link-callback`,\n    home,\n    accountSettings: `${handler}/account-settings`,\n    error: `${handler}/error`,\n    teamInvitation: `${handler}/team-invitation`,\n    mfa: `${handler}/mfa`,\n    ...(0,_stackframe_stack_shared_dist_utils_objects__WEBPACK_IMPORTED_MODULE_3__.filterUndefined)(partial)\n  };\n}\nfunction getDefaultProjectId() {\n  return \"d361ac68-22e9-4507-93a5-ec9697dba04a\" || 0 || 0;\n}\nfunction getDefaultPublishableClientKey() {\n  return \"pck_25df23aqkpdymvp0ahkwa2b7b0320pc10mrjdmg9x0ze0\" || 0 || 0;\n}\nfunction getDefaultSecretServerKey() {\n  return process.env.STACK_SECRET_SERVER_KEY || (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(new Error(\"No secret server key provided. Please copy your key from the Stack dashboard and put it in the STACK_SECRET_SERVER_KEY environment variable.\"));\n}\nfunction getDefaultSuperSecretAdminKey() {\n  return process.env.STACK_SUPER_SECRET_ADMIN_KEY || (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(new Error(\"No super secret admin key provided. Please copy your key from the Stack dashboard and put it in the STACK_SUPER_SECRET_ADMIN_KEY environment variable.\"));\n}\nfunction getDefaultExtraRequestHeaders() {\n  return JSON.parse(process.env.NEXT_PUBLIC_STACK_EXTRA_REQUEST_HEADERS || process.env.STACK_EXTRA_REQUEST_HEADERS || \"{}\");\n}\nfunction getBaseUrl(userSpecifiedBaseUrl) {\n  let url;\n  if (userSpecifiedBaseUrl) {\n    if (typeof userSpecifiedBaseUrl === \"string\") {\n      url = userSpecifiedBaseUrl;\n    } else {\n      if ((0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_1__.isBrowserLike)()) {\n        url = userSpecifiedBaseUrl.browser;\n      } else {\n        url = userSpecifiedBaseUrl.server;\n      }\n    }\n  } else {\n    if ((0,_stackframe_stack_shared_dist_utils_env__WEBPACK_IMPORTED_MODULE_1__.isBrowserLike)()) {\n      url = process.env.NEXT_PUBLIC_BROWSER_STACK_API_URL || process.env.NEXT_PUBLIC_STACK_API_URL_BROWSER || process.env.STACK_API_URL_BROWSER;\n    } else {\n      url = process.env.NEXT_PUBLIC_SERVER_STACK_API_URL || process.env.NEXT_PUBLIC_STACK_API_URL_SERVER || process.env.STACK_API_URL_SERVER;\n    }\n    url = url || process.env.NEXT_PUBLIC_STACK_API_URL || process.env.STACK_API_URL || process.env.NEXT_PUBLIC_STACK_URL || defaultBaseUrl;\n  }\n  return url.endsWith(\"/\") ? url.slice(0, -1) : url;\n}\nvar defaultBaseUrl = \"https://api.stack-auth.com\";\nfunction createEmptyTokenStore() {\n  return new _stackframe_stack_shared_dist_utils_stores__WEBPACK_IMPORTED_MODULE_6__.Store({\n    refreshToken: null,\n    accessToken: null\n  });\n}\nvar cachePromiseByHookId = /* @__PURE__ */ new Map();\nfunction useAsyncCache(cache, dependencies, caller) {\n  (0,_stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_4__.suspendIfSsr)(caller);\n  const id = react__WEBPACK_IMPORTED_MODULE_7___default().useId();\n  react__WEBPACK_IMPORTED_MODULE_7___default().useEffect(() => {\n    cachePromiseByHookId.delete(id);\n  }, [...dependencies, id]);\n  const subscribe = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)((cb) => {\n    const { unsubscribe } = cache.onStateChange(dependencies, () => {\n      cachePromiseByHookId.delete(id);\n      cb();\n    });\n    return unsubscribe;\n  }, [cache, ...dependencies]);\n  const getSnapshot = (0,react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(() => {\n    if (!cachePromiseByHookId.has(id)) {\n      cachePromiseByHookId.set(id, cache.getOrWait(dependencies, \"read-write\"));\n    }\n    return cachePromiseByHookId.get(id);\n  }, [cache, ...dependencies]);\n  const promise = react__WEBPACK_IMPORTED_MODULE_7___default().useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    () => (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.throwErr)(new Error(\"getServerSnapshot should never be called in useAsyncCache because we restrict to CSR earlier\"))\n  );\n  const result = react__WEBPACK_IMPORTED_MODULE_7___default().use(promise);\n  if (result.status === \"error\") {\n    const error = result.error;\n    if (error instanceof Error && !error.__stackHasConcatenatedStacktraces) {\n      (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_2__.concatStacktraces)(error, new Error());\n      error.__stackHasConcatenatedStacktraces = true;\n    }\n    throw error;\n  }\n  return result.data;\n}\n\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDd0U7QUFDQTtBQUNzQztBQUNoQztBQUNMO0FBQ0o7QUFDRjtBQUN4QjtBQUMzQztBQUNBO0FBQ0EsWUFBWSwyRkFBbUI7QUFDL0I7QUFDQTtBQUNBLGFBQWEsa0ZBQVU7QUFDdkIsa0NBQWtDLCtFQUFNO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrRkFBVTtBQUN2QixxREFBcUQsK0VBQU07QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEMsc0JBQXNCLFFBQVE7QUFDOUIsdUJBQXVCLFFBQVE7QUFDL0Isc0JBQXNCLFFBQVE7QUFDOUIsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQyxjQUFjLFFBQVE7QUFDdEIsdUJBQXVCLFFBQVE7QUFDL0IsWUFBWSxRQUFRO0FBQ3BCLE9BQU8sNEZBQWU7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzQ0FBd0MsSUFBSSxDQUE0QixJQUFJLENBQWdQO0FBQ3JVO0FBQ0E7QUFDQSxTQUFTLG1EQUFvRCxJQUFJLENBQXdDLElBQUksQ0FBc1Q7QUFDbmE7QUFDQTtBQUNBLFNBQVMsT0FBTyxnQ0FBZ0Msb0ZBQVE7QUFDeEQ7QUFDQTtBQUNBLFNBQVMsT0FBTyxxQ0FBcUMsb0ZBQVE7QUFDN0Q7QUFDQTtBQUNBLG9CQUFvQixPQUFPLGdEQUFnRCxPQUFPLHVDQUF1QztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sVUFBVSxzRkFBYTtBQUN2QjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osUUFBUSxzRkFBYTtBQUNyQixZQUFZLE9BQU8sMENBQTBDLE9BQU8sMENBQTBDLE9BQU87QUFDckgsTUFBTTtBQUNOLFlBQVksT0FBTyx5Q0FBeUMsT0FBTyx5Q0FBeUMsT0FBTztBQUNuSDtBQUNBLGlCQUFpQixPQUFPLGtDQUFrQyxPQUFPLHNCQUFzQixPQUFPO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDZFQUFLO0FBQ2xCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRSx1RkFBWTtBQUNkLGFBQWEsa0RBQVc7QUFDeEIsRUFBRSxzREFBZTtBQUNqQjtBQUNBLEdBQUc7QUFDSCxvQkFBb0Isa0RBQVc7QUFDL0IsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtCQUFrQixpRUFBMEI7QUFDNUM7QUFDQTtBQUNBLFVBQVUsb0ZBQVE7QUFDbEI7QUFDQSxpQkFBaUIsZ0RBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2RkFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFja1xcZGlzdFxcZXNtXFxsaWJcXHN0YWNrLWFwcFxcYXBwc1xcaW1wbGVtZW50YXRpb25zXFxjb21tb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9zdGFjay1hcHAvYXBwcy9pbXBsZW1lbnRhdGlvbnMvY29tbW9uLnRzXG5pbXBvcnQgeyBBc3luY0NhY2hlIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL2NhY2hlc1wiO1xuaW1wb3J0IHsgaXNCcm93c2VyTGlrZSB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9lbnZcIjtcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IsIGNvbmNhdFN0YWNrdHJhY2VzLCB0aHJvd0VyciB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9lcnJvcnNcIjtcbmltcG9ydCB7IGZpbHRlclVuZGVmaW5lZCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9vYmplY3RzXCI7XG5pbXBvcnQgeyBzdXNwZW5kSWZTc3IgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvcmVhY3RcIjtcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9yZXN1bHRzXCI7XG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9zdG9yZXNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGNsaWVudFZlcnNpb24gPSBcImpzIEBzdGFja2ZyYW1lL3N0YWNrQDIuOC40MVwiO1xuaWYgKGNsaWVudFZlcnNpb24uc3RhcnRzV2l0aChcIlNUQUNLX0NPTVBJTEVfVElNRVwiKSkge1xuICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcIkNsaWVudCB2ZXJzaW9uIHdhcyBub3QgcmVwbGFjZWQuIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBidWlsZCFcIik7XG59XG52YXIgY3JlYXRlQ2FjaGUgPSAoZmV0Y2hlcikgPT4ge1xuICByZXR1cm4gbmV3IEFzeW5jQ2FjaGUoXG4gICAgYXN5bmMgKGRlcGVuZGVuY2llcykgPT4gYXdhaXQgUmVzdWx0LmZyb21UaHJvd2luZ0FzeW5jKGFzeW5jICgpID0+IGF3YWl0IGZldGNoZXIoZGVwZW5kZW5jaWVzKSksXG4gICAge31cbiAgKTtcbn07XG52YXIgY3JlYXRlQ2FjaGVCeVNlc3Npb24gPSAoZmV0Y2hlcikgPT4ge1xuICByZXR1cm4gbmV3IEFzeW5jQ2FjaGUoXG4gICAgYXN5bmMgKFtzZXNzaW9uLCAuLi5leHRyYURlcGVuZGVuY2llc10pID0+IGF3YWl0IFJlc3VsdC5mcm9tVGhyb3dpbmdBc3luYyhhc3luYyAoKSA9PiBhd2FpdCBmZXRjaGVyKHNlc3Npb24sIGV4dHJhRGVwZW5kZW5jaWVzKSksXG4gICAge1xuICAgICAgb25TdWJzY3JpYmU6IChbc2Vzc2lvbl0sIHJlZnJlc2gpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHNlc3Npb24ub25JbnZhbGlkYXRlKCgpID0+IHJlZnJlc2goKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBoYW5kbGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfVxuICApO1xufTtcbmZ1bmN0aW9uIGdldFVybHMocGFydGlhbCkge1xuICBjb25zdCBoYW5kbGVyID0gcGFydGlhbC5oYW5kbGVyID8/IFwiL2hhbmRsZXJcIjtcbiAgY29uc3QgaG9tZSA9IHBhcnRpYWwuaG9tZSA/PyBcIi9cIjtcbiAgY29uc3QgYWZ0ZXJTaWduSW4gPSBwYXJ0aWFsLmFmdGVyU2lnbkluID8/IGhvbWU7XG4gIHJldHVybiB7XG4gICAgaGFuZGxlcixcbiAgICBzaWduSW46IGAke2hhbmRsZXJ9L3NpZ24taW5gLFxuICAgIGFmdGVyU2lnbkluOiBob21lLFxuICAgIHNpZ25VcDogYCR7aGFuZGxlcn0vc2lnbi11cGAsXG4gICAgYWZ0ZXJTaWduVXA6IGFmdGVyU2lnbkluLFxuICAgIHNpZ25PdXQ6IGAke2hhbmRsZXJ9L3NpZ24tb3V0YCxcbiAgICBhZnRlclNpZ25PdXQ6IGhvbWUsXG4gICAgZW1haWxWZXJpZmljYXRpb246IGAke2hhbmRsZXJ9L2VtYWlsLXZlcmlmaWNhdGlvbmAsXG4gICAgcGFzc3dvcmRSZXNldDogYCR7aGFuZGxlcn0vcGFzc3dvcmQtcmVzZXRgLFxuICAgIGZvcmdvdFBhc3N3b3JkOiBgJHtoYW5kbGVyfS9mb3Jnb3QtcGFzc3dvcmRgLFxuICAgIG9hdXRoQ2FsbGJhY2s6IGAke2hhbmRsZXJ9L29hdXRoLWNhbGxiYWNrYCxcbiAgICBtYWdpY0xpbmtDYWxsYmFjazogYCR7aGFuZGxlcn0vbWFnaWMtbGluay1jYWxsYmFja2AsXG4gICAgaG9tZSxcbiAgICBhY2NvdW50U2V0dGluZ3M6IGAke2hhbmRsZXJ9L2FjY291bnQtc2V0dGluZ3NgLFxuICAgIGVycm9yOiBgJHtoYW5kbGVyfS9lcnJvcmAsXG4gICAgdGVhbUludml0YXRpb246IGAke2hhbmRsZXJ9L3RlYW0taW52aXRhdGlvbmAsXG4gICAgbWZhOiBgJHtoYW5kbGVyfS9tZmFgLFxuICAgIC4uLmZpbHRlclVuZGVmaW5lZChwYXJ0aWFsKVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFByb2plY3RJZCgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NUQUNLX1BST0pFQ1RfSUQgfHwgcHJvY2Vzcy5lbnYuU1RBQ0tfUFJPSkVDVF9JRCB8fCB0aHJvd0VycihuZXcgRXJyb3IoXCJXZWxjb21lIHRvIFN0YWNrIEF1dGghIEl0IHNlZW1zIHRoYXQgeW91IGhhdmVuJ3QgcHJvdmlkZWQgYSBwcm9qZWN0IElELiBQbGVhc2UgY3JlYXRlIGEgcHJvamVjdCBvbiB0aGUgU3RhY2sgZGFzaGJvYXJkIGF0IGh0dHBzOi8vYXBwLnN0YWNrLWF1dGguY29tIGFuZCBwdXQgaXQgaW4gdGhlIE5FWFRfUFVCTElDX1NUQUNLX1BST0pFQ1RfSUQgZW52aXJvbm1lbnQgdmFyaWFibGUuXCIpKTtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRQdWJsaXNoYWJsZUNsaWVudEtleSgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NUQUNLX1BVQkxJU0hBQkxFX0NMSUVOVF9LRVkgfHwgcHJvY2Vzcy5lbnYuU1RBQ0tfUFVCTElTSEFCTEVfQ0xJRU5UX0tFWSB8fCB0aHJvd0VycihuZXcgRXJyb3IoXCJXZWxjb21lIHRvIFN0YWNrIEF1dGghIEl0IHNlZW1zIHRoYXQgeW91IGhhdmVuJ3QgcHJvdmlkZWQgYSBwdWJsaXNoYWJsZSBjbGllbnQga2V5LiBQbGVhc2UgY3JlYXRlIGFuIEFQSSBrZXkgZm9yIHlvdXIgcHJvamVjdCBvbiB0aGUgU3RhY2sgZGFzaGJvYXJkIGF0IGh0dHBzOi8vYXBwLnN0YWNrLWF1dGguY29tIGFuZCBjb3B5IHlvdXIgcHVibGlzaGFibGUgY2xpZW50IGtleSBpbnRvIHRoZSBORVhUX1BVQkxJQ19TVEFDS19QVUJMSVNIQUJMRV9DTElFTlRfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlLlwiKSk7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0U2VjcmV0U2VydmVyS2V5KCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuU1RBQ0tfU0VDUkVUX1NFUlZFUl9LRVkgfHwgdGhyb3dFcnIobmV3IEVycm9yKFwiTm8gc2VjcmV0IHNlcnZlciBrZXkgcHJvdmlkZWQuIFBsZWFzZSBjb3B5IHlvdXIga2V5IGZyb20gdGhlIFN0YWNrIGRhc2hib2FyZCBhbmQgcHV0IGl0IGluIHRoZSBTVEFDS19TRUNSRVRfU0VSVkVSX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZS5cIikpO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFN1cGVyU2VjcmV0QWRtaW5LZXkoKSB7XG4gIHJldHVybiBwcm9jZXNzLmVudi5TVEFDS19TVVBFUl9TRUNSRVRfQURNSU5fS0VZIHx8IHRocm93RXJyKG5ldyBFcnJvcihcIk5vIHN1cGVyIHNlY3JldCBhZG1pbiBrZXkgcHJvdmlkZWQuIFBsZWFzZSBjb3B5IHlvdXIga2V5IGZyb20gdGhlIFN0YWNrIGRhc2hib2FyZCBhbmQgcHV0IGl0IGluIHRoZSBTVEFDS19TVVBFUl9TRUNSRVRfQURNSU5fS0VZIGVudmlyb25tZW50IHZhcmlhYmxlLlwiKSk7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0RXh0cmFSZXF1ZXN0SGVhZGVycygpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RBQ0tfRVhUUkFfUkVRVUVTVF9IRUFERVJTIHx8IHByb2Nlc3MuZW52LlNUQUNLX0VYVFJBX1JFUVVFU1RfSEVBREVSUyB8fCBcInt9XCIpO1xufVxuZnVuY3Rpb24gZ2V0QmFzZVVybCh1c2VyU3BlY2lmaWVkQmFzZVVybCkge1xuICBsZXQgdXJsO1xuICBpZiAodXNlclNwZWNpZmllZEJhc2VVcmwpIHtcbiAgICBpZiAodHlwZW9mIHVzZXJTcGVjaWZpZWRCYXNlVXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB1cmwgPSB1c2VyU3BlY2lmaWVkQmFzZVVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzQnJvd3Nlckxpa2UoKSkge1xuICAgICAgICB1cmwgPSB1c2VyU3BlY2lmaWVkQmFzZVVybC5icm93c2VyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXJsID0gdXNlclNwZWNpZmllZEJhc2VVcmwuc2VydmVyO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNCcm93c2VyTGlrZSgpKSB7XG4gICAgICB1cmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CUk9XU0VSX1NUQUNLX0FQSV9VUkwgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RBQ0tfQVBJX1VSTF9CUk9XU0VSIHx8IHByb2Nlc3MuZW52LlNUQUNLX0FQSV9VUkxfQlJPV1NFUjtcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0VSVkVSX1NUQUNLX0FQSV9VUkwgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RBQ0tfQVBJX1VSTF9TRVJWRVIgfHwgcHJvY2Vzcy5lbnYuU1RBQ0tfQVBJX1VSTF9TRVJWRVI7XG4gICAgfVxuICAgIHVybCA9IHVybCB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVEFDS19BUElfVVJMIHx8IHByb2Nlc3MuZW52LlNUQUNLX0FQSV9VUkwgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RBQ0tfVVJMIHx8IGRlZmF1bHRCYXNlVXJsO1xuICB9XG4gIHJldHVybiB1cmwuZW5kc1dpdGgoXCIvXCIpID8gdXJsLnNsaWNlKDAsIC0xKSA6IHVybDtcbn1cbnZhciBkZWZhdWx0QmFzZVVybCA9IFwiaHR0cHM6Ly9hcGkuc3RhY2stYXV0aC5jb21cIjtcbmZ1bmN0aW9uIGNyZWF0ZUVtcHR5VG9rZW5TdG9yZSgpIHtcbiAgcmV0dXJuIG5ldyBTdG9yZSh7XG4gICAgcmVmcmVzaFRva2VuOiBudWxsLFxuICAgIGFjY2Vzc1Rva2VuOiBudWxsXG4gIH0pO1xufVxudmFyIGNhY2hlUHJvbWlzZUJ5SG9va0lkID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHVzZUFzeW5jQ2FjaGUoY2FjaGUsIGRlcGVuZGVuY2llcywgY2FsbGVyKSB7XG4gIHN1c3BlbmRJZlNzcihjYWxsZXIpO1xuICBjb25zdCBpZCA9IFJlYWN0LnVzZUlkKCk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FjaGVQcm9taXNlQnlIb29rSWQuZGVsZXRlKGlkKTtcbiAgfSwgWy4uLmRlcGVuZGVuY2llcywgaWRdKTtcbiAgY29uc3Qgc3Vic2NyaWJlID0gdXNlQ2FsbGJhY2soKGNiKSA9PiB7XG4gICAgY29uc3QgeyB1bnN1YnNjcmliZSB9ID0gY2FjaGUub25TdGF0ZUNoYW5nZShkZXBlbmRlbmNpZXMsICgpID0+IHtcbiAgICAgIGNhY2hlUHJvbWlzZUJ5SG9va0lkLmRlbGV0ZShpZCk7XG4gICAgICBjYigpO1xuICAgIH0pO1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgfSwgW2NhY2hlLCAuLi5kZXBlbmRlbmNpZXNdKTtcbiAgY29uc3QgZ2V0U25hcHNob3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFjYWNoZVByb21pc2VCeUhvb2tJZC5oYXMoaWQpKSB7XG4gICAgICBjYWNoZVByb21pc2VCeUhvb2tJZC5zZXQoaWQsIGNhY2hlLmdldE9yV2FpdChkZXBlbmRlbmNpZXMsIFwicmVhZC13cml0ZVwiKSk7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZVByb21pc2VCeUhvb2tJZC5nZXQoaWQpO1xuICB9LCBbY2FjaGUsIC4uLmRlcGVuZGVuY2llc10pO1xuICBjb25zdCBwcm9taXNlID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgc3Vic2NyaWJlLFxuICAgIGdldFNuYXBzaG90LFxuICAgICgpID0+IHRocm93RXJyKG5ldyBFcnJvcihcImdldFNlcnZlclNuYXBzaG90IHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gdXNlQXN5bmNDYWNoZSBiZWNhdXNlIHdlIHJlc3RyaWN0IHRvIENTUiBlYXJsaWVyXCIpKVxuICApO1xuICBjb25zdCByZXN1bHQgPSBSZWFjdC51c2UocHJvbWlzZSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICBjb25zdCBlcnJvciA9IHJlc3VsdC5lcnJvcjtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyb3IuX19zdGFja0hhc0NvbmNhdGVuYXRlZFN0YWNrdHJhY2VzKSB7XG4gICAgICBjb25jYXRTdGFja3RyYWNlcyhlcnJvciwgbmV3IEVycm9yKCkpO1xuICAgICAgZXJyb3IuX19zdGFja0hhc0NvbmNhdGVuYXRlZFN0YWNrdHJhY2VzID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC5kYXRhO1xufVxuZXhwb3J0IHtcbiAgY2xpZW50VmVyc2lvbixcbiAgY3JlYXRlQ2FjaGUsXG4gIGNyZWF0ZUNhY2hlQnlTZXNzaW9uLFxuICBjcmVhdGVFbXB0eVRva2VuU3RvcmUsXG4gIGdldEJhc2VVcmwsXG4gIGdldERlZmF1bHRFeHRyYVJlcXVlc3RIZWFkZXJzLFxuICBnZXREZWZhdWx0UHJvamVjdElkLFxuICBnZXREZWZhdWx0UHVibGlzaGFibGVDbGllbnRLZXksXG4gIGdldERlZmF1bHRTZWNyZXRTZXJ2ZXJLZXksXG4gIGdldERlZmF1bHRTdXBlclNlY3JldEFkbWluS2V5LFxuICBnZXRVcmxzLFxuICB1c2VBc3luY0NhY2hlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/common.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/index.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/index.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _StackAdminAppImpl: () => (/* binding */ _StackAdminAppImpl),\n/* harmony export */   _StackClientAppImpl: () => (/* binding */ _StackClientAppImpl),\n/* harmony export */   _StackServerAppImpl: () => (/* binding */ _StackServerAppImpl)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared_dist_utils_compile_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/compile-time */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/compile-time.js\");\n/* harmony import */ var _admin_app_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./admin-app-impl.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/admin-app-impl.js\");\n/* harmony import */ var _client_app_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client-app-impl.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/client-app-impl.js\");\n/* harmony import */ var _server_app_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./server-app-impl.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/server-app-impl.js\");\n// src/lib/stack-app/apps/implementations/index.ts\n\n\n\n\nfunction complete() {\n  _client_app_impl_js__WEBPACK_IMPORTED_MODULE_1__._StackClientAppImplIncomplete.LazyStackAdminAppImpl.value = _admin_app_impl_js__WEBPACK_IMPORTED_MODULE_2__._StackAdminAppImplIncomplete;\n  return {\n    _StackAdminAppImpl: (0,_stackframe_stack_shared_dist_utils_compile_time__WEBPACK_IMPORTED_MODULE_0__.scrambleDuringCompileTime)(_admin_app_impl_js__WEBPACK_IMPORTED_MODULE_2__._StackAdminAppImplIncomplete),\n    _StackClientAppImpl: (0,_stackframe_stack_shared_dist_utils_compile_time__WEBPACK_IMPORTED_MODULE_0__.scrambleDuringCompileTime)(_client_app_impl_js__WEBPACK_IMPORTED_MODULE_1__._StackClientAppImplIncomplete),\n    _StackServerAppImpl: (0,_stackframe_stack_shared_dist_utils_compile_time__WEBPACK_IMPORTED_MODULE_0__.scrambleDuringCompileTime)(_server_app_impl_js__WEBPACK_IMPORTED_MODULE_3__._StackServerAppImplIncomplete)\n  };\n}\nvar {\n  _StackAdminAppImpl,\n  _StackClientAppImpl,\n  _StackServerAppImpl\n} = complete();\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUM2RjtBQUMxQjtBQUNFO0FBQ0E7QUFDckU7QUFDQSxFQUFFLDhFQUE2QiwrQkFBK0IsNEVBQTRCO0FBQzFGO0FBQ0Esd0JBQXdCLDJHQUF5QixDQUFDLDRFQUE0QjtBQUM5RSx5QkFBeUIsMkdBQXlCLENBQUMsOEVBQTZCO0FBQ2hGLHlCQUF5QiwyR0FBeUIsQ0FBQyw4RUFBNkI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUtBO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxzdGFjay1hcHBcXGFwcHNcXGltcGxlbWVudGF0aW9uc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9zdGFjay1hcHAvYXBwcy9pbXBsZW1lbnRhdGlvbnMvaW5kZXgudHNcbmltcG9ydCB7IHNjcmFtYmxlRHVyaW5nQ29tcGlsZVRpbWUgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvY29tcGlsZS10aW1lXCI7XG5pbXBvcnQgeyBfU3RhY2tBZG1pbkFwcEltcGxJbmNvbXBsZXRlIH0gZnJvbSBcIi4vYWRtaW4tYXBwLWltcGwuanNcIjtcbmltcG9ydCB7IF9TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlIH0gZnJvbSBcIi4vY2xpZW50LWFwcC1pbXBsLmpzXCI7XG5pbXBvcnQgeyBfU3RhY2tTZXJ2ZXJBcHBJbXBsSW5jb21wbGV0ZSB9IGZyb20gXCIuL3NlcnZlci1hcHAtaW1wbC5qc1wiO1xuZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gIF9TdGFja0NsaWVudEFwcEltcGxJbmNvbXBsZXRlLkxhenlTdGFja0FkbWluQXBwSW1wbC52YWx1ZSA9IF9TdGFja0FkbWluQXBwSW1wbEluY29tcGxldGU7XG4gIHJldHVybiB7XG4gICAgX1N0YWNrQWRtaW5BcHBJbXBsOiBzY3JhbWJsZUR1cmluZ0NvbXBpbGVUaW1lKF9TdGFja0FkbWluQXBwSW1wbEluY29tcGxldGUpLFxuICAgIF9TdGFja0NsaWVudEFwcEltcGw6IHNjcmFtYmxlRHVyaW5nQ29tcGlsZVRpbWUoX1N0YWNrQ2xpZW50QXBwSW1wbEluY29tcGxldGUpLFxuICAgIF9TdGFja1NlcnZlckFwcEltcGw6IHNjcmFtYmxlRHVyaW5nQ29tcGlsZVRpbWUoX1N0YWNrU2VydmVyQXBwSW1wbEluY29tcGxldGUpXG4gIH07XG59XG52YXIge1xuICBfU3RhY2tBZG1pbkFwcEltcGwsXG4gIF9TdGFja0NsaWVudEFwcEltcGwsXG4gIF9TdGFja1NlcnZlckFwcEltcGxcbn0gPSBjb21wbGV0ZSgpO1xuZXhwb3J0IHtcbiAgX1N0YWNrQWRtaW5BcHBJbXBsLFxuICBfU3RhY2tDbGllbnRBcHBJbXBsLFxuICBfU3RhY2tTZXJ2ZXJBcHBJbXBsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/server-app-impl.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/server-app-impl.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _StackServerAppImplIncomplete: () => (/* binding */ _StackServerAppImplIncomplete)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/index.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/promises */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/promises.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/react */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/react.js\");\n/* harmony import */ var _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/results */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/results.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_url_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../utils/url.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/utils/url.js\");\n/* harmony import */ var _api_keys_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../api-keys/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/api-keys/index.js\");\n/* harmony import */ var _contact_channels_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../contact-channels/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/contact-channels/index.js\");\n/* harmony import */ var _teams_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../teams/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/teams/index.js\");\n/* harmony import */ var _users_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../users/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/users/index.js\");\n/* harmony import */ var _client_app_impl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./client-app-impl.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/client-app-impl.js\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./common.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/common.js\");\n// src/lib/stack-app/apps/implementations/server-app-impl.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _StackServerAppImplIncomplete = class extends _client_app_impl_js__WEBPACK_IMPORTED_MODULE_6__._StackClientAppImplIncomplete {\n  constructor(options) {\n    super(\"interface\" in options ? {\n      interface: options.interface,\n      tokenStore: options.tokenStore,\n      urls: options.urls,\n      oauthScopesOnSignIn: options.oauthScopesOnSignIn\n    } : {\n      interface: new _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.StackServerInterface({\n        getBaseUrl: () => (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getBaseUrl)(options.baseUrl),\n        projectId: options.projectId ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultProjectId)(),\n        extraRequestHeaders: options.extraRequestHeaders ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultExtraRequestHeaders)(),\n        clientVersion: _common_js__WEBPACK_IMPORTED_MODULE_7__.clientVersion,\n        publishableClientKey: options.publishableClientKey ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultPublishableClientKey)(),\n        secretServerKey: options.secretServerKey ?? (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.getDefaultSecretServerKey)()\n      }),\n      baseUrl: options.baseUrl,\n      extraRequestHeaders: options.extraRequestHeaders,\n      projectId: options.projectId,\n      publishableClientKey: options.publishableClientKey,\n      tokenStore: options.tokenStore,\n      urls: options.urls,\n      oauthScopesOnSignIn: options.oauthScopesOnSignIn,\n      redirectMethod: options.redirectMethod\n    });\n    // TODO override the client user cache to use the server user cache, so we save some requests\n    this._currentServerUserCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCacheBySession)(async (session) => {\n      if (session.isKnownToBeInvalid()) {\n        return null;\n      }\n      return await this._interface.getServerUserByToken(session);\n    });\n    this._serverUsersCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([cursor, limit, orderBy, desc, query, includeAnonymous]) => {\n      return await this._interface.listServerUsers({ cursor, limit, orderBy, desc, query, includeAnonymous });\n    });\n    this._serverUserCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([userId]) => {\n      const user = await this._interface.getServerUserById(userId);\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.or(user, null);\n    });\n    this._serverTeamsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([userId]) => {\n      return await this._interface.listServerTeams({ userId });\n    });\n    this._serverTeamUserPermissionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([teamId, userId, recursive]) => {\n      return await this._interface.listServerTeamPermissions({ teamId, userId, recursive }, null);\n    });\n    this._serverUserProjectPermissionsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([userId, recursive]) => {\n      return await this._interface.listServerProjectPermissions({ userId, recursive }, null);\n    });\n    this._serverUserOAuthConnectionAccessTokensCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId, providerId, scope]) => {\n        try {\n          const result = await this._interface.createServerProviderAccessToken(userId, providerId, scope || \"\");\n          return { accessToken: result.access_token };\n        } catch (err) {\n          if (!(_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.OAuthConnectionDoesNotHaveRequiredScope.isInstance(err) || _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.OAuthConnectionNotConnectedToUser.isInstance(err))) {\n            throw err;\n          }\n        }\n        return null;\n      }\n    );\n    this._serverUserOAuthConnectionCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId, providerId, scope, redirect]) => {\n        return await this._getUserOAuthConnectionCacheFn({\n          getUser: async () => _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverUserCache.getOrWait([userId], \"write-only\")),\n          getOrWaitOAuthToken: async () => _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverUserOAuthConnectionAccessTokensCache.getOrWait([userId, providerId, scope || \"\"], \"write-only\")),\n          useOAuthToken: () => (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverUserOAuthConnectionAccessTokensCache, [userId, providerId, scope || \"\"], \"user.useConnectedAccount()\"),\n          providerId,\n          scope,\n          redirect,\n          session: null\n        });\n      }\n    );\n    this._serverTeamMemberProfilesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([teamId]) => {\n        return await this._interface.listServerTeamMemberProfiles({ teamId });\n      }\n    );\n    this._serverTeamInvitationsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([teamId]) => {\n        return await this._interface.listServerTeamInvitations({ teamId });\n      }\n    );\n    this._serverUserTeamProfileCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([teamId, userId]) => {\n        return await this._interface.getServerTeamMemberProfile({ teamId, userId });\n      }\n    );\n    this._serverContactChannelsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId]) => {\n        return await this._interface.listServerContactChannels(userId);\n      }\n    );\n    this._serverNotificationCategoriesCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId]) => {\n        return await this._interface.listServerNotificationCategories(userId);\n      }\n    );\n    this._serverDataVaultStoreValueCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([storeId, key, secret]) => {\n      return await this._interface.getDataVaultStoreValue(secret, storeId, key);\n    });\n    this._serverUserApiKeysCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId]) => {\n        const result = await this._interface.listProjectApiKeys({\n          user_id: userId\n        }, null, \"server\");\n        return result;\n      }\n    );\n    this._serverTeamApiKeysCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([teamId]) => {\n        const result = await this._interface.listProjectApiKeys({\n          team_id: teamId\n        }, null, \"server\");\n        return result;\n      }\n    );\n    this._convexIdentitySubjectCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([ctx]) => {\n        const identity = await ctx.auth.getUserIdentity();\n        return identity ? identity.subject : null;\n      }\n    );\n    this._serverCheckApiKeyCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(async ([type, apiKey]) => {\n      const result = await this._interface.checkProjectApiKey(\n        type,\n        apiKey,\n        null,\n        \"server\"\n      );\n      return result;\n    });\n    this._serverOAuthProvidersCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId]) => {\n        return await this._interface.listServerOAuthProviders({ user_id: userId });\n      }\n    );\n    this._serverTeamItemsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([teamId, itemId]) => {\n        return await this._interface.getItem({ teamId, itemId }, null);\n      }\n    );\n    this._serverUserItemsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([userId, itemId]) => {\n        return await this._interface.getItem({ userId, itemId }, null);\n      }\n    );\n    this._serverCustomItemsCache = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.createCache)(\n      async ([customCustomerId, itemId]) => {\n        return await this._interface.getItem({ customCustomerId, itemId }, null);\n      }\n    );\n  }\n  async _updateServerUser(userId, update) {\n    const result = await this._interface.updateServerUser(userId, (0,_users_index_js__WEBPACK_IMPORTED_MODULE_8__.serverUserUpdateOptionsToCrud)(update));\n    await this._refreshUsers();\n    return result;\n  }\n  _serverEditableTeamProfileFromCrud(crud) {\n    const app = this;\n    return {\n      displayName: crud.display_name,\n      profileImageUrl: crud.profile_image_url,\n      async update(update) {\n        await app._interface.updateServerTeamMemberProfile({\n          teamId: crud.team_id,\n          userId: crud.user_id,\n          profile: {\n            display_name: update.displayName,\n            profile_image_url: update.profileImageUrl\n          }\n        });\n        await app._serverUserTeamProfileCache.refresh([crud.team_id, crud.user_id]);\n      }\n    };\n  }\n  _serverContactChannelFromCrud(userId, crud) {\n    const app = this;\n    return {\n      id: crud.id,\n      value: crud.value,\n      type: crud.type,\n      isVerified: crud.is_verified,\n      isPrimary: crud.is_primary,\n      usedForAuth: crud.used_for_auth,\n      async sendVerificationEmail(options) {\n        await app._interface.sendServerContactChannelVerificationEmail(userId, crud.id, options?.callbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_9__.constructRedirectUrl)(app.urls.emailVerification, \"callbackUrl\"));\n      },\n      async update(data) {\n        await app._interface.updateServerContactChannel(userId, crud.id, (0,_contact_channels_index_js__WEBPACK_IMPORTED_MODULE_10__.serverContactChannelUpdateOptionsToCrud)(data));\n        await Promise.all([\n          app._serverContactChannelsCache.refresh([userId]),\n          app._serverUserCache.refresh([userId])\n        ]);\n      },\n      async delete() {\n        await app._interface.deleteServerContactChannel(userId, crud.id);\n        await Promise.all([\n          app._serverContactChannelsCache.refresh([userId]),\n          app._serverUserCache.refresh([userId])\n        ]);\n      }\n    };\n  }\n  _serverNotificationCategoryFromCrud(userId, crud) {\n    const app = this;\n    return {\n      id: crud.notification_category_id,\n      name: crud.notification_category_name,\n      enabled: crud.enabled,\n      canDisable: crud.can_disable,\n      async setEnabled(enabled) {\n        await app._interface.setServerNotificationsEnabled(userId, crud.notification_category_id, enabled);\n        await app._serverNotificationCategoriesCache.refresh([userId]);\n      }\n    };\n  }\n  _serverOAuthProviderFromCrud(crud) {\n    const app = this;\n    return {\n      id: crud.id,\n      type: crud.type,\n      userId: crud.user_id,\n      accountId: crud.account_id,\n      email: crud.email,\n      allowSignIn: crud.allow_sign_in,\n      allowConnectedAccounts: crud.allow_connected_accounts,\n      async update(data) {\n        try {\n          await app._interface.updateServerOAuthProvider(crud.user_id, crud.id, {\n            account_id: data.accountId,\n            email: data.email,\n            allow_sign_in: data.allowSignIn,\n            allow_connected_accounts: data.allowConnectedAccounts\n          });\n          await app._serverOAuthProvidersCache.refresh([crud.user_id]);\n          return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.ok(void 0);\n        } catch (error) {\n          if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.OAuthProviderAccountIdAlreadyUsedForSignIn.isInstance(error)) {\n            return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.error(error);\n          }\n          throw error;\n        }\n      },\n      async delete() {\n        await app._interface.deleteServerOAuthProvider(crud.user_id, crud.id);\n        await app._serverOAuthProvidersCache.refresh([crud.user_id]);\n      }\n    };\n  }\n  _serverApiKeyFromCrud(crud) {\n    return {\n      ...this._baseApiKeyFromCrud(crud),\n      async revoke() {\n        await this.update({ revoked: true });\n      },\n      update: async (options) => {\n        await this._interface.updateProjectApiKey(\n          crud.type === \"team\" ? { team_id: crud.team_id } : { user_id: crud.user_id },\n          crud.id,\n          await (0,_api_keys_index_js__WEBPACK_IMPORTED_MODULE_11__.apiKeyUpdateOptionsToCrud)(crud.type, options),\n          null,\n          \"server\"\n        );\n        if (crud.type === \"team\") {\n          await this._serverTeamApiKeysCache.refresh([crud.team_id]);\n        } else {\n          await this._serverUserApiKeysCache.refresh([crud.user_id]);\n        }\n      }\n    };\n  }\n  _serverUserFromCrud(crud) {\n    const app = this;\n    async function getConnectedAccount(id, options) {\n      const scopeString = options?.scopes?.join(\" \");\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverUserOAuthConnectionCache.getOrWait([crud.id, id, scopeString || \"\", options?.or === \"redirect\"], \"write-only\"));\n    }\n    function useConnectedAccount(id, options) {\n      const scopeString = options?.scopes?.join(\" \");\n      return (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverUserOAuthConnectionCache, [crud.id, id, scopeString || \"\", options?.or === \"redirect\"], \"user.useConnectedAccount()\");\n    }\n    return {\n      ...super._createBaseUser(crud),\n      lastActiveAt: new Date(crud.last_active_at_millis),\n      serverMetadata: crud.server_metadata,\n      async setPrimaryEmail(email, options) {\n        await app._updateServerUser(crud.id, { primaryEmail: email, primaryEmailVerified: options?.verified });\n      },\n      async grantPermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\" && permissionId) {\n          const scope = scopeOrPermissionId;\n          await app._interface.grantServerTeamUserPermission(scope.id, crud.id, permissionId);\n          for (const recursive of [true, false]) {\n            await app._serverTeamUserPermissionsCache.refresh([scope.id, crud.id, recursive]);\n          }\n        } else {\n          const pId = scopeOrPermissionId;\n          await app._interface.grantServerProjectPermission(crud.id, pId);\n          for (const recursive of [true, false]) {\n            await app._serverUserProjectPermissionsCache.refresh([crud.id, recursive]);\n          }\n        }\n      },\n      async revokePermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\" && permissionId) {\n          const scope = scopeOrPermissionId;\n          await app._interface.revokeServerTeamUserPermission(scope.id, crud.id, permissionId);\n          for (const recursive of [true, false]) {\n            await app._serverTeamUserPermissionsCache.refresh([scope.id, crud.id, recursive]);\n          }\n        } else {\n          const pId = scopeOrPermissionId;\n          await app._interface.revokeServerProjectPermission(crud.id, pId);\n          for (const recursive of [true, false]) {\n            await app._serverUserProjectPermissionsCache.refresh([crud.id, recursive]);\n          }\n        }\n      },\n      async delete() {\n        const res = await app._interface.deleteServerUser(crud.id);\n        await app._refreshUsers();\n        return res;\n      },\n      async createSession(options) {\n        const tokens = await app._interface.createServerUserSession(crud.id, options.expiresInMillis ?? 1e3 * 60 * 60 * 24 * 365, options.isImpersonation ?? false);\n        return {\n          async getTokens() {\n            return tokens;\n          }\n        };\n      },\n      async getActiveSessions() {\n        const sessions = await app._interface.listServerSessions(crud.id);\n        return sessions.map((session) => app._clientSessionFromCrud(session));\n      },\n      async revokeSession(sessionId) {\n        await app._interface.deleteServerSession(sessionId);\n      },\n      async setDisplayName(displayName) {\n        return await this.update({ displayName });\n      },\n      async setClientMetadata(metadata) {\n        return await this.update({ clientMetadata: metadata });\n      },\n      async setClientReadOnlyMetadata(metadata) {\n        return await this.update({ clientReadOnlyMetadata: metadata });\n      },\n      async setServerMetadata(metadata) {\n        return await this.update({ serverMetadata: metadata });\n      },\n      async setSelectedTeam(team) {\n        return await this.update({ selectedTeamId: team?.id ?? null });\n      },\n      getConnectedAccount,\n      useConnectedAccount,\n      // THIS_LINE_PLATFORM react-like\n      selectedTeam: crud.selected_team ? app._serverTeamFromCrud(crud.selected_team) : null,\n      async getTeam(teamId) {\n        const teams = await this.listTeams();\n        return teams.find((t) => t.id === teamId) ?? null;\n      },\n      useTeam(teamId) {\n        const teams = this.useTeams();\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n          return teams.find((t) => t.id === teamId) ?? null;\n        }, [teams, teamId]);\n      },\n      async listTeams() {\n        const teams = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverTeamsCache.getOrWait([crud.id], \"write-only\"));\n        return teams.map((t) => app._serverTeamFromCrud(t));\n      },\n      useTeams() {\n        const teams = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverTeamsCache, [crud.id], \"user.useTeams()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => teams.map((t) => app._serverTeamFromCrud(t)), [teams]);\n      },\n      createTeam: async (data) => {\n        const team = await app._interface.createServerTeam((0,_teams_index_js__WEBPACK_IMPORTED_MODULE_12__.serverTeamCreateOptionsToCrud)({\n          creatorUserId: crud.id,\n          ...data\n        }));\n        await app._serverTeamsCache.refresh([void 0]);\n        await app._updateServerUser(crud.id, { selectedTeamId: team.id });\n        return app._serverTeamFromCrud(team);\n      },\n      leaveTeam: async (team) => {\n        await app._interface.leaveServerTeam({ teamId: team.id, userId: crud.id });\n      },\n      async listPermissions(scopeOrOptions, options) {\n        if (scopeOrOptions && \"id\" in scopeOrOptions) {\n          const scope = scopeOrOptions;\n          const recursive = options?.recursive ?? true;\n          const permissions = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverTeamUserPermissionsCache.getOrWait([scope.id, crud.id, recursive], \"write-only\"));\n          return permissions.map((crud2) => app._serverPermissionFromCrud(crud2));\n        } else {\n          const opts = scopeOrOptions;\n          const recursive = opts?.recursive ?? true;\n          const permissions = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverUserProjectPermissionsCache.getOrWait([crud.id, recursive], \"write-only\"));\n          return permissions.map((crud2) => app._serverPermissionFromCrud(crud2));\n        }\n      },\n      usePermissions(scopeOrOptions, options) {\n        if (scopeOrOptions && \"id\" in scopeOrOptions) {\n          const scope = scopeOrOptions;\n          const recursive = options?.recursive ?? true;\n          const permissions = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverTeamUserPermissionsCache, [scope.id, crud.id, recursive], \"user.usePermissions()\");\n          return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => permissions.map((crud2) => app._serverPermissionFromCrud(crud2)), [permissions]);\n        } else {\n          const opts = scopeOrOptions;\n          const recursive = opts?.recursive ?? true;\n          const permissions = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverUserProjectPermissionsCache, [crud.id, recursive], \"user.usePermissions()\");\n          return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => permissions.map((crud2) => app._serverPermissionFromCrud(crud2)), [permissions]);\n        }\n      },\n      async getPermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\") {\n          const scope = scopeOrPermissionId;\n          const permissions = await this.listPermissions(scope);\n          return permissions.find((p) => p.id === permissionId) ?? null;\n        } else {\n          const pid = scopeOrPermissionId;\n          const permissions = await this.listPermissions();\n          return permissions.find((p) => p.id === pid) ?? null;\n        }\n      },\n      usePermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\") {\n          const scope = scopeOrPermissionId;\n          const permissions = this.usePermissions(scope);\n          return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => permissions.find((p) => p.id === permissionId) ?? null, [permissions, permissionId]);\n        } else {\n          const pid = scopeOrPermissionId;\n          const permissions = this.usePermissions();\n          return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => permissions.find((p) => p.id === pid) ?? null, [permissions, pid]);\n        }\n      },\n      async hasPermission(scopeOrPermissionId, permissionId) {\n        if (scopeOrPermissionId && typeof scopeOrPermissionId !== \"string\") {\n          const scope = scopeOrPermissionId;\n          return await this.getPermission(scope, permissionId) !== null;\n        } else {\n          const pid = scopeOrPermissionId;\n          return await this.getPermission(pid) !== null;\n        }\n      },\n      async update(update) {\n        await app._updateServerUser(crud.id, update);\n      },\n      async sendVerificationEmail() {\n        return await app._checkFeatureSupport(\"sendVerificationEmail() on ServerUser\", {});\n      },\n      async updatePassword(options) {\n        const result = await app._interface.updatePassword(options);\n        await app._serverUserCache.refresh([crud.id]);\n        return result;\n      },\n      async setPassword(options) {\n        const result = await this.update(options);\n        await app._serverUserCache.refresh([crud.id]);\n        return result;\n      },\n      async getTeamProfile(team) {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverUserTeamProfileCache.getOrWait([team.id, crud.id], \"write-only\"));\n        return app._serverEditableTeamProfileFromCrud(result);\n      },\n      useTeamProfile(team) {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverUserTeamProfileCache, [team.id, crud.id], \"user.useTeamProfile()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => app._serverEditableTeamProfileFromCrud(result), [result]);\n      },\n      async listContactChannels() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverContactChannelsCache.getOrWait([crud.id], \"write-only\"));\n        return result.map((data) => app._serverContactChannelFromCrud(crud.id, data));\n      },\n      useContactChannels() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverContactChannelsCache, [crud.id], \"user.useContactChannels()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => result.map((data) => app._serverContactChannelFromCrud(crud.id, data)), [result]);\n      },\n      createContactChannel: async (data) => {\n        const contactChannel = await app._interface.createServerContactChannel((0,_contact_channels_index_js__WEBPACK_IMPORTED_MODULE_10__.serverContactChannelCreateOptionsToCrud)(crud.id, data));\n        await Promise.all([\n          app._serverContactChannelsCache.refresh([crud.id]),\n          app._serverUserCache.refresh([crud.id])\n        ]);\n        return app._serverContactChannelFromCrud(crud.id, contactChannel);\n      },\n      useNotificationCategories() {\n        const results = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverNotificationCategoriesCache, [crud.id], \"user.useNotificationCategories()\");\n        return results.map((category) => app._serverNotificationCategoryFromCrud(crud.id, category));\n      },\n      async listNotificationCategories() {\n        const results = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverNotificationCategoriesCache.getOrWait([crud.id], \"write-only\"));\n        return results.map((category) => app._serverNotificationCategoryFromCrud(crud.id, category));\n      },\n      useApiKeys() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverUserApiKeysCache, [crud.id], \"user.useApiKeys()\");\n        return result.map((apiKey) => app._serverApiKeyFromCrud(apiKey));\n      },\n      async listApiKeys() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverUserApiKeysCache.getOrWait([crud.id], \"write-only\"));\n        return result.map((apiKey) => app._serverApiKeyFromCrud(apiKey));\n      },\n      async createApiKey(options) {\n        const result = await app._interface.createProjectApiKey(\n          await (0,_api_keys_index_js__WEBPACK_IMPORTED_MODULE_11__.apiKeyCreationOptionsToCrud)(\"user\", crud.id, options),\n          null,\n          \"server\"\n        );\n        await app._serverUserApiKeysCache.refresh([crud.id]);\n        return app._serverApiKeyFromCrud(result);\n      },\n      useOAuthProviders() {\n        const results = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverOAuthProvidersCache, [crud.id], \"user.useOAuthProviders()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => results.map((oauthCrud) => app._serverOAuthProviderFromCrud(oauthCrud)), [results]);\n      },\n      async listOAuthProviders() {\n        const results = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverOAuthProvidersCache.getOrWait([crud.id], \"write-only\"));\n        return results.map((oauthCrud) => app._serverOAuthProviderFromCrud(oauthCrud));\n      },\n      useOAuthProvider(id) {\n        const providers = this.useOAuthProviders();\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => providers.find((p) => p.id === id) ?? null, [providers, id]);\n      },\n      async getOAuthProvider(id) {\n        const providers = await this.listOAuthProviders();\n        return providers.find((p) => p.id === id) ?? null;\n      },\n      async createCheckoutUrl(options) {\n        const offerIdOrInline = \"offerId\" in options ? options.offerId : options.offer;\n        return await app._interface.createCheckoutUrl(\"user\", crud.id, offerIdOrInline, null);\n      },\n      async getItem(itemId) {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverUserItemsCache.getOrWait([crud.id, itemId], \"write-only\"));\n        return app._serverItemFromCrud({ type: \"user\", id: crud.id }, result);\n      },\n      useItem(itemId) {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverUserItemsCache, [crud.id, itemId], \"user.useItem()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => app._serverItemFromCrud({ type: \"user\", id: crud.id }, result), [result]);\n      }\n    };\n  }\n  _serverTeamUserFromCrud(crud) {\n    return {\n      ...this._serverUserFromCrud(crud.user),\n      teamProfile: {\n        displayName: crud.display_name,\n        profileImageUrl: crud.profile_image_url\n      }\n    };\n  }\n  _serverTeamInvitationFromCrud(crud) {\n    return {\n      id: crud.id,\n      recipientEmail: crud.recipient_email,\n      expiresAt: new Date(crud.expires_at_millis),\n      revoke: async () => {\n        await this._interface.revokeServerTeamInvitation(crud.id, crud.team_id);\n      }\n    };\n  }\n  _currentUserFromCrud(crud, session) {\n    const app = this;\n    const currentUser = {\n      ...this._serverUserFromCrud(crud),\n      ...this._createAuth(session),\n      ...this._isInternalProject() ? this._createInternalUserExtra(session) : {}\n    };\n    Object.freeze(currentUser);\n    return currentUser;\n  }\n  _serverTeamFromCrud(crud) {\n    const app = this;\n    return {\n      id: crud.id,\n      displayName: crud.display_name,\n      profileImageUrl: crud.profile_image_url,\n      createdAt: new Date(crud.created_at_millis),\n      clientMetadata: crud.client_metadata,\n      clientReadOnlyMetadata: crud.client_read_only_metadata,\n      serverMetadata: crud.server_metadata,\n      async update(update) {\n        await app._interface.updateServerTeam(crud.id, (0,_teams_index_js__WEBPACK_IMPORTED_MODULE_12__.serverTeamUpdateOptionsToCrud)(update));\n        await app._serverTeamsCache.refresh([void 0]);\n      },\n      async delete() {\n        await app._interface.deleteServerTeam(crud.id);\n        await app._serverTeamsCache.refresh([void 0]);\n      },\n      async listUsers() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverTeamMemberProfilesCache.getOrWait([crud.id], \"write-only\"));\n        return result.map((u) => app._serverTeamUserFromCrud(u));\n      },\n      useUsers() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverTeamMemberProfilesCache, [crud.id], \"team.useUsers()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => result.map((u) => app._serverTeamUserFromCrud(u)), [result]);\n      },\n      async addUser(userId) {\n        await app._interface.addServerUserToTeam({\n          teamId: crud.id,\n          userId\n        });\n        await app._serverTeamMemberProfilesCache.refresh([crud.id]);\n      },\n      async removeUser(userId) {\n        await app._interface.removeServerUserFromTeam({\n          teamId: crud.id,\n          userId\n        });\n        await app._serverTeamMemberProfilesCache.refresh([crud.id]);\n      },\n      async inviteUser(options) {\n        await app._interface.sendServerTeamInvitation({\n          teamId: crud.id,\n          email: options.email,\n          callbackUrl: options.callbackUrl ?? (0,_utils_url_js__WEBPACK_IMPORTED_MODULE_9__.constructRedirectUrl)(app.urls.teamInvitation, \"callbackUrl\")\n        });\n        await app._serverTeamInvitationsCache.refresh([crud.id]);\n      },\n      async listInvitations() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverTeamInvitationsCache.getOrWait([crud.id], \"write-only\"));\n        return result.map((crud2) => app._serverTeamInvitationFromCrud(crud2));\n      },\n      useInvitations() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverTeamInvitationsCache, [crud.id], \"team.useInvitations()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => result.map((crud2) => app._serverTeamInvitationFromCrud(crud2)), [result]);\n      },\n      useApiKeys() {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverTeamApiKeysCache, [crud.id], \"team.useApiKeys()\");\n        return result.map((apiKey) => app._serverApiKeyFromCrud(apiKey));\n      },\n      async listApiKeys() {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverTeamApiKeysCache.getOrWait([crud.id], \"write-only\"));\n        return result.map((apiKey) => app._serverApiKeyFromCrud(apiKey));\n      },\n      async createApiKey(options) {\n        const result = await app._interface.createProjectApiKey(\n          await (0,_api_keys_index_js__WEBPACK_IMPORTED_MODULE_11__.apiKeyCreationOptionsToCrud)(\"team\", crud.id, options),\n          null,\n          \"server\"\n        );\n        await app._serverTeamApiKeysCache.refresh([crud.id]);\n        return app._serverApiKeyFromCrud(result);\n      },\n      async getItem(itemId) {\n        const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await app._serverTeamItemsCache.getOrWait([crud.id, itemId], \"write-only\"));\n        return app._serverItemFromCrud({ type: \"team\", id: crud.id }, result);\n      },\n      useItem(itemId) {\n        const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(app._serverTeamItemsCache, [crud.id, itemId], \"team.useItem()\");\n        return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => app._serverItemFromCrud({ type: \"team\", id: crud.id }, result), [result]);\n      },\n      async createCheckoutUrl(options) {\n        const offerIdOrInline = \"offerId\" in options ? options.offerId : options.offer;\n        return await app._interface.createCheckoutUrl(\"team\", crud.id, offerIdOrInline, null);\n      }\n    };\n  }\n  _serverItemFromCrud(customer, crud) {\n    const app = this;\n    return {\n      displayName: crud.display_name,\n      quantity: crud.quantity,\n      nonNegativeQuantity: Math.max(0, crud.quantity),\n      increaseQuantity: async (delta) => {\n        const updateOptions = customer.type === \"user\" ? { itemId: crud.id, userId: customer.id } : customer.type === \"team\" ? { itemId: crud.id, teamId: customer.id } : { itemId: crud.id, customCustomerId: customer.id };\n        await app._interface.updateItemQuantity(updateOptions, { delta });\n        if (customer.type === \"user\") await app._serverUserItemsCache.refresh([customer.id, crud.id]);\n        else if (customer.type === \"team\") await app._serverTeamItemsCache.refresh([customer.id, crud.id]);\n        else await app._serverCustomItemsCache.refresh([customer.id, crud.id]);\n      },\n      decreaseQuantity: async (delta) => {\n        const updateOptions = customer.type === \"user\" ? { itemId: crud.id, userId: customer.id } : customer.type === \"team\" ? { itemId: crud.id, teamId: customer.id } : { itemId: crud.id, customCustomerId: customer.id };\n        await app._interface.updateItemQuantity(updateOptions, { delta: -delta, allow_negative: true });\n        if (customer.type === \"user\") await app._serverUserItemsCache.refresh([customer.id, crud.id]);\n        else if (customer.type === \"team\") await app._serverTeamItemsCache.refresh([customer.id, crud.id]);\n        else await app._serverCustomItemsCache.refresh([customer.id, crud.id]);\n      },\n      tryDecreaseQuantity: async (delta) => {\n        try {\n          const updateOptions = customer.type === \"user\" ? { itemId: crud.id, userId: customer.id } : customer.type === \"team\" ? { itemId: crud.id, teamId: customer.id } : { itemId: crud.id, customCustomerId: customer.id };\n          await app._interface.updateItemQuantity(updateOptions, { delta: -delta });\n          if (customer.type === \"user\") await app._serverUserItemsCache.refresh([customer.id, crud.id]);\n          else if (customer.type === \"team\") await app._serverTeamItemsCache.refresh([customer.id, crud.id]);\n          else await app._serverCustomItemsCache.refresh([customer.id, crud.id]);\n          return true;\n        } catch (error) {\n          if (error instanceof _stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.ItemQuantityInsufficientAmount) {\n            return false;\n          }\n          throw error;\n        }\n      }\n    };\n  }\n  async _getUserApiKey(options) {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverCheckApiKeyCache.getOrWait([\"user\", options.apiKey], \"write-only\"));\n    return crud ? this._serverApiKeyFromCrud(crud) : null;\n  }\n  async _getTeamApiKey(options) {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverCheckApiKeyCache.getOrWait([\"team\", options.apiKey], \"write-only\"));\n    return crud ? this._serverApiKeyFromCrud(crud) : null;\n  }\n  _useUserApiKey(options) {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverCheckApiKeyCache, [\"user\", options.apiKey], \"useUserApiKey()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => crud ? this._serverApiKeyFromCrud(crud) : null, [crud]);\n  }\n  _useTeamApiKey(options) {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverCheckApiKeyCache, [\"team\", options.apiKey], \"useTeamApiKey()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => crud ? this._serverApiKeyFromCrud(crud) : null, [crud]);\n  }\n  async _getUserByApiKey(apiKey) {\n    const apiKeyObject = await this._getUserApiKey({ apiKey });\n    if (apiKeyObject === null) {\n      return null;\n    }\n    return await this.getServerUserById(apiKeyObject.userId);\n  }\n  async _getUserByConvex(ctx, includeAnonymous) {\n    const identity = await ctx.auth.getUserIdentity();\n    if (identity === null) {\n      return null;\n    }\n    const user = await this.getServerUserById(identity.subject);\n    if (user?.isAnonymous && !includeAnonymous) {\n      return null;\n    }\n    return user;\n  }\n  _useUserByConvex(ctx, includeAnonymous) {\n    const subject = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._convexIdentitySubjectCache, [ctx], \"useUserByConvex()\");\n    if (subject === null) {\n      return null;\n    }\n    const user = this.useUserById(subject);\n    if (user?.isAnonymous && !includeAnonymous) {\n      return null;\n    }\n    return user;\n  }\n  _useUserByApiKey(apiKey) {\n    const apiKeyObject = this._useUserApiKey({ apiKey });\n    if (apiKeyObject === null) {\n      return null;\n    }\n    return this.useUserById(apiKeyObject.userId);\n  }\n  async _getTeamByApiKey(apiKey) {\n    const apiKeyObject = await this._getTeamApiKey({ apiKey });\n    if (apiKeyObject === null) {\n      return null;\n    }\n    return await this.getTeam(apiKeyObject.teamId);\n  }\n  _useTeamByApiKey(apiKey) {\n    const apiKeyObject = this._useTeamApiKey({ apiKey });\n    if (apiKeyObject === null) {\n      return null;\n    }\n    return this.useTeam(apiKeyObject.teamId);\n  }\n  async createUser(options) {\n    const crud = await this._interface.createServerUser((0,_users_index_js__WEBPACK_IMPORTED_MODULE_8__.serverUserCreateOptionsToCrud)(options));\n    await this._refreshUsers();\n    return this._serverUserFromCrud(crud);\n  }\n  async getUser(options) {\n    if (typeof options === \"string\") {\n      return await this.getServerUserById(options);\n    } else if (typeof options === \"object\" && \"apiKey\" in options) {\n      return await this._getUserByApiKey(options.apiKey);\n    } else if (typeof options === \"object\" && \"from\" in options && options.from === \"convex\") {\n      return await this._getUserByConvex(options.ctx, \"or\" in options && options.or === \"anonymous\");\n    } else {\n      options = options;\n      this._ensurePersistentTokenStore(options?.tokenStore);\n      const session = await this._getSession(options?.tokenStore);\n      let crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._currentServerUserCache.getOrWait([session], \"write-only\"));\n      if (crud?.is_anonymous && options?.or !== \"anonymous\" && options?.or !== \"anonymous-if-exists[deprecated]\") {\n        crud = null;\n      }\n      if (crud === null) {\n        switch (options?.or) {\n          case \"redirect\": {\n            await this.redirectToSignIn({ replace: true });\n            break;\n          }\n          case \"throw\": {\n            throw new Error(\"User is not signed in but getUser was called with { or: 'throw' }\");\n          }\n          case \"anonymous\": {\n            const tokens = await this._signUpAnonymously();\n            return await this.getUser({ tokenStore: tokens, or: \"anonymous-if-exists[deprecated]\" }) ?? (0,_stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__.throwErr)(\"Something went wrong while signing up anonymously\");\n          }\n          case void 0:\n          case \"anonymous-if-exists[deprecated]\":\n          case \"return-null\": {\n            return null;\n          }\n        }\n      }\n      return crud && this._currentUserFromCrud(crud, session);\n    }\n  }\n  async getServerUser() {\n    console.warn(\"stackServerApp.getServerUser is deprecated; use stackServerApp.getUser instead\");\n    return await this.getUser();\n  }\n  async getServerUserById(userId) {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverUserCache.getOrWait([userId], \"write-only\"));\n    return crud && this._serverUserFromCrud(crud);\n  }\n  useUser(options) {\n    if (typeof options === \"string\") {\n      return this.useUserById(options);\n    } else if (typeof options === \"object\" && \"apiKey\" in options) {\n      return this._useUserByApiKey(options.apiKey);\n    } else if (typeof options === \"object\" && \"from\" in options && options.from === \"convex\") {\n      return this._useUserByConvex(options.ctx, \"or\" in options && options.or === \"anonymous\");\n    } else {\n      options = options;\n      this._ensurePersistentTokenStore(options?.tokenStore);\n      const session = this._useSession(options?.tokenStore);\n      let crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._currentServerUserCache, [session], \"useUser()\");\n      if (crud?.is_anonymous && options?.or !== \"anonymous\" && options?.or !== \"anonymous-if-exists[deprecated]\") {\n        crud = null;\n      }\n      if (crud === null) {\n        switch (options?.or) {\n          case \"redirect\": {\n            (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_2__.runAsynchronously)(this.redirectToSignIn({ replace: true }));\n            (0,_stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_3__.suspend)();\n            throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"suspend should never return\");\n          }\n          case \"throw\": {\n            throw new Error(\"User is not signed in but useUser was called with { or: 'throw' }\");\n          }\n          case \"anonymous\": {\n            (0,_stackframe_stack_shared_dist_utils_promises__WEBPACK_IMPORTED_MODULE_2__.runAsynchronously)(async () => {\n              await this._signUpAnonymously();\n              if (typeof window !== \"undefined\") {\n                window.location.reload();\n              }\n            });\n            (0,_stackframe_stack_shared_dist_utils_react__WEBPACK_IMPORTED_MODULE_3__.suspend)();\n            throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_1__.StackAssertionError(\"suspend should never return\");\n          }\n          case void 0:\n          case \"anonymous-if-exists[deprecated]\":\n          case \"return-null\": {\n          }\n        }\n      }\n      return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n        return crud && this._currentUserFromCrud(crud, session);\n      }, [crud, session, options?.or]);\n    }\n  }\n  useUserById(userId) {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverUserCache, [userId], \"useUserById()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return crud && this._serverUserFromCrud(crud);\n    }, [crud]);\n  }\n  async listUsers(options) {\n    const crud = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverUsersCache.getOrWait([options?.cursor, options?.limit, options?.orderBy, options?.desc, options?.query, options?.includeAnonymous], \"write-only\"));\n    const result = crud.items.map((j) => this._serverUserFromCrud(j));\n    result.nextCursor = crud.pagination?.next_cursor ?? null;\n    return result;\n  }\n  useUsers(options) {\n    const crud = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverUsersCache, [options?.cursor, options?.limit, options?.orderBy, options?.desc, options?.query], \"useServerUsers()\");\n    const result = crud.items.map((j) => this._serverUserFromCrud(j));\n    result.nextCursor = crud.pagination?.next_cursor ?? null;\n    return result;\n  }\n  _serverPermissionFromCrud(crud) {\n    return {\n      id: crud.id\n    };\n  }\n  _serverTeamPermissionDefinitionFromCrud(crud) {\n    return {\n      id: crud.id,\n      description: crud.description,\n      containedPermissionIds: crud.contained_permission_ids\n    };\n  }\n  _serverProjectPermissionDefinitionFromCrud(crud) {\n    return {\n      id: crud.id,\n      description: crud.description,\n      containedPermissionIds: crud.contained_permission_ids\n    };\n  }\n  async listTeams() {\n    const teams = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverTeamsCache.getOrWait([void 0], \"write-only\"));\n    return teams.map((t) => this._serverTeamFromCrud(t));\n  }\n  async getItem(options) {\n    if (\"userId\" in options) {\n      const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverUserItemsCache.getOrWait([options.userId, options.itemId], \"write-only\"));\n      return this._serverItemFromCrud({ type: \"user\", id: options.userId }, result);\n    } else if (\"teamId\" in options) {\n      const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverTeamItemsCache.getOrWait([options.teamId, options.itemId], \"write-only\"));\n      return this._serverItemFromCrud({ type: \"team\", id: options.teamId }, result);\n    } else {\n      const result = _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverCustomItemsCache.getOrWait([options.customCustomerId, options.itemId], \"write-only\"));\n      return this._serverItemFromCrud({ type: \"custom\", id: options.customCustomerId }, result);\n    }\n  }\n  useItem(options) {\n    let type;\n    let id;\n    let cache;\n    if (\"userId\" in options) {\n      type = \"user\";\n      id = options.userId;\n      cache = this._serverUserItemsCache;\n    } else if (\"teamId\" in options) {\n      type = \"team\";\n      id = options.teamId;\n      cache = this._serverTeamItemsCache;\n    } else {\n      type = \"custom\";\n      id = options.customCustomerId;\n      cache = this._serverCustomItemsCache;\n    }\n    const cacheKey = [id, options.itemId];\n    const debugLabel = `app.useItem(${type})`;\n    const result = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(cache, cacheKey, debugLabel);\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => this._serverItemFromCrud({ type, id }, result), [result]);\n  }\n  async createTeam(data) {\n    const team = await this._interface.createServerTeam((0,_teams_index_js__WEBPACK_IMPORTED_MODULE_12__.serverTeamCreateOptionsToCrud)(data));\n    await this._serverTeamsCache.refresh([void 0]);\n    return this._serverTeamFromCrud(team);\n  }\n  useTeams() {\n    const teams = (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverTeamsCache, [void 0], \"useServerTeams()\");\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n      return teams.map((t) => this._serverTeamFromCrud(t));\n    }, [teams]);\n  }\n  async getTeam(options) {\n    if (typeof options === \"object\" && \"apiKey\" in options) {\n      return await this._getTeamByApiKey(options.apiKey);\n    } else {\n      const teamId = options;\n      const teams = await this.listTeams();\n      return teams.find((t) => t.id === teamId) ?? null;\n    }\n  }\n  useTeam(options) {\n    if (typeof options === \"object\" && \"apiKey\" in options) {\n      return this._useTeamByApiKey(options.apiKey);\n    } else {\n      const teamId = options;\n      const teams = this.useTeams();\n      return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n        return teams.find((t) => t.id === teamId) ?? null;\n      }, [teams, teamId]);\n    }\n  }\n  _createServerDataVaultStore(id) {\n    const validateOptions = (options) => {\n      if (typeof options.secret !== \"string\") throw new Error(\"secret must be a string, got \" + typeof options.secret);\n    };\n    return {\n      id,\n      setValue: async (key, value, options) => {\n        validateOptions(options);\n        await this._interface.setDataVaultStoreValue(options.secret, id, key, value);\n      },\n      getValue: async (key, options) => {\n        validateOptions(options);\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.orThrow(await this._serverDataVaultStoreValueCache.getOrWait([id, key, options.secret], \"write-only\"));\n      },\n      useValue: (key, options) => {\n        validateOptions(options);\n        return (0,_common_js__WEBPACK_IMPORTED_MODULE_7__.useAsyncCache)(this._serverDataVaultStoreValueCache, [id, key, options.secret], `app.useDataVaultStoreValue()`);\n      }\n    };\n  }\n  async getDataVaultStore(id) {\n    return this._createServerDataVaultStore(id);\n  }\n  useDataVaultStore(id) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => this._createServerDataVaultStore(id), [id]);\n  }\n  async sendEmail(options) {\n    await this._interface.sendEmail(options);\n  }\n  async _refreshSession(session) {\n    await Promise.all([\n      super._refreshUser(session),\n      this._currentServerUserCache.refresh([session])\n    ]);\n  }\n  async _refreshUsers() {\n    await Promise.all([\n      super._refreshUsers(),\n      this._serverUserCache.refreshWhere(() => true),\n      this._serverUsersCache.refreshWhere(() => true),\n      this._serverContactChannelsCache.refreshWhere(() => true),\n      this._serverOAuthProvidersCache.refreshWhere(() => true)\n    ]);\n  }\n  async createOAuthProvider(options) {\n    try {\n      const crud = await this._interface.createServerOAuthProvider({\n        user_id: options.userId,\n        provider_config_id: options.providerConfigId,\n        account_id: options.accountId,\n        email: options.email,\n        allow_sign_in: options.allowSignIn,\n        allow_connected_accounts: options.allowConnectedAccounts\n      });\n      await this._serverOAuthProvidersCache.refresh([options.userId]);\n      return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.ok(this._serverOAuthProviderFromCrud(crud));\n    } catch (error) {\n      if (_stackframe_stack_shared__WEBPACK_IMPORTED_MODULE_0__.KnownErrors.OAuthProviderAccountIdAlreadyUsedForSignIn.isInstance(error)) {\n        return _stackframe_stack_shared_dist_utils_results__WEBPACK_IMPORTED_MODULE_4__.Result.error(error);\n      }\n      throw error;\n    }\n  }\n};\n\n//# sourceMappingURL=server-app-impl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL3NlcnZlci1hcHAtaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUM2RTtBQUNjO0FBQ1Y7QUFDYjtBQUNDO0FBQ3JDO0FBQ2dDO0FBQ2lDO0FBQ2tDO0FBQy9CO0FBQ0E7QUFDL0I7QUFDcUk7QUFDOUo7QUFDNUMsa0RBQWtELDhFQUE2QjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04scUJBQXFCLDBFQUFvQjtBQUN6QywwQkFBMEIsc0RBQVU7QUFDcEMsd0NBQXdDLCtEQUFtQjtBQUMzRCw0REFBNEQseUVBQTZCO0FBQ3pGLHFCQUFxQjtBQUNyQiw4REFBOEQsMEVBQThCO0FBQzVGLG9EQUFvRCxxRUFBeUI7QUFDN0UsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQ0FBbUMsZ0VBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2Qix1REFBVztBQUN4QyxxREFBcUQsdURBQXVEO0FBQzVHLEtBQUs7QUFDTCw0QkFBNEIsdURBQVc7QUFDdkM7QUFDQSxhQUFhLCtFQUFNO0FBQ25CLEtBQUs7QUFDTCw2QkFBNkIsdURBQVc7QUFDeEMscURBQXFELFFBQVE7QUFDN0QsS0FBSztBQUNMLDJDQUEyQyx1REFBVztBQUN0RCwrREFBK0QsMkJBQTJCO0FBQzFGLEtBQUs7QUFDTCw4Q0FBOEMsdURBQVc7QUFDekQsa0VBQWtFLG1CQUFtQjtBQUNyRixLQUFLO0FBQ0wsdURBQXVELHVEQUFXO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixVQUFVO0FBQ1YsZ0JBQWdCLGlFQUFXLDREQUE0RCxpRUFBVztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsdURBQVc7QUFDdEQ7QUFDQTtBQUNBLCtCQUErQiwrRUFBTTtBQUNyQywyQ0FBMkMsK0VBQU07QUFDakQsK0JBQStCLHlEQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwwQ0FBMEMsdURBQVc7QUFDckQ7QUFDQSxvRUFBb0UsUUFBUTtBQUM1RTtBQUNBO0FBQ0EsdUNBQXVDLHVEQUFXO0FBQ2xEO0FBQ0EsaUVBQWlFLFFBQVE7QUFDekU7QUFDQTtBQUNBLHVDQUF1Qyx1REFBVztBQUNsRDtBQUNBLGtFQUFrRSxnQkFBZ0I7QUFDbEY7QUFDQTtBQUNBLHVDQUF1Qyx1REFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx1REFBVztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx1REFBVztBQUN0RDtBQUNBLEtBQUs7QUFDTCxtQ0FBbUMsdURBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx1REFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHVEQUFXO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsdURBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0NBQXNDLHVEQUFXO0FBQ2pEO0FBQ0EsZ0VBQWdFLGlCQUFpQjtBQUNqRjtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFXO0FBQzVDO0FBQ0EsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFXO0FBQzVDO0FBQ0EsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBO0FBQ0EsbUNBQW1DLHVEQUFXO0FBQzlDO0FBQ0EsK0NBQStDLDBCQUEwQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw4RUFBNkI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdIQUFnSCxtRUFBb0I7QUFDcEksT0FBTztBQUNQO0FBQ0EseUVBQXlFLG9HQUF1QztBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxpQkFBaUIsK0VBQU07QUFDdkIsVUFBVTtBQUNWLGNBQWMsaUVBQVc7QUFDekIsbUJBQW1CLCtFQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDLE9BQU87QUFDUDtBQUNBO0FBQ0EsbUNBQW1DLHdCQUF3QixJQUFJLHVCQUF1QjtBQUN0RjtBQUNBLGdCQUFnQiw4RUFBeUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtFQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQWE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDhEQUE4RDtBQUM3RyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLG1DQUFtQyxhQUFhO0FBQ2hELE9BQU87QUFDUDtBQUNBLG1DQUFtQywwQkFBMEI7QUFDN0QsT0FBTztBQUNQO0FBQ0EsbUNBQW1DLGtDQUFrQztBQUNyRSxPQUFPO0FBQ1A7QUFDQSxtQ0FBbUMsMEJBQTBCO0FBQzdELE9BQU87QUFDUDtBQUNBLG1DQUFtQyxrQ0FBa0M7QUFDckUsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxlQUFlLDhDQUFPO0FBQ3RCO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLHNCQUFzQiwrRUFBTTtBQUM1QjtBQUNBLE9BQU87QUFDUDtBQUNBLHNCQUFzQix5REFBYTtBQUNuQyxlQUFlLDhDQUFPO0FBQ3RCLE9BQU87QUFDUDtBQUNBLDJEQUEyRCwrRUFBNkI7QUFDeEY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLCtDQUErQyx5QkFBeUI7QUFDeEU7QUFDQSxPQUFPO0FBQ1A7QUFDQSwrQ0FBK0Msa0NBQWtDO0FBQ2pGLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrRUFBTTtBQUNwQztBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsOEJBQThCLCtFQUFNO0FBQ3BDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseURBQWE7QUFDM0MsaUJBQWlCLDhDQUFPO0FBQ3hCLFVBQVU7QUFDVjtBQUNBO0FBQ0EsOEJBQThCLHlEQUFhO0FBQzNDLGlCQUFpQiw4Q0FBTztBQUN4QjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhDQUFPO0FBQ3hCLFVBQVU7QUFDVjtBQUNBO0FBQ0EsaUJBQWlCLDhDQUFPO0FBQ3hCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUZBQXlGO0FBQ3pGLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1QiwrRUFBTTtBQUM3QjtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1Qix5REFBYTtBQUNwQyxlQUFlLDhDQUFPO0FBQ3RCLE9BQU87QUFDUDtBQUNBLHVCQUF1QiwrRUFBTTtBQUM3QjtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1Qix5REFBYTtBQUNwQyxlQUFlLDhDQUFPO0FBQ3RCLE9BQU87QUFDUDtBQUNBLCtFQUErRSxvR0FBdUM7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHdCQUF3Qix5REFBYTtBQUNyQztBQUNBLE9BQU87QUFDUDtBQUNBLHdCQUF3QiwrRUFBTTtBQUM5QjtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1Qix5REFBYTtBQUNwQztBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1QiwrRUFBTTtBQUM3QjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsZ0JBQWdCLGdGQUEyQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLHlEQUFhO0FBQ3JDLGVBQWUsOENBQU87QUFDdEIsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLCtFQUFNO0FBQzlCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxlQUFlLDhDQUFPO0FBQ3RCLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsdUJBQXVCLCtFQUFNO0FBQzdCLHlDQUF5QywyQkFBMkI7QUFDcEUsT0FBTztBQUNQO0FBQ0EsdUJBQXVCLHlEQUFhO0FBQ3BDLGVBQWUsOENBQU8saUNBQWlDLDJCQUEyQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCwrRUFBNkI7QUFDcEY7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsdUJBQXVCLCtFQUFNO0FBQzdCO0FBQ0EsT0FBTztBQUNQO0FBQ0EsdUJBQXVCLHlEQUFhO0FBQ3BDLGVBQWUsOENBQU87QUFDdEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG1FQUFvQjtBQUNsRSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSx1QkFBdUIsK0VBQU07QUFDN0I7QUFDQSxPQUFPO0FBQ1A7QUFDQSx1QkFBdUIseURBQWE7QUFDcEMsZUFBZSw4Q0FBTztBQUN0QixPQUFPO0FBQ1A7QUFDQSx1QkFBdUIseURBQWE7QUFDcEM7QUFDQSxPQUFPO0FBQ1A7QUFDQSx1QkFBdUIsK0VBQU07QUFDN0I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGdCQUFnQixnRkFBMkI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1QiwrRUFBTTtBQUM3Qix5Q0FBeUMsMkJBQTJCO0FBQ3BFLE9BQU87QUFDUDtBQUNBLHVCQUF1Qix5REFBYTtBQUNwQyxlQUFlLDhDQUFPLGlDQUFpQywyQkFBMkI7QUFDbEYsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHVDQUF1QywrQkFBK0IsdUNBQXVDLElBQUk7QUFDNUssaUVBQWlFLE9BQU87QUFDeEU7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsMkRBQTJELHVDQUF1QywrQkFBK0IsdUNBQXVDLElBQUk7QUFDNUssaUVBQWlFLHFDQUFxQztBQUN0RztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLDZEQUE2RCx1Q0FBdUMsK0JBQStCLHVDQUF1QyxJQUFJO0FBQzlLLG1FQUFtRSxlQUFlO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLCtCQUErQixpRUFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtFQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrRUFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUIsV0FBVyw4Q0FBTztBQUNsQjtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFhO0FBQzlCLFdBQVcsOENBQU87QUFDbEI7QUFDQTtBQUNBLHFEQUFxRCxRQUFRO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsUUFBUTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsOEVBQTZCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0VBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGVBQWU7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLGFBQWE7QUFDOUY7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDJEQUEyRCxLQUFLLG9GQUFRO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0VBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrRkFBaUIseUJBQXlCLGVBQWU7QUFDckUsWUFBWSxrRkFBTztBQUNuQixzQkFBc0IsMkZBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxpRkFBaUYsYUFBYTtBQUM5RjtBQUNBO0FBQ0EsWUFBWSwrRkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWSxrRkFBTztBQUNuQixzQkFBc0IsMkZBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4Q0FBTztBQUNwQjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUIsV0FBVyw4Q0FBTztBQUNsQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUJBQWlCLCtFQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseURBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtFQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLCtFQUFNO0FBQzNCLHdDQUF3QyxrQ0FBa0M7QUFDMUUsTUFBTTtBQUNOLHFCQUFxQiwrRUFBTTtBQUMzQix3Q0FBd0Msa0NBQWtDO0FBQzFFLE1BQU07QUFDTixxQkFBcUIsK0VBQU07QUFDM0Isd0NBQXdDLDhDQUE4QztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxLQUFLO0FBQzNDLG1CQUFtQix5REFBYTtBQUNoQyxXQUFXLDhDQUFPLGtDQUFrQyxVQUFVO0FBQzlEO0FBQ0E7QUFDQSx3REFBd0QsK0VBQTZCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlEQUFhO0FBQy9CLFdBQVcsOENBQU87QUFDbEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsYUFBYSw4Q0FBTztBQUNwQjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxlQUFlLCtFQUFNO0FBQ3JCLE9BQU87QUFDUDtBQUNBO0FBQ0EsZUFBZSx5REFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOENBQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxhQUFhLCtFQUFNO0FBQ25CLE1BQU07QUFDTixVQUFVLGlFQUFXO0FBQ3JCLGVBQWUsK0VBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxzdGFjay1hcHBcXGFwcHNcXGltcGxlbWVudGF0aW9uc1xcc2VydmVyLWFwcC1pbXBsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvc3RhY2stYXBwL2FwcHMvaW1wbGVtZW50YXRpb25zL3NlcnZlci1hcHAtaW1wbC50c1xuaW1wb3J0IHsgS25vd25FcnJvcnMsIFN0YWNrU2VydmVySW50ZXJmYWNlIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZFwiO1xuaW1wb3J0IHsgU3RhY2tBc3NlcnRpb25FcnJvciwgdGhyb3dFcnIgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBydW5Bc3luY2hyb25vdXNseSB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9wcm9taXNlc1wiO1xuaW1wb3J0IHsgc3VzcGVuZCB9IGZyb20gXCJAc3RhY2tmcmFtZS9zdGFjay1zaGFyZWQvZGlzdC91dGlscy9yZWFjdFwiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL3Jlc3VsdHNcIjtcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbnN0cnVjdFJlZGlyZWN0VXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3VybC5qc1wiO1xuaW1wb3J0IHsgYXBpS2V5Q3JlYXRpb25PcHRpb25zVG9DcnVkLCBhcGlLZXlVcGRhdGVPcHRpb25zVG9DcnVkIH0gZnJvbSBcIi4uLy4uL2FwaS1rZXlzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXJ2ZXJDb250YWN0Q2hhbm5lbENyZWF0ZU9wdGlvbnNUb0NydWQsIHNlcnZlckNvbnRhY3RDaGFubmVsVXBkYXRlT3B0aW9uc1RvQ3J1ZCB9IGZyb20gXCIuLi8uLi9jb250YWN0LWNoYW5uZWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXJ2ZXJUZWFtQ3JlYXRlT3B0aW9uc1RvQ3J1ZCwgc2VydmVyVGVhbVVwZGF0ZU9wdGlvbnNUb0NydWQgfSBmcm9tIFwiLi4vLi4vdGVhbXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHNlcnZlclVzZXJDcmVhdGVPcHRpb25zVG9DcnVkLCBzZXJ2ZXJVc2VyVXBkYXRlT3B0aW9uc1RvQ3J1ZCB9IGZyb20gXCIuLi8uLi91c2Vycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgX1N0YWNrQ2xpZW50QXBwSW1wbEluY29tcGxldGUgfSBmcm9tIFwiLi9jbGllbnQtYXBwLWltcGwuanNcIjtcbmltcG9ydCB7IGNsaWVudFZlcnNpb24sIGNyZWF0ZUNhY2hlLCBjcmVhdGVDYWNoZUJ5U2Vzc2lvbiwgZ2V0QmFzZVVybCwgZ2V0RGVmYXVsdEV4dHJhUmVxdWVzdEhlYWRlcnMsIGdldERlZmF1bHRQcm9qZWN0SWQsIGdldERlZmF1bHRQdWJsaXNoYWJsZUNsaWVudEtleSwgZ2V0RGVmYXVsdFNlY3JldFNlcnZlcktleSB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuaW1wb3J0IHsgdXNlQXN5bmNDYWNoZSB9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xudmFyIF9TdGFja1NlcnZlckFwcEltcGxJbmNvbXBsZXRlID0gY2xhc3MgZXh0ZW5kcyBfU3RhY2tDbGllbnRBcHBJbXBsSW5jb21wbGV0ZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcihcImludGVyZmFjZVwiIGluIG9wdGlvbnMgPyB7XG4gICAgICBpbnRlcmZhY2U6IG9wdGlvbnMuaW50ZXJmYWNlLFxuICAgICAgdG9rZW5TdG9yZTogb3B0aW9ucy50b2tlblN0b3JlLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgb2F1dGhTY29wZXNPblNpZ25Jbjogb3B0aW9ucy5vYXV0aFNjb3Blc09uU2lnbkluXG4gICAgfSA6IHtcbiAgICAgIGludGVyZmFjZTogbmV3IFN0YWNrU2VydmVySW50ZXJmYWNlKHtcbiAgICAgICAgZ2V0QmFzZVVybDogKCkgPT4gZ2V0QmFzZVVybChvcHRpb25zLmJhc2VVcmwpLFxuICAgICAgICBwcm9qZWN0SWQ6IG9wdGlvbnMucHJvamVjdElkID8/IGdldERlZmF1bHRQcm9qZWN0SWQoKSxcbiAgICAgICAgZXh0cmFSZXF1ZXN0SGVhZGVyczogb3B0aW9ucy5leHRyYVJlcXVlc3RIZWFkZXJzID8/IGdldERlZmF1bHRFeHRyYVJlcXVlc3RIZWFkZXJzKCksXG4gICAgICAgIGNsaWVudFZlcnNpb24sXG4gICAgICAgIHB1Ymxpc2hhYmxlQ2xpZW50S2V5OiBvcHRpb25zLnB1Ymxpc2hhYmxlQ2xpZW50S2V5ID8/IGdldERlZmF1bHRQdWJsaXNoYWJsZUNsaWVudEtleSgpLFxuICAgICAgICBzZWNyZXRTZXJ2ZXJLZXk6IG9wdGlvbnMuc2VjcmV0U2VydmVyS2V5ID8/IGdldERlZmF1bHRTZWNyZXRTZXJ2ZXJLZXkoKVxuICAgICAgfSksXG4gICAgICBiYXNlVXJsOiBvcHRpb25zLmJhc2VVcmwsXG4gICAgICBleHRyYVJlcXVlc3RIZWFkZXJzOiBvcHRpb25zLmV4dHJhUmVxdWVzdEhlYWRlcnMsXG4gICAgICBwcm9qZWN0SWQ6IG9wdGlvbnMucHJvamVjdElkLFxuICAgICAgcHVibGlzaGFibGVDbGllbnRLZXk6IG9wdGlvbnMucHVibGlzaGFibGVDbGllbnRLZXksXG4gICAgICB0b2tlblN0b3JlOiBvcHRpb25zLnRva2VuU3RvcmUsXG4gICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICBvYXV0aFNjb3Blc09uU2lnbkluOiBvcHRpb25zLm9hdXRoU2NvcGVzT25TaWduSW4sXG4gICAgICByZWRpcmVjdE1ldGhvZDogb3B0aW9ucy5yZWRpcmVjdE1ldGhvZFxuICAgIH0pO1xuICAgIC8vIFRPRE8gb3ZlcnJpZGUgdGhlIGNsaWVudCB1c2VyIGNhY2hlIHRvIHVzZSB0aGUgc2VydmVyIHVzZXIgY2FjaGUsIHNvIHdlIHNhdmUgc29tZSByZXF1ZXN0c1xuICAgIHRoaXMuX2N1cnJlbnRTZXJ2ZXJVc2VyQ2FjaGUgPSBjcmVhdGVDYWNoZUJ5U2Vzc2lvbihhc3luYyAoc2Vzc2lvbikgPT4ge1xuICAgICAgaWYgKHNlc3Npb24uaXNLbm93blRvQmVJbnZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmdldFNlcnZlclVzZXJCeVRva2VuKHNlc3Npb24pO1xuICAgIH0pO1xuICAgIHRoaXMuX3NlcnZlclVzZXJzQ2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoW2N1cnNvciwgbGltaXQsIG9yZGVyQnksIGRlc2MsIHF1ZXJ5LCBpbmNsdWRlQW5vbnltb3VzXSkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VydmVyVXNlcnMoeyBjdXJzb3IsIGxpbWl0LCBvcmRlckJ5LCBkZXNjLCBxdWVyeSwgaW5jbHVkZUFub255bW91cyB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXJ2ZXJVc2VyQ2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoW3VzZXJJZF0pID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuZ2V0U2VydmVyVXNlckJ5SWQodXNlcklkKTtcbiAgICAgIHJldHVybiBSZXN1bHQub3IodXNlciwgbnVsbCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2VydmVyVGVhbXNDYWNoZSA9IGNyZWF0ZUNhY2hlKGFzeW5jIChbdXNlcklkXSkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VydmVyVGVhbXMoeyB1c2VySWQgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2VydmVyVGVhbVVzZXJQZXJtaXNzaW9uc0NhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKFt0ZWFtSWQsIHVzZXJJZCwgcmVjdXJzaXZlXSkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VydmVyVGVhbVBlcm1pc3Npb25zKHsgdGVhbUlkLCB1c2VySWQsIHJlY3Vyc2l2ZSB9LCBudWxsKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXJ2ZXJVc2VyUHJvamVjdFBlcm1pc3Npb25zQ2FjaGUgPSBjcmVhdGVDYWNoZShhc3luYyAoW3VzZXJJZCwgcmVjdXJzaXZlXSkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VydmVyUHJvamVjdFBlcm1pc3Npb25zKHsgdXNlcklkLCByZWN1cnNpdmUgfSwgbnVsbCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2VydmVyVXNlck9BdXRoQ29ubmVjdGlvbkFjY2Vzc1Rva2Vuc0NhY2hlID0gY3JlYXRlQ2FjaGUoXG4gICAgICBhc3luYyAoW3VzZXJJZCwgcHJvdmlkZXJJZCwgc2NvcGVdKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmNyZWF0ZVNlcnZlclByb3ZpZGVyQWNjZXNzVG9rZW4odXNlcklkLCBwcm92aWRlcklkLCBzY29wZSB8fCBcIlwiKTtcbiAgICAgICAgICByZXR1cm4geyBhY2Nlc3NUb2tlbjogcmVzdWx0LmFjY2Vzc190b2tlbiB9O1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoIShLbm93bkVycm9ycy5PQXV0aENvbm5lY3Rpb25Eb2VzTm90SGF2ZVJlcXVpcmVkU2NvcGUuaXNJbnN0YW5jZShlcnIpIHx8IEtub3duRXJyb3JzLk9BdXRoQ29ubmVjdGlvbk5vdENvbm5lY3RlZFRvVXNlci5pc0luc3RhbmNlKGVycikpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fc2VydmVyVXNlck9BdXRoQ29ubmVjdGlvbkNhY2hlID0gY3JlYXRlQ2FjaGUoXG4gICAgICBhc3luYyAoW3VzZXJJZCwgcHJvdmlkZXJJZCwgc2NvcGUsIHJlZGlyZWN0XSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlck9BdXRoQ29ubmVjdGlvbkNhY2hlRm4oe1xuICAgICAgICAgIGdldFVzZXI6IGFzeW5jICgpID0+IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3NlcnZlclVzZXJDYWNoZS5nZXRPcldhaXQoW3VzZXJJZF0sIFwid3JpdGUtb25seVwiKSksXG4gICAgICAgICAgZ2V0T3JXYWl0T0F1dGhUb2tlbjogYXN5bmMgKCkgPT4gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fc2VydmVyVXNlck9BdXRoQ29ubmVjdGlvbkFjY2Vzc1Rva2Vuc0NhY2hlLmdldE9yV2FpdChbdXNlcklkLCBwcm92aWRlcklkLCBzY29wZSB8fCBcIlwiXSwgXCJ3cml0ZS1vbmx5XCIpKSxcbiAgICAgICAgICB1c2VPQXV0aFRva2VuOiAoKSA9PiB1c2VBc3luY0NhY2hlKHRoaXMuX3NlcnZlclVzZXJPQXV0aENvbm5lY3Rpb25BY2Nlc3NUb2tlbnNDYWNoZSwgW3VzZXJJZCwgcHJvdmlkZXJJZCwgc2NvcGUgfHwgXCJcIl0sIFwidXNlci51c2VDb25uZWN0ZWRBY2NvdW50KClcIiksXG4gICAgICAgICAgcHJvdmlkZXJJZCxcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICByZWRpcmVjdCxcbiAgICAgICAgICBzZXNzaW9uOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fc2VydmVyVGVhbU1lbWJlclByb2ZpbGVzQ2FjaGUgPSBjcmVhdGVDYWNoZShcbiAgICAgIGFzeW5jIChbdGVhbUlkXSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmxpc3RTZXJ2ZXJUZWFtTWVtYmVyUHJvZmlsZXMoeyB0ZWFtSWQgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9zZXJ2ZXJUZWFtSW52aXRhdGlvbnNDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFt0ZWFtSWRdKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UubGlzdFNlcnZlclRlYW1JbnZpdGF0aW9ucyh7IHRlYW1JZCB9KTtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX3NlcnZlclVzZXJUZWFtUHJvZmlsZUNhY2hlID0gY3JlYXRlQ2FjaGUoXG4gICAgICBhc3luYyAoW3RlYW1JZCwgdXNlcklkXSkgPT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmdldFNlcnZlclRlYW1NZW1iZXJQcm9maWxlKHsgdGVhbUlkLCB1c2VySWQgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbHNDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFt1c2VySWRdKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UubGlzdFNlcnZlckNvbnRhY3RDaGFubmVscyh1c2VySWQpO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fc2VydmVyTm90aWZpY2F0aW9uQ2F0ZWdvcmllc0NhY2hlID0gY3JlYXRlQ2FjaGUoXG4gICAgICBhc3luYyAoW3VzZXJJZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VydmVyTm90aWZpY2F0aW9uQ2F0ZWdvcmllcyh1c2VySWQpO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fc2VydmVyRGF0YVZhdWx0U3RvcmVWYWx1ZUNhY2hlID0gY3JlYXRlQ2FjaGUoYXN5bmMgKFtzdG9yZUlkLCBrZXksIHNlY3JldF0pID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuZ2V0RGF0YVZhdWx0U3RvcmVWYWx1ZShzZWNyZXQsIHN0b3JlSWQsIGtleSk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2VydmVyVXNlckFwaUtleXNDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFt1c2VySWRdKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0UHJvamVjdEFwaUtleXMoe1xuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZFxuICAgICAgICB9LCBudWxsLCBcInNlcnZlclwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuX3NlcnZlclRlYW1BcGlLZXlzQ2FjaGUgPSBjcmVhdGVDYWNoZShcbiAgICAgIGFzeW5jIChbdGVhbUlkXSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UubGlzdFByb2plY3RBcGlLZXlzKHtcbiAgICAgICAgICB0ZWFtX2lkOiB0ZWFtSWRcbiAgICAgICAgfSwgbnVsbCwgXCJzZXJ2ZXJcIik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9jb252ZXhJZGVudGl0eVN1YmplY3RDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFtjdHhdKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gYXdhaXQgY3R4LmF1dGguZ2V0VXNlcklkZW50aXR5KCk7XG4gICAgICAgIHJldHVybiBpZGVudGl0eSA/IGlkZW50aXR5LnN1YmplY3QgOiBudWxsO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5fc2VydmVyQ2hlY2tBcGlLZXlDYWNoZSA9IGNyZWF0ZUNhY2hlKGFzeW5jIChbdHlwZSwgYXBpS2V5XSkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5faW50ZXJmYWNlLmNoZWNrUHJvamVjdEFwaUtleShcbiAgICAgICAgdHlwZSxcbiAgICAgICAgYXBpS2V5LFxuICAgICAgICBudWxsLFxuICAgICAgICBcInNlcnZlclwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXJ2ZXJPQXV0aFByb3ZpZGVyc0NhY2hlID0gY3JlYXRlQ2FjaGUoXG4gICAgICBhc3luYyAoW3VzZXJJZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5saXN0U2VydmVyT0F1dGhQcm92aWRlcnMoeyB1c2VyX2lkOiB1c2VySWQgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9zZXJ2ZXJUZWFtSXRlbXNDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFt0ZWFtSWQsIGl0ZW1JZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRJdGVtKHsgdGVhbUlkLCBpdGVtSWQgfSwgbnVsbCk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9zZXJ2ZXJVc2VySXRlbXNDYWNoZSA9IGNyZWF0ZUNhY2hlKFxuICAgICAgYXN5bmMgKFt1c2VySWQsIGl0ZW1JZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRJdGVtKHsgdXNlcklkLCBpdGVtSWQgfSwgbnVsbCk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl9zZXJ2ZXJDdXN0b21JdGVtc0NhY2hlID0gY3JlYXRlQ2FjaGUoXG4gICAgICBhc3luYyAoW2N1c3RvbUN1c3RvbWVySWQsIGl0ZW1JZF0pID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ludGVyZmFjZS5nZXRJdGVtKHsgY3VzdG9tQ3VzdG9tZXJJZCwgaXRlbUlkIH0sIG51bGwpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgYXN5bmMgX3VwZGF0ZVNlcnZlclVzZXIodXNlcklkLCB1cGRhdGUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UudXBkYXRlU2VydmVyVXNlcih1c2VySWQsIHNlcnZlclVzZXJVcGRhdGVPcHRpb25zVG9DcnVkKHVwZGF0ZSkpO1xuICAgIGF3YWl0IHRoaXMuX3JlZnJlc2hVc2VycygpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgX3NlcnZlckVkaXRhYmxlVGVhbVByb2ZpbGVGcm9tQ3J1ZChjcnVkKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgZGlzcGxheU5hbWU6IGNydWQuZGlzcGxheV9uYW1lLFxuICAgICAgcHJvZmlsZUltYWdlVXJsOiBjcnVkLnByb2ZpbGVfaW1hZ2VfdXJsLFxuICAgICAgYXN5bmMgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS51cGRhdGVTZXJ2ZXJUZWFtTWVtYmVyUHJvZmlsZSh7XG4gICAgICAgICAgdGVhbUlkOiBjcnVkLnRlYW1faWQsXG4gICAgICAgICAgdXNlcklkOiBjcnVkLnVzZXJfaWQsXG4gICAgICAgICAgcHJvZmlsZToge1xuICAgICAgICAgICAgZGlzcGxheV9uYW1lOiB1cGRhdGUuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBwcm9maWxlX2ltYWdlX3VybDogdXBkYXRlLnByb2ZpbGVJbWFnZVVybFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGFwcC5fc2VydmVyVXNlclRlYW1Qcm9maWxlQ2FjaGUucmVmcmVzaChbY3J1ZC50ZWFtX2lkLCBjcnVkLnVzZXJfaWRdKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9zZXJ2ZXJDb250YWN0Q2hhbm5lbEZyb21DcnVkKHVzZXJJZCwgY3J1ZCkge1xuICAgIGNvbnN0IGFwcCA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBjcnVkLmlkLFxuICAgICAgdmFsdWU6IGNydWQudmFsdWUsXG4gICAgICB0eXBlOiBjcnVkLnR5cGUsXG4gICAgICBpc1ZlcmlmaWVkOiBjcnVkLmlzX3ZlcmlmaWVkLFxuICAgICAgaXNQcmltYXJ5OiBjcnVkLmlzX3ByaW1hcnksXG4gICAgICB1c2VkRm9yQXV0aDogY3J1ZC51c2VkX2Zvcl9hdXRoLFxuICAgICAgYXN5bmMgc2VuZFZlcmlmaWNhdGlvbkVtYWlsKG9wdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2Uuc2VuZFNlcnZlckNvbnRhY3RDaGFubmVsVmVyaWZpY2F0aW9uRW1haWwodXNlcklkLCBjcnVkLmlkLCBvcHRpb25zPy5jYWxsYmFja1VybCA/PyBjb25zdHJ1Y3RSZWRpcmVjdFVybChhcHAudXJscy5lbWFpbFZlcmlmaWNhdGlvbiwgXCJjYWxsYmFja1VybFwiKSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UudXBkYXRlU2VydmVyQ29udGFjdENoYW5uZWwodXNlcklkLCBjcnVkLmlkLCBzZXJ2ZXJDb250YWN0Q2hhbm5lbFVwZGF0ZU9wdGlvbnNUb0NydWQoZGF0YSkpO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgYXBwLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbHNDYWNoZS5yZWZyZXNoKFt1c2VySWRdKSxcbiAgICAgICAgICBhcHAuX3NlcnZlclVzZXJDYWNoZS5yZWZyZXNoKFt1c2VySWRdKVxuICAgICAgICBdKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBkZWxldGUoKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLmRlbGV0ZVNlcnZlckNvbnRhY3RDaGFubmVsKHVzZXJJZCwgY3J1ZC5pZCk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICBhcHAuX3NlcnZlckNvbnRhY3RDaGFubmVsc0NhY2hlLnJlZnJlc2goW3VzZXJJZF0pLFxuICAgICAgICAgIGFwcC5fc2VydmVyVXNlckNhY2hlLnJlZnJlc2goW3VzZXJJZF0pXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3NlcnZlck5vdGlmaWNhdGlvbkNhdGVnb3J5RnJvbUNydWQodXNlcklkLCBjcnVkKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQubm90aWZpY2F0aW9uX2NhdGVnb3J5X2lkLFxuICAgICAgbmFtZTogY3J1ZC5ub3RpZmljYXRpb25fY2F0ZWdvcnlfbmFtZSxcbiAgICAgIGVuYWJsZWQ6IGNydWQuZW5hYmxlZCxcbiAgICAgIGNhbkRpc2FibGU6IGNydWQuY2FuX2Rpc2FibGUsXG4gICAgICBhc3luYyBzZXRFbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2Uuc2V0U2VydmVyTm90aWZpY2F0aW9uc0VuYWJsZWQodXNlcklkLCBjcnVkLm5vdGlmaWNhdGlvbl9jYXRlZ29yeV9pZCwgZW5hYmxlZCk7XG4gICAgICAgIGF3YWl0IGFwcC5fc2VydmVyTm90aWZpY2F0aW9uQ2F0ZWdvcmllc0NhY2hlLnJlZnJlc2goW3VzZXJJZF0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3NlcnZlck9BdXRoUHJvdmlkZXJGcm9tQ3J1ZChjcnVkKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICB0eXBlOiBjcnVkLnR5cGUsXG4gICAgICB1c2VySWQ6IGNydWQudXNlcl9pZCxcbiAgICAgIGFjY291bnRJZDogY3J1ZC5hY2NvdW50X2lkLFxuICAgICAgZW1haWw6IGNydWQuZW1haWwsXG4gICAgICBhbGxvd1NpZ25JbjogY3J1ZC5hbGxvd19zaWduX2luLFxuICAgICAgYWxsb3dDb25uZWN0ZWRBY2NvdW50czogY3J1ZC5hbGxvd19jb25uZWN0ZWRfYWNjb3VudHMsXG4gICAgICBhc3luYyB1cGRhdGUoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLnVwZGF0ZVNlcnZlck9BdXRoUHJvdmlkZXIoY3J1ZC51c2VyX2lkLCBjcnVkLmlkLCB7XG4gICAgICAgICAgICBhY2NvdW50X2lkOiBkYXRhLmFjY291bnRJZCxcbiAgICAgICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICAgICAgYWxsb3dfc2lnbl9pbjogZGF0YS5hbGxvd1NpZ25JbixcbiAgICAgICAgICAgIGFsbG93X2Nvbm5lY3RlZF9hY2NvdW50czogZGF0YS5hbGxvd0Nvbm5lY3RlZEFjY291bnRzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXdhaXQgYXBwLl9zZXJ2ZXJPQXV0aFByb3ZpZGVyc0NhY2hlLnJlZnJlc2goW2NydWQudXNlcl9pZF0pO1xuICAgICAgICAgIHJldHVybiBSZXN1bHQub2sodm9pZCAwKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoS25vd25FcnJvcnMuT0F1dGhQcm92aWRlckFjY291bnRJZEFscmVhZHlVc2VkRm9yU2lnbkluLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzdWx0LmVycm9yKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBkZWxldGUoKSB7XG4gICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLmRlbGV0ZVNlcnZlck9BdXRoUHJvdmlkZXIoY3J1ZC51c2VyX2lkLCBjcnVkLmlkKTtcbiAgICAgICAgYXdhaXQgYXBwLl9zZXJ2ZXJPQXV0aFByb3ZpZGVyc0NhY2hlLnJlZnJlc2goW2NydWQudXNlcl9pZF0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3NlcnZlckFwaUtleUZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5fYmFzZUFwaUtleUZyb21DcnVkKGNydWQpLFxuICAgICAgYXN5bmMgcmV2b2tlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7IHJldm9rZWQ6IHRydWUgfSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlOiBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2UudXBkYXRlUHJvamVjdEFwaUtleShcbiAgICAgICAgICBjcnVkLnR5cGUgPT09IFwidGVhbVwiID8geyB0ZWFtX2lkOiBjcnVkLnRlYW1faWQgfSA6IHsgdXNlcl9pZDogY3J1ZC51c2VyX2lkIH0sXG4gICAgICAgICAgY3J1ZC5pZCxcbiAgICAgICAgICBhd2FpdCBhcGlLZXlVcGRhdGVPcHRpb25zVG9DcnVkKGNydWQudHlwZSwgb3B0aW9ucyksXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBcInNlcnZlclwiXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjcnVkLnR5cGUgPT09IFwidGVhbVwiKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5fc2VydmVyVGVhbUFwaUtleXNDYWNoZS5yZWZyZXNoKFtjcnVkLnRlYW1faWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLl9zZXJ2ZXJVc2VyQXBpS2V5c0NhY2hlLnJlZnJlc2goW2NydWQudXNlcl9pZF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfc2VydmVyVXNlckZyb21DcnVkKGNydWQpIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIGFzeW5jIGZ1bmN0aW9uIGdldENvbm5lY3RlZEFjY291bnQoaWQsIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNjb3BlU3RyaW5nID0gb3B0aW9ucz8uc2NvcGVzPy5qb2luKFwiIFwiKTtcbiAgICAgIHJldHVybiBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlclVzZXJPQXV0aENvbm5lY3Rpb25DYWNoZS5nZXRPcldhaXQoW2NydWQuaWQsIGlkLCBzY29wZVN0cmluZyB8fCBcIlwiLCBvcHRpb25zPy5vciA9PT0gXCJyZWRpcmVjdFwiXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlQ29ubmVjdGVkQWNjb3VudChpZCwgb3B0aW9ucykge1xuICAgICAgY29uc3Qgc2NvcGVTdHJpbmcgPSBvcHRpb25zPy5zY29wZXM/LmpvaW4oXCIgXCIpO1xuICAgICAgcmV0dXJuIHVzZUFzeW5jQ2FjaGUoYXBwLl9zZXJ2ZXJVc2VyT0F1dGhDb25uZWN0aW9uQ2FjaGUsIFtjcnVkLmlkLCBpZCwgc2NvcGVTdHJpbmcgfHwgXCJcIiwgb3B0aW9ucz8ub3IgPT09IFwicmVkaXJlY3RcIl0sIFwidXNlci51c2VDb25uZWN0ZWRBY2NvdW50KClcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci5fY3JlYXRlQmFzZVVzZXIoY3J1ZCksXG4gICAgICBsYXN0QWN0aXZlQXQ6IG5ldyBEYXRlKGNydWQubGFzdF9hY3RpdmVfYXRfbWlsbGlzKSxcbiAgICAgIHNlcnZlck1ldGFkYXRhOiBjcnVkLnNlcnZlcl9tZXRhZGF0YSxcbiAgICAgIGFzeW5jIHNldFByaW1hcnlFbWFpbChlbWFpbCwgb3B0aW9ucykge1xuICAgICAgICBhd2FpdCBhcHAuX3VwZGF0ZVNlcnZlclVzZXIoY3J1ZC5pZCwgeyBwcmltYXJ5RW1haWw6IGVtYWlsLCBwcmltYXJ5RW1haWxWZXJpZmllZDogb3B0aW9ucz8udmVyaWZpZWQgfSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZ3JhbnRQZXJtaXNzaW9uKHNjb3BlT3JQZXJtaXNzaW9uSWQsIHBlcm1pc3Npb25JZCkge1xuICAgICAgICBpZiAoc2NvcGVPclBlcm1pc3Npb25JZCAmJiB0eXBlb2Ygc2NvcGVPclBlcm1pc3Npb25JZCAhPT0gXCJzdHJpbmdcIiAmJiBwZXJtaXNzaW9uSWQpIHtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IHNjb3BlT3JQZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UuZ3JhbnRTZXJ2ZXJUZWFtVXNlclBlcm1pc3Npb24oc2NvcGUuaWQsIGNydWQuaWQsIHBlcm1pc3Npb25JZCk7XG4gICAgICAgICAgZm9yIChjb25zdCByZWN1cnNpdmUgb2YgW3RydWUsIGZhbHNlXSkge1xuICAgICAgICAgICAgYXdhaXQgYXBwLl9zZXJ2ZXJUZWFtVXNlclBlcm1pc3Npb25zQ2FjaGUucmVmcmVzaChbc2NvcGUuaWQsIGNydWQuaWQsIHJlY3Vyc2l2ZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBwSWQgPSBzY29wZU9yUGVybWlzc2lvbklkO1xuICAgICAgICAgIGF3YWl0IGFwcC5faW50ZXJmYWNlLmdyYW50U2VydmVyUHJvamVjdFBlcm1pc3Npb24oY3J1ZC5pZCwgcElkKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHJlY3Vyc2l2ZSBvZiBbdHJ1ZSwgZmFsc2VdKSB7XG4gICAgICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclVzZXJQcm9qZWN0UGVybWlzc2lvbnNDYWNoZS5yZWZyZXNoKFtjcnVkLmlkLCByZWN1cnNpdmVdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyByZXZva2VQZXJtaXNzaW9uKHNjb3BlT3JQZXJtaXNzaW9uSWQsIHBlcm1pc3Npb25JZCkge1xuICAgICAgICBpZiAoc2NvcGVPclBlcm1pc3Npb25JZCAmJiB0eXBlb2Ygc2NvcGVPclBlcm1pc3Npb25JZCAhPT0gXCJzdHJpbmdcIiAmJiBwZXJtaXNzaW9uSWQpIHtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IHNjb3BlT3JQZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UucmV2b2tlU2VydmVyVGVhbVVzZXJQZXJtaXNzaW9uKHNjb3BlLmlkLCBjcnVkLmlkLCBwZXJtaXNzaW9uSWQpO1xuICAgICAgICAgIGZvciAoY29uc3QgcmVjdXJzaXZlIG9mIFt0cnVlLCBmYWxzZV0pIHtcbiAgICAgICAgICAgIGF3YWl0IGFwcC5fc2VydmVyVGVhbVVzZXJQZXJtaXNzaW9uc0NhY2hlLnJlZnJlc2goW3Njb3BlLmlkLCBjcnVkLmlkLCByZWN1cnNpdmVdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcElkID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5yZXZva2VTZXJ2ZXJQcm9qZWN0UGVybWlzc2lvbihjcnVkLmlkLCBwSWQpO1xuICAgICAgICAgIGZvciAoY29uc3QgcmVjdXJzaXZlIG9mIFt0cnVlLCBmYWxzZV0pIHtcbiAgICAgICAgICAgIGF3YWl0IGFwcC5fc2VydmVyVXNlclByb2plY3RQZXJtaXNzaW9uc0NhY2hlLnJlZnJlc2goW2NydWQuaWQsIHJlY3Vyc2l2ZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGRlbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UuZGVsZXRlU2VydmVyVXNlcihjcnVkLmlkKTtcbiAgICAgICAgYXdhaXQgYXBwLl9yZWZyZXNoVXNlcnMoKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0sXG4gICAgICBhc3luYyBjcmVhdGVTZXNzaW9uKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UuY3JlYXRlU2VydmVyVXNlclNlc3Npb24oY3J1ZC5pZCwgb3B0aW9ucy5leHBpcmVzSW5NaWxsaXMgPz8gMWUzICogNjAgKiA2MCAqIDI0ICogMzY1LCBvcHRpb25zLmlzSW1wZXJzb25hdGlvbiA/PyBmYWxzZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXN5bmMgZ2V0VG9rZW5zKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgYXN5bmMgZ2V0QWN0aXZlU2Vzc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UubGlzdFNlcnZlclNlc3Npb25zKGNydWQuaWQpO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbnMubWFwKChzZXNzaW9uKSA9PiBhcHAuX2NsaWVudFNlc3Npb25Gcm9tQ3J1ZChzZXNzaW9uKSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgcmV2b2tlU2Vzc2lvbihzZXNzaW9uSWQpIHtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UuZGVsZXRlU2VydmVyU2Vzc2lvbihzZXNzaW9uSWQpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHNldERpc3BsYXlOYW1lKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7IGRpc3BsYXlOYW1lIH0pO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHNldENsaWVudE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7IGNsaWVudE1ldGFkYXRhOiBtZXRhZGF0YSB9KTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBzZXRDbGllbnRSZWFkT25seU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7IGNsaWVudFJlYWRPbmx5TWV0YWRhdGE6IG1ldGFkYXRhIH0pO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHNldFNlcnZlck1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnVwZGF0ZSh7IHNlcnZlck1ldGFkYXRhOiBtZXRhZGF0YSB9KTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBzZXRTZWxlY3RlZFRlYW0odGVhbSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGUoeyBzZWxlY3RlZFRlYW1JZDogdGVhbT8uaWQgPz8gbnVsbCB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRDb25uZWN0ZWRBY2NvdW50LFxuICAgICAgdXNlQ29ubmVjdGVkQWNjb3VudCxcbiAgICAgIC8vIFRISVNfTElORV9QTEFURk9STSByZWFjdC1saWtlXG4gICAgICBzZWxlY3RlZFRlYW06IGNydWQuc2VsZWN0ZWRfdGVhbSA/IGFwcC5fc2VydmVyVGVhbUZyb21DcnVkKGNydWQuc2VsZWN0ZWRfdGVhbSkgOiBudWxsLFxuICAgICAgYXN5bmMgZ2V0VGVhbSh0ZWFtSWQpIHtcbiAgICAgICAgY29uc3QgdGVhbXMgPSBhd2FpdCB0aGlzLmxpc3RUZWFtcygpO1xuICAgICAgICByZXR1cm4gdGVhbXMuZmluZCgodCkgPT4gdC5pZCA9PT0gdGVhbUlkKSA/PyBudWxsO1xuICAgICAgfSxcbiAgICAgIHVzZVRlYW0odGVhbUlkKSB7XG4gICAgICAgIGNvbnN0IHRlYW1zID0gdGhpcy51c2VUZWFtcygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRlYW1zLmZpbmQoKHQpID0+IHQuaWQgPT09IHRlYW1JZCkgPz8gbnVsbDtcbiAgICAgICAgfSwgW3RlYW1zLCB0ZWFtSWRdKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0VGVhbXMoKSB7XG4gICAgICAgIGNvbnN0IHRlYW1zID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgYXBwLl9zZXJ2ZXJUZWFtc0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiB0ZWFtcy5tYXAoKHQpID0+IGFwcC5fc2VydmVyVGVhbUZyb21DcnVkKHQpKTtcbiAgICAgIH0sXG4gICAgICB1c2VUZWFtcygpIHtcbiAgICAgICAgY29uc3QgdGVhbXMgPSB1c2VBc3luY0NhY2hlKGFwcC5fc2VydmVyVGVhbXNDYWNoZSwgW2NydWQuaWRdLCBcInVzZXIudXNlVGVhbXMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gdGVhbXMubWFwKCh0KSA9PiBhcHAuX3NlcnZlclRlYW1Gcm9tQ3J1ZCh0KSksIFt0ZWFtc10pO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZVRlYW06IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlYW0gPSBhd2FpdCBhcHAuX2ludGVyZmFjZS5jcmVhdGVTZXJ2ZXJUZWFtKHNlcnZlclRlYW1DcmVhdGVPcHRpb25zVG9DcnVkKHtcbiAgICAgICAgICBjcmVhdG9yVXNlcklkOiBjcnVkLmlkLFxuICAgICAgICAgIC4uLmRhdGFcbiAgICAgICAgfSkpO1xuICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclRlYW1zQ2FjaGUucmVmcmVzaChbdm9pZCAwXSk7XG4gICAgICAgIGF3YWl0IGFwcC5fdXBkYXRlU2VydmVyVXNlcihjcnVkLmlkLCB7IHNlbGVjdGVkVGVhbUlkOiB0ZWFtLmlkIH0pO1xuICAgICAgICByZXR1cm4gYXBwLl9zZXJ2ZXJUZWFtRnJvbUNydWQodGVhbSk7XG4gICAgICB9LFxuICAgICAgbGVhdmVUZWFtOiBhc3luYyAodGVhbSkgPT4ge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5sZWF2ZVNlcnZlclRlYW0oeyB0ZWFtSWQ6IHRlYW0uaWQsIHVzZXJJZDogY3J1ZC5pZCB9KTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0UGVybWlzc2lvbnMoc2NvcGVPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHNjb3BlT3JPcHRpb25zICYmIFwiaWRcIiBpbiBzY29wZU9yT3B0aW9ucykge1xuICAgICAgICAgIGNvbnN0IHNjb3BlID0gc2NvcGVPck9wdGlvbnM7XG4gICAgICAgICAgY29uc3QgcmVjdXJzaXZlID0gb3B0aW9ucz8ucmVjdXJzaXZlID8/IHRydWU7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlclRlYW1Vc2VyUGVybWlzc2lvbnNDYWNoZS5nZXRPcldhaXQoW3Njb3BlLmlkLCBjcnVkLmlkLCByZWN1cnNpdmVdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICAgIHJldHVybiBwZXJtaXNzaW9ucy5tYXAoKGNydWQyKSA9PiBhcHAuX3NlcnZlclBlcm1pc3Npb25Gcm9tQ3J1ZChjcnVkMikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG9wdHMgPSBzY29wZU9yT3B0aW9ucztcbiAgICAgICAgICBjb25zdCByZWN1cnNpdmUgPSBvcHRzPy5yZWN1cnNpdmUgPz8gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fc2VydmVyVXNlclByb2plY3RQZXJtaXNzaW9uc0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZCwgcmVjdXJzaXZlXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnMubWFwKChjcnVkMikgPT4gYXBwLl9zZXJ2ZXJQZXJtaXNzaW9uRnJvbUNydWQoY3J1ZDIpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVBlcm1pc3Npb25zKHNjb3BlT3JPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChzY29wZU9yT3B0aW9ucyAmJiBcImlkXCIgaW4gc2NvcGVPck9wdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IHNjb3BlT3JPcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHJlY3Vyc2l2ZSA9IG9wdGlvbnM/LnJlY3Vyc2l2ZSA/PyB0cnVlO1xuICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25zID0gdXNlQXN5bmNDYWNoZShhcHAuX3NlcnZlclRlYW1Vc2VyUGVybWlzc2lvbnNDYWNoZSwgW3Njb3BlLmlkLCBjcnVkLmlkLCByZWN1cnNpdmVdLCBcInVzZXIudXNlUGVybWlzc2lvbnMoKVwiKTtcbiAgICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBwZXJtaXNzaW9ucy5tYXAoKGNydWQyKSA9PiBhcHAuX3NlcnZlclBlcm1pc3Npb25Gcm9tQ3J1ZChjcnVkMikpLCBbcGVybWlzc2lvbnNdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBvcHRzID0gc2NvcGVPck9wdGlvbnM7XG4gICAgICAgICAgY29uc3QgcmVjdXJzaXZlID0gb3B0cz8ucmVjdXJzaXZlID8/IHRydWU7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSB1c2VBc3luY0NhY2hlKGFwcC5fc2VydmVyVXNlclByb2plY3RQZXJtaXNzaW9uc0NhY2hlLCBbY3J1ZC5pZCwgcmVjdXJzaXZlXSwgXCJ1c2VyLnVzZVBlcm1pc3Npb25zKClcIik7XG4gICAgICAgICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gcGVybWlzc2lvbnMubWFwKChjcnVkMikgPT4gYXBwLl9zZXJ2ZXJQZXJtaXNzaW9uRnJvbUNydWQoY3J1ZDIpKSwgW3Blcm1pc3Npb25zXSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBnZXRQZXJtaXNzaW9uKHNjb3BlT3JQZXJtaXNzaW9uSWQsIHBlcm1pc3Npb25JZCkge1xuICAgICAgICBpZiAoc2NvcGVPclBlcm1pc3Npb25JZCAmJiB0eXBlb2Ygc2NvcGVPclBlcm1pc3Npb25JZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IHNjb3BlID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IGF3YWl0IHRoaXMubGlzdFBlcm1pc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnMuZmluZCgocCkgPT4gcC5pZCA9PT0gcGVybWlzc2lvbklkKSA/PyBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHBpZCA9IHNjb3BlT3JQZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbnMgPSBhd2FpdCB0aGlzLmxpc3RQZXJtaXNzaW9ucygpO1xuICAgICAgICAgIHJldHVybiBwZXJtaXNzaW9ucy5maW5kKChwKSA9PiBwLmlkID09PSBwaWQpID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VQZXJtaXNzaW9uKHNjb3BlT3JQZXJtaXNzaW9uSWQsIHBlcm1pc3Npb25JZCkge1xuICAgICAgICBpZiAoc2NvcGVPclBlcm1pc3Npb25JZCAmJiB0eXBlb2Ygc2NvcGVPclBlcm1pc3Npb25JZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IHNjb3BlID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IHRoaXMudXNlUGVybWlzc2lvbnMoc2NvcGUpO1xuICAgICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHBlcm1pc3Npb25zLmZpbmQoKHApID0+IHAuaWQgPT09IHBlcm1pc3Npb25JZCkgPz8gbnVsbCwgW3Blcm1pc3Npb25zLCBwZXJtaXNzaW9uSWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBwaWQgPSBzY29wZU9yUGVybWlzc2lvbklkO1xuICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25zID0gdGhpcy51c2VQZXJtaXNzaW9ucygpO1xuICAgICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHBlcm1pc3Npb25zLmZpbmQoKHApID0+IHAuaWQgPT09IHBpZCkgPz8gbnVsbCwgW3Blcm1pc3Npb25zLCBwaWRdKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGhhc1Blcm1pc3Npb24oc2NvcGVPclBlcm1pc3Npb25JZCwgcGVybWlzc2lvbklkKSB7XG4gICAgICAgIGlmIChzY29wZU9yUGVybWlzc2lvbklkICYmIHR5cGVvZiBzY29wZU9yUGVybWlzc2lvbklkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3Qgc2NvcGUgPSBzY29wZU9yUGVybWlzc2lvbklkO1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFBlcm1pc3Npb24oc2NvcGUsIHBlcm1pc3Npb25JZCkgIT09IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcGlkID0gc2NvcGVPclBlcm1pc3Npb25JZDtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRQZXJtaXNzaW9uKHBpZCkgIT09IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGF3YWl0IGFwcC5fdXBkYXRlU2VydmVyVXNlcihjcnVkLmlkLCB1cGRhdGUpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHNlbmRWZXJpZmljYXRpb25FbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGFwcC5fY2hlY2tGZWF0dXJlU3VwcG9ydChcInNlbmRWZXJpZmljYXRpb25FbWFpbCgpIG9uIFNlcnZlclVzZXJcIiwge30pO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHVwZGF0ZVBhc3N3b3JkKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UudXBkYXRlUGFzc3dvcmQob3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IGFwcC5fc2VydmVyVXNlckNhY2hlLnJlZnJlc2goW2NydWQuaWRdKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBhc3luYyBzZXRQYXNzd29yZChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMudXBkYXRlKG9wdGlvbnMpO1xuICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclVzZXJDYWNoZS5yZWZyZXNoKFtjcnVkLmlkXSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZ2V0VGVhbVByb2ZpbGUodGVhbSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlclVzZXJUZWFtUHJvZmlsZUNhY2hlLmdldE9yV2FpdChbdGVhbS5pZCwgY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiBhcHAuX3NlcnZlckVkaXRhYmxlVGVhbVByb2ZpbGVGcm9tQ3J1ZChyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIHVzZVRlYW1Qcm9maWxlKHRlYW0pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShhcHAuX3NlcnZlclVzZXJUZWFtUHJvZmlsZUNhY2hlLCBbdGVhbS5pZCwgY3J1ZC5pZF0sIFwidXNlci51c2VUZWFtUHJvZmlsZSgpXCIpO1xuICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBhcHAuX3NlcnZlckVkaXRhYmxlVGVhbVByb2ZpbGVGcm9tQ3J1ZChyZXN1bHQpLCBbcmVzdWx0XSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdENvbnRhY3RDaGFubmVscygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgYXBwLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbHNDYWNoZS5nZXRPcldhaXQoW2NydWQuaWRdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgoZGF0YSkgPT4gYXBwLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbEZyb21DcnVkKGNydWQuaWQsIGRhdGEpKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250YWN0Q2hhbm5lbHMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHVzZUFzeW5jQ2FjaGUoYXBwLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbHNDYWNoZSwgW2NydWQuaWRdLCBcInVzZXIudXNlQ29udGFjdENoYW5uZWxzKClcIik7XG4gICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHJlc3VsdC5tYXAoKGRhdGEpID0+IGFwcC5fc2VydmVyQ29udGFjdENoYW5uZWxGcm9tQ3J1ZChjcnVkLmlkLCBkYXRhKSksIFtyZXN1bHRdKTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVDb250YWN0Q2hhbm5lbDogYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFjdENoYW5uZWwgPSBhd2FpdCBhcHAuX2ludGVyZmFjZS5jcmVhdGVTZXJ2ZXJDb250YWN0Q2hhbm5lbChzZXJ2ZXJDb250YWN0Q2hhbm5lbENyZWF0ZU9wdGlvbnNUb0NydWQoY3J1ZC5pZCwgZGF0YSkpO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgYXBwLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbHNDYWNoZS5yZWZyZXNoKFtjcnVkLmlkXSksXG4gICAgICAgICAgYXBwLl9zZXJ2ZXJVc2VyQ2FjaGUucmVmcmVzaChbY3J1ZC5pZF0pXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gYXBwLl9zZXJ2ZXJDb250YWN0Q2hhbm5lbEZyb21DcnVkKGNydWQuaWQsIGNvbnRhY3RDaGFubmVsKTtcbiAgICAgIH0sXG4gICAgICB1c2VOb3RpZmljYXRpb25DYXRlZ29yaWVzKCkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdXNlQXN5bmNDYWNoZShhcHAuX3NlcnZlck5vdGlmaWNhdGlvbkNhdGVnb3JpZXNDYWNoZSwgW2NydWQuaWRdLCBcInVzZXIudXNlTm90aWZpY2F0aW9uQ2F0ZWdvcmllcygpXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKGNhdGVnb3J5KSA9PiBhcHAuX3NlcnZlck5vdGlmaWNhdGlvbkNhdGVnb3J5RnJvbUNydWQoY3J1ZC5pZCwgY2F0ZWdvcnkpKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0Tm90aWZpY2F0aW9uQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fc2VydmVyTm90aWZpY2F0aW9uQ2F0ZWdvcmllc0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzLm1hcCgoY2F0ZWdvcnkpID0+IGFwcC5fc2VydmVyTm90aWZpY2F0aW9uQ2F0ZWdvcnlGcm9tQ3J1ZChjcnVkLmlkLCBjYXRlZ29yeSkpO1xuICAgICAgfSxcbiAgICAgIHVzZUFwaUtleXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHVzZUFzeW5jQ2FjaGUoYXBwLl9zZXJ2ZXJVc2VyQXBpS2V5c0NhY2hlLCBbY3J1ZC5pZF0sIFwidXNlci51c2VBcGlLZXlzKClcIik7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKChhcGlLZXkpID0+IGFwcC5fc2VydmVyQXBpS2V5RnJvbUNydWQoYXBpS2V5KSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdEFwaUtleXMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fc2VydmVyVXNlckFwaUtleXNDYWNoZS5nZXRPcldhaXQoW2NydWQuaWRdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hcCgoYXBpS2V5KSA9PiBhcHAuX3NlcnZlckFwaUtleUZyb21DcnVkKGFwaUtleSkpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGNyZWF0ZUFwaUtleShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwcC5faW50ZXJmYWNlLmNyZWF0ZVByb2plY3RBcGlLZXkoXG4gICAgICAgICAgYXdhaXQgYXBpS2V5Q3JlYXRpb25PcHRpb25zVG9DcnVkKFwidXNlclwiLCBjcnVkLmlkLCBvcHRpb25zKSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIFwic2VydmVyXCJcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgYXBwLl9zZXJ2ZXJVc2VyQXBpS2V5c0NhY2hlLnJlZnJlc2goW2NydWQuaWRdKTtcbiAgICAgICAgcmV0dXJuIGFwcC5fc2VydmVyQXBpS2V5RnJvbUNydWQocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICB1c2VPQXV0aFByb3ZpZGVycygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHVzZUFzeW5jQ2FjaGUoYXBwLl9zZXJ2ZXJPQXV0aFByb3ZpZGVyc0NhY2hlLCBbY3J1ZC5pZF0sIFwidXNlci51c2VPQXV0aFByb3ZpZGVycygpXCIpO1xuICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiByZXN1bHRzLm1hcCgob2F1dGhDcnVkKSA9PiBhcHAuX3NlcnZlck9BdXRoUHJvdmlkZXJGcm9tQ3J1ZChvYXV0aENydWQpKSwgW3Jlc3VsdHNdKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0T0F1dGhQcm92aWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlck9BdXRoUHJvdmlkZXJzQ2FjaGUuZ2V0T3JXYWl0KFtjcnVkLmlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMubWFwKChvYXV0aENydWQpID0+IGFwcC5fc2VydmVyT0F1dGhQcm92aWRlckZyb21DcnVkKG9hdXRoQ3J1ZCkpO1xuICAgICAgfSxcbiAgICAgIHVzZU9BdXRoUHJvdmlkZXIoaWQpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gdGhpcy51c2VPQXV0aFByb3ZpZGVycygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBwcm92aWRlcnMuZmluZCgocCkgPT4gcC5pZCA9PT0gaWQpID8/IG51bGwsIFtwcm92aWRlcnMsIGlkXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZ2V0T0F1dGhQcm92aWRlcihpZCkge1xuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBhd2FpdCB0aGlzLmxpc3RPQXV0aFByb3ZpZGVycygpO1xuICAgICAgICByZXR1cm4gcHJvdmlkZXJzLmZpbmQoKHApID0+IHAuaWQgPT09IGlkKSA/PyBudWxsO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGNyZWF0ZUNoZWNrb3V0VXJsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb2ZmZXJJZE9ySW5saW5lID0gXCJvZmZlcklkXCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMub2ZmZXJJZCA6IG9wdGlvbnMub2ZmZXI7XG4gICAgICAgIHJldHVybiBhd2FpdCBhcHAuX2ludGVyZmFjZS5jcmVhdGVDaGVja291dFVybChcInVzZXJcIiwgY3J1ZC5pZCwgb2ZmZXJJZE9ySW5saW5lLCBudWxsKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBnZXRJdGVtKGl0ZW1JZCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlclVzZXJJdGVtc0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZCwgaXRlbUlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgICAgcmV0dXJuIGFwcC5fc2VydmVySXRlbUZyb21DcnVkKHsgdHlwZTogXCJ1c2VyXCIsIGlkOiBjcnVkLmlkIH0sIHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgdXNlSXRlbShpdGVtSWQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShhcHAuX3NlcnZlclVzZXJJdGVtc0NhY2hlLCBbY3J1ZC5pZCwgaXRlbUlkXSwgXCJ1c2VyLnVzZUl0ZW0oKVwiKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gYXBwLl9zZXJ2ZXJJdGVtRnJvbUNydWQoeyB0eXBlOiBcInVzZXJcIiwgaWQ6IGNydWQuaWQgfSwgcmVzdWx0KSwgW3Jlc3VsdF0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3NlcnZlclRlYW1Vc2VyRnJvbUNydWQoY3J1ZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLl9zZXJ2ZXJVc2VyRnJvbUNydWQoY3J1ZC51c2VyKSxcbiAgICAgIHRlYW1Qcm9maWxlOiB7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBjcnVkLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgcHJvZmlsZUltYWdlVXJsOiBjcnVkLnByb2ZpbGVfaW1hZ2VfdXJsXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfc2VydmVyVGVhbUludml0YXRpb25Gcm9tQ3J1ZChjcnVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBjcnVkLmlkLFxuICAgICAgcmVjaXBpZW50RW1haWw6IGNydWQucmVjaXBpZW50X2VtYWlsLFxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShjcnVkLmV4cGlyZXNfYXRfbWlsbGlzKSxcbiAgICAgIHJldm9rZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2UucmV2b2tlU2VydmVyVGVhbUludml0YXRpb24oY3J1ZC5pZCwgY3J1ZC50ZWFtX2lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9jdXJyZW50VXNlckZyb21DcnVkKGNydWQsIHNlc3Npb24pIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0ge1xuICAgICAgLi4udGhpcy5fc2VydmVyVXNlckZyb21DcnVkKGNydWQpLFxuICAgICAgLi4udGhpcy5fY3JlYXRlQXV0aChzZXNzaW9uKSxcbiAgICAgIC4uLnRoaXMuX2lzSW50ZXJuYWxQcm9qZWN0KCkgPyB0aGlzLl9jcmVhdGVJbnRlcm5hbFVzZXJFeHRyYShzZXNzaW9uKSA6IHt9XG4gICAgfTtcbiAgICBPYmplY3QuZnJlZXplKGN1cnJlbnRVc2VyKTtcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH1cbiAgX3NlcnZlclRlYW1Gcm9tQ3J1ZChjcnVkKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICBkaXNwbGF5TmFtZTogY3J1ZC5kaXNwbGF5X25hbWUsXG4gICAgICBwcm9maWxlSW1hZ2VVcmw6IGNydWQucHJvZmlsZV9pbWFnZV91cmwsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNydWQuY3JlYXRlZF9hdF9taWxsaXMpLFxuICAgICAgY2xpZW50TWV0YWRhdGE6IGNydWQuY2xpZW50X21ldGFkYXRhLFxuICAgICAgY2xpZW50UmVhZE9ubHlNZXRhZGF0YTogY3J1ZC5jbGllbnRfcmVhZF9vbmx5X21ldGFkYXRhLFxuICAgICAgc2VydmVyTWV0YWRhdGE6IGNydWQuc2VydmVyX21ldGFkYXRhLFxuICAgICAgYXN5bmMgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS51cGRhdGVTZXJ2ZXJUZWFtKGNydWQuaWQsIHNlcnZlclRlYW1VcGRhdGVPcHRpb25zVG9DcnVkKHVwZGF0ZSkpO1xuICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclRlYW1zQ2FjaGUucmVmcmVzaChbdm9pZCAwXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgZGVsZXRlKCkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5kZWxldGVTZXJ2ZXJUZWFtKGNydWQuaWQpO1xuICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclRlYW1zQ2FjaGUucmVmcmVzaChbdm9pZCAwXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdFVzZXJzKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlclRlYW1NZW1iZXJQcm9maWxlc0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKCh1KSA9PiBhcHAuX3NlcnZlclRlYW1Vc2VyRnJvbUNydWQodSkpO1xuICAgICAgfSxcbiAgICAgIHVzZVVzZXJzKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1c2VBc3luY0NhY2hlKGFwcC5fc2VydmVyVGVhbU1lbWJlclByb2ZpbGVzQ2FjaGUsIFtjcnVkLmlkXSwgXCJ0ZWFtLnVzZVVzZXJzKClcIik7XG4gICAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHJlc3VsdC5tYXAoKHUpID0+IGFwcC5fc2VydmVyVGVhbVVzZXJGcm9tQ3J1ZCh1KSksIFtyZXN1bHRdKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBhZGRVc2VyKHVzZXJJZCkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5hZGRTZXJ2ZXJVc2VyVG9UZWFtKHtcbiAgICAgICAgICB0ZWFtSWQ6IGNydWQuaWQsXG4gICAgICAgICAgdXNlcklkXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclRlYW1NZW1iZXJQcm9maWxlc0NhY2hlLnJlZnJlc2goW2NydWQuaWRdKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyByZW1vdmVVc2VyKHVzZXJJZCkge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5yZW1vdmVTZXJ2ZXJVc2VyRnJvbVRlYW0oe1xuICAgICAgICAgIHRlYW1JZDogY3J1ZC5pZCxcbiAgICAgICAgICB1c2VySWRcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGFwcC5fc2VydmVyVGVhbU1lbWJlclByb2ZpbGVzQ2FjaGUucmVmcmVzaChbY3J1ZC5pZF0pO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGludml0ZVVzZXIob3B0aW9ucykge1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS5zZW5kU2VydmVyVGVhbUludml0YXRpb24oe1xuICAgICAgICAgIHRlYW1JZDogY3J1ZC5pZCxcbiAgICAgICAgICBlbWFpbDogb3B0aW9ucy5lbWFpbCxcbiAgICAgICAgICBjYWxsYmFja1VybDogb3B0aW9ucy5jYWxsYmFja1VybCA/PyBjb25zdHJ1Y3RSZWRpcmVjdFVybChhcHAudXJscy50ZWFtSW52aXRhdGlvbiwgXCJjYWxsYmFja1VybFwiKVxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgYXBwLl9zZXJ2ZXJUZWFtSW52aXRhdGlvbnNDYWNoZS5yZWZyZXNoKFtjcnVkLmlkXSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgbGlzdEludml0YXRpb25zKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCBhcHAuX3NlcnZlclRlYW1JbnZpdGF0aW9uc0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKChjcnVkMikgPT4gYXBwLl9zZXJ2ZXJUZWFtSW52aXRhdGlvbkZyb21DcnVkKGNydWQyKSk7XG4gICAgICB9LFxuICAgICAgdXNlSW52aXRhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHVzZUFzeW5jQ2FjaGUoYXBwLl9zZXJ2ZXJUZWFtSW52aXRhdGlvbnNDYWNoZSwgW2NydWQuaWRdLCBcInRlYW0udXNlSW52aXRhdGlvbnMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gcmVzdWx0Lm1hcCgoY3J1ZDIpID0+IGFwcC5fc2VydmVyVGVhbUludml0YXRpb25Gcm9tQ3J1ZChjcnVkMikpLCBbcmVzdWx0XSk7XG4gICAgICB9LFxuICAgICAgdXNlQXBpS2V5cygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdXNlQXN5bmNDYWNoZShhcHAuX3NlcnZlclRlYW1BcGlLZXlzQ2FjaGUsIFtjcnVkLmlkXSwgXCJ0ZWFtLnVzZUFwaUtleXMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKGFwaUtleSkgPT4gYXBwLl9zZXJ2ZXJBcGlLZXlGcm9tQ3J1ZChhcGlLZXkpKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBsaXN0QXBpS2V5cygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgYXBwLl9zZXJ2ZXJUZWFtQXBpS2V5c0NhY2hlLmdldE9yV2FpdChbY3J1ZC5pZF0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKChhcGlLZXkpID0+IGFwcC5fc2VydmVyQXBpS2V5RnJvbUNydWQoYXBpS2V5KSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgY3JlYXRlQXBpS2V5KG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwLl9pbnRlcmZhY2UuY3JlYXRlUHJvamVjdEFwaUtleShcbiAgICAgICAgICBhd2FpdCBhcGlLZXlDcmVhdGlvbk9wdGlvbnNUb0NydWQoXCJ0ZWFtXCIsIGNydWQuaWQsIG9wdGlvbnMpLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgXCJzZXJ2ZXJcIlxuICAgICAgICApO1xuICAgICAgICBhd2FpdCBhcHAuX3NlcnZlclRlYW1BcGlLZXlzQ2FjaGUucmVmcmVzaChbY3J1ZC5pZF0pO1xuICAgICAgICByZXR1cm4gYXBwLl9zZXJ2ZXJBcGlLZXlGcm9tQ3J1ZChyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGdldEl0ZW0oaXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlc3VsdC5vclRocm93KGF3YWl0IGFwcC5fc2VydmVyVGVhbUl0ZW1zQ2FjaGUuZ2V0T3JXYWl0KFtjcnVkLmlkLCBpdGVtSWRdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgICAgICByZXR1cm4gYXBwLl9zZXJ2ZXJJdGVtRnJvbUNydWQoeyB0eXBlOiBcInRlYW1cIiwgaWQ6IGNydWQuaWQgfSwgcmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICB1c2VJdGVtKGl0ZW1JZCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1c2VBc3luY0NhY2hlKGFwcC5fc2VydmVyVGVhbUl0ZW1zQ2FjaGUsIFtjcnVkLmlkLCBpdGVtSWRdLCBcInRlYW0udXNlSXRlbSgpXCIpO1xuICAgICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBhcHAuX3NlcnZlckl0ZW1Gcm9tQ3J1ZCh7IHR5cGU6IFwidGVhbVwiLCBpZDogY3J1ZC5pZCB9LCByZXN1bHQpLCBbcmVzdWx0XSk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgY3JlYXRlQ2hlY2tvdXRVcmwob3B0aW9ucykge1xuICAgICAgICBjb25zdCBvZmZlcklkT3JJbmxpbmUgPSBcIm9mZmVySWRcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5vZmZlcklkIDogb3B0aW9ucy5vZmZlcjtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGFwcC5faW50ZXJmYWNlLmNyZWF0ZUNoZWNrb3V0VXJsKFwidGVhbVwiLCBjcnVkLmlkLCBvZmZlcklkT3JJbmxpbmUsIG51bGwpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3NlcnZlckl0ZW1Gcm9tQ3J1ZChjdXN0b21lciwgY3J1ZCkge1xuICAgIGNvbnN0IGFwcCA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc3BsYXlOYW1lOiBjcnVkLmRpc3BsYXlfbmFtZSxcbiAgICAgIHF1YW50aXR5OiBjcnVkLnF1YW50aXR5LFxuICAgICAgbm9uTmVnYXRpdmVRdWFudGl0eTogTWF0aC5tYXgoMCwgY3J1ZC5xdWFudGl0eSksXG4gICAgICBpbmNyZWFzZVF1YW50aXR5OiBhc3luYyAoZGVsdGEpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlT3B0aW9ucyA9IGN1c3RvbWVyLnR5cGUgPT09IFwidXNlclwiID8geyBpdGVtSWQ6IGNydWQuaWQsIHVzZXJJZDogY3VzdG9tZXIuaWQgfSA6IGN1c3RvbWVyLnR5cGUgPT09IFwidGVhbVwiID8geyBpdGVtSWQ6IGNydWQuaWQsIHRlYW1JZDogY3VzdG9tZXIuaWQgfSA6IHsgaXRlbUlkOiBjcnVkLmlkLCBjdXN0b21DdXN0b21lcklkOiBjdXN0b21lci5pZCB9O1xuICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS51cGRhdGVJdGVtUXVhbnRpdHkodXBkYXRlT3B0aW9ucywgeyBkZWx0YSB9KTtcbiAgICAgICAgaWYgKGN1c3RvbWVyLnR5cGUgPT09IFwidXNlclwiKSBhd2FpdCBhcHAuX3NlcnZlclVzZXJJdGVtc0NhY2hlLnJlZnJlc2goW2N1c3RvbWVyLmlkLCBjcnVkLmlkXSk7XG4gICAgICAgIGVsc2UgaWYgKGN1c3RvbWVyLnR5cGUgPT09IFwidGVhbVwiKSBhd2FpdCBhcHAuX3NlcnZlclRlYW1JdGVtc0NhY2hlLnJlZnJlc2goW2N1c3RvbWVyLmlkLCBjcnVkLmlkXSk7XG4gICAgICAgIGVsc2UgYXdhaXQgYXBwLl9zZXJ2ZXJDdXN0b21JdGVtc0NhY2hlLnJlZnJlc2goW2N1c3RvbWVyLmlkLCBjcnVkLmlkXSk7XG4gICAgICB9LFxuICAgICAgZGVjcmVhc2VRdWFudGl0eTogYXN5bmMgKGRlbHRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZU9wdGlvbnMgPSBjdXN0b21lci50eXBlID09PSBcInVzZXJcIiA/IHsgaXRlbUlkOiBjcnVkLmlkLCB1c2VySWQ6IGN1c3RvbWVyLmlkIH0gOiBjdXN0b21lci50eXBlID09PSBcInRlYW1cIiA/IHsgaXRlbUlkOiBjcnVkLmlkLCB0ZWFtSWQ6IGN1c3RvbWVyLmlkIH0gOiB7IGl0ZW1JZDogY3J1ZC5pZCwgY3VzdG9tQ3VzdG9tZXJJZDogY3VzdG9tZXIuaWQgfTtcbiAgICAgICAgYXdhaXQgYXBwLl9pbnRlcmZhY2UudXBkYXRlSXRlbVF1YW50aXR5KHVwZGF0ZU9wdGlvbnMsIHsgZGVsdGE6IC1kZWx0YSwgYWxsb3dfbmVnYXRpdmU6IHRydWUgfSk7XG4gICAgICAgIGlmIChjdXN0b21lci50eXBlID09PSBcInVzZXJcIikgYXdhaXQgYXBwLl9zZXJ2ZXJVc2VySXRlbXNDYWNoZS5yZWZyZXNoKFtjdXN0b21lci5pZCwgY3J1ZC5pZF0pO1xuICAgICAgICBlbHNlIGlmIChjdXN0b21lci50eXBlID09PSBcInRlYW1cIikgYXdhaXQgYXBwLl9zZXJ2ZXJUZWFtSXRlbXNDYWNoZS5yZWZyZXNoKFtjdXN0b21lci5pZCwgY3J1ZC5pZF0pO1xuICAgICAgICBlbHNlIGF3YWl0IGFwcC5fc2VydmVyQ3VzdG9tSXRlbXNDYWNoZS5yZWZyZXNoKFtjdXN0b21lci5pZCwgY3J1ZC5pZF0pO1xuICAgICAgfSxcbiAgICAgIHRyeURlY3JlYXNlUXVhbnRpdHk6IGFzeW5jIChkZWx0YSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZU9wdGlvbnMgPSBjdXN0b21lci50eXBlID09PSBcInVzZXJcIiA/IHsgaXRlbUlkOiBjcnVkLmlkLCB1c2VySWQ6IGN1c3RvbWVyLmlkIH0gOiBjdXN0b21lci50eXBlID09PSBcInRlYW1cIiA/IHsgaXRlbUlkOiBjcnVkLmlkLCB0ZWFtSWQ6IGN1c3RvbWVyLmlkIH0gOiB7IGl0ZW1JZDogY3J1ZC5pZCwgY3VzdG9tQ3VzdG9tZXJJZDogY3VzdG9tZXIuaWQgfTtcbiAgICAgICAgICBhd2FpdCBhcHAuX2ludGVyZmFjZS51cGRhdGVJdGVtUXVhbnRpdHkodXBkYXRlT3B0aW9ucywgeyBkZWx0YTogLWRlbHRhIH0pO1xuICAgICAgICAgIGlmIChjdXN0b21lci50eXBlID09PSBcInVzZXJcIikgYXdhaXQgYXBwLl9zZXJ2ZXJVc2VySXRlbXNDYWNoZS5yZWZyZXNoKFtjdXN0b21lci5pZCwgY3J1ZC5pZF0pO1xuICAgICAgICAgIGVsc2UgaWYgKGN1c3RvbWVyLnR5cGUgPT09IFwidGVhbVwiKSBhd2FpdCBhcHAuX3NlcnZlclRlYW1JdGVtc0NhY2hlLnJlZnJlc2goW2N1c3RvbWVyLmlkLCBjcnVkLmlkXSk7XG4gICAgICAgICAgZWxzZSBhd2FpdCBhcHAuX3NlcnZlckN1c3RvbUl0ZW1zQ2FjaGUucmVmcmVzaChbY3VzdG9tZXIuaWQsIGNydWQuaWRdKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBLbm93bkVycm9ycy5JdGVtUXVhbnRpdHlJbnN1ZmZpY2llbnRBbW91bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIF9nZXRVc2VyQXBpS2V5KG9wdGlvbnMpIHtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fc2VydmVyQ2hlY2tBcGlLZXlDYWNoZS5nZXRPcldhaXQoW1widXNlclwiLCBvcHRpb25zLmFwaUtleV0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgcmV0dXJuIGNydWQgPyB0aGlzLl9zZXJ2ZXJBcGlLZXlGcm9tQ3J1ZChjcnVkKSA6IG51bGw7XG4gIH1cbiAgYXN5bmMgX2dldFRlYW1BcGlLZXkob3B0aW9ucykge1xuICAgIGNvbnN0IGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9zZXJ2ZXJDaGVja0FwaUtleUNhY2hlLmdldE9yV2FpdChbXCJ0ZWFtXCIsIG9wdGlvbnMuYXBpS2V5XSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICByZXR1cm4gY3J1ZCA/IHRoaXMuX3NlcnZlckFwaUtleUZyb21DcnVkKGNydWQpIDogbnVsbDtcbiAgfVxuICBfdXNlVXNlckFwaUtleShvcHRpb25zKSB7XG4gICAgY29uc3QgY3J1ZCA9IHVzZUFzeW5jQ2FjaGUodGhpcy5fc2VydmVyQ2hlY2tBcGlLZXlDYWNoZSwgW1widXNlclwiLCBvcHRpb25zLmFwaUtleV0sIFwidXNlVXNlckFwaUtleSgpXCIpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IGNydWQgPyB0aGlzLl9zZXJ2ZXJBcGlLZXlGcm9tQ3J1ZChjcnVkKSA6IG51bGwsIFtjcnVkXSk7XG4gIH1cbiAgX3VzZVRlYW1BcGlLZXkob3B0aW9ucykge1xuICAgIGNvbnN0IGNydWQgPSB1c2VBc3luY0NhY2hlKHRoaXMuX3NlcnZlckNoZWNrQXBpS2V5Q2FjaGUsIFtcInRlYW1cIiwgb3B0aW9ucy5hcGlLZXldLCBcInVzZVRlYW1BcGlLZXkoKVwiKTtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiBjcnVkID8gdGhpcy5fc2VydmVyQXBpS2V5RnJvbUNydWQoY3J1ZCkgOiBudWxsLCBbY3J1ZF0pO1xuICB9XG4gIGFzeW5jIF9nZXRVc2VyQnlBcGlLZXkoYXBpS2V5KSB7XG4gICAgY29uc3QgYXBpS2V5T2JqZWN0ID0gYXdhaXQgdGhpcy5fZ2V0VXNlckFwaUtleSh7IGFwaUtleSB9KTtcbiAgICBpZiAoYXBpS2V5T2JqZWN0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0U2VydmVyVXNlckJ5SWQoYXBpS2V5T2JqZWN0LnVzZXJJZCk7XG4gIH1cbiAgYXN5bmMgX2dldFVzZXJCeUNvbnZleChjdHgsIGluY2x1ZGVBbm9ueW1vdXMpIHtcbiAgICBjb25zdCBpZGVudGl0eSA9IGF3YWl0IGN0eC5hdXRoLmdldFVzZXJJZGVudGl0eSgpO1xuICAgIGlmIChpZGVudGl0eSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldFNlcnZlclVzZXJCeUlkKGlkZW50aXR5LnN1YmplY3QpO1xuICAgIGlmICh1c2VyPy5pc0Fub255bW91cyAmJiAhaW5jbHVkZUFub255bW91cykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB1c2VyO1xuICB9XG4gIF91c2VVc2VyQnlDb252ZXgoY3R4LCBpbmNsdWRlQW5vbnltb3VzKSB7XG4gICAgY29uc3Qgc3ViamVjdCA9IHVzZUFzeW5jQ2FjaGUodGhpcy5fY29udmV4SWRlbnRpdHlTdWJqZWN0Q2FjaGUsIFtjdHhdLCBcInVzZVVzZXJCeUNvbnZleCgpXCIpO1xuICAgIGlmIChzdWJqZWN0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdXNlciA9IHRoaXMudXNlVXNlckJ5SWQoc3ViamVjdCk7XG4gICAgaWYgKHVzZXI/LmlzQW5vbnltb3VzICYmICFpbmNsdWRlQW5vbnltb3VzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cbiAgX3VzZVVzZXJCeUFwaUtleShhcGlLZXkpIHtcbiAgICBjb25zdCBhcGlLZXlPYmplY3QgPSB0aGlzLl91c2VVc2VyQXBpS2V5KHsgYXBpS2V5IH0pO1xuICAgIGlmIChhcGlLZXlPYmplY3QgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51c2VVc2VyQnlJZChhcGlLZXlPYmplY3QudXNlcklkKTtcbiAgfVxuICBhc3luYyBfZ2V0VGVhbUJ5QXBpS2V5KGFwaUtleSkge1xuICAgIGNvbnN0IGFwaUtleU9iamVjdCA9IGF3YWl0IHRoaXMuX2dldFRlYW1BcGlLZXkoeyBhcGlLZXkgfSk7XG4gICAgaWYgKGFwaUtleU9iamVjdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFRlYW0oYXBpS2V5T2JqZWN0LnRlYW1JZCk7XG4gIH1cbiAgX3VzZVRlYW1CeUFwaUtleShhcGlLZXkpIHtcbiAgICBjb25zdCBhcGlLZXlPYmplY3QgPSB0aGlzLl91c2VUZWFtQXBpS2V5KHsgYXBpS2V5IH0pO1xuICAgIGlmIChhcGlLZXlPYmplY3QgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51c2VUZWFtKGFwaUtleU9iamVjdC50ZWFtSWQpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZVVzZXIob3B0aW9ucykge1xuICAgIGNvbnN0IGNydWQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuY3JlYXRlU2VydmVyVXNlcihzZXJ2ZXJVc2VyQ3JlYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSk7XG4gICAgYXdhaXQgdGhpcy5fcmVmcmVzaFVzZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclVzZXJGcm9tQ3J1ZChjcnVkKTtcbiAgfVxuICBhc3luYyBnZXRVc2VyKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFNlcnZlclVzZXJCeUlkKG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgXCJhcGlLZXlcIiBpbiBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlckJ5QXBpS2V5KG9wdGlvbnMuYXBpS2V5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIFwiZnJvbVwiIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5mcm9tID09PSBcImNvbnZleFwiKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlckJ5Q29udmV4KG9wdGlvbnMuY3R4LCBcIm9yXCIgaW4gb3B0aW9ucyAmJiBvcHRpb25zLm9yID09PSBcImFub255bW91c1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZShvcHRpb25zPy50b2tlblN0b3JlKTtcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLl9nZXRTZXNzaW9uKG9wdGlvbnM/LnRva2VuU3RvcmUpO1xuICAgICAgbGV0IGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9jdXJyZW50U2VydmVyVXNlckNhY2hlLmdldE9yV2FpdChbc2Vzc2lvbl0sIFwid3JpdGUtb25seVwiKSk7XG4gICAgICBpZiAoY3J1ZD8uaXNfYW5vbnltb3VzICYmIG9wdGlvbnM/Lm9yICE9PSBcImFub255bW91c1wiICYmIG9wdGlvbnM/Lm9yICE9PSBcImFub255bW91cy1pZi1leGlzdHNbZGVwcmVjYXRlZF1cIikge1xuICAgICAgICBjcnVkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjcnVkID09PSBudWxsKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucz8ub3IpIHtcbiAgICAgICAgICBjYXNlIFwicmVkaXJlY3RcIjoge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWRpcmVjdFRvU2lnbkluKHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwidGhyb3dcIjoge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBpcyBub3Qgc2lnbmVkIGluIGJ1dCBnZXRVc2VyIHdhcyBjYWxsZWQgd2l0aCB7IG9yOiAndGhyb3cnIH1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJhbm9ueW1vdXNcIjoge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdGhpcy5fc2lnblVwQW5vbnltb3VzbHkoKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFVzZXIoeyB0b2tlblN0b3JlOiB0b2tlbnMsIG9yOiBcImFub255bW91cy1pZi1leGlzdHNbZGVwcmVjYXRlZF1cIiB9KSA/PyB0aHJvd0VycihcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIHNpZ25pbmcgdXAgYW5vbnltb3VzbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgICAgIGNhc2UgXCJhbm9ueW1vdXMtaWYtZXhpc3RzW2RlcHJlY2F0ZWRdXCI6XG4gICAgICAgICAgY2FzZSBcInJldHVybi1udWxsXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNydWQgJiYgdGhpcy5fY3VycmVudFVzZXJGcm9tQ3J1ZChjcnVkLCBzZXNzaW9uKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0U2VydmVyVXNlcigpIHtcbiAgICBjb25zb2xlLndhcm4oXCJzdGFja1NlcnZlckFwcC5nZXRTZXJ2ZXJVc2VyIGlzIGRlcHJlY2F0ZWQ7IHVzZSBzdGFja1NlcnZlckFwcC5nZXRVc2VyIGluc3RlYWRcIik7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlcigpO1xuICB9XG4gIGFzeW5jIGdldFNlcnZlclVzZXJCeUlkKHVzZXJJZCkge1xuICAgIGNvbnN0IGNydWQgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9zZXJ2ZXJVc2VyQ2FjaGUuZ2V0T3JXYWl0KFt1c2VySWRdLCBcIndyaXRlLW9ubHlcIikpO1xuICAgIHJldHVybiBjcnVkICYmIHRoaXMuX3NlcnZlclVzZXJGcm9tQ3J1ZChjcnVkKTtcbiAgfVxuICB1c2VVc2VyKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnVzZVVzZXJCeUlkKG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgXCJhcGlLZXlcIiBpbiBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXNlVXNlckJ5QXBpS2V5KG9wdGlvbnMuYXBpS2V5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIFwiZnJvbVwiIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5mcm9tID09PSBcImNvbnZleFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXNlVXNlckJ5Q29udmV4KG9wdGlvbnMuY3R4LCBcIm9yXCIgaW4gb3B0aW9ucyAmJiBvcHRpb25zLm9yID09PSBcImFub255bW91c1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB0aGlzLl9lbnN1cmVQZXJzaXN0ZW50VG9rZW5TdG9yZShvcHRpb25zPy50b2tlblN0b3JlKTtcbiAgICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLl91c2VTZXNzaW9uKG9wdGlvbnM/LnRva2VuU3RvcmUpO1xuICAgICAgbGV0IGNydWQgPSB1c2VBc3luY0NhY2hlKHRoaXMuX2N1cnJlbnRTZXJ2ZXJVc2VyQ2FjaGUsIFtzZXNzaW9uXSwgXCJ1c2VVc2VyKClcIik7XG4gICAgICBpZiAoY3J1ZD8uaXNfYW5vbnltb3VzICYmIG9wdGlvbnM/Lm9yICE9PSBcImFub255bW91c1wiICYmIG9wdGlvbnM/Lm9yICE9PSBcImFub255bW91cy1pZi1leGlzdHNbZGVwcmVjYXRlZF1cIikge1xuICAgICAgICBjcnVkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjcnVkID09PSBudWxsKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucz8ub3IpIHtcbiAgICAgICAgICBjYXNlIFwicmVkaXJlY3RcIjoge1xuICAgICAgICAgICAgcnVuQXN5bmNocm9ub3VzbHkodGhpcy5yZWRpcmVjdFRvU2lnbkluKHsgcmVwbGFjZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICBzdXNwZW5kKCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihcInN1c3BlbmQgc2hvdWxkIG5ldmVyIHJldHVyblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcInRocm93XCI6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgaXMgbm90IHNpZ25lZCBpbiBidXQgdXNlVXNlciB3YXMgY2FsbGVkIHdpdGggeyBvcjogJ3Rocm93JyB9XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiYW5vbnltb3VzXCI6IHtcbiAgICAgICAgICAgIHJ1bkFzeW5jaHJvbm91c2x5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2lnblVwQW5vbnltb3VzbHkoKTtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3VzcGVuZCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0YWNrQXNzZXJ0aW9uRXJyb3IoXCJzdXNwZW5kIHNob3VsZCBuZXZlciByZXR1cm5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgICAgIGNhc2UgXCJhbm9ueW1vdXMtaWYtZXhpc3RzW2RlcHJlY2F0ZWRdXCI6XG4gICAgICAgICAgY2FzZSBcInJldHVybi1udWxsXCI6IHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNydWQgJiYgdGhpcy5fY3VycmVudFVzZXJGcm9tQ3J1ZChjcnVkLCBzZXNzaW9uKTtcbiAgICAgIH0sIFtjcnVkLCBzZXNzaW9uLCBvcHRpb25zPy5vcl0pO1xuICAgIH1cbiAgfVxuICB1c2VVc2VyQnlJZCh1c2VySWQpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9zZXJ2ZXJVc2VyQ2FjaGUsIFt1c2VySWRdLCBcInVzZVVzZXJCeUlkKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIGNydWQgJiYgdGhpcy5fc2VydmVyVXNlckZyb21DcnVkKGNydWQpO1xuICAgIH0sIFtjcnVkXSk7XG4gIH1cbiAgYXN5bmMgbGlzdFVzZXJzKG9wdGlvbnMpIHtcbiAgICBjb25zdCBjcnVkID0gUmVzdWx0Lm9yVGhyb3coYXdhaXQgdGhpcy5fc2VydmVyVXNlcnNDYWNoZS5nZXRPcldhaXQoW29wdGlvbnM/LmN1cnNvciwgb3B0aW9ucz8ubGltaXQsIG9wdGlvbnM/Lm9yZGVyQnksIG9wdGlvbnM/LmRlc2MsIG9wdGlvbnM/LnF1ZXJ5LCBvcHRpb25zPy5pbmNsdWRlQW5vbnltb3VzXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICBjb25zdCByZXN1bHQgPSBjcnVkLml0ZW1zLm1hcCgoaikgPT4gdGhpcy5fc2VydmVyVXNlckZyb21DcnVkKGopKTtcbiAgICByZXN1bHQubmV4dEN1cnNvciA9IGNydWQucGFnaW5hdGlvbj8ubmV4dF9jdXJzb3IgPz8gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHVzZVVzZXJzKG9wdGlvbnMpIHtcbiAgICBjb25zdCBjcnVkID0gdXNlQXN5bmNDYWNoZSh0aGlzLl9zZXJ2ZXJVc2Vyc0NhY2hlLCBbb3B0aW9ucz8uY3Vyc29yLCBvcHRpb25zPy5saW1pdCwgb3B0aW9ucz8ub3JkZXJCeSwgb3B0aW9ucz8uZGVzYywgb3B0aW9ucz8ucXVlcnldLCBcInVzZVNlcnZlclVzZXJzKClcIik7XG4gICAgY29uc3QgcmVzdWx0ID0gY3J1ZC5pdGVtcy5tYXAoKGopID0+IHRoaXMuX3NlcnZlclVzZXJGcm9tQ3J1ZChqKSk7XG4gICAgcmVzdWx0Lm5leHRDdXJzb3IgPSBjcnVkLnBhZ2luYXRpb24/Lm5leHRfY3Vyc29yID8/IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBfc2VydmVyUGVybWlzc2lvbkZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWRcbiAgICB9O1xuICB9XG4gIF9zZXJ2ZXJUZWFtUGVybWlzc2lvbkRlZmluaXRpb25Gcm9tQ3J1ZChjcnVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBjcnVkLmlkLFxuICAgICAgZGVzY3JpcHRpb246IGNydWQuZGVzY3JpcHRpb24sXG4gICAgICBjb250YWluZWRQZXJtaXNzaW9uSWRzOiBjcnVkLmNvbnRhaW5lZF9wZXJtaXNzaW9uX2lkc1xuICAgIH07XG4gIH1cbiAgX3NlcnZlclByb2plY3RQZXJtaXNzaW9uRGVmaW5pdGlvbkZyb21DcnVkKGNydWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNydWQuaWQsXG4gICAgICBkZXNjcmlwdGlvbjogY3J1ZC5kZXNjcmlwdGlvbixcbiAgICAgIGNvbnRhaW5lZFBlcm1pc3Npb25JZHM6IGNydWQuY29udGFpbmVkX3Blcm1pc3Npb25faWRzXG4gICAgfTtcbiAgfVxuICBhc3luYyBsaXN0VGVhbXMoKSB7XG4gICAgY29uc3QgdGVhbXMgPSBSZXN1bHQub3JUaHJvdyhhd2FpdCB0aGlzLl9zZXJ2ZXJUZWFtc0NhY2hlLmdldE9yV2FpdChbdm9pZCAwXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICByZXR1cm4gdGVhbXMubWFwKCh0KSA9PiB0aGlzLl9zZXJ2ZXJUZWFtRnJvbUNydWQodCkpO1xuICB9XG4gIGFzeW5jIGdldEl0ZW0ob3B0aW9ucykge1xuICAgIGlmIChcInVzZXJJZFwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3NlcnZlclVzZXJJdGVtc0NhY2hlLmdldE9yV2FpdChbb3B0aW9ucy51c2VySWQsIG9wdGlvbnMuaXRlbUlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJJdGVtRnJvbUNydWQoeyB0eXBlOiBcInVzZXJcIiwgaWQ6IG9wdGlvbnMudXNlcklkIH0sIHJlc3VsdCk7XG4gICAgfSBlbHNlIGlmIChcInRlYW1JZFwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3NlcnZlclRlYW1JdGVtc0NhY2hlLmdldE9yV2FpdChbb3B0aW9ucy50ZWFtSWQsIG9wdGlvbnMuaXRlbUlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJJdGVtRnJvbUNydWQoeyB0eXBlOiBcInRlYW1cIiwgaWQ6IG9wdGlvbnMudGVhbUlkIH0sIHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3NlcnZlckN1c3RvbUl0ZW1zQ2FjaGUuZ2V0T3JXYWl0KFtvcHRpb25zLmN1c3RvbUN1c3RvbWVySWQsIG9wdGlvbnMuaXRlbUlkXSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJJdGVtRnJvbUNydWQoeyB0eXBlOiBcImN1c3RvbVwiLCBpZDogb3B0aW9ucy5jdXN0b21DdXN0b21lcklkIH0sIHJlc3VsdCk7XG4gICAgfVxuICB9XG4gIHVzZUl0ZW0ob3B0aW9ucykge1xuICAgIGxldCB0eXBlO1xuICAgIGxldCBpZDtcbiAgICBsZXQgY2FjaGU7XG4gICAgaWYgKFwidXNlcklkXCIgaW4gb3B0aW9ucykge1xuICAgICAgdHlwZSA9IFwidXNlclwiO1xuICAgICAgaWQgPSBvcHRpb25zLnVzZXJJZDtcbiAgICAgIGNhY2hlID0gdGhpcy5fc2VydmVyVXNlckl0ZW1zQ2FjaGU7XG4gICAgfSBlbHNlIGlmIChcInRlYW1JZFwiIGluIG9wdGlvbnMpIHtcbiAgICAgIHR5cGUgPSBcInRlYW1cIjtcbiAgICAgIGlkID0gb3B0aW9ucy50ZWFtSWQ7XG4gICAgICBjYWNoZSA9IHRoaXMuX3NlcnZlclRlYW1JdGVtc0NhY2hlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gXCJjdXN0b21cIjtcbiAgICAgIGlkID0gb3B0aW9ucy5jdXN0b21DdXN0b21lcklkO1xuICAgICAgY2FjaGUgPSB0aGlzLl9zZXJ2ZXJDdXN0b21JdGVtc0NhY2hlO1xuICAgIH1cbiAgICBjb25zdCBjYWNoZUtleSA9IFtpZCwgb3B0aW9ucy5pdGVtSWRdO1xuICAgIGNvbnN0IGRlYnVnTGFiZWwgPSBgYXBwLnVzZUl0ZW0oJHt0eXBlfSlgO1xuICAgIGNvbnN0IHJlc3VsdCA9IHVzZUFzeW5jQ2FjaGUoY2FjaGUsIGNhY2hlS2V5LCBkZWJ1Z0xhYmVsKTtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB0aGlzLl9zZXJ2ZXJJdGVtRnJvbUNydWQoeyB0eXBlLCBpZCB9LCByZXN1bHQpLCBbcmVzdWx0XSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlVGVhbShkYXRhKSB7XG4gICAgY29uc3QgdGVhbSA9IGF3YWl0IHRoaXMuX2ludGVyZmFjZS5jcmVhdGVTZXJ2ZXJUZWFtKHNlcnZlclRlYW1DcmVhdGVPcHRpb25zVG9DcnVkKGRhdGEpKTtcbiAgICBhd2FpdCB0aGlzLl9zZXJ2ZXJUZWFtc0NhY2hlLnJlZnJlc2goW3ZvaWQgMF0pO1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJUZWFtRnJvbUNydWQodGVhbSk7XG4gIH1cbiAgdXNlVGVhbXMoKSB7XG4gICAgY29uc3QgdGVhbXMgPSB1c2VBc3luY0NhY2hlKHRoaXMuX3NlcnZlclRlYW1zQ2FjaGUsIFt2b2lkIDBdLCBcInVzZVNlcnZlclRlYW1zKClcIik7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRlYW1zLm1hcCgodCkgPT4gdGhpcy5fc2VydmVyVGVhbUZyb21DcnVkKHQpKTtcbiAgICB9LCBbdGVhbXNdKTtcbiAgfVxuICBhc3luYyBnZXRUZWFtKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgXCJhcGlLZXlcIiBpbiBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VGVhbUJ5QXBpS2V5KG9wdGlvbnMuYXBpS2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGVhbUlkID0gb3B0aW9ucztcbiAgICAgIGNvbnN0IHRlYW1zID0gYXdhaXQgdGhpcy5saXN0VGVhbXMoKTtcbiAgICAgIHJldHVybiB0ZWFtcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZWFtSWQpID8/IG51bGw7XG4gICAgfVxuICB9XG4gIHVzZVRlYW0ob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBcImFwaUtleVwiIGluIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLl91c2VUZWFtQnlBcGlLZXkob3B0aW9ucy5hcGlLZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0ZWFtSWQgPSBvcHRpb25zO1xuICAgICAgY29uc3QgdGVhbXMgPSB0aGlzLnVzZVRlYW1zKCk7XG4gICAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHJldHVybiB0ZWFtcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZWFtSWQpID8/IG51bGw7XG4gICAgICB9LCBbdGVhbXMsIHRlYW1JZF0pO1xuICAgIH1cbiAgfVxuICBfY3JlYXRlU2VydmVyRGF0YVZhdWx0U3RvcmUoaWQpIHtcbiAgICBjb25zdCB2YWxpZGF0ZU9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlY3JldCAhPT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwic2VjcmV0IG11c3QgYmUgYSBzdHJpbmcsIGdvdCBcIiArIHR5cGVvZiBvcHRpb25zLnNlY3JldCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBzZXRWYWx1ZTogYXN5bmMgKGtleSwgdmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2Uuc2V0RGF0YVZhdWx0U3RvcmVWYWx1ZShvcHRpb25zLnNlY3JldCwgaWQsIGtleSwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGdldFZhbHVlOiBhc3luYyAoa2V5LCBvcHRpb25zKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5vclRocm93KGF3YWl0IHRoaXMuX3NlcnZlckRhdGFWYXVsdFN0b3JlVmFsdWVDYWNoZS5nZXRPcldhaXQoW2lkLCBrZXksIG9wdGlvbnMuc2VjcmV0XSwgXCJ3cml0ZS1vbmx5XCIpKTtcbiAgICAgIH0sXG4gICAgICB1c2VWYWx1ZTogKGtleSwgb3B0aW9ucykgPT4ge1xuICAgICAgICB2YWxpZGF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB1c2VBc3luY0NhY2hlKHRoaXMuX3NlcnZlckRhdGFWYXVsdFN0b3JlVmFsdWVDYWNoZSwgW2lkLCBrZXksIG9wdGlvbnMuc2VjcmV0XSwgYGFwcC51c2VEYXRhVmF1bHRTdG9yZVZhbHVlKClgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGdldERhdGFWYXVsdFN0b3JlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVNlcnZlckRhdGFWYXVsdFN0b3JlKGlkKTtcbiAgfVxuICB1c2VEYXRhVmF1bHRTdG9yZShpZCkge1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHRoaXMuX2NyZWF0ZVNlcnZlckRhdGFWYXVsdFN0b3JlKGlkKSwgW2lkXSk7XG4gIH1cbiAgYXN5bmMgc2VuZEVtYWlsKG9wdGlvbnMpIHtcbiAgICBhd2FpdCB0aGlzLl9pbnRlcmZhY2Uuc2VuZEVtYWlsKG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIF9yZWZyZXNoU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc3VwZXIuX3JlZnJlc2hVc2VyKHNlc3Npb24pLFxuICAgICAgdGhpcy5fY3VycmVudFNlcnZlclVzZXJDYWNoZS5yZWZyZXNoKFtzZXNzaW9uXSlcbiAgICBdKTtcbiAgfVxuICBhc3luYyBfcmVmcmVzaFVzZXJzKCkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHN1cGVyLl9yZWZyZXNoVXNlcnMoKSxcbiAgICAgIHRoaXMuX3NlcnZlclVzZXJDYWNoZS5yZWZyZXNoV2hlcmUoKCkgPT4gdHJ1ZSksXG4gICAgICB0aGlzLl9zZXJ2ZXJVc2Vyc0NhY2hlLnJlZnJlc2hXaGVyZSgoKSA9PiB0cnVlKSxcbiAgICAgIHRoaXMuX3NlcnZlckNvbnRhY3RDaGFubmVsc0NhY2hlLnJlZnJlc2hXaGVyZSgoKSA9PiB0cnVlKSxcbiAgICAgIHRoaXMuX3NlcnZlck9BdXRoUHJvdmlkZXJzQ2FjaGUucmVmcmVzaFdoZXJlKCgpID0+IHRydWUpXG4gICAgXSk7XG4gIH1cbiAgYXN5bmMgY3JlYXRlT0F1dGhQcm92aWRlcihvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNydWQgPSBhd2FpdCB0aGlzLl9pbnRlcmZhY2UuY3JlYXRlU2VydmVyT0F1dGhQcm92aWRlcih7XG4gICAgICAgIHVzZXJfaWQ6IG9wdGlvbnMudXNlcklkLFxuICAgICAgICBwcm92aWRlcl9jb25maWdfaWQ6IG9wdGlvbnMucHJvdmlkZXJDb25maWdJZCxcbiAgICAgICAgYWNjb3VudF9pZDogb3B0aW9ucy5hY2NvdW50SWQsXG4gICAgICAgIGVtYWlsOiBvcHRpb25zLmVtYWlsLFxuICAgICAgICBhbGxvd19zaWduX2luOiBvcHRpb25zLmFsbG93U2lnbkluLFxuICAgICAgICBhbGxvd19jb25uZWN0ZWRfYWNjb3VudHM6IG9wdGlvbnMuYWxsb3dDb25uZWN0ZWRBY2NvdW50c1xuICAgICAgfSk7XG4gICAgICBhd2FpdCB0aGlzLl9zZXJ2ZXJPQXV0aFByb3ZpZGVyc0NhY2hlLnJlZnJlc2goW29wdGlvbnMudXNlcklkXSk7XG4gICAgICByZXR1cm4gUmVzdWx0Lm9rKHRoaXMuX3NlcnZlck9BdXRoUHJvdmlkZXJGcm9tQ3J1ZChjcnVkKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChLbm93bkVycm9ycy5PQXV0aFByb3ZpZGVyQWNjb3VudElkQWxyZWFkeVVzZWRGb3JTaWduSW4uaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdC5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn07XG5leHBvcnQge1xuICBfU3RhY2tTZXJ2ZXJBcHBJbXBsSW5jb21wbGV0ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlci1hcHAtaW1wbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/server-app-impl.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/interfaces/client-app.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/interfaces/client-app.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackClientApp: () => (/* binding */ StackClientApp)\n/* harmony export */ });\n/* harmony import */ var _implementations_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../implementations/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/implementations/index.js\");\n// src/lib/stack-app/apps/interfaces/client-app.ts\n\nvar StackClientApp = _implementations_index_js__WEBPACK_IMPORTED_MODULE_0__._StackClientAppImpl;\n\n//# sourceMappingURL=client-app.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2FwcHMvaW50ZXJmYWNlcy9jbGllbnQtYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDa0U7QUFDbEUscUJBQXFCLDBFQUFtQjtBQUd0QztBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcc3RhY2stYXBwXFxhcHBzXFxpbnRlcmZhY2VzXFxjbGllbnQtYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvc3RhY2stYXBwL2FwcHMvaW50ZXJmYWNlcy9jbGllbnQtYXBwLnRzXG5pbXBvcnQgeyBfU3RhY2tDbGllbnRBcHBJbXBsIH0gZnJvbSBcIi4uL2ltcGxlbWVudGF0aW9ucy9pbmRleC5qc1wiO1xudmFyIFN0YWNrQ2xpZW50QXBwID0gX1N0YWNrQ2xpZW50QXBwSW1wbDtcbmV4cG9ydCB7XG4gIFN0YWNrQ2xpZW50QXBwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LWFwcC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/interfaces/client-app.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/common.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/common.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stackAppInternalsSymbol: () => (/* binding */ stackAppInternalsSymbol)\n/* harmony export */ });\n// src/lib/stack-app/common.ts\nvar stackAppInternalsSymbol = Symbol.for(\"StackAuth--DO-NOT-USE-OR-YOU-WILL-BE-FIRED--StackAppInternals\");\n\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxzdGFjay1hcHBcXGNvbW1vbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N0YWNrLWFwcC9jb21tb24udHNcbnZhciBzdGFja0FwcEludGVybmFsc1N5bWJvbCA9IFN5bWJvbC5mb3IoXCJTdGFja0F1dGgtLURPLU5PVC1VU0UtT1ItWU9VLVdJTEwtQkUtRklSRUQtLVN0YWNrQXBwSW50ZXJuYWxzXCIpO1xuZXhwb3J0IHtcbiAgc3RhY2tBcHBJbnRlcm5hbHNTeW1ib2xcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/common.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/contact-channels/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/contact-channels/index.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contactChannelCreateOptionsToCrud: () => (/* binding */ contactChannelCreateOptionsToCrud),\n/* harmony export */   contactChannelUpdateOptionsToCrud: () => (/* binding */ contactChannelUpdateOptionsToCrud),\n/* harmony export */   serverContactChannelCreateOptionsToCrud: () => (/* binding */ serverContactChannelCreateOptionsToCrud),\n/* harmony export */   serverContactChannelUpdateOptionsToCrud: () => (/* binding */ serverContactChannelUpdateOptionsToCrud)\n/* harmony export */ });\n// src/lib/stack-app/contact-channels/index.ts\nfunction contactChannelCreateOptionsToCrud(userId, options) {\n  return {\n    value: options.value,\n    type: options.type,\n    used_for_auth: options.usedForAuth,\n    is_primary: options.isPrimary,\n    user_id: userId\n  };\n}\nfunction contactChannelUpdateOptionsToCrud(options) {\n  return {\n    value: options.value,\n    used_for_auth: options.usedForAuth,\n    is_primary: options.isPrimary\n  };\n}\nfunction serverContactChannelUpdateOptionsToCrud(options) {\n  return {\n    value: options.value,\n    is_verified: options.isVerified,\n    used_for_auth: options.usedForAuth,\n    is_primary: options.isPrimary\n  };\n}\nfunction serverContactChannelCreateOptionsToCrud(userId, options) {\n  return {\n    type: options.type,\n    value: options.value,\n    is_verified: options.isVerified,\n    user_id: userId,\n    used_for_auth: options.usedForAuth,\n    is_primary: options.isPrimary\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2NvbnRhY3QtY2hhbm5lbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcc3RhY2stYXBwXFxjb250YWN0LWNoYW5uZWxzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N0YWNrLWFwcC9jb250YWN0LWNoYW5uZWxzL2luZGV4LnRzXG5mdW5jdGlvbiBjb250YWN0Q2hhbm5lbENyZWF0ZU9wdGlvbnNUb0NydWQodXNlcklkLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdmFsdWU6IG9wdGlvbnMudmFsdWUsXG4gICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgIHVzZWRfZm9yX2F1dGg6IG9wdGlvbnMudXNlZEZvckF1dGgsXG4gICAgaXNfcHJpbWFyeTogb3B0aW9ucy5pc1ByaW1hcnksXG4gICAgdXNlcl9pZDogdXNlcklkXG4gIH07XG59XG5mdW5jdGlvbiBjb250YWN0Q2hhbm5lbFVwZGF0ZU9wdGlvbnNUb0NydWQob3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBvcHRpb25zLnZhbHVlLFxuICAgIHVzZWRfZm9yX2F1dGg6IG9wdGlvbnMudXNlZEZvckF1dGgsXG4gICAgaXNfcHJpbWFyeTogb3B0aW9ucy5pc1ByaW1hcnlcbiAgfTtcbn1cbmZ1bmN0aW9uIHNlcnZlckNvbnRhY3RDaGFubmVsVXBkYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdmFsdWU6IG9wdGlvbnMudmFsdWUsXG4gICAgaXNfdmVyaWZpZWQ6IG9wdGlvbnMuaXNWZXJpZmllZCxcbiAgICB1c2VkX2Zvcl9hdXRoOiBvcHRpb25zLnVzZWRGb3JBdXRoLFxuICAgIGlzX3ByaW1hcnk6IG9wdGlvbnMuaXNQcmltYXJ5XG4gIH07XG59XG5mdW5jdGlvbiBzZXJ2ZXJDb250YWN0Q2hhbm5lbENyZWF0ZU9wdGlvbnNUb0NydWQodXNlcklkLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgIHZhbHVlOiBvcHRpb25zLnZhbHVlLFxuICAgIGlzX3ZlcmlmaWVkOiBvcHRpb25zLmlzVmVyaWZpZWQsXG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIHVzZWRfZm9yX2F1dGg6IG9wdGlvbnMudXNlZEZvckF1dGgsXG4gICAgaXNfcHJpbWFyeTogb3B0aW9ucy5pc1ByaW1hcnlcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGNvbnRhY3RDaGFubmVsQ3JlYXRlT3B0aW9uc1RvQ3J1ZCxcbiAgY29udGFjdENoYW5uZWxVcGRhdGVPcHRpb25zVG9DcnVkLFxuICBzZXJ2ZXJDb250YWN0Q2hhbm5lbENyZWF0ZU9wdGlvbnNUb0NydWQsXG4gIHNlcnZlckNvbnRhY3RDaGFubmVsVXBkYXRlT3B0aW9uc1RvQ3J1ZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/contact-channels/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/internal-api-keys/index.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/internal-api-keys/index.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   internalApiKeyCreateOptionsToCrud: () => (/* binding */ internalApiKeyCreateOptionsToCrud)\n/* harmony export */ });\n// src/lib/stack-app/internal-api-keys/index.ts\nfunction internalApiKeyCreateOptionsToCrud(options) {\n  return {\n    description: options.description,\n    expires_at_millis: options.expiresAt.getTime(),\n    has_publishable_client_key: options.hasPublishableClientKey,\n    has_secret_server_key: options.hasSecretServerKey,\n    has_super_secret_admin_key: options.hasSuperSecretAdminKey\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL2ludGVybmFsLWFwaS1rZXlzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxzdGFjay1hcHBcXGludGVybmFsLWFwaS1rZXlzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N0YWNrLWFwcC9pbnRlcm5hbC1hcGkta2V5cy9pbmRleC50c1xuZnVuY3Rpb24gaW50ZXJuYWxBcGlLZXlDcmVhdGVPcHRpb25zVG9DcnVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkZXNjcmlwdGlvbjogb3B0aW9ucy5kZXNjcmlwdGlvbixcbiAgICBleHBpcmVzX2F0X21pbGxpczogb3B0aW9ucy5leHBpcmVzQXQuZ2V0VGltZSgpLFxuICAgIGhhc19wdWJsaXNoYWJsZV9jbGllbnRfa2V5OiBvcHRpb25zLmhhc1B1Ymxpc2hhYmxlQ2xpZW50S2V5LFxuICAgIGhhc19zZWNyZXRfc2VydmVyX2tleTogb3B0aW9ucy5oYXNTZWNyZXRTZXJ2ZXJLZXksXG4gICAgaGFzX3N1cGVyX3NlY3JldF9hZG1pbl9rZXk6IG9wdGlvbnMuaGFzU3VwZXJTZWNyZXRBZG1pbktleVxuICB9O1xufVxuZXhwb3J0IHtcbiAgaW50ZXJuYWxBcGlLZXlDcmVhdGVPcHRpb25zVG9DcnVkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/internal-api-keys/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/permissions/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/permissions/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminProjectPermissionDefinitionCreateOptionsToCrud: () => (/* binding */ adminProjectPermissionDefinitionCreateOptionsToCrud),\n/* harmony export */   adminProjectPermissionDefinitionUpdateOptionsToCrud: () => (/* binding */ adminProjectPermissionDefinitionUpdateOptionsToCrud),\n/* harmony export */   adminTeamPermissionDefinitionCreateOptionsToCrud: () => (/* binding */ adminTeamPermissionDefinitionCreateOptionsToCrud),\n/* harmony export */   adminTeamPermissionDefinitionUpdateOptionsToCrud: () => (/* binding */ adminTeamPermissionDefinitionUpdateOptionsToCrud)\n/* harmony export */ });\n// src/lib/stack-app/permissions/index.ts\nfunction adminTeamPermissionDefinitionCreateOptionsToCrud(options) {\n  return {\n    id: options.id,\n    description: options.description,\n    contained_permission_ids: options.containedPermissionIds\n  };\n}\nfunction adminTeamPermissionDefinitionUpdateOptionsToCrud(options) {\n  return {\n    description: options.description,\n    contained_permission_ids: options.containedPermissionIds\n  };\n}\nfunction adminProjectPermissionDefinitionCreateOptionsToCrud(options) {\n  return {\n    id: options.id,\n    description: options.description,\n    contained_permission_ids: options.containedPermissionIds\n  };\n}\nfunction adminProjectPermissionDefinitionUpdateOptionsToCrud(options) {\n  return {\n    description: options.description,\n    contained_permission_ids: options.containedPermissionIds\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL3Blcm1pc3Npb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcQHN0YWNrZnJhbWVcXHN0YWNrXFxkaXN0XFxlc21cXGxpYlxcc3RhY2stYXBwXFxwZXJtaXNzaW9uc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9zdGFjay1hcHAvcGVybWlzc2lvbnMvaW5kZXgudHNcbmZ1bmN0aW9uIGFkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uQ3JlYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgY29udGFpbmVkX3Blcm1pc3Npb25faWRzOiBvcHRpb25zLmNvbnRhaW5lZFBlcm1pc3Npb25JZHNcbiAgfTtcbn1cbmZ1bmN0aW9uIGFkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uVXBkYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgY29udGFpbmVkX3Blcm1pc3Npb25faWRzOiBvcHRpb25zLmNvbnRhaW5lZFBlcm1pc3Npb25JZHNcbiAgfTtcbn1cbmZ1bmN0aW9uIGFkbWluUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uQ3JlYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgY29udGFpbmVkX3Blcm1pc3Npb25faWRzOiBvcHRpb25zLmNvbnRhaW5lZFBlcm1pc3Npb25JZHNcbiAgfTtcbn1cbmZ1bmN0aW9uIGFkbWluUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uVXBkYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgY29udGFpbmVkX3Blcm1pc3Npb25faWRzOiBvcHRpb25zLmNvbnRhaW5lZFBlcm1pc3Npb25JZHNcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGFkbWluUHJvamVjdFBlcm1pc3Npb25EZWZpbml0aW9uQ3JlYXRlT3B0aW9uc1RvQ3J1ZCxcbiAgYWRtaW5Qcm9qZWN0UGVybWlzc2lvbkRlZmluaXRpb25VcGRhdGVPcHRpb25zVG9DcnVkLFxuICBhZG1pblRlYW1QZXJtaXNzaW9uRGVmaW5pdGlvbkNyZWF0ZU9wdGlvbnNUb0NydWQsXG4gIGFkbWluVGVhbVBlcm1pc3Npb25EZWZpbml0aW9uVXBkYXRlT3B0aW9uc1RvQ3J1ZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/permissions/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/projects/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/projects/index.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminProjectCreateOptionsToCrud: () => (/* binding */ adminProjectCreateOptionsToCrud),\n/* harmony export */   adminProjectUpdateOptionsToCrud: () => (/* binding */ adminProjectUpdateOptionsToCrud)\n/* harmony export */ });\n// src/lib/stack-app/projects/index.ts\nfunction adminProjectUpdateOptionsToCrud(options) {\n  return {\n    display_name: options.displayName,\n    description: options.description,\n    is_production_mode: options.isProductionMode,\n    logo_url: options.logoUrl,\n    full_logo_url: options.fullLogoUrl,\n    config: {\n      domains: options.config?.domains?.map((d) => ({\n        domain: d.domain,\n        handler_path: d.handlerPath\n      })),\n      oauth_providers: options.config?.oauthProviders?.map((p) => ({\n        id: p.id,\n        type: p.type,\n        ...p.type === \"standard\" && {\n          client_id: p.clientId,\n          client_secret: p.clientSecret,\n          facebook_config_id: p.facebookConfigId,\n          microsoft_tenant_id: p.microsoftTenantId\n        }\n      })),\n      email_config: options.config?.emailConfig && (options.config.emailConfig.type === \"shared\" ? {\n        type: \"shared\"\n      } : {\n        type: \"standard\",\n        host: options.config.emailConfig.host,\n        port: options.config.emailConfig.port,\n        username: options.config.emailConfig.username,\n        password: options.config.emailConfig.password,\n        sender_name: options.config.emailConfig.senderName,\n        sender_email: options.config.emailConfig.senderEmail\n      }),\n      email_theme: options.config?.emailTheme,\n      sign_up_enabled: options.config?.signUpEnabled,\n      credential_enabled: options.config?.credentialEnabled,\n      magic_link_enabled: options.config?.magicLinkEnabled,\n      passkey_enabled: options.config?.passkeyEnabled,\n      allow_localhost: options.config?.allowLocalhost,\n      create_team_on_sign_up: options.config?.createTeamOnSignUp,\n      client_team_creation_enabled: options.config?.clientTeamCreationEnabled,\n      client_user_deletion_enabled: options.config?.clientUserDeletionEnabled,\n      team_creator_default_permissions: options.config?.teamCreatorDefaultPermissions,\n      team_member_default_permissions: options.config?.teamMemberDefaultPermissions,\n      user_default_permissions: options.config?.userDefaultPermissions,\n      oauth_account_merge_strategy: options.config?.oauthAccountMergeStrategy,\n      allow_user_api_keys: options.config?.allowUserApiKeys,\n      allow_team_api_keys: options.config?.allowTeamApiKeys\n    }\n  };\n}\nfunction adminProjectCreateOptionsToCrud(options) {\n  return {\n    ...adminProjectUpdateOptionsToCrud(options),\n    display_name: options.displayName,\n    owner_team_id: options.teamId\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL3Byb2plY3RzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFja1xcZGlzdFxcZXNtXFxsaWJcXHN0YWNrLWFwcFxccHJvamVjdHNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvc3RhY2stYXBwL3Byb2plY3RzL2luZGV4LnRzXG5mdW5jdGlvbiBhZG1pblByb2plY3RVcGRhdGVPcHRpb25zVG9DcnVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5X25hbWU6IG9wdGlvbnMuZGlzcGxheU5hbWUsXG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgaXNfcHJvZHVjdGlvbl9tb2RlOiBvcHRpb25zLmlzUHJvZHVjdGlvbk1vZGUsXG4gICAgbG9nb191cmw6IG9wdGlvbnMubG9nb1VybCxcbiAgICBmdWxsX2xvZ29fdXJsOiBvcHRpb25zLmZ1bGxMb2dvVXJsLFxuICAgIGNvbmZpZzoge1xuICAgICAgZG9tYWluczogb3B0aW9ucy5jb25maWc/LmRvbWFpbnM/Lm1hcCgoZCkgPT4gKHtcbiAgICAgICAgZG9tYWluOiBkLmRvbWFpbixcbiAgICAgICAgaGFuZGxlcl9wYXRoOiBkLmhhbmRsZXJQYXRoXG4gICAgICB9KSksXG4gICAgICBvYXV0aF9wcm92aWRlcnM6IG9wdGlvbnMuY29uZmlnPy5vYXV0aFByb3ZpZGVycz8ubWFwKChwKSA9PiAoe1xuICAgICAgICBpZDogcC5pZCxcbiAgICAgICAgdHlwZTogcC50eXBlLFxuICAgICAgICAuLi5wLnR5cGUgPT09IFwic3RhbmRhcmRcIiAmJiB7XG4gICAgICAgICAgY2xpZW50X2lkOiBwLmNsaWVudElkLFxuICAgICAgICAgIGNsaWVudF9zZWNyZXQ6IHAuY2xpZW50U2VjcmV0LFxuICAgICAgICAgIGZhY2Vib29rX2NvbmZpZ19pZDogcC5mYWNlYm9va0NvbmZpZ0lkLFxuICAgICAgICAgIG1pY3Jvc29mdF90ZW5hbnRfaWQ6IHAubWljcm9zb2Z0VGVuYW50SWRcbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgZW1haWxfY29uZmlnOiBvcHRpb25zLmNvbmZpZz8uZW1haWxDb25maWcgJiYgKG9wdGlvbnMuY29uZmlnLmVtYWlsQ29uZmlnLnR5cGUgPT09IFwic2hhcmVkXCIgPyB7XG4gICAgICAgIHR5cGU6IFwic2hhcmVkXCJcbiAgICAgIH0gOiB7XG4gICAgICAgIHR5cGU6IFwic3RhbmRhcmRcIixcbiAgICAgICAgaG9zdDogb3B0aW9ucy5jb25maWcuZW1haWxDb25maWcuaG9zdCxcbiAgICAgICAgcG9ydDogb3B0aW9ucy5jb25maWcuZW1haWxDb25maWcucG9ydCxcbiAgICAgICAgdXNlcm5hbWU6IG9wdGlvbnMuY29uZmlnLmVtYWlsQ29uZmlnLnVzZXJuYW1lLFxuICAgICAgICBwYXNzd29yZDogb3B0aW9ucy5jb25maWcuZW1haWxDb25maWcucGFzc3dvcmQsXG4gICAgICAgIHNlbmRlcl9uYW1lOiBvcHRpb25zLmNvbmZpZy5lbWFpbENvbmZpZy5zZW5kZXJOYW1lLFxuICAgICAgICBzZW5kZXJfZW1haWw6IG9wdGlvbnMuY29uZmlnLmVtYWlsQ29uZmlnLnNlbmRlckVtYWlsXG4gICAgICB9KSxcbiAgICAgIGVtYWlsX3RoZW1lOiBvcHRpb25zLmNvbmZpZz8uZW1haWxUaGVtZSxcbiAgICAgIHNpZ25fdXBfZW5hYmxlZDogb3B0aW9ucy5jb25maWc/LnNpZ25VcEVuYWJsZWQsXG4gICAgICBjcmVkZW50aWFsX2VuYWJsZWQ6IG9wdGlvbnMuY29uZmlnPy5jcmVkZW50aWFsRW5hYmxlZCxcbiAgICAgIG1hZ2ljX2xpbmtfZW5hYmxlZDogb3B0aW9ucy5jb25maWc/Lm1hZ2ljTGlua0VuYWJsZWQsXG4gICAgICBwYXNza2V5X2VuYWJsZWQ6IG9wdGlvbnMuY29uZmlnPy5wYXNza2V5RW5hYmxlZCxcbiAgICAgIGFsbG93X2xvY2FsaG9zdDogb3B0aW9ucy5jb25maWc/LmFsbG93TG9jYWxob3N0LFxuICAgICAgY3JlYXRlX3RlYW1fb25fc2lnbl91cDogb3B0aW9ucy5jb25maWc/LmNyZWF0ZVRlYW1PblNpZ25VcCxcbiAgICAgIGNsaWVudF90ZWFtX2NyZWF0aW9uX2VuYWJsZWQ6IG9wdGlvbnMuY29uZmlnPy5jbGllbnRUZWFtQ3JlYXRpb25FbmFibGVkLFxuICAgICAgY2xpZW50X3VzZXJfZGVsZXRpb25fZW5hYmxlZDogb3B0aW9ucy5jb25maWc/LmNsaWVudFVzZXJEZWxldGlvbkVuYWJsZWQsXG4gICAgICB0ZWFtX2NyZWF0b3JfZGVmYXVsdF9wZXJtaXNzaW9uczogb3B0aW9ucy5jb25maWc/LnRlYW1DcmVhdG9yRGVmYXVsdFBlcm1pc3Npb25zLFxuICAgICAgdGVhbV9tZW1iZXJfZGVmYXVsdF9wZXJtaXNzaW9uczogb3B0aW9ucy5jb25maWc/LnRlYW1NZW1iZXJEZWZhdWx0UGVybWlzc2lvbnMsXG4gICAgICB1c2VyX2RlZmF1bHRfcGVybWlzc2lvbnM6IG9wdGlvbnMuY29uZmlnPy51c2VyRGVmYXVsdFBlcm1pc3Npb25zLFxuICAgICAgb2F1dGhfYWNjb3VudF9tZXJnZV9zdHJhdGVneTogb3B0aW9ucy5jb25maWc/Lm9hdXRoQWNjb3VudE1lcmdlU3RyYXRlZ3ksXG4gICAgICBhbGxvd191c2VyX2FwaV9rZXlzOiBvcHRpb25zLmNvbmZpZz8uYWxsb3dVc2VyQXBpS2V5cyxcbiAgICAgIGFsbG93X3RlYW1fYXBpX2tleXM6IG9wdGlvbnMuY29uZmlnPy5hbGxvd1RlYW1BcGlLZXlzXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gYWRtaW5Qcm9qZWN0Q3JlYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgLi4uYWRtaW5Qcm9qZWN0VXBkYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSxcbiAgICBkaXNwbGF5X25hbWU6IG9wdGlvbnMuZGlzcGxheU5hbWUsXG4gICAgb3duZXJfdGVhbV9pZDogb3B0aW9ucy50ZWFtSWRcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGFkbWluUHJvamVjdENyZWF0ZU9wdGlvbnNUb0NydWQsXG4gIGFkbWluUHJvamVjdFVwZGF0ZU9wdGlvbnNUb0NydWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/projects/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/teams/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/teams/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serverTeamCreateOptionsToCrud: () => (/* binding */ serverTeamCreateOptionsToCrud),\n/* harmony export */   serverTeamUpdateOptionsToCrud: () => (/* binding */ serverTeamUpdateOptionsToCrud),\n/* harmony export */   teamCreateOptionsToCrud: () => (/* binding */ teamCreateOptionsToCrud),\n/* harmony export */   teamUpdateOptionsToCrud: () => (/* binding */ teamUpdateOptionsToCrud)\n/* harmony export */ });\n// src/lib/stack-app/teams/index.ts\nfunction teamUpdateOptionsToCrud(options) {\n  return {\n    display_name: options.displayName,\n    profile_image_url: options.profileImageUrl,\n    client_metadata: options.clientMetadata\n  };\n}\nfunction teamCreateOptionsToCrud(options, creatorUserId) {\n  return {\n    display_name: options.displayName,\n    profile_image_url: options.profileImageUrl,\n    creator_user_id: creatorUserId\n  };\n}\nfunction serverTeamCreateOptionsToCrud(options) {\n  return {\n    display_name: options.displayName,\n    profile_image_url: options.profileImageUrl,\n    creator_user_id: options.creatorUserId\n  };\n}\nfunction serverTeamUpdateOptionsToCrud(options) {\n  return {\n    display_name: options.displayName,\n    profile_image_url: options.profileImageUrl,\n    client_metadata: options.clientMetadata,\n    client_read_only_metadata: options.clientReadOnlyMetadata,\n    server_metadata: options.serverMetadata\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL3RlYW1zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxAc3RhY2tmcmFtZVxcc3RhY2tcXGRpc3RcXGVzbVxcbGliXFxzdGFjay1hcHBcXHRlYW1zXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL3N0YWNrLWFwcC90ZWFtcy9pbmRleC50c1xuZnVuY3Rpb24gdGVhbVVwZGF0ZU9wdGlvbnNUb0NydWQob3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXlfbmFtZTogb3B0aW9ucy5kaXNwbGF5TmFtZSxcbiAgICBwcm9maWxlX2ltYWdlX3VybDogb3B0aW9ucy5wcm9maWxlSW1hZ2VVcmwsXG4gICAgY2xpZW50X21ldGFkYXRhOiBvcHRpb25zLmNsaWVudE1ldGFkYXRhXG4gIH07XG59XG5mdW5jdGlvbiB0ZWFtQ3JlYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zLCBjcmVhdG9yVXNlcklkKSB7XG4gIHJldHVybiB7XG4gICAgZGlzcGxheV9uYW1lOiBvcHRpb25zLmRpc3BsYXlOYW1lLFxuICAgIHByb2ZpbGVfaW1hZ2VfdXJsOiBvcHRpb25zLnByb2ZpbGVJbWFnZVVybCxcbiAgICBjcmVhdG9yX3VzZXJfaWQ6IGNyZWF0b3JVc2VySWRcbiAgfTtcbn1cbmZ1bmN0aW9uIHNlcnZlclRlYW1DcmVhdGVPcHRpb25zVG9DcnVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5X25hbWU6IG9wdGlvbnMuZGlzcGxheU5hbWUsXG4gICAgcHJvZmlsZV9pbWFnZV91cmw6IG9wdGlvbnMucHJvZmlsZUltYWdlVXJsLFxuICAgIGNyZWF0b3JfdXNlcl9pZDogb3B0aW9ucy5jcmVhdG9yVXNlcklkXG4gIH07XG59XG5mdW5jdGlvbiBzZXJ2ZXJUZWFtVXBkYXRlT3B0aW9uc1RvQ3J1ZChvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgZGlzcGxheV9uYW1lOiBvcHRpb25zLmRpc3BsYXlOYW1lLFxuICAgIHByb2ZpbGVfaW1hZ2VfdXJsOiBvcHRpb25zLnByb2ZpbGVJbWFnZVVybCxcbiAgICBjbGllbnRfbWV0YWRhdGE6IG9wdGlvbnMuY2xpZW50TWV0YWRhdGEsXG4gICAgY2xpZW50X3JlYWRfb25seV9tZXRhZGF0YTogb3B0aW9ucy5jbGllbnRSZWFkT25seU1ldGFkYXRhLFxuICAgIHNlcnZlcl9tZXRhZGF0YTogb3B0aW9ucy5zZXJ2ZXJNZXRhZGF0YVxuICB9O1xufVxuZXhwb3J0IHtcbiAgc2VydmVyVGVhbUNyZWF0ZU9wdGlvbnNUb0NydWQsXG4gIHNlcnZlclRlYW1VcGRhdGVPcHRpb25zVG9DcnVkLFxuICB0ZWFtQ3JlYXRlT3B0aW9uc1RvQ3J1ZCxcbiAgdGVhbVVwZGF0ZU9wdGlvbnNUb0NydWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/teams/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/users/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/lib/stack-app/users/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serverUserCreateOptionsToCrud: () => (/* binding */ serverUserCreateOptionsToCrud),\n/* harmony export */   serverUserUpdateOptionsToCrud: () => (/* binding */ serverUserUpdateOptionsToCrud),\n/* harmony export */   userUpdateOptionsToCrud: () => (/* binding */ userUpdateOptionsToCrud)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared_dist_utils_bytes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/bytes */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/bytes.js\");\n// src/lib/stack-app/users/index.ts\n\nfunction userUpdateOptionsToCrud(options) {\n  return {\n    display_name: options.displayName,\n    client_metadata: options.clientMetadata,\n    selected_team_id: options.selectedTeamId,\n    totp_secret_base64: options.totpMultiFactorSecret != null ? (0,_stackframe_stack_shared_dist_utils_bytes__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(options.totpMultiFactorSecret) : options.totpMultiFactorSecret,\n    profile_image_url: options.profileImageUrl,\n    otp_auth_enabled: options.otpAuthEnabled,\n    passkey_auth_enabled: options.passkeyAuthEnabled\n  };\n}\nfunction serverUserUpdateOptionsToCrud(options) {\n  return {\n    display_name: options.displayName,\n    primary_email: options.primaryEmail,\n    client_metadata: options.clientMetadata,\n    client_read_only_metadata: options.clientReadOnlyMetadata,\n    server_metadata: options.serverMetadata,\n    selected_team_id: options.selectedTeamId,\n    primary_email_auth_enabled: options.primaryEmailAuthEnabled,\n    primary_email_verified: options.primaryEmailVerified,\n    password: options.password,\n    profile_image_url: options.profileImageUrl,\n    totp_secret_base64: options.totpMultiFactorSecret != null ? (0,_stackframe_stack_shared_dist_utils_bytes__WEBPACK_IMPORTED_MODULE_0__.encodeBase64)(options.totpMultiFactorSecret) : options.totpMultiFactorSecret\n  };\n}\nfunction serverUserCreateOptionsToCrud(options) {\n  return {\n    primary_email: options.primaryEmail,\n    password: options.password,\n    otp_auth_enabled: options.otpAuthEnabled,\n    primary_email_auth_enabled: options.primaryEmailAuthEnabled,\n    display_name: options.displayName,\n    primary_email_verified: options.primaryEmailVerified,\n    client_metadata: options.clientMetadata,\n    client_read_only_metadata: options.clientReadOnlyMetadata,\n    server_metadata: options.serverMetadata\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9saWIvc3RhY2stYXBwL3VzZXJzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUN5RTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHVGQUFZO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsdUZBQVk7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFja1xcZGlzdFxcZXNtXFxsaWJcXHN0YWNrLWFwcFxcdXNlcnNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvc3RhY2stYXBwL3VzZXJzL2luZGV4LnRzXG5pbXBvcnQgeyBlbmNvZGVCYXNlNjQgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvYnl0ZXNcIjtcbmZ1bmN0aW9uIHVzZXJVcGRhdGVPcHRpb25zVG9DcnVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5X25hbWU6IG9wdGlvbnMuZGlzcGxheU5hbWUsXG4gICAgY2xpZW50X21ldGFkYXRhOiBvcHRpb25zLmNsaWVudE1ldGFkYXRhLFxuICAgIHNlbGVjdGVkX3RlYW1faWQ6IG9wdGlvbnMuc2VsZWN0ZWRUZWFtSWQsXG4gICAgdG90cF9zZWNyZXRfYmFzZTY0OiBvcHRpb25zLnRvdHBNdWx0aUZhY3RvclNlY3JldCAhPSBudWxsID8gZW5jb2RlQmFzZTY0KG9wdGlvbnMudG90cE11bHRpRmFjdG9yU2VjcmV0KSA6IG9wdGlvbnMudG90cE11bHRpRmFjdG9yU2VjcmV0LFxuICAgIHByb2ZpbGVfaW1hZ2VfdXJsOiBvcHRpb25zLnByb2ZpbGVJbWFnZVVybCxcbiAgICBvdHBfYXV0aF9lbmFibGVkOiBvcHRpb25zLm90cEF1dGhFbmFibGVkLFxuICAgIHBhc3NrZXlfYXV0aF9lbmFibGVkOiBvcHRpb25zLnBhc3NrZXlBdXRoRW5hYmxlZFxuICB9O1xufVxuZnVuY3Rpb24gc2VydmVyVXNlclVwZGF0ZU9wdGlvbnNUb0NydWQob3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXlfbmFtZTogb3B0aW9ucy5kaXNwbGF5TmFtZSxcbiAgICBwcmltYXJ5X2VtYWlsOiBvcHRpb25zLnByaW1hcnlFbWFpbCxcbiAgICBjbGllbnRfbWV0YWRhdGE6IG9wdGlvbnMuY2xpZW50TWV0YWRhdGEsXG4gICAgY2xpZW50X3JlYWRfb25seV9tZXRhZGF0YTogb3B0aW9ucy5jbGllbnRSZWFkT25seU1ldGFkYXRhLFxuICAgIHNlcnZlcl9tZXRhZGF0YTogb3B0aW9ucy5zZXJ2ZXJNZXRhZGF0YSxcbiAgICBzZWxlY3RlZF90ZWFtX2lkOiBvcHRpb25zLnNlbGVjdGVkVGVhbUlkLFxuICAgIHByaW1hcnlfZW1haWxfYXV0aF9lbmFibGVkOiBvcHRpb25zLnByaW1hcnlFbWFpbEF1dGhFbmFibGVkLFxuICAgIHByaW1hcnlfZW1haWxfdmVyaWZpZWQ6IG9wdGlvbnMucHJpbWFyeUVtYWlsVmVyaWZpZWQsXG4gICAgcGFzc3dvcmQ6IG9wdGlvbnMucGFzc3dvcmQsXG4gICAgcHJvZmlsZV9pbWFnZV91cmw6IG9wdGlvbnMucHJvZmlsZUltYWdlVXJsLFxuICAgIHRvdHBfc2VjcmV0X2Jhc2U2NDogb3B0aW9ucy50b3RwTXVsdGlGYWN0b3JTZWNyZXQgIT0gbnVsbCA/IGVuY29kZUJhc2U2NChvcHRpb25zLnRvdHBNdWx0aUZhY3RvclNlY3JldCkgOiBvcHRpb25zLnRvdHBNdWx0aUZhY3RvclNlY3JldFxuICB9O1xufVxuZnVuY3Rpb24gc2VydmVyVXNlckNyZWF0ZU9wdGlvbnNUb0NydWQob3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHByaW1hcnlfZW1haWw6IG9wdGlvbnMucHJpbWFyeUVtYWlsLFxuICAgIHBhc3N3b3JkOiBvcHRpb25zLnBhc3N3b3JkLFxuICAgIG90cF9hdXRoX2VuYWJsZWQ6IG9wdGlvbnMub3RwQXV0aEVuYWJsZWQsXG4gICAgcHJpbWFyeV9lbWFpbF9hdXRoX2VuYWJsZWQ6IG9wdGlvbnMucHJpbWFyeUVtYWlsQXV0aEVuYWJsZWQsXG4gICAgZGlzcGxheV9uYW1lOiBvcHRpb25zLmRpc3BsYXlOYW1lLFxuICAgIHByaW1hcnlfZW1haWxfdmVyaWZpZWQ6IG9wdGlvbnMucHJpbWFyeUVtYWlsVmVyaWZpZWQsXG4gICAgY2xpZW50X21ldGFkYXRhOiBvcHRpb25zLmNsaWVudE1ldGFkYXRhLFxuICAgIGNsaWVudF9yZWFkX29ubHlfbWV0YWRhdGE6IG9wdGlvbnMuY2xpZW50UmVhZE9ubHlNZXRhZGF0YSxcbiAgICBzZXJ2ZXJfbWV0YWRhdGE6IG9wdGlvbnMuc2VydmVyTWV0YWRhdGFcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIHNlcnZlclVzZXJDcmVhdGVPcHRpb25zVG9DcnVkLFxuICBzZXJ2ZXJVc2VyVXBkYXRlT3B0aW9uc1RvQ3J1ZCxcbiAgdXNlclVwZGF0ZU9wdGlvbnNUb0NydWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/users/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackContext: () => (/* binding */ StackContext),\n/* harmony export */   StackProviderClient: () => (/* binding */ StackProviderClient),\n/* harmony export */   UserSetter: () => (/* binding */ UserSetter)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared_dist_utils_globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/globals */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/globals.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/hooks.js\");\n/* harmony import */ var _lib_stack_app_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/stack-app/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/apps/interfaces/client-app.js\");\n/* harmony import */ var _lib_stack_app_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/stack-app/index.js */ \"(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/lib/stack-app/common.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ StackContext,StackProviderClient,UserSetter auto */ var _s = $RefreshSig$();\n// src/providers/stack-provider-client.tsx\n\n\n\n\n\nvar StackContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createContext(null);\nfunction StackProviderClient(props) {\n    const app = props.serialized ? _lib_stack_app_index_js__WEBPACK_IMPORTED_MODULE_3__.StackClientApp[_lib_stack_app_index_js__WEBPACK_IMPORTED_MODULE_4__.stackAppInternalsSymbol].fromClientJson(props.app) : props.app;\n    _stackframe_stack_shared_dist_utils_globals__WEBPACK_IMPORTED_MODULE_0__.globalVar.__STACK_AUTH__ = {\n        app\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StackContext.Provider, {\n        value: {\n            app\n        },\n        children: props.children\n    });\n}\n_c = StackProviderClient;\nfunction UserSetter(props) {\n    _s();\n    const app = (0,_index_js__WEBPACK_IMPORTED_MODULE_5__.useStackApp)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserSetter.useEffect\": ()=>{\n            const promise = ({\n                \"UserSetter.useEffect.promise\": async ()=>await props.userJsonPromise\n            })[\"UserSetter.useEffect.promise\"]();\n            app[_lib_stack_app_index_js__WEBPACK_IMPORTED_MODULE_4__.stackAppInternalsSymbol].setCurrentUser(promise);\n        }\n    }[\"UserSetter.useEffect\"], []);\n    return null;\n}\n_s(UserSetter, \"SvtpiKrHtw9ISKE2MIQgyXUhtRU=\", false, function() {\n    return [\n        _index_js__WEBPACK_IMPORTED_MODULE_5__.useStackApp\n    ];\n});\n_c1 = UserSetter;\n //# sourceMappingURL=stack-provider-client.js.map\nvar _c, _c1;\n$RefreshReg$(_c, \"StackProviderClient\");\n$RefreshReg$(_c1, \"UserSetter\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS9wcm92aWRlcnMvc3RhY2stcHJvdmlkZXItY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBUUEsU0FBUyxpQkFBaUI7QUFDTztBQUNMO0FBQ2lCO0FBaUJ6QztBQWJEO0FBRUksU0FBUyxrRkFJYjtBQUNELFFBQU0scUJBQVksSUFDZDtJQUVKLFVBQVUsaUJBQWlCLEVBQUUscUVBQUk7SUFFakMsa0ZBQ0Usa0JBQUM7UUFBQTtJQUFBO0lBSUw7UUFBQTtZQUFBO1FBQUE7UUFBQTtJQUFBO0FBRU87S0FaQyxLQUFNLE1BQU07QUFhbEIsUUFBTSxZQUFNLE1BQVk7O0lBQ3hCLFVBQVU7SUFDUixnREFBTTtnQ0FBQTtZQUNOLElBQUk7Z0RBQUEsVUFBdUIsTUFBRSxTQUFlLE9BQU87O1lBQ3JELENBQUcsQ0FBQyxDQUFDO1FBQ0w7K0JBQUEsSUFBTztJQUNUOztHQU5ROztRQUNJLGtEQUFNOzs7TUFEVixLQUFNIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXHNyY1xccHJvdmlkZXJzXFxzdGFjay1wcm92aWRlci1jbGllbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEhJUyBGSUxFIElTIEFVVE8tR0VORVJBVEVEIEZST00gVEVNUExBVEUuIERPIE5PVCBFRElUIElUIERJUkVDVExZXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgQ3VycmVudFVzZXJDcnVkIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L2ludGVyZmFjZS9jcnVkL2N1cnJlbnQtdXNlclwiO1xuaW1wb3J0IHsgZ2xvYmFsVmFyIH0gZnJvbSBcIkBzdGFja2ZyYW1lL3N0YWNrLXNoYXJlZC9kaXN0L3V0aWxzL2dsb2JhbHNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN0YWNrQXBwIH0gZnJvbSBcIi4uXCI7XG5pbXBvcnQgeyBTdGFja0NsaWVudEFwcCwgU3RhY2tDbGllbnRBcHBKc29uLCBzdGFja0FwcEludGVybmFsc1N5bWJvbCB9IGZyb20gXCIuLi9saWIvc3RhY2stYXBwXCI7XG5cbmV4cG9ydCBjb25zdCBTdGFja0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PG51bGwgfCB7XG4gIGFwcDogU3RhY2tDbGllbnRBcHA8dHJ1ZT4sXG59PihudWxsKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFN0YWNrUHJvdmlkZXJDbGllbnQocHJvcHM6IHtcbiAgYXBwOiBTdGFja0NsaWVudEFwcEpzb248dHJ1ZSwgc3RyaW5nPiB8IFN0YWNrQ2xpZW50QXBwPHRydWU+LFxuICBzZXJpYWxpemVkOiBib29sZWFuLFxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZSxcbn0pIHtcbiAgY29uc3QgYXBwID0gcHJvcHMuc2VyaWFsaXplZFxuICAgID8gU3RhY2tDbGllbnRBcHBbc3RhY2tBcHBJbnRlcm5hbHNTeW1ib2xdLmZyb21DbGllbnRKc29uKHByb3BzLmFwcCBhcyBTdGFja0NsaWVudEFwcEpzb248dHJ1ZSwgc3RyaW5nPilcbiAgICA6IHByb3BzLmFwcCBhcyBTdGFja0NsaWVudEFwcDx0cnVlPjtcbiAgZ2xvYmFsVmFyLl9fU1RBQ0tfQVVUSF9fID0geyBhcHAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTdGFja0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgYXBwIH19PlxuICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvU3RhY2tDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlclNldHRlcihwcm9wczogeyB1c2VySnNvblByb21pc2U6IFByb21pc2U8Q3VycmVudFVzZXJDcnVkWydDbGllbnQnXVsnUmVhZCddIHwgbnVsbD4gfSkge1xuICBjb25zdCBhcHAgPSB1c2VTdGFja0FwcCgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHByb21pc2UgPSAoYXN5bmMgKCkgPT4gYXdhaXQgcHJvcHMudXNlckpzb25Qcm9taXNlKSgpOyAgLy8gdGhlcmUgaXMgYSBOZXh0LmpzIGJ1ZyB3aGVyZSBQcm9taXNlcyBwYXNzZWQgYnkgc2VydmVyIGNvbXBvbmVudHMgcmV0dXJuIGB1bmRlZmluZWRgIGFzIHRoZWlyIGB0aGVuYCB2YWx1ZSwgc28gd3JhcCBpdCBpbiBhIG5vcm1hbCBwcm9taXNlXG4gICAgYXBwW3N0YWNrQXBwSW50ZXJuYWxzU3ltYm9sXS5zZXRDdXJyZW50VXNlcihwcm9taXNlKTtcbiAgfSwgW10pO1xuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/providers/stack-provider-client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/utils/url.js":
/*!**************************************************************!*\
  !*** ./node_modules/@stackframe/stack/dist/esm/utils/url.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   constructRedirectUrl: () => (/* binding */ constructRedirectUrl)\n/* harmony export */ });\n/* harmony import */ var _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stackframe/stack-shared/dist/utils/errors */ \"(app-pages-browser)/./node_modules/@stackframe/stack-shared/dist/esm/utils/errors.js\");\n// src/utils/url.ts\n\nfunction constructRedirectUrl(redirectUrl, callbackUrlName) {\n  if (typeof window === \"undefined\" || !window.location) {\n    throw new _stackframe_stack_shared_dist_utils_errors__WEBPACK_IMPORTED_MODULE_0__.StackAssertionError(`${callbackUrlName} option is required in a non-browser environment.`, { redirectUrl });\n  }\n  const retainedQueryParams = [\"after_auth_return_to\"];\n  const currentUrl = new URL(window.location.href);\n  const url = redirectUrl ? new URL(redirectUrl, window.location.href) : new URL(window.location.href);\n  for (const param of retainedQueryParams) {\n    if (currentUrl.searchParams.has(param)) {\n      url.searchParams.set(param, currentUrl.searchParams.get(param));\n    }\n  }\n  url.hash = \"\";\n  return url.toString();\n}\n\n//# sourceMappingURL=url.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhY2tmcmFtZS9zdGFjay9kaXN0L2VzbS91dGlscy91cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNpRjtBQUNqRjtBQUNBO0FBQ0EsY0FBYywyRkFBbUIsSUFBSSxpQkFBaUIscURBQXFELGFBQWE7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXEBzdGFja2ZyYW1lXFxzdGFja1xcZGlzdFxcZXNtXFx1dGlsc1xcdXJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy91cmwudHNcbmltcG9ydCB7IFN0YWNrQXNzZXJ0aW9uRXJyb3IgfSBmcm9tIFwiQHN0YWNrZnJhbWUvc3RhY2stc2hhcmVkL2Rpc3QvdXRpbHMvZXJyb3JzXCI7XG5mdW5jdGlvbiBjb25zdHJ1Y3RSZWRpcmVjdFVybChyZWRpcmVjdFVybCwgY2FsbGJhY2tVcmxOYW1lKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cubG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgU3RhY2tBc3NlcnRpb25FcnJvcihgJHtjYWxsYmFja1VybE5hbWV9IG9wdGlvbiBpcyByZXF1aXJlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LmAsIHsgcmVkaXJlY3RVcmwgfSk7XG4gIH1cbiAgY29uc3QgcmV0YWluZWRRdWVyeVBhcmFtcyA9IFtcImFmdGVyX2F1dGhfcmV0dXJuX3RvXCJdO1xuICBjb25zdCBjdXJyZW50VXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gIGNvbnN0IHVybCA9IHJlZGlyZWN0VXJsID8gbmV3IFVSTChyZWRpcmVjdFVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpIDogbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gIGZvciAoY29uc3QgcGFyYW0gb2YgcmV0YWluZWRRdWVyeVBhcmFtcykge1xuICAgIGlmIChjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5oYXMocGFyYW0pKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChwYXJhbSwgY3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KHBhcmFtKSk7XG4gICAgfVxuICB9XG4gIHVybC5oYXNoID0gXCJcIjtcbiAgcmV0dXJuIHVybC50b1N0cmluZygpO1xufVxuZXhwb3J0IHtcbiAgY29uc3RydWN0UmVkaXJlY3RVcmxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stackframe/stack/dist/esm/utils/url.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/async-mutex/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/async-mutex/index.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   E_ALREADY_LOCKED: () => (/* binding */ E_ALREADY_LOCKED),\n/* harmony export */   E_CANCELED: () => (/* binding */ E_CANCELED),\n/* harmony export */   E_TIMEOUT: () => (/* binding */ E_TIMEOUT),\n/* harmony export */   Mutex: () => (/* binding */ Mutex),\n/* harmony export */   Semaphore: () => (/* binding */ Semaphore),\n/* harmony export */   tryAcquire: () => (/* binding */ tryAcquire),\n/* harmony export */   withTimeout: () => (/* binding */ withTimeout)\n/* harmony export */ });\nconst E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nconst E_ALREADY_LOCKED = new Error('mutex already locked');\nconst E_CANCELED = new Error('request for lock canceled');\n\nvar __awaiter$2 = ( false) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Semaphore {\n    constructor(_value, _cancelError = E_CANCELED) {\n        this._value = _value;\n        this._cancelError = _cancelError;\n        this._queue = [];\n        this._weightedWaiters = [];\n    }\n    acquire(weight = 1, priority = 0) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        return new Promise((resolve, reject) => {\n            const task = { resolve, reject, weight, priority };\n            const i = findIndexFromEnd(this._queue, (other) => priority <= other.priority);\n            if (i === -1 && weight <= this._value) {\n                // Needs immediate dispatch, skip the queue\n                this._dispatchItem(task);\n            }\n            else {\n                this._queue.splice(i + 1, 0, task);\n            }\n        });\n    }\n    runExclusive(callback_1) {\n        return __awaiter$2(this, arguments, void 0, function* (callback, weight = 1, priority = 0) {\n            const [value, release] = yield this.acquire(weight, priority);\n            try {\n                return yield callback(value);\n            }\n            finally {\n                release();\n            }\n        });\n    }\n    waitForUnlock(weight = 1, priority = 0) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        if (this._couldLockImmediately(weight, priority)) {\n            return Promise.resolve();\n        }\n        else {\n            return new Promise((resolve) => {\n                if (!this._weightedWaiters[weight - 1])\n                    this._weightedWaiters[weight - 1] = [];\n                insertSorted(this._weightedWaiters[weight - 1], { resolve, priority });\n            });\n        }\n    }\n    isLocked() {\n        return this._value <= 0;\n    }\n    getValue() {\n        return this._value;\n    }\n    setValue(value) {\n        this._value = value;\n        this._dispatchQueue();\n    }\n    release(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        this._value += weight;\n        this._dispatchQueue();\n    }\n    cancel() {\n        this._queue.forEach((entry) => entry.reject(this._cancelError));\n        this._queue = [];\n    }\n    _dispatchQueue() {\n        this._drainUnlockWaiters();\n        while (this._queue.length > 0 && this._queue[0].weight <= this._value) {\n            this._dispatchItem(this._queue.shift());\n            this._drainUnlockWaiters();\n        }\n    }\n    _dispatchItem(item) {\n        const previousValue = this._value;\n        this._value -= item.weight;\n        item.resolve([previousValue, this._newReleaser(item.weight)]);\n    }\n    _newReleaser(weight) {\n        let called = false;\n        return () => {\n            if (called)\n                return;\n            called = true;\n            this.release(weight);\n        };\n    }\n    _drainUnlockWaiters() {\n        if (this._queue.length === 0) {\n            for (let weight = this._value; weight > 0; weight--) {\n                const waiters = this._weightedWaiters[weight - 1];\n                if (!waiters)\n                    continue;\n                waiters.forEach((waiter) => waiter.resolve());\n                this._weightedWaiters[weight - 1] = [];\n            }\n        }\n        else {\n            const queuedPriority = this._queue[0].priority;\n            for (let weight = this._value; weight > 0; weight--) {\n                const waiters = this._weightedWaiters[weight - 1];\n                if (!waiters)\n                    continue;\n                const i = waiters.findIndex((waiter) => waiter.priority <= queuedPriority);\n                (i === -1 ? waiters : waiters.splice(0, i))\n                    .forEach((waiter => waiter.resolve()));\n            }\n        }\n    }\n    _couldLockImmediately(weight, priority) {\n        return (this._queue.length === 0 || this._queue[0].priority < priority) &&\n            weight <= this._value;\n    }\n}\nfunction insertSorted(a, v) {\n    const i = findIndexFromEnd(a, (other) => v.priority <= other.priority);\n    a.splice(i + 1, 0, v);\n}\nfunction findIndexFromEnd(a, predicate) {\n    for (let i = a.length - 1; i >= 0; i--) {\n        if (predicate(a[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\n\nvar __awaiter$1 = ( false) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Mutex {\n    constructor(cancelError) {\n        this._semaphore = new Semaphore(1, cancelError);\n    }\n    acquire() {\n        return __awaiter$1(this, arguments, void 0, function* (priority = 0) {\n            const [, releaser] = yield this._semaphore.acquire(1, priority);\n            return releaser;\n        });\n    }\n    runExclusive(callback, priority = 0) {\n        return this._semaphore.runExclusive(() => callback(), 1, priority);\n    }\n    isLocked() {\n        return this._semaphore.isLocked();\n    }\n    waitForUnlock(priority = 0) {\n        return this._semaphore.waitForUnlock(1, priority);\n    }\n    release() {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    }\n    cancel() {\n        return this._semaphore.cancel();\n    }\n}\n\nvar __awaiter = ( false) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction withTimeout(sync, timeout, timeoutError = E_TIMEOUT) {\n    return {\n        acquire: (weightOrPriority, priority) => {\n            let weight;\n            if (isSemaphore(sync)) {\n                weight = weightOrPriority;\n            }\n            else {\n                weight = undefined;\n                priority = weightOrPriority;\n            }\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let isTimeout = false;\n                const handle = setTimeout(() => {\n                    isTimeout = true;\n                    reject(timeoutError);\n                }, timeout);\n                try {\n                    const ticket = yield (isSemaphore(sync)\n                        ? sync.acquire(weight, priority)\n                        : sync.acquire(priority));\n                    if (isTimeout) {\n                        const release = Array.isArray(ticket) ? ticket[1] : ticket;\n                        release();\n                    }\n                    else {\n                        clearTimeout(handle);\n                        resolve(ticket);\n                    }\n                }\n                catch (e) {\n                    if (!isTimeout) {\n                        clearTimeout(handle);\n                        reject(e);\n                    }\n                }\n            }));\n        },\n        runExclusive(callback, weight, priority) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let release = () => undefined;\n                try {\n                    const ticket = yield this.acquire(weight, priority);\n                    if (Array.isArray(ticket)) {\n                        release = ticket[1];\n                        return yield callback(ticket[0]);\n                    }\n                    else {\n                        release = ticket;\n                        return yield callback();\n                    }\n                }\n                finally {\n                    release();\n                }\n            });\n        },\n        release(weight) {\n            sync.release(weight);\n        },\n        cancel() {\n            return sync.cancel();\n        },\n        waitForUnlock: (weightOrPriority, priority) => {\n            let weight;\n            if (isSemaphore(sync)) {\n                weight = weightOrPriority;\n            }\n            else {\n                weight = undefined;\n                priority = weightOrPriority;\n            }\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => {\n                const handle = setTimeout(() => reject(timeoutError), timeout);\n                (isSemaphore(sync)\n                    ? sync.waitForUnlock(weight, priority)\n                    : sync.waitForUnlock(priority)).then(() => {\n                    clearTimeout(handle);\n                    resolve();\n                });\n            });\n        },\n        isLocked: () => sync.isLocked(),\n        getValue: () => sync.getValue(),\n        setValue: (value) => sync.setValue(value),\n    };\n}\nfunction isSemaphore(sync) {\n    return sync.getValue !== undefined;\n}\n\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError = E_ALREADY_LOCKED) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return withTimeout(sync, 0, alreadyAcquiredError);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hc3luYy1tdXRleC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsTUFBZ0M7QUFDbkQsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsT0FBTztBQUNyRDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxPQUFPO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG1CQUFtQjtBQUNyRixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxPQUFPO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixNQUFnQztBQUNuRCw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixNQUFnQztBQUNqRCw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxPQUFPO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELE9BQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFOEYiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxhc3luYy1tdXRleFxcaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEVfVElNRU9VVCA9IG5ldyBFcnJvcigndGltZW91dCB3aGlsZSB3YWl0aW5nIGZvciBtdXRleCB0byBiZWNvbWUgYXZhaWxhYmxlJyk7XG5jb25zdCBFX0FMUkVBRFlfTE9DS0VEID0gbmV3IEVycm9yKCdtdXRleCBhbHJlYWR5IGxvY2tlZCcpO1xuY29uc3QgRV9DQU5DRUxFRCA9IG5ldyBFcnJvcigncmVxdWVzdCBmb3IgbG9jayBjYW5jZWxlZCcpO1xuXG52YXIgX19hd2FpdGVyJDIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmNsYXNzIFNlbWFwaG9yZSB7XG4gICAgY29uc3RydWN0b3IoX3ZhbHVlLCBfY2FuY2VsRXJyb3IgPSBFX0NBTkNFTEVEKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICB0aGlzLl9jYW5jZWxFcnJvciA9IF9jYW5jZWxFcnJvcjtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzID0gW107XG4gICAgfVxuICAgIGFjcXVpcmUod2VpZ2h0ID0gMSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIGlmICh3ZWlnaHQgPD0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB3ZWlnaHQgJHt3ZWlnaHR9OiBtdXN0IGJlIHBvc2l0aXZlYCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrID0geyByZXNvbHZlLCByZWplY3QsIHdlaWdodCwgcHJpb3JpdHkgfTtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBmaW5kSW5kZXhGcm9tRW5kKHRoaXMuX3F1ZXVlLCAob3RoZXIpID0+IHByaW9yaXR5IDw9IG90aGVyLnByaW9yaXR5KTtcbiAgICAgICAgICAgIGlmIChpID09PSAtMSAmJiB3ZWlnaHQgPD0gdGhpcy5fdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBOZWVkcyBpbW1lZGlhdGUgZGlzcGF0Y2gsIHNraXAgdGhlIHF1ZXVlXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hJdGVtKHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWUuc3BsaWNlKGkgKyAxLCAwLCB0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1bkV4Y2x1c2l2ZShjYWxsYmFja18xKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIkMih0aGlzLCBhcmd1bWVudHMsIHZvaWQgMCwgZnVuY3Rpb24qIChjYWxsYmFjaywgd2VpZ2h0ID0gMSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgICAgICBjb25zdCBbdmFsdWUsIHJlbGVhc2VdID0geWllbGQgdGhpcy5hY3F1aXJlKHdlaWdodCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgY2FsbGJhY2sodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdEZvclVubG9jayh3ZWlnaHQgPSAxLCBwcmlvcml0eSA9IDApIHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvdWxkTG9ja0ltbWVkaWF0ZWx5KHdlaWdodCwgcHJpb3JpdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdID0gW107XG4gICAgICAgICAgICAgICAgaW5zZXJ0U29ydGVkKHRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXSwgeyByZXNvbHZlLCBwcmlvcml0eSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzTG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPD0gMDtcbiAgICB9XG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hRdWV1ZSgpO1xuICAgIH1cbiAgICByZWxlYXNlKHdlaWdodCA9IDEpIHtcbiAgICAgICAgaWYgKHdlaWdodCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgKz0gd2VpZ2h0O1xuICAgICAgICB0aGlzLl9kaXNwYXRjaFF1ZXVlKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuZm9yRWFjaCgoZW50cnkpID0+IGVudHJ5LnJlamVjdCh0aGlzLl9jYW5jZWxFcnJvcikpO1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICBfZGlzcGF0Y2hRdWV1ZSgpIHtcbiAgICAgICAgdGhpcy5fZHJhaW5VbmxvY2tXYWl0ZXJzKCk7XG4gICAgICAgIHdoaWxlICh0aGlzLl9xdWV1ZS5sZW5ndGggPiAwICYmIHRoaXMuX3F1ZXVlWzBdLndlaWdodCA8PSB0aGlzLl92YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hJdGVtKHRoaXMuX3F1ZXVlLnNoaWZ0KCkpO1xuICAgICAgICAgICAgdGhpcy5fZHJhaW5VbmxvY2tXYWl0ZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Rpc3BhdGNoSXRlbShpdGVtKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgdGhpcy5fdmFsdWUgLT0gaXRlbS53ZWlnaHQ7XG4gICAgICAgIGl0ZW0ucmVzb2x2ZShbcHJldmlvdXNWYWx1ZSwgdGhpcy5fbmV3UmVsZWFzZXIoaXRlbS53ZWlnaHQpXSk7XG4gICAgfVxuICAgIF9uZXdSZWxlYXNlcih3ZWlnaHQpIHtcbiAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbGxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlKHdlaWdodCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIF9kcmFpblVubG9ja1dhaXRlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IHdlaWdodCA9IHRoaXMuX3ZhbHVlOyB3ZWlnaHQgPiAwOyB3ZWlnaHQtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhaXRlcnMgPSB0aGlzLl93ZWlnaHRlZFdhaXRlcnNbd2VpZ2h0IC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKCF3YWl0ZXJzKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB3YWl0ZXJzLmZvckVhY2goKHdhaXRlcikgPT4gd2FpdGVyLnJlc29sdmUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2VpZ2h0ZWRXYWl0ZXJzW3dlaWdodCAtIDFdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZWRQcmlvcml0eSA9IHRoaXMuX3F1ZXVlWzBdLnByaW9yaXR5O1xuICAgICAgICAgICAgZm9yIChsZXQgd2VpZ2h0ID0gdGhpcy5fdmFsdWU7IHdlaWdodCA+IDA7IHdlaWdodC0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FpdGVycyA9IHRoaXMuX3dlaWdodGVkV2FpdGVyc1t3ZWlnaHQgLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAoIXdhaXRlcnMpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB3YWl0ZXJzLmZpbmRJbmRleCgod2FpdGVyKSA9PiB3YWl0ZXIucHJpb3JpdHkgPD0gcXVldWVkUHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgIChpID09PSAtMSA/IHdhaXRlcnMgOiB3YWl0ZXJzLnNwbGljZSgwLCBpKSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKHdhaXRlciA9PiB3YWl0ZXIucmVzb2x2ZSgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvdWxkTG9ja0ltbWVkaWF0ZWx5KHdlaWdodCwgcHJpb3JpdHkpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDAgfHwgdGhpcy5fcXVldWVbMF0ucHJpb3JpdHkgPCBwcmlvcml0eSkgJiZcbiAgICAgICAgICAgIHdlaWdodCA8PSB0aGlzLl92YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnRTb3J0ZWQoYSwgdikge1xuICAgIGNvbnN0IGkgPSBmaW5kSW5kZXhGcm9tRW5kKGEsIChvdGhlcikgPT4gdi5wcmlvcml0eSA8PSBvdGhlci5wcmlvcml0eSk7XG4gICAgYS5zcGxpY2UoaSArIDEsIDAsIHYpO1xufVxuZnVuY3Rpb24gZmluZEluZGV4RnJvbUVuZChhLCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKGxldCBpID0gYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbnZhciBfX2F3YWl0ZXIkMSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuY2xhc3MgTXV0ZXgge1xuICAgIGNvbnN0cnVjdG9yKGNhbmNlbEVycm9yKSB7XG4gICAgICAgIHRoaXMuX3NlbWFwaG9yZSA9IG5ldyBTZW1hcGhvcmUoMSwgY2FuY2VsRXJyb3IpO1xuICAgIH1cbiAgICBhY3F1aXJlKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyJDEodGhpcywgYXJndW1lbnRzLCB2b2lkIDAsIGZ1bmN0aW9uKiAocHJpb3JpdHkgPSAwKSB7XG4gICAgICAgICAgICBjb25zdCBbLCByZWxlYXNlcl0gPSB5aWVsZCB0aGlzLl9zZW1hcGhvcmUuYWNxdWlyZSgxLCBwcmlvcml0eSk7XG4gICAgICAgICAgICByZXR1cm4gcmVsZWFzZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW5FeGNsdXNpdmUoY2FsbGJhY2ssIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLnJ1bkV4Y2x1c2l2ZSgoKSA9PiBjYWxsYmFjaygpLCAxLCBwcmlvcml0eSk7XG4gICAgfVxuICAgIGlzTG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLmlzTG9ja2VkKCk7XG4gICAgfVxuICAgIHdhaXRGb3JVbmxvY2socHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW1hcGhvcmUud2FpdEZvclVubG9jaygxLCBwcmlvcml0eSk7XG4gICAgfVxuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZW1hcGhvcmUuaXNMb2NrZWQoKSlcbiAgICAgICAgICAgIHRoaXMuX3NlbWFwaG9yZS5yZWxlYXNlKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5jYW5jZWwoKTtcbiAgICB9XG59XG5cbnZhciBfX2F3YWl0ZXIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmZ1bmN0aW9uIHdpdGhUaW1lb3V0KHN5bmMsIHRpbWVvdXQsIHRpbWVvdXRFcnJvciA9IEVfVElNRU9VVCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjcXVpcmU6ICh3ZWlnaHRPclByaW9yaXR5LCBwcmlvcml0eSkgPT4ge1xuICAgICAgICAgICAgbGV0IHdlaWdodDtcbiAgICAgICAgICAgIGlmIChpc1NlbWFwaG9yZShzeW5jKSkge1xuICAgICAgICAgICAgICAgIHdlaWdodCA9IHdlaWdodE9yUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3ZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcHJpb3JpdHkgPSB3ZWlnaHRPclByaW9yaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdlaWdodCAhPT0gdW5kZWZpbmVkICYmIHdlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHdlaWdodCAke3dlaWdodH06IG11c3QgYmUgcG9zaXRpdmVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzVGltZW91dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpc1RpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QodGltZW91dEVycm9yKTtcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXQgPSB5aWVsZCAoaXNTZW1hcGhvcmUoc3luYylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3luYy5hY3F1aXJlKHdlaWdodCwgcHJpb3JpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHN5bmMuYWNxdWlyZShwcmlvcml0eSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlID0gQXJyYXkuaXNBcnJheSh0aWNrZXQpID8gdGlja2V0WzFdIDogdGlja2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRpY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBydW5FeGNsdXNpdmUoY2FsbGJhY2ssIHdlaWdodCwgcHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlbGVhc2UgPSAoKSA9PiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlja2V0ID0geWllbGQgdGhpcy5hY3F1aXJlKHdlaWdodCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aWNrZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlID0gdGlja2V0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKHRpY2tldFswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlID0gdGlja2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVsZWFzZSh3ZWlnaHQpIHtcbiAgICAgICAgICAgIHN5bmMucmVsZWFzZSh3ZWlnaHQpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3luYy5jYW5jZWwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgd2FpdEZvclVubG9jazogKHdlaWdodE9yUHJpb3JpdHksIHByaW9yaXR5KSA9PiB7XG4gICAgICAgICAgICBsZXQgd2VpZ2h0O1xuICAgICAgICAgICAgaWYgKGlzU2VtYXBob3JlKHN5bmMpKSB7XG4gICAgICAgICAgICAgICAgd2VpZ2h0ID0gd2VpZ2h0T3JQcmlvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBwcmlvcml0eSA9IHdlaWdodE9yUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2VpZ2h0ICE9PSB1bmRlZmluZWQgJiYgd2VpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgd2VpZ2h0ICR7d2VpZ2h0fTogbXVzdCBiZSBwb3NpdGl2ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHJlamVjdCh0aW1lb3V0RXJyb3IpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAoaXNTZW1hcGhvcmUoc3luYylcbiAgICAgICAgICAgICAgICAgICAgPyBzeW5jLndhaXRGb3JVbmxvY2sod2VpZ2h0LCBwcmlvcml0eSlcbiAgICAgICAgICAgICAgICAgICAgOiBzeW5jLndhaXRGb3JVbmxvY2socHJpb3JpdHkpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpc0xvY2tlZDogKCkgPT4gc3luYy5pc0xvY2tlZCgpLFxuICAgICAgICBnZXRWYWx1ZTogKCkgPT4gc3luYy5nZXRWYWx1ZSgpLFxuICAgICAgICBzZXRWYWx1ZTogKHZhbHVlKSA9PiBzeW5jLnNldFZhbHVlKHZhbHVlKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNTZW1hcGhvcmUoc3luYykge1xuICAgIHJldHVybiBzeW5jLmdldFZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGlzbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gdHJ5QWNxdWlyZShzeW5jLCBhbHJlYWR5QWNxdWlyZWRFcnJvciA9IEVfQUxSRUFEWV9MT0NLRUQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiB3aXRoVGltZW91dChzeW5jLCAwLCBhbHJlYWR5QWNxdWlyZWRFcnJvcik7XG59XG5cbmV4cG9ydCB7IEVfQUxSRUFEWV9MT0NLRUQsIEVfQ0FOQ0VMRUQsIEVfVElNRU9VVCwgTXV0ZXgsIFNlbWFwaG9yZSwgdHJ5QWNxdWlyZSwgd2l0aFRpbWVvdXQgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/async-mutex/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/cookie/index.js":
/*!**************************************!*\
  !*** ./node_modules/cookie/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} val\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb29raWUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWE7QUFDYixpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7O0FBRS9CO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QyxrQkFBa0I7QUFDbEI7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcY29va2llXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGNvb2tpZVxuICogQ29weXJpZ2h0KGMpIDIwMTItMjAxNCBSb21hbiBTaHR5bG1hblxuICogQ29weXJpZ2h0KGMpIDIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcblxuLyoqXG4gKiBNb2R1bGUgdmFyaWFibGVzLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgX190b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5cbnZhciBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuLyoqXG4gKiBQYXJzZSBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogUGFyc2UgdGhlIGdpdmVuIGNvb2tpZSBoZWFkZXIgc3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKiBUaGUgb2JqZWN0IGhhcyB0aGUgdmFyaW91cyBjb29raWVzIGFzIGtleXMobmFtZXMpID0+IHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc3RyIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIHZhciBvYmogPSB7fVxuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIGRlYyA9IG9wdC5kZWNvZGUgfHwgZGVjb2RlO1xuXG4gIHZhciBpbmRleCA9IDBcbiAgd2hpbGUgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHZhciBlcUlkeCA9IHN0ci5pbmRleE9mKCc9JywgaW5kZXgpXG5cbiAgICAvLyBubyBtb3JlIGNvb2tpZSBwYWlyc1xuICAgIGlmIChlcUlkeCA9PT0gLTEpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgdmFyIGVuZElkeCA9IHN0ci5pbmRleE9mKCc7JywgaW5kZXgpXG5cbiAgICBpZiAoZW5kSWR4ID09PSAtMSkge1xuICAgICAgZW5kSWR4ID0gc3RyLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAoZW5kSWR4IDwgZXFJZHgpIHtcbiAgICAgIC8vIGJhY2t0cmFjayBvbiBwcmlvciBzZW1pY29sb25cbiAgICAgIGluZGV4ID0gc3RyLmxhc3RJbmRleE9mKCc7JywgZXFJZHggLSAxKSArIDFcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHN0ci5zbGljZShpbmRleCwgZXFJZHgpLnRyaW0oKVxuXG4gICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgIGlmICh1bmRlZmluZWQgPT09IG9ialtrZXldKSB7XG4gICAgICB2YXIgdmFsID0gc3RyLnNsaWNlKGVxSWR4ICsgMSwgZW5kSWR4KS50cmltKClcblxuICAgICAgLy8gcXVvdGVkIHZhbHVlc1xuICAgICAgaWYgKHZhbC5jaGFyQ29kZUF0KDApID09PSAweDIyKSB7XG4gICAgICAgIHZhbCA9IHZhbC5zbGljZSgxLCAtMSlcbiAgICAgIH1cblxuICAgICAgb2JqW2tleV0gPSB0cnlEZWNvZGUodmFsLCBkZWMpO1xuICAgIH1cblxuICAgIGluZGV4ID0gZW5kSWR4ICsgMVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgZGF0YSBpbnRvIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBTZXJpYWxpemUgdGhlIGEgbmFtZSB2YWx1ZSBwYWlyIGludG8gYSBjb29raWUgc3RyaW5nIHN1aXRhYmxlIGZvclxuICogaHR0cCBoZWFkZXJzLiBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBzcGVjaWZpZWQgY29va2llIHBhcmFtZXRlcnMuXG4gKlxuICogc2VyaWFsaXplKCdmb28nLCAnYmFyJywgeyBodHRwT25seTogdHJ1ZSB9KVxuICogICA9PiBcImZvbz1iYXI7IGh0dHBPbmx5XCJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShuYW1lLCB2YWwsIG9wdGlvbnMpIHtcbiAgdmFyIG9wdCA9IG9wdGlvbnMgfHwge307XG4gIHZhciBlbmMgPSBvcHQuZW5jb2RlIHx8IGVuY29kZTtcblxuICBpZiAodHlwZW9mIGVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBlbmNvZGUgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG5hbWUgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZW5jKHZhbCk7XG5cbiAgaWYgKHZhbHVlICYmICFmaWVsZENvbnRlbnRSZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCB2YWwgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgdmFyIHN0ciA9IG5hbWUgKyAnPScgKyB2YWx1ZTtcblxuICBpZiAobnVsbCAhPSBvcHQubWF4QWdlKSB7XG4gICAgdmFyIG1heEFnZSA9IG9wdC5tYXhBZ2UgLSAwO1xuXG4gICAgaWYgKGlzTmFOKG1heEFnZSkgfHwgIWlzRmluaXRlKG1heEFnZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZCcpXG4gICAgfVxuXG4gICAgc3RyICs9ICc7IE1heC1BZ2U9JyArIE1hdGguZmxvb3IobWF4QWdlKTtcbiAgfVxuXG4gIGlmIChvcHQuZG9tYWluKSB7XG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQuZG9tYWluKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IERvbWFpbj0nICsgb3B0LmRvbWFpbjtcbiAgfVxuXG4gIGlmIChvcHQucGF0aCkge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LnBhdGgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gcGF0aCBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IFBhdGg9JyArIG9wdC5wYXRoO1xuICB9XG5cbiAgaWYgKG9wdC5leHBpcmVzKSB7XG4gICAgdmFyIGV4cGlyZXMgPSBvcHQuZXhwaXJlc1xuXG4gICAgaWYgKCFpc0RhdGUoZXhwaXJlcykgfHwgaXNOYU4oZXhwaXJlcy52YWx1ZU9mKCkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gZXhwaXJlcyBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IEV4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKVxuICB9XG5cbiAgaWYgKG9wdC5odHRwT25seSkge1xuICAgIHN0ciArPSAnOyBIdHRwT25seSc7XG4gIH1cblxuICBpZiAob3B0LnNlY3VyZSkge1xuICAgIHN0ciArPSAnOyBTZWN1cmUnO1xuICB9XG5cbiAgaWYgKG9wdC5wYXJ0aXRpb25lZCkge1xuICAgIHN0ciArPSAnOyBQYXJ0aXRpb25lZCdcbiAgfVxuXG4gIGlmIChvcHQucHJpb3JpdHkpIHtcbiAgICB2YXIgcHJpb3JpdHkgPSB0eXBlb2Ygb3B0LnByaW9yaXR5ID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQucHJpb3JpdHkudG9Mb3dlckNhc2UoKVxuICAgICAgOiBvcHQucHJpb3JpdHlcblxuICAgIHN3aXRjaCAocHJpb3JpdHkpIHtcbiAgICAgIGNhc2UgJ2xvdyc6XG4gICAgICAgIHN0ciArPSAnOyBQcmlvcml0eT1Mb3cnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgICBzdHIgKz0gJzsgUHJpb3JpdHk9TWVkaXVtJ1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaGlnaCc6XG4gICAgICAgIHN0ciArPSAnOyBQcmlvcml0eT1IaWdoJ1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHByaW9yaXR5IGlzIGludmFsaWQnKVxuICAgIH1cbiAgfVxuXG4gIGlmIChvcHQuc2FtZVNpdGUpIHtcbiAgICB2YXIgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0LnNhbWVTaXRlID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHQuc2FtZVNpdGUudG9Mb3dlckNhc2UoKSA6IG9wdC5zYW1lU2l0ZTtcblxuICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGF4JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPUxheCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaWN0JzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIHN0ciArPSAnOyBTYW1lU2l0ZT1Ob25lJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogVVJMLWRlY29kZSBzdHJpbmcgdmFsdWUuIE9wdGltaXplZCB0byBza2lwIG5hdGl2ZSBjYWxsIHdoZW4gbm8gJS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIGRlY29kZSAoc3RyKSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZignJScpICE9PSAtMVxuICAgID8gZGVjb2RlVVJJQ29tcG9uZW50KHN0cilcbiAgICA6IHN0clxufVxuXG4vKipcbiAqIFVSTC1lbmNvZGUgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBlbmNvZGUgKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbClcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdmFsdWUgaXMgYSBEYXRlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzRGF0ZSAodmFsKSB7XG4gIHJldHVybiBfX3RvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nIHx8XG4gICAgdmFsIGluc3RhbmNlb2YgRGF0ZVxufVxuXG4vKipcbiAqIFRyeSBkZWNvZGluZyBhIHN0cmluZyB1c2luZyBhIGRlY29kaW5nIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlY29kZVxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiB0cnlEZWNvZGUoc3RyLCBkZWNvZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/cookie/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/lib/buffer_utils.js":
/*!************************************************************!*\
  !*** ./node_modules/jose/dist/browser/lib/buffer_utils.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   concatKdf: () => (/* binding */ concatKdf),\n/* harmony export */   decoder: () => (/* binding */ decoder),\n/* harmony export */   encoder: () => (/* binding */ encoder),\n/* harmony export */   lengthAndInput: () => (/* binding */ lengthAndInput),\n/* harmony export */   p2s: () => (/* binding */ p2s),\n/* harmony export */   uint32be: () => (/* binding */ uint32be),\n/* harmony export */   uint64be: () => (/* binding */ uint64be)\n/* harmony export */ });\n/* harmony import */ var _runtime_digest_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runtime/digest.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/runtime/digest.js\");\n\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nfunction concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nfunction p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nfunction uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nfunction uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nfunction lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nasync function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await (0,_runtime_digest_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci9saWIvYnVmZmVyX3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwQztBQUNuQztBQUNBO0FBQ1A7QUFDTztBQUNQLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWMsYUFBYSxNQUFNO0FBQzNGO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4REFBTTtBQUM1QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFxicm93c2VyXFxsaWJcXGJ1ZmZlcl91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlnZXN0IGZyb20gJy4uL3J1bnRpbWUvZGlnZXN0LmpzJztcbmV4cG9ydCBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5leHBvcnQgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuY29uc3QgTUFYX0lOVDMyID0gMiAqKiAzMjtcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoLi4uYnVmZmVycykge1xuICAgIGNvbnN0IHNpemUgPSBidWZmZXJzLnJlZHVjZSgoYWNjLCB7IGxlbmd0aCB9KSA9PiBhY2MgKyBsZW5ndGgsIDApO1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJzKSB7XG4gICAgICAgIGJ1Zi5zZXQoYnVmZmVyLCBpKTtcbiAgICAgICAgaSArPSBidWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHAycyhhbGcsIHAyc0lucHV0KSB7XG4gICAgcmV0dXJuIGNvbmNhdChlbmNvZGVyLmVuY29kZShhbGcpLCBuZXcgVWludDhBcnJheShbMF0pLCBwMnNJbnB1dCk7XG59XG5mdW5jdGlvbiB3cml0ZVVJbnQzMkJFKGJ1ZiwgdmFsdWUsIG9mZnNldCkge1xuICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gTUFYX0lOVDMyKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGB2YWx1ZSBtdXN0IGJlID49IDAgYW5kIDw9ICR7TUFYX0lOVDMyIC0gMX0uIFJlY2VpdmVkICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIGJ1Zi5zZXQoW3ZhbHVlID4+PiAyNCwgdmFsdWUgPj4+IDE2LCB2YWx1ZSA+Pj4gOCwgdmFsdWUgJiAweGZmXSwgb2Zmc2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50NjRiZSh2YWx1ZSkge1xuICAgIGNvbnN0IGhpZ2ggPSBNYXRoLmZsb29yKHZhbHVlIC8gTUFYX0lOVDMyKTtcbiAgICBjb25zdCBsb3cgPSB2YWx1ZSAlIE1BWF9JTlQzMjtcbiAgICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICB3cml0ZVVJbnQzMkJFKGJ1ZiwgaGlnaCwgMCk7XG4gICAgd3JpdGVVSW50MzJCRShidWYsIGxvdywgNCk7XG4gICAgcmV0dXJuIGJ1Zjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50MzJiZSh2YWx1ZSkge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgIHdyaXRlVUludDMyQkUoYnVmLCB2YWx1ZSk7XG4gICAgcmV0dXJuIGJ1Zjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhBbmRJbnB1dChpbnB1dCkge1xuICAgIHJldHVybiBjb25jYXQodWludDMyYmUoaW5wdXQubGVuZ3RoKSwgaW5wdXQpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbmNhdEtkZihzZWNyZXQsIGJpdHMsIHZhbHVlKSB7XG4gICAgY29uc3QgaXRlcmF0aW9ucyA9IE1hdGguY2VpbCgoYml0cyA+PiAzKSAvIDMyKTtcbiAgICBjb25zdCByZXMgPSBuZXcgVWludDhBcnJheShpdGVyYXRpb25zICogMzIpO1xuICAgIGZvciAobGV0IGl0ZXIgPSAwOyBpdGVyIDwgaXRlcmF0aW9uczsgaXRlcisrKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KDQgKyBzZWNyZXQubGVuZ3RoICsgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldCh1aW50MzJiZShpdGVyICsgMSkpO1xuICAgICAgICBidWYuc2V0KHNlY3JldCwgNCk7XG4gICAgICAgIGJ1Zi5zZXQodmFsdWUsIDQgKyBzZWNyZXQubGVuZ3RoKTtcbiAgICAgICAgcmVzLnNldChhd2FpdCBkaWdlc3QoJ3NoYTI1NicsIGJ1ZiksIGl0ZXIgKiAzMik7XG4gICAgfVxuICAgIHJldHVybiByZXMuc2xpY2UoMCwgYml0cyA+PiAzKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/lib/buffer_utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/lib/is_object.js":
/*!*********************************************************!*\
  !*** ./node_modules/jose/dist/browser/lib/is_object.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isObject)\n/* harmony export */ });\nfunction isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nfunction isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci9saWIvaXNfb2JqZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXGpvc2VcXGRpc3RcXGJyb3dzZXJcXGxpYlxcaXNfb2JqZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICBpZiAoIWlzT2JqZWN0TGlrZShpbnB1dCkgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0KSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHByb3RvID0gaW5wdXQ7XG4gICAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0KSA9PT0gcHJvdG87XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/lib/is_object.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/runtime/base64url.js":
/*!*************************************************************!*\
  !*** ./node_modules/jose/dist/browser/runtime/base64url.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64)\n/* harmony export */ });\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/buffer_utils.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/lib/buffer_utils.js\");\n\nconst encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nconst encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nconst decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nconst decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_0__.decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci9ydW50aW1lL2Jhc2U2NHVybC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEwRDtBQUNuRDtBQUNQO0FBQ0E7QUFDQSxvQkFBb0IseURBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxrQkFBa0IseURBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcYnJvd3NlclxccnVudGltZVxcYmFzZTY0dXJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuY29kZXIsIGRlY29kZXIgfSBmcm9tICcuLi9saWIvYnVmZmVyX3V0aWxzLmpzJztcbmV4cG9ydCBjb25zdCBlbmNvZGVCYXNlNjQgPSAoaW5wdXQpID0+IHtcbiAgICBsZXQgdW5lbmNvZGVkID0gaW5wdXQ7XG4gICAgaWYgKHR5cGVvZiB1bmVuY29kZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVuZW5jb2RlZCA9IGVuY29kZXIuZW5jb2RlKHVuZW5jb2RlZCk7XG4gICAgfVxuICAgIGNvbnN0IENIVU5LX1NJWkUgPSAweDgwMDA7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmVuY29kZWQubGVuZ3RoOyBpICs9IENIVU5LX1NJWkUpIHtcbiAgICAgICAgYXJyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCB1bmVuY29kZWQuc3ViYXJyYXkoaSwgaSArIENIVU5LX1NJWkUpKSk7XG4gICAgfVxuICAgIHJldHVybiBidG9hKGFyci5qb2luKCcnKSk7XG59O1xuZXhwb3J0IGNvbnN0IGVuY29kZSA9IChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBlbmNvZGVCYXNlNjQoaW5wdXQpLnJlcGxhY2UoLz0vZywgJycpLnJlcGxhY2UoL1xcKy9nLCAnLScpLnJlcGxhY2UoL1xcLy9nLCAnXycpO1xufTtcbmV4cG9ydCBjb25zdCBkZWNvZGVCYXNlNjQgPSAoZW5jb2RlZCkgPT4ge1xuICAgIGNvbnN0IGJpbmFyeSA9IGF0b2IoZW5jb2RlZCk7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShiaW5hcnkubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICBieXRlc1tpXSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IChpbnB1dCkgPT4ge1xuICAgIGxldCBlbmNvZGVkID0gaW5wdXQ7XG4gICAgaWYgKGVuY29kZWQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIGVuY29kZWQgPSBkZWNvZGVyLmRlY29kZShlbmNvZGVkKTtcbiAgICB9XG4gICAgZW5jb2RlZCA9IGVuY29kZWQucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVCYXNlNjQoZW5jb2RlZCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGlucHV0IHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLicpO1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/runtime/base64url.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/runtime/digest.js":
/*!**********************************************************!*\
  !*** ./node_modules/jose/dist/browser/runtime/digest.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _webcrypto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webcrypto.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/runtime/webcrypto.js\");\n\nconst digest = async (algorithm, data) => {\n    const subtleDigest = `SHA-${algorithm.slice(-3)}`;\n    return new Uint8Array(await _webcrypto_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtle.digest(subtleDigest, data));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (digest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci9ydW50aW1lL2RpZ2VzdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvQztBQUNwQztBQUNBLGdDQUFnQyxvQkFBb0I7QUFDcEQsZ0NBQWdDLHFEQUFNO0FBQ3RDO0FBQ0EsaUVBQWUsTUFBTSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcYnJvd3NlclxccnVudGltZVxcZGlnZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnLi93ZWJjcnlwdG8uanMnO1xuY29uc3QgZGlnZXN0ID0gYXN5bmMgKGFsZ29yaXRobSwgZGF0YSkgPT4ge1xuICAgIGNvbnN0IHN1YnRsZURpZ2VzdCA9IGBTSEEtJHthbGdvcml0aG0uc2xpY2UoLTMpfWA7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHN1YnRsZURpZ2VzdCwgZGF0YSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IGRpZ2VzdDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/runtime/digest.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/runtime/webcrypto.js":
/*!*************************************************************!*\
  !*** ./node_modules/jose/dist/browser/runtime/webcrypto.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   isCryptoKey: () => (/* binding */ isCryptoKey)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (crypto);\nconst isCryptoKey = (key) => key instanceof CryptoKey;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci9ydW50aW1lL3dlYmNyeXB0by5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLGlFQUFlLE1BQU0sRUFBQztBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcYnJvd3NlclxccnVudGltZVxcd2ViY3J5cHRvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNyeXB0bztcbmV4cG9ydCBjb25zdCBpc0NyeXB0b0tleSA9IChrZXkpID0+IGtleSBpbnN0YW5jZW9mIENyeXB0b0tleTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/runtime/webcrypto.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/util/base64url.js":
/*!**********************************************************!*\
  !*** ./node_modules/jose/dist/browser/util/base64url.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode)\n/* harmony export */ });\n/* harmony import */ var _runtime_base64url_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runtime/base64url.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/runtime/base64url.js\");\n\nconst encode = _runtime_base64url_js__WEBPACK_IMPORTED_MODULE_0__.encode;\nconst decode = _runtime_base64url_js__WEBPACK_IMPORTED_MODULE_0__.decode;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci91dGlsL2Jhc2U2NHVybC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFDOUMsZUFBZSx5REFBZ0I7QUFDL0IsZUFBZSx5REFBZ0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxqb3NlXFxkaXN0XFxicm93c2VyXFx1dGlsXFxiYXNlNjR1cmwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYmFzZTY0dXJsIGZyb20gJy4uL3J1bnRpbWUvYmFzZTY0dXJsLmpzJztcbmV4cG9ydCBjb25zdCBlbmNvZGUgPSBiYXNlNjR1cmwuZW5jb2RlO1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IGJhc2U2NHVybC5kZWNvZGU7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/util/base64url.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/util/decode_jwt.js":
/*!***********************************************************!*\
  !*** ./node_modules/jose/dist/browser/util/decode_jwt.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeJwt: () => (/* binding */ decodeJwt)\n/* harmony export */ });\n/* harmony import */ var _base64url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base64url.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/util/base64url.js\");\n/* harmony import */ var _lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/buffer_utils.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/lib/buffer_utils.js\");\n/* harmony import */ var _lib_is_object_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/is_object.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/lib/is_object.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/jose/dist/browser/util/errors.js\");\n\n\n\n\nfunction decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = (0,_base64url_js__WEBPACK_IMPORTED_MODULE_1__.decode)(payload);\n    }\n    catch {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(_lib_buffer_utils_js__WEBPACK_IMPORTED_MODULE_2__.decoder.decode(decoded));\n    }\n    catch {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!(0,_lib_is_object_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(result))\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci91dGlsL2RlY29kZV9qd3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7QUFDSjtBQUNOO0FBQ0Y7QUFDbEM7QUFDUDtBQUNBLGtCQUFrQixrREFBVTtBQUM1QixZQUFZLHFCQUFxQjtBQUNqQztBQUNBLGtCQUFrQixrREFBVTtBQUM1QjtBQUNBLGtCQUFrQixrREFBVTtBQUM1QjtBQUNBLGtCQUFrQixrREFBVTtBQUM1QjtBQUNBO0FBQ0Esa0JBQWtCLHFEQUFTO0FBQzNCO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlEQUFPO0FBQ25DO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQVU7QUFDNUI7QUFDQSxTQUFTLDZEQUFRO0FBQ2pCLGtCQUFrQixrREFBVTtBQUM1QjtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcYnJvd3NlclxcdXRpbFxcZGVjb2RlX2p3dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWNvZGUgYXMgYmFzZTY0dXJsIH0gZnJvbSAnLi9iYXNlNjR1cmwuanMnO1xuaW1wb3J0IHsgZGVjb2RlciB9IGZyb20gJy4uL2xpYi9idWZmZXJfdXRpbHMuanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4uL2xpYi9pc19vYmplY3QuanMnO1xuaW1wb3J0IHsgSldUSW52YWxpZCB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVKd3Qoand0KSB7XG4gICAgaWYgKHR5cGVvZiBqd3QgIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgSldUSW52YWxpZCgnSldUcyBtdXN0IHVzZSBDb21wYWN0IEpXUyBzZXJpYWxpemF0aW9uLCBKV1QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIGNvbnN0IHsgMTogcGF5bG9hZCwgbGVuZ3RoIH0gPSBqd3Quc3BsaXQoJy4nKTtcbiAgICBpZiAobGVuZ3RoID09PSA1KVxuICAgICAgICB0aHJvdyBuZXcgSldUSW52YWxpZCgnT25seSBKV1RzIHVzaW5nIENvbXBhY3QgSldTIHNlcmlhbGl6YXRpb24gY2FuIGJlIGRlY29kZWQnKTtcbiAgICBpZiAobGVuZ3RoICE9PSAzKVxuICAgICAgICB0aHJvdyBuZXcgSldUSW52YWxpZCgnSW52YWxpZCBKV1QnKTtcbiAgICBpZiAoIXBheWxvYWQpXG4gICAgICAgIHRocm93IG5ldyBKV1RJbnZhbGlkKCdKV1RzIG11c3QgY29udGFpbiBhIHBheWxvYWQnKTtcbiAgICBsZXQgZGVjb2RlZDtcbiAgICB0cnkge1xuICAgICAgICBkZWNvZGVkID0gYmFzZTY0dXJsKHBheWxvYWQpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBKV1RJbnZhbGlkKCdGYWlsZWQgdG8gYmFzZTY0dXJsIGRlY29kZSB0aGUgcGF5bG9hZCcpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoZGVjb2Rlci5kZWNvZGUoZGVjb2RlZCkpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBKV1RJbnZhbGlkKCdGYWlsZWQgdG8gcGFyc2UgdGhlIGRlY29kZWQgcGF5bG9hZCBhcyBKU09OJyk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgdGhyb3cgbmV3IEpXVEludmFsaWQoJ0ludmFsaWQgSldUIENsYWltcyBTZXQnKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/util/decode_jwt.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jose/dist/browser/util/errors.js":
/*!*******************************************************!*\
  !*** ./node_modules/jose/dist/browser/util/errors.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JOSEAlgNotAllowed: () => (/* binding */ JOSEAlgNotAllowed),\n/* harmony export */   JOSEError: () => (/* binding */ JOSEError),\n/* harmony export */   JOSENotSupported: () => (/* binding */ JOSENotSupported),\n/* harmony export */   JWEDecryptionFailed: () => (/* binding */ JWEDecryptionFailed),\n/* harmony export */   JWEInvalid: () => (/* binding */ JWEInvalid),\n/* harmony export */   JWKInvalid: () => (/* binding */ JWKInvalid),\n/* harmony export */   JWKSInvalid: () => (/* binding */ JWKSInvalid),\n/* harmony export */   JWKSMultipleMatchingKeys: () => (/* binding */ JWKSMultipleMatchingKeys),\n/* harmony export */   JWKSNoMatchingKey: () => (/* binding */ JWKSNoMatchingKey),\n/* harmony export */   JWKSTimeout: () => (/* binding */ JWKSTimeout),\n/* harmony export */   JWSInvalid: () => (/* binding */ JWSInvalid),\n/* harmony export */   JWSSignatureVerificationFailed: () => (/* binding */ JWSSignatureVerificationFailed),\n/* harmony export */   JWTClaimValidationFailed: () => (/* binding */ JWTClaimValidationFailed),\n/* harmony export */   JWTExpired: () => (/* binding */ JWTExpired),\n/* harmony export */   JWTInvalid: () => (/* binding */ JWTInvalid)\n/* harmony export */ });\nclass JOSEError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nJOSEError.code = 'ERR_JOSE_GENERIC';\nclass JWTClaimValidationFailed extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTClaimValidationFailed.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\nclass JWTExpired extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTExpired.code = 'ERR_JWT_EXPIRED';\nclass JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nJOSEAlgNotAllowed.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\nclass JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nJOSENotSupported.code = 'ERR_JOSE_NOT_SUPPORTED';\nclass JWEDecryptionFailed extends JOSEError {\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nJWEDecryptionFailed.code = 'ERR_JWE_DECRYPTION_FAILED';\nclass JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n}\nJWEInvalid.code = 'ERR_JWE_INVALID';\nclass JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n}\nJWSInvalid.code = 'ERR_JWS_INVALID';\nclass JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n}\nJWTInvalid.code = 'ERR_JWT_INVALID';\nclass JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n}\nJWKInvalid.code = 'ERR_JWK_INVALID';\nclass JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n}\nJWKSInvalid.code = 'ERR_JWKS_INVALID';\nclass JWKSNoMatchingKey extends JOSEError {\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nJWKSNoMatchingKey.code = 'ERR_JWKS_NO_MATCHING_KEY';\nclass JWKSMultipleMatchingKeys extends JOSEError {\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nJWKSMultipleMatchingKeys.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\nclass JWKSTimeout extends JOSEError {\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_TIMEOUT';\n    }\n}\nJWKSTimeout.code = 'ERR_JWKS_TIMEOUT';\nclass JWSSignatureVerificationFailed extends JOSEError {\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nJWSSignatureVerificationFailed.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qb3NlL2Rpc3QvYnJvd3Nlci91dGlsL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EseUJBQXlCLFNBQVMsMEJBQTBCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHlCQUF5QixTQUFTLDBCQUEwQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcam9zZVxcZGlzdFxcYnJvd3NlclxcdXRpbFxcZXJyb3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBKT1NFRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KT1NFX0dFTkVSSUMnO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlPy4odGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxufVxuSk9TRUVycm9yLmNvZGUgPSAnRVJSX0pPU0VfR0VORVJJQyc7XG5leHBvcnQgY2xhc3MgSldUQ2xhaW1WYWxpZGF0aW9uRmFpbGVkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBwYXlsb2FkLCBjbGFpbSA9ICd1bnNwZWNpZmllZCcsIHJlYXNvbiA9ICd1bnNwZWNpZmllZCcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgeyBjYXVzZTogeyBjbGFpbSwgcmVhc29uLCBwYXlsb2FkIH0gfSk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfSldUX0NMQUlNX1ZBTElEQVRJT05fRkFJTEVEJztcbiAgICAgICAgdGhpcy5jbGFpbSA9IGNsYWltO1xuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICB9XG59XG5KV1RDbGFpbVZhbGlkYXRpb25GYWlsZWQuY29kZSA9ICdFUlJfSldUX0NMQUlNX1ZBTElEQVRJT05fRkFJTEVEJztcbmV4cG9ydCBjbGFzcyBKV1RFeHBpcmVkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBwYXlsb2FkLCBjbGFpbSA9ICd1bnNwZWNpZmllZCcsIHJlYXNvbiA9ICd1bnNwZWNpZmllZCcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgeyBjYXVzZTogeyBjbGFpbSwgcmVhc29uLCBwYXlsb2FkIH0gfSk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfSldUX0VYUElSRUQnO1xuICAgICAgICB0aGlzLmNsYWltID0gY2xhaW07XG4gICAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgICAgICB0aGlzLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgIH1cbn1cbkpXVEV4cGlyZWQuY29kZSA9ICdFUlJfSldUX0VYUElSRUQnO1xuZXhwb3J0IGNsYXNzIEpPU0VBbGdOb3RBbGxvd2VkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KT1NFX0FMR19OT1RfQUxMT1dFRCc7XG4gICAgfVxufVxuSk9TRUFsZ05vdEFsbG93ZWQuY29kZSA9ICdFUlJfSk9TRV9BTEdfTk9UX0FMTE9XRUQnO1xuZXhwb3J0IGNsYXNzIEpPU0VOb3RTdXBwb3J0ZWQgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX0pPU0VfTk9UX1NVUFBPUlRFRCc7XG4gICAgfVxufVxuSk9TRU5vdFN1cHBvcnRlZC5jb2RlID0gJ0VSUl9KT1NFX05PVF9TVVBQT1JURUQnO1xuZXhwb3J0IGNsYXNzIEpXRURlY3J5cHRpb25GYWlsZWQgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnZGVjcnlwdGlvbiBvcGVyYXRpb24gZmFpbGVkJywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KV0VfREVDUllQVElPTl9GQUlMRUQnO1xuICAgIH1cbn1cbkpXRURlY3J5cHRpb25GYWlsZWQuY29kZSA9ICdFUlJfSldFX0RFQ1JZUFRJT05fRkFJTEVEJztcbmV4cG9ydCBjbGFzcyBKV0VJbnZhbGlkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KV0VfSU5WQUxJRCc7XG4gICAgfVxufVxuSldFSW52YWxpZC5jb2RlID0gJ0VSUl9KV0VfSU5WQUxJRCc7XG5leHBvcnQgY2xhc3MgSldTSW52YWxpZCBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfSldTX0lOVkFMSUQnO1xuICAgIH1cbn1cbkpXU0ludmFsaWQuY29kZSA9ICdFUlJfSldTX0lOVkFMSUQnO1xuZXhwb3J0IGNsYXNzIEpXVEludmFsaWQgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX0pXVF9JTlZBTElEJztcbiAgICB9XG59XG5KV1RJbnZhbGlkLmNvZGUgPSAnRVJSX0pXVF9JTlZBTElEJztcbmV4cG9ydCBjbGFzcyBKV0tJbnZhbGlkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KV0tfSU5WQUxJRCc7XG4gICAgfVxufVxuSldLSW52YWxpZC5jb2RlID0gJ0VSUl9KV0tfSU5WQUxJRCc7XG5leHBvcnQgY2xhc3MgSldLU0ludmFsaWQgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX0pXS1NfSU5WQUxJRCc7XG4gICAgfVxufVxuSldLU0ludmFsaWQuY29kZSA9ICdFUlJfSldLU19JTlZBTElEJztcbmV4cG9ydCBjbGFzcyBKV0tTTm9NYXRjaGluZ0tleSBleHRlbmRzIEpPU0VFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdubyBhcHBsaWNhYmxlIGtleSBmb3VuZCBpbiB0aGUgSlNPTiBXZWIgS2V5IFNldCcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfSldLU19OT19NQVRDSElOR19LRVknO1xuICAgIH1cbn1cbkpXS1NOb01hdGNoaW5nS2V5LmNvZGUgPSAnRVJSX0pXS1NfTk9fTUFUQ0hJTkdfS0VZJztcbmV4cG9ydCBjbGFzcyBKV0tTTXVsdGlwbGVNYXRjaGluZ0tleXMgZXh0ZW5kcyBKT1NFRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnbXVsdGlwbGUgbWF0Y2hpbmcga2V5cyBmb3VuZCBpbiB0aGUgSlNPTiBXZWIgS2V5IFNldCcsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfSldLU19NVUxUSVBMRV9NQVRDSElOR19LRVlTJztcbiAgICB9XG59XG5TeW1ib2wuYXN5bmNJdGVyYXRvcjtcbkpXS1NNdWx0aXBsZU1hdGNoaW5nS2V5cy5jb2RlID0gJ0VSUl9KV0tTX01VTFRJUExFX01BVENISU5HX0tFWVMnO1xuZXhwb3J0IGNsYXNzIEpXS1NUaW1lb3V0IGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ3JlcXVlc3QgdGltZWQgb3V0Jywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KV0tTX1RJTUVPVVQnO1xuICAgIH1cbn1cbkpXS1NUaW1lb3V0LmNvZGUgPSAnRVJSX0pXS1NfVElNRU9VVCc7XG5leHBvcnQgY2xhc3MgSldTU2lnbmF0dXJlVmVyaWZpY2F0aW9uRmFpbGVkIGV4dGVuZHMgSk9TRUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ3NpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkJywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9KV1NfU0lHTkFUVVJFX1ZFUklGSUNBVElPTl9GQUlMRUQnO1xuICAgIH1cbn1cbkpXU1NpZ25hdHVyZVZlcmlmaWNhdGlvbkZhaWxlZC5jb2RlID0gJ0VSUl9KV1NfU0lHTkFUVVJFX1ZFUklGSUNBVElPTl9GQUlMRUQnO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jose/dist/browser/util/errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/js-cookie/dist/js.cookie.mjs":
/*!***************************************************!*\
  !*** ./node_modules/js-cookie/dist/js.cookie.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ api)\n/* harmony export */ });\n/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qcy1jb29raWUvZGlzdC9qcy5jb29raWUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLEVBQUU7QUFDdEMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSx1RUFBdUU7QUFDdkU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkM7QUFDN0MsT0FBTztBQUNQO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CLHlDQUF5QztBQUM3RCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxXQUFXO0FBQzlDOztBQUUwQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXGpzLWNvb2tpZVxcZGlzdFxcanMuY29va2llLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEganMtY29va2llIHYzLjAuNSB8IE1JVCAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG5mdW5jdGlvbiBhc3NpZ24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuLyogZXNsaW50LWVuYWJsZSBuby12YXIgKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG52YXIgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgcmVhZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlWzBdID09PSAnXCInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyglW1xcZEEtRl17Mn0pKy9naSwgZGVjb2RlVVJJQ29tcG9uZW50KVxuICB9LFxuICB3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZShcbiAgICAgIC8lKDJbMzQ2QkZdfDNbQUMtRl18NDB8NVtCREVdfDYwfDdbQkNEXSkvZyxcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudFxuICAgIClcbiAgfVxufTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xuXG5mdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIsIGRlZmF1bHRBdHRyaWJ1dGVzKSB7XG4gIGZ1bmN0aW9uIHNldCAobmFtZSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgYXR0cmlidXRlcyA9IGFzc2lnbih7fSwgZGVmYXVsdEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xuXG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZTUpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlcy5leHBpcmVzKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpXG4gICAgICAucmVwbGFjZSgvJSgyWzM0NkJdfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpXG4gICAgICAucmVwbGFjZSgvWygpXS9nLCBlc2NhcGUpO1xuXG4gICAgdmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gQ29uc2lkZXJzIFJGQyA2MjY1IHNlY3Rpb24gNS4yOlxuICAgICAgLy8gLi4uXG4gICAgICAvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG4gICAgICAvLyAgICAgY2hhcmFjdGVyOlxuICAgICAgLy8gQ29uc3VtZSB0aGUgY2hhcmFjdGVycyBvZiB0aGUgdW5wYXJzZWQtYXR0cmlidXRlcyB1cCB0byxcbiAgICAgIC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuICAgICAgLy8gLi4uXG4gICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJz0nICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXS5zcGxpdCgnOycpWzBdO1xuICAgIH1cblxuICAgIHJldHVybiAoZG9jdW1lbnQuY29va2llID1cbiAgICAgIG5hbWUgKyAnPScgKyBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIG5hbWUpICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0IChuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgKGFyZ3VtZW50cy5sZW5ndGggJiYgIW5hbWUpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG4gICAgLy8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG4gICAgdmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcbiAgICB2YXIgamFyID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1swXSk7XG4gICAgICAgIGphcltmb3VuZF0gPSBjb252ZXJ0ZXIucmVhZCh2YWx1ZSwgZm91bmQpO1xuXG4gICAgICAgIGlmIChuYW1lID09PSBmb3VuZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hbWUgPyBqYXJbbmFtZV0gOiBqYXJcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgIHtcbiAgICAgIHNldCxcbiAgICAgIGdldCxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc2V0KFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgJycsXG4gICAgICAgICAgYXNzaWduKHt9LCBhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBleHBpcmVzOiAtMVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgd2l0aEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBpbml0KHRoaXMuY29udmVydGVyLCBhc3NpZ24oe30sIHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcykpXG4gICAgICB9LFxuICAgICAgd2l0aENvbnZlcnRlcjogZnVuY3Rpb24gKGNvbnZlcnRlcikge1xuICAgICAgICByZXR1cm4gaW5pdChhc3NpZ24oe30sIHRoaXMuY29udmVydGVyLCBjb252ZXJ0ZXIpLCB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBhdHRyaWJ1dGVzOiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKGRlZmF1bHRBdHRyaWJ1dGVzKSB9LFxuICAgICAgY29udmVydGVyOiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKGNvbnZlcnRlcikgfVxuICAgIH1cbiAgKVxufVxuXG52YXIgYXBpID0gaW5pdChkZWZhdWx0Q29udmVydGVyLCB7IHBhdGg6ICcvJyB9KTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbmV4cG9ydCB7IGFwaSBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/js-cookie/dist/js.cookie.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/headers.js":
/*!***********************************************!*\
  !*** ./node_modules/next/dist/api/headers.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __esModule: () => (/* reexport safe */ _server_request_cookies__WEBPACK_IMPORTED_MODULE_0__.__esModule),\n/* harmony export */   cookies: () => (/* reexport safe */ _server_request_cookies__WEBPACK_IMPORTED_MODULE_0__.cookies),\n/* harmony export */   draftMode: () => (/* reexport safe */ _server_request_draft_mode__WEBPACK_IMPORTED_MODULE_2__.draftMode),\n/* harmony export */   headers: () => (/* reexport safe */ _server_request_headers__WEBPACK_IMPORTED_MODULE_1__.headers)\n/* harmony export */ });\n/* harmony import */ var _server_request_cookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/request/cookies */ \"(app-pages-browser)/./node_modules/next/dist/server/request/cookies.js\");\n/* harmony import */ var _server_request_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/request/headers */ \"(app-pages-browser)/./node_modules/next/dist/server/request/headers.js\");\n/* harmony import */ var _server_request_draft_mode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/request/draft-mode */ \"(app-pages-browser)/./node_modules/next/dist/server/request/draft-mode.js\");\n\n\n\n\n//# sourceMappingURL=headers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL2hlYWRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwQztBQUNBO0FBQ0c7O0FBRTdDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcYXBpXFxoZWFkZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4uL3NlcnZlci9yZXF1ZXN0L2Nvb2tpZXMnO1xuZXhwb3J0ICogZnJvbSAnLi4vc2VydmVyL3JlcXVlc3QvaGVhZGVycyc7XG5leHBvcnQgKiBmcm9tICcuLi9zZXJ2ZXIvcmVxdWVzdC9kcmFmdC1tb2RlJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVhZGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/headers.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/api/navigation.js":
/*!**************************************************!*\
  !*** ./node_modules/next/dist/api/navigation.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../client/components/navigation */ \"(app-pages-browser)/./node_modules/next/dist/client/components/navigation.js\");\n/* harmony import */ var _client_components_navigation__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_client_components_navigation__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _client_components_navigation__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n//# sourceMappingURL=navigation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYXBpL25hdmlnYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEOztBQUVoRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGFwaVxcbmF2aWdhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuLi9jbGllbnQvY29tcG9uZW50cy9uYXZpZ2F0aW9uJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF2aWdhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/api/navigation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CLuis%5C%5CDesktop%5C%5CCOLLEGE%5C%5CCAPSTONE%5C%5CSugarcane_Artist_Management%5C%5Capp%5C%5Cimport%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CLuis%5C%5CDesktop%5C%5CCOLLEGE%5C%5CCAPSTONE%5C%5CSugarcane_Artist_Management%5C%5Capp%5C%5Cimport%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/import/page.tsx */ \"(app-pages-browser)/./app/import/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDTHVpcyU1QyU1Q0Rlc2t0b3AlNUMlNUNDT0xMRUdFJTVDJTVDQ0FQU1RPTkUlNUMlNUNTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnQlNUMlNUNhcHAlNUMlNUNpbXBvcnQlNUMlNUNwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLG9LQUFvSSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcVXNlcnNcXFxcTHVpc1xcXFxEZXNrdG9wXFxcXENPTExFR0VcXFxcQ0FQU1RPTkVcXFxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxcXGFwcFxcXFxpbXBvcnRcXFxccGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CLuis%5C%5CDesktop%5C%5CCOLLEGE%5C%5CCAPSTONE%5C%5CSugarcane_Artist_Management%5C%5Capp%5C%5Cimport%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js":
/*!*******************************************************!*\
  !*** ./node_modules/next/dist/client/app-dir/link.js ***!
  \*******************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/* __next_internal_client_entry_do_not_use__  cjs */ \nvar _s = $RefreshSig$();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    /**\n * A React component that extends the HTML `<a>` element to provide\n * [prefetching](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching)\n * and client-side navigation. This is the primary way to navigate between routes in Next.js.\n *\n * @remarks\n * - Prefetching is only enabled in production.\n *\n * @see https://nextjs.org/docs/app/api-reference/components/link\n */ default: function() {\n        return LinkComponent;\n    },\n    useLinkStatus: function() {\n        return useLinkStatus;\n    }\n});\nconst _interop_require_wildcard = __webpack_require__(/*! @swc/helpers/_/_interop_require_wildcard */ \"(app-pages-browser)/./node_modules/@swc/helpers/esm/_interop_require_wildcard.js\");\nconst _jsxruntime = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\nconst _react = /*#__PURE__*/ _interop_require_wildcard._(__webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"));\nconst _formaturl = __webpack_require__(/*! ../../shared/lib/router/utils/format-url */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/format-url.js\");\nconst _approutercontextsharedruntime = __webpack_require__(/*! ../../shared/lib/app-router-context.shared-runtime */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/app-router-context.shared-runtime.js\");\nconst _routerreducertypes = __webpack_require__(/*! ../components/router-reducer/router-reducer-types */ \"(app-pages-browser)/./node_modules/next/dist/client/components/router-reducer/router-reducer-types.js\");\nconst _usemergedref = __webpack_require__(/*! ../use-merged-ref */ \"(app-pages-browser)/./node_modules/next/dist/client/use-merged-ref.js\");\nconst _utils = __webpack_require__(/*! ../../shared/lib/utils */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/utils.js\");\nconst _addbasepath = __webpack_require__(/*! ../add-base-path */ \"(app-pages-browser)/./node_modules/next/dist/client/add-base-path.js\");\nconst _warnonce = __webpack_require__(/*! ../../shared/lib/utils/warn-once */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/utils/warn-once.js\");\nconst _links = __webpack_require__(/*! ../components/links */ \"(app-pages-browser)/./node_modules/next/dist/client/components/links.js\");\nconst _islocalurl = __webpack_require__(/*! ../../shared/lib/router/utils/is-local-url */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/is-local-url.js\");\nconst _approuterinstance = __webpack_require__(/*! ../components/app-router-instance */ \"(app-pages-browser)/./node_modules/next/dist/client/components/app-router-instance.js\");\nconst _erroronce = __webpack_require__(/*! ../../shared/lib/utils/error-once */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/utils/error-once.js\");\nfunction isModifiedEvent(event) {\n    const eventTarget = event.currentTarget;\n    const target = eventTarget.getAttribute('target');\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n    event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, href, as, linkInstanceRef, replace, scroll, onNavigate) {\n    const { nodeName } = e.currentTarget;\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n    if (isAnchorNodeName && isModifiedEvent(e) || e.currentTarget.hasAttribute('download')) {\n        // ignore click for browser’s default behavior\n        return;\n    }\n    if (!(0, _islocalurl.isLocalURL)(href)) {\n        if (replace) {\n            // browser default behavior does not replace the history state\n            // so we need to do it manually\n            e.preventDefault();\n            location.replace(href);\n        }\n        // ignore click for browser’s default behavior\n        return;\n    }\n    e.preventDefault();\n    if (onNavigate) {\n        let isDefaultPrevented = false;\n        onNavigate({\n            preventDefault: ()=>{\n                isDefaultPrevented = true;\n            }\n        });\n        if (isDefaultPrevented) {\n            return;\n        }\n    }\n    _react.default.startTransition(()=>{\n        (0, _approuterinstance.dispatchNavigateAction)(as || href, replace ? 'replace' : 'push', scroll != null ? scroll : true, linkInstanceRef.current);\n    });\n}\nfunction formatStringOrUrl(urlObjOrString) {\n    if (typeof urlObjOrString === 'string') {\n        return urlObjOrString;\n    }\n    return (0, _formaturl.formatUrl)(urlObjOrString);\n}\nfunction LinkComponent(props) {\n    _s();\n    const [linkStatus, setOptimisticLinkStatus] = (0, _react.useOptimistic)(_links.IDLE_LINK_STATUS);\n    let children;\n    const linkInstanceRef = (0, _react.useRef)(null);\n    const { href: hrefProp, as: asProp, children: childrenProp, prefetch: prefetchProp = null, passHref, replace, shallow, scroll, onClick, onMouseEnter: onMouseEnterProp, onTouchStart: onTouchStartProp, legacyBehavior = false, onNavigate, ref: forwardedRef, unstable_dynamicOnHover, ...restProps } = props;\n    children = childrenProp;\n    if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {\n        children = /*#__PURE__*/ (0, _jsxruntime.jsx)(\"a\", {\n            children: children\n        });\n    }\n    const router = _react.default.useContext(_approutercontextsharedruntime.AppRouterContext);\n    const prefetchEnabled = prefetchProp !== false;\n    /**\n   * The possible states for prefetch are:\n   * - null: this is the default \"auto\" mode, where we will prefetch partially if the link is in the viewport\n   * - true: we will prefetch if the link is visible and prefetch the full page, not just partially\n   * - false: we will not prefetch if in the viewport at all\n   * - 'unstable_dynamicOnHover': this starts in \"auto\" mode, but switches to \"full\" when the link is hovered\n   */ const appPrefetchKind = prefetchProp === null || prefetchProp === 'auto' ? _routerreducertypes.PrefetchKind.AUTO : _routerreducertypes.PrefetchKind.FULL;\n    if (true) {\n        function createPropError(args) {\n            return Object.defineProperty(new Error(\"Failed prop type: The prop `\" + args.key + \"` expects a \" + args.expected + \" in `<Link>`, but got `\" + args.actual + \"` instead.\" + ( true ? \"\\nOpen your browser's console to view the Component stack trace.\" : 0)), \"__NEXT_ERROR_CODE\", {\n                value: \"E319\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        // TypeScript trick for type-guarding:\n        const requiredPropsGuard = {\n            href: true\n        };\n        const requiredProps = Object.keys(requiredPropsGuard);\n        requiredProps.forEach((key)=>{\n            if (key === 'href') {\n                if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: props[key] === null ? 'null' : typeof props[key]\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // TypeScript trick for type-guarding:\n        const optionalPropsGuard = {\n            as: true,\n            replace: true,\n            scroll: true,\n            shallow: true,\n            passHref: true,\n            prefetch: true,\n            unstable_dynamicOnHover: true,\n            onClick: true,\n            onMouseEnter: true,\n            onTouchStart: true,\n            legacyBehavior: true,\n            onNavigate: true\n        };\n        const optionalProps = Object.keys(optionalPropsGuard);\n        optionalProps.forEach((key)=>{\n            const valType = typeof props[key];\n            if (key === 'as') {\n                if (props[key] && valType !== 'string' && valType !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart' || key === 'onNavigate') {\n                if (props[key] && valType !== 'function') {\n                    throw createPropError({\n                        key,\n                        expected: '`function`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'legacyBehavior' || key === 'unstable_dynamicOnHover') {\n                if (props[key] != null && valType !== 'boolean') {\n                    throw createPropError({\n                        key,\n                        expected: '`boolean`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'prefetch') {\n                if (props[key] != null && valType !== 'boolean' && props[key] !== 'auto') {\n                    throw createPropError({\n                        key,\n                        expected: '`boolean | \"auto\"`',\n                        actual: valType\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n    }\n    if (true) {\n        if (props.locale) {\n            (0, _warnonce.warnOnce)('The `locale` prop is not supported in `next/link` while using the `app` router. Read more about app router internalization: https://nextjs.org/docs/app/building-your-application/routing/internationalization');\n        }\n        if (!asProp) {\n            let href;\n            if (typeof hrefProp === 'string') {\n                href = hrefProp;\n            } else if (typeof hrefProp === 'object' && typeof hrefProp.pathname === 'string') {\n                href = hrefProp.pathname;\n            }\n            if (href) {\n                const hasDynamicSegment = href.split('/').some((segment)=>segment.startsWith('[') && segment.endsWith(']'));\n                if (hasDynamicSegment) {\n                    throw Object.defineProperty(new Error(\"Dynamic href `\" + href + \"` found in <Link> while using the `/app` router, this is not supported. Read more: https://nextjs.org/docs/messages/app-dir-dynamic-href\"), \"__NEXT_ERROR_CODE\", {\n                        value: \"E267\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n            }\n        }\n    }\n    const { href, as } = _react.default.useMemo({\n        \"LinkComponent.useMemo\": ()=>{\n            const resolvedHref = formatStringOrUrl(hrefProp);\n            return {\n                href: resolvedHref,\n                as: asProp ? formatStringOrUrl(asProp) : resolvedHref\n            };\n        }\n    }[\"LinkComponent.useMemo\"], [\n        hrefProp,\n        asProp\n    ]);\n    // This will return the first child, if multiple are provided it will throw an error\n    let child;\n    if (legacyBehavior) {\n        if (true) {\n            if (onClick) {\n                console.warn('\"onClick\" was passed to <Link> with `href` of `' + hrefProp + '` but \"legacyBehavior\" was set. The legacy behavior requires onClick be set on the child of next/link');\n            }\n            if (onMouseEnterProp) {\n                console.warn('\"onMouseEnter\" was passed to <Link> with `href` of `' + hrefProp + '` but \"legacyBehavior\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link');\n            }\n            try {\n                child = _react.default.Children.only(children);\n            } catch (err) {\n                if (!children) {\n                    throw Object.defineProperty(new Error(\"No children were passed to <Link> with `href` of `\" + hrefProp + \"` but one child is required https://nextjs.org/docs/messages/link-no-children\"), \"__NEXT_ERROR_CODE\", {\n                        value: \"E320\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                throw Object.defineProperty(new Error(\"Multiple children were passed to <Link> with `href` of `\" + hrefProp + \"` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children\" + ( true ? \" \\nOpen your browser's console to view the Component stack trace.\" : 0)), \"__NEXT_ERROR_CODE\", {\n                    value: \"E266\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        } else {}\n    } else {\n        if (true) {\n            if ((children == null ? void 0 : children.type) === 'a') {\n                throw Object.defineProperty(new Error('Invalid <Link> with <a> child. Please remove <a> or use <Link legacyBehavior>.\\nLearn more: https://nextjs.org/docs/messages/invalid-new-link-with-extra-anchor'), \"__NEXT_ERROR_CODE\", {\n                    value: \"E209\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        }\n    }\n    const childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;\n    // Use a callback ref to attach an IntersectionObserver to the anchor tag on\n    // mount. In the future we will also use this to keep track of all the\n    // currently mounted <Link> instances, e.g. so we can re-prefetch them after\n    // a revalidation or refresh.\n    const observeLinkVisibilityOnMount = _react.default.useCallback({\n        \"LinkComponent.useCallback[observeLinkVisibilityOnMount]\": (element)=>{\n            if (router !== null) {\n                linkInstanceRef.current = (0, _links.mountLinkInstance)(element, href, router, appPrefetchKind, prefetchEnabled, setOptimisticLinkStatus);\n            }\n            return ({\n                \"LinkComponent.useCallback[observeLinkVisibilityOnMount]\": ()=>{\n                    if (linkInstanceRef.current) {\n                        (0, _links.unmountLinkForCurrentNavigation)(linkInstanceRef.current);\n                        linkInstanceRef.current = null;\n                    }\n                    (0, _links.unmountPrefetchableInstance)(element);\n                }\n            })[\"LinkComponent.useCallback[observeLinkVisibilityOnMount]\"];\n        }\n    }[\"LinkComponent.useCallback[observeLinkVisibilityOnMount]\"], [\n        prefetchEnabled,\n        href,\n        router,\n        appPrefetchKind,\n        setOptimisticLinkStatus\n    ]);\n    const mergedRef = (0, _usemergedref.useMergedRef)(observeLinkVisibilityOnMount, childRef);\n    const childProps = {\n        ref: mergedRef,\n        onClick (e) {\n            if (true) {\n                if (!e) {\n                    throw Object.defineProperty(new Error('Component rendered inside next/link has to pass click event to \"onClick\" prop.'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E312\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n            }\n            if (!legacyBehavior && typeof onClick === 'function') {\n                onClick(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {\n                child.props.onClick(e);\n            }\n            if (!router) {\n                return;\n            }\n            if (e.defaultPrevented) {\n                return;\n            }\n            linkClicked(e, href, as, linkInstanceRef, replace, scroll, onNavigate);\n        },\n        onMouseEnter (e) {\n            if (!legacyBehavior && typeof onMouseEnterProp === 'function') {\n                onMouseEnterProp(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {\n                child.props.onMouseEnter(e);\n            }\n            if (!router) {\n                return;\n            }\n            if (!prefetchEnabled || \"development\" === 'development') {\n                return;\n            }\n            const upgradeToDynamicPrefetch = unstable_dynamicOnHover === true;\n            (0, _links.onNavigationIntent)(e.currentTarget, upgradeToDynamicPrefetch);\n        },\n        onTouchStart:  false ? 0 : function onTouchStart(e) {\n            if (!legacyBehavior && typeof onTouchStartProp === 'function') {\n                onTouchStartProp(e);\n            }\n            if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {\n                child.props.onTouchStart(e);\n            }\n            if (!router) {\n                return;\n            }\n            if (!prefetchEnabled) {\n                return;\n            }\n            const upgradeToDynamicPrefetch = unstable_dynamicOnHover === true;\n            (0, _links.onNavigationIntent)(e.currentTarget, upgradeToDynamicPrefetch);\n        }\n    };\n    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n    // defined, we specify the current 'href', so that repetition is not needed by the user.\n    // If the url is absolute, we can bypass the logic to prepend the basePath.\n    if ((0, _utils.isAbsoluteUrl)(as)) {\n        childProps.href = as;\n    } else if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {\n        childProps.href = (0, _addbasepath.addBasePath)(as);\n    }\n    let link;\n    if (legacyBehavior) {\n        if (true) {\n            (0, _erroronce.errorOnce)('`legacyBehavior` is deprecated and will be removed in a future ' + 'release. A codemod is available to upgrade your components:\\n\\n' + 'npx @next/codemod@latest new-link .\\n\\n' + 'Learn more: https://nextjs.org/docs/app/building-your-application/upgrading/codemods#remove-a-tags-from-link-components');\n        }\n        link = /*#__PURE__*/ _react.default.cloneElement(child, childProps);\n    } else {\n        link = /*#__PURE__*/ (0, _jsxruntime.jsx)(\"a\", {\n            ...restProps,\n            ...childProps,\n            children: children\n        });\n    }\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(LinkStatusContext.Provider, {\n        value: linkStatus,\n        children: link\n    });\n}\n_s(LinkComponent, \"MNV6IdWv8Lu3MKc7Fm4v59uGRY0=\");\n_c = LinkComponent;\nconst LinkStatusContext = /*#__PURE__*/ (0, _react.createContext)(_links.IDLE_LINK_STATUS);\nconst useLinkStatus = ()=>{\n    return (0, _react.useContext)(LinkStatusContext);\n};\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n    Object.defineProperty(exports.default, '__esModule', {\n        value: true\n    });\n    Object.assign(exports.default, exports);\n    module.exports = exports.default;\n} //# sourceMappingURL=link.js.map\nvar _c;\n$RefreshReg$(_c, \"LinkComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2FwcC1kaXIvbGluay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztJQWlUQTs7Ozs7Ozs7O0NBU0MsR0FDRCxPQXNhQztlQXRhdUJBOztJQTRhWEMsYUFBYTtlQUFiQTs7Ozs7NkVBcnVCMkQ7dUNBRTlDOzJEQUNPO2dEQUNKOzBDQUNBO21DQUNDO3lDQUNGO3NDQUNIO21DQVNsQjt3Q0FDb0I7K0NBQ1k7dUNBQ2I7QUEwTTFCLFNBQVNDLGdCQUFnQkMsS0FBdUI7SUFDOUMsTUFBTUMsY0FBY0QsTUFBTUUsYUFBYTtJQUN2QyxNQUFNQyxTQUFTRixZQUFZRyxZQUFZLENBQUM7SUFDeEMsT0FDR0QsVUFBVUEsV0FBVyxXQUN0QkgsTUFBTUssT0FBTyxJQUNiTCxNQUFNTSxPQUFPLElBQ2JOLE1BQU1PLFFBQVEsSUFDZFAsTUFBTVEsTUFBTSxJQUFJLDZCQUE2QjtJQUM1Q1IsTUFBTVMsV0FBVyxJQUFJVCxNQUFNUyxXQUFXLENBQUNDLEtBQUssS0FBSztBQUV0RDtBQUVBLFNBQVNDLFlBQ1BDLENBQW1CLEVBQ25CQyxJQUFZLEVBQ1pDLEVBQVUsRUFDVkMsZUFBcUQsRUFDckRDLE9BQWlCLEVBQ2pCQyxNQUFnQixFQUNoQkMsVUFBbUM7SUFFbkMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR1AsRUFBRVYsYUFBYTtJQUVwQyxrREFBa0Q7SUFDbEQsTUFBTWtCLG1CQUFtQkQsU0FBU0UsV0FBVyxPQUFPO0lBRXBELElBQ0dELG9CQUFvQnJCLGdCQUFnQmEsTUFDckNBLEVBQUVWLGFBQWEsQ0FBQ29CLFlBQVksQ0FBQyxhQUM3QjtRQUNBLDhDQUE4QztRQUM5QztJQUNGO0lBRUEsSUFBSSxDQUFDQyxDQUFBQSxHQUFBQSxZQUFBQSxVQUFBQSxFQUFXVixPQUFPO1FBQ3JCLElBQUlHLFNBQVM7WUFDWCw4REFBOEQ7WUFDOUQsK0JBQStCO1lBQy9CSixFQUFFWSxjQUFj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QUFJLEdBQUdDO0lBQ3BCLE9BQU8sSUFDTCxDQUFDdUMsa0JBQ0RQLFlBQ0NtRCxNQUFNTSxJQUFJLEtBQUssT0FBTyxDQUFFLFdBQVVOLE1BQU0vRCxLQUFBQSxHQUN6QztRQUNBK0UsV0FBV3BHLElBQUksR0FBRzJHLENBQUFBLEdBQUFBLGFBQUFBLFdBQUFBLEVBQVkxRztJQUNoQztJQUVBLElBQUkyRztJQUVKLElBQUlwRSxnQkFBZ0I7UUFDbEIsSUFBSWMsSUFBb0IsRUFBb0I7WUFDMUN1RCxDQUFBQSxHQUFBQSxXQUFBQSxTQUFBQSxFQUNFLG9FQUNFLG9FQUNBLDRDQUNBO1FBRU47UUFDQUQsT0FBQUEsV0FBQUEsR0FBTzlGLE9BQUFBLE9BQUssQ0FBQ2dHLFlBQVksQ0FBQzFCLE9BQU9nQjtJQUNuQyxPQUFPO1FBQ0xRLE9BQUFBLFdBQUFBLEdBQ0UscUJBQUMvRCxLQUFBQTtZQUFHLEdBQUdELFNBQVM7WUFBRyxHQUFHd0QsVUFBVTtzQkFDN0IxRTs7SUFHUDtJQUVBLHFCQUNFLHFCQUFDcUYsa0JBQWtCQyxRQUFRO1FBQUNDLE9BQU8zRjtrQkFDaENzRjs7QUFHUDtHQXRhd0I1SDs7QUF3YXhCLE1BQU0rSCxvQkFBQUEsV0FBQUEsR0FBb0JHLENBQUFBLEdBQUFBLE9BQUFBLGFBQUFBLEVBRXhCekYsT0FBQUEsZ0JBQWdCO0FBRVgsTUFBTXhDLGdCQUFnQjtJQUMzQixPQUFPOEQsQ0FBQUEsR0FBQUEsT0FBQUEsVUFBQUEsRUFBV2dFO0FBQ3BCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXHNyY1xcY2xpZW50XFxhcHAtZGlyXFxsaW5rLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZU9wdGltaXN0aWMsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHR5cGUgeyBVcmxPYmplY3QgfSBmcm9tICd1cmwnXG5pbXBvcnQgeyBmb3JtYXRVcmwgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL3JvdXRlci91dGlscy9mb3JtYXQtdXJsJ1xuaW1wb3J0IHsgQXBwUm91dGVyQ29udGV4dCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvYXBwLXJvdXRlci1jb250ZXh0LnNoYXJlZC1ydW50aW1lJ1xuaW1wb3J0IHsgUHJlZmV0Y2hLaW5kIH0gZnJvbSAnLi4vY29tcG9uZW50cy9yb3V0ZXItcmVkdWNlci9yb3V0ZXItcmVkdWNlci10eXBlcydcbmltcG9ydCB7IHVzZU1lcmdlZFJlZiB9IGZyb20gJy4uL3VzZS1tZXJnZWQtcmVmJ1xuaW1wb3J0IHsgaXNBYnNvbHV0ZVVybCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvdXRpbHMnXG5pbXBvcnQgeyBhZGRCYXNlUGF0aCB9IGZyb20gJy4uL2FkZC1iYXNlLXBhdGgnXG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvdXRpbHMvd2Fybi1vbmNlJ1xuaW1wb3J0IHR5cGUgeyBQRU5ESU5HX0xJTktfU1RBVFVTIH0gZnJvbSAnLi4vY29tcG9uZW50cy9saW5rcydcbmltcG9ydCB7XG4gIElETEVfTElOS19TVEFUVVMsXG4gIG1vdW50TGlua0luc3RhbmNlLFxuICBvbk5hdmlnYXRpb25JbnRlbnQsXG4gIHVubW91bnRMaW5rRm9yQ3VycmVudE5hdmlnYXRpb24sXG4gIHVubW91bnRQcmVmZXRjaGFibGVJbnN0YW5jZSxcbiAgdHlwZSBMaW5rSW5zdGFuY2UsXG59IGZyb20gJy4uL2NvbXBvbmVudHMvbGlua3MnXG5pbXBvcnQgeyBpc0xvY2FsVVJMIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvaXMtbG9jYWwtdXJsJ1xuaW1wb3J0IHsgZGlzcGF0Y2hOYXZpZ2F0ZUFjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvYXBwLXJvdXRlci1pbnN0YW5jZSdcbmltcG9ydCB7IGVycm9yT25jZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvdXRpbHMvZXJyb3Itb25jZSdcblxudHlwZSBVcmwgPSBzdHJpbmcgfCBVcmxPYmplY3RcbnR5cGUgUmVxdWlyZWRLZXlzPFQ+ID0ge1xuICBbSyBpbiBrZXlvZiBUXS0/OiB7fSBleHRlbmRzIFBpY2s8VCwgSz4gPyBuZXZlciA6IEtcbn1ba2V5b2YgVF1cbnR5cGUgT3B0aW9uYWxLZXlzPFQ+ID0ge1xuICBbSyBpbiBrZXlvZiBUXS0/OiB7fSBleHRlbmRzIFBpY2s8VCwgSz4gPyBLIDogbmV2ZXJcbn1ba2V5b2YgVF1cblxudHlwZSBPbk5hdmlnYXRlRXZlbnRIYW5kbGVyID0gKGV2ZW50OiB7IHByZXZlbnREZWZhdWx0OiAoKSA9PiB2b2lkIH0pID0+IHZvaWRcblxudHlwZSBJbnRlcm5hbExpbmtQcm9wcyA9IHtcbiAgLyoqXG4gICAqICoqUmVxdWlyZWQqKi4gVGhlIHBhdGggb3IgVVJMIHRvIG5hdmlnYXRlIHRvLiBJdCBjYW4gYWxzbyBiZSBhbiBvYmplY3QgKHNpbWlsYXIgdG8gYFVSTGApLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c3hcbiAgICogLy8gTmF2aWdhdGUgdG8gL2Rhc2hib2FyZDpcbiAgICogPExpbmsgaHJlZj1cIi9kYXNoYm9hcmRcIj5EYXNoYm9hcmQ8L0xpbms+XG4gICAqXG4gICAqIC8vIE5hdmlnYXRlIHRvIC9hYm91dD9uYW1lPXRlc3Q6XG4gICAqIDxMaW5rIGhyZWY9e3sgcGF0aG5hbWU6ICcvYWJvdXQnLCBxdWVyeTogeyBuYW1lOiAndGVzdCcgfSB9fT5cbiAgICogICBBYm91dFxuICAgKiA8L0xpbms+XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiAtIEZvciBleHRlcm5hbCBVUkxzLCB1c2UgYSBmdWxseSBxdWFsaWZpZWQgVVJMIHN1Y2ggYXMgYGh0dHBzOi8vLi4uYC5cbiAgICogLSBJbiB0aGUgQXBwIFJvdXRlciwgZHluYW1pYyByb3V0ZXMgbXVzdCBub3QgaW5jbHVkZSBicmFja2V0ZWQgc2VnbWVudHMgaW4gYGhyZWZgLlxuICAgKi9cbiAgaHJlZjogVXJsXG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHYxMC4wLjA6IGBocmVmYCBwcm9wcyBwb2ludGluZyB0byBhIGR5bmFtaWMgcm91dGUgYXJlXG4gICAqIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZWQgYW5kIG5vIGxvbmdlciByZXF1aXJlIHRoZSBgYXNgIHByb3AuXG4gICAqL1xuICBhcz86IFVybFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlIHRoZSBjdXJyZW50IGBoaXN0b3J5YCBzdGF0ZSBpbnN0ZWFkIG9mIGFkZGluZyBhIG5ldyBVUkwgaW50byB0aGUgc3RhY2suXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgYGZhbHNlYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c3hcbiAgICogPExpbmsgaHJlZj1cIi9hYm91dFwiIHJlcGxhY2U+XG4gICAqICAgQWJvdXQgKHJlcGxhY2VzIHRoZSBoaXN0b3J5IHN0YXRlKVxuICAgKiA8L0xpbms+XG4gICAqIGBgYFxuICAgKi9cbiAgcmVwbGFjZT86IGJvb2xlYW5cblxuICAvKipcbiAgICogV2hldGhlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBzY3JvbGwgYmVoYXZpb3IuIElmIGB0cnVlYCwgTmV4dC5qcyBhdHRlbXB0cyB0byBtYWludGFpblxuICAgKiB0aGUgc2Nyb2xsIHBvc2l0aW9uIGlmIHRoZSBuZXdseSBuYXZpZ2F0ZWQgcGFnZSBpcyBzdGlsbCB2aXNpYmxlLiBJZiBub3QsIGl0IHNjcm9sbHMgdG8gdGhlIHRvcC5cbiAgICpcbiAgICogSWYgYGZhbHNlYCwgTmV4dC5qcyB3aWxsIG5vdCBtb2RpZnkgdGhlIHNjcm9sbCBiZWhhdmlvciBhdCBhbGwuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgYHRydWVgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzeFxuICAgKiA8TGluayBocmVmPVwiL2Rhc2hib2FyZFwiIHNjcm9sbD17ZmFsc2V9PlxuICAgKiAgIE5vIGF1dG8gc2Nyb2xsXG4gICAqIDwvTGluaz5cbiAgICogYGBgXG4gICAqL1xuICBzY3JvbGw/OiBib29sZWFuXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcGF0aCBvZiB0aGUgY3VycmVudCBwYWdlIHdpdGhvdXQgcmVydW5uaW5nIGRhdGEgZmV0Y2hpbmcgbWV0aG9kc1xuICAgKiBsaWtlIGBnZXRTdGF0aWNQcm9wc2AsIGBnZXRTZXJ2ZXJTaWRlUHJvcHNgLCBvciBgZ2V0SW5pdGlhbFByb3BzYC5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogYHNoYWxsb3dgIG9ubHkgYXBwbGllcyB0byB0aGUgUGFnZXMgUm91dGVyLiBGb3IgdGhlIEFwcCBSb3V0ZXIsIHNlZSB0aGVcbiAgICogW2ZvbGxvd2luZyBkb2N1bWVudGF0aW9uXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yb3V0aW5nL2xpbmtpbmctYW5kLW5hdmlnYXRpbmcjdXNpbmctdGhlLW5hdGl2ZS1oaXN0b3J5LWFwaSkuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgYGZhbHNlYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c3hcbiAgICogPExpbmsgaHJlZj1cIi9ibG9nXCIgc2hhbGxvdz5cbiAgICogICBTaGFsbG93IG5hdmlnYXRpb25cbiAgICogPC9MaW5rPlxuICAgKiBgYGBcbiAgICovXG4gIHNoYWxsb3c/OiBib29sZWFuXG5cbiAgLyoqXG4gICAqIEZvcmNlcyBgTGlua2AgdG8gcGFzcyBpdHMgYGhyZWZgIHRvIHRoZSBjaGlsZCBjb21wb25lbnQuIFVzZWZ1bCBpZiB0aGUgY2hpbGQgaXMgYSBjdXN0b21cbiAgICogY29tcG9uZW50IHRoYXQgd3JhcHMgYW4gYDxhPmAgdGFnLCBvciBpZiB5b3UncmUgdXNpbmcgY2VydGFpbiBzdHlsaW5nIGxpYnJhcmllcy5cbiAgICpcbiAgICogQGRlZmF1bHRWYWx1ZSBgZmFsc2VgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzeFxuICAgKiA8TGluayBocmVmPVwiL2Rhc2hib2FyZFwiIHBhc3NIcmVmPlxuICAgKiAgIDxNeVN0eWxlZEFuY2hvcj5EYXNoYm9hcmQ8L015U3R5bGVkQW5jaG9yPlxuICAgKiA8L0xpbms+XG4gICAqIGBgYFxuICAgKi9cbiAgcGFzc0hyZWY/OiBib29sZWFuXG5cbiAgLyoqXG4gICAqIFByZWZldGNoIHRoZSBwYWdlIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgKiBBbnkgYDxMaW5rIC8+YCB0aGF0IGlzIGluIHRoZSB2aWV3cG9ydCAoaW5pdGlhbGx5IG9yIHRocm91Z2ggc2Nyb2xsKSB3aWxsIGJlIHByZWZldGNoZWQuXG4gICAqIFByZWZldGNoIGNhbiBiZSBkaXNhYmxlZCBieSBwYXNzaW5nIGBwcmVmZXRjaD17ZmFsc2V9YC5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogUHJlZmV0Y2hpbmcgaXMgb25seSBlbmFibGVkIGluIHByb2R1Y3Rpb24uXG4gICAqXG4gICAqIC0gSW4gdGhlICoqQXBwIFJvdXRlcioqOlxuICAgKiAgIC0gYFwiYXV0b1wiYCwgYG51bGxgLCBgdW5kZWZpbmVkYCAoZGVmYXVsdCk6IFByZWZldGNoIGJlaGF2aW9yIGRlcGVuZHMgb24gc3RhdGljIHZzIGR5bmFtaWMgcm91dGVzOlxuICAgKiAgICAgLSBTdGF0aWMgcm91dGVzOiBmdWxseSBwcmVmZXRjaGVkXG4gICAqICAgICAtIER5bmFtaWMgcm91dGVzOiBwYXJ0aWFsIHByZWZldGNoIHRvIHRoZSBuZWFyZXN0IHNlZ21lbnQgd2l0aCBhIGBsb2FkaW5nLmpzYFxuICAgKiAgIC0gYHRydWVgOiBBbHdheXMgcHJlZmV0Y2ggdGhlIGZ1bGwgcm91dGUgYW5kIGRhdGEuXG4gICAqICAgLSBgZmFsc2VgOiBEaXNhYmxlIHByZWZldGNoaW5nIG9uIGJvdGggdmlld3BvcnQgYW5kIGhvdmVyLlxuICAgKiAtIEluIHRoZSAqKlBhZ2VzIFJvdXRlcioqOlxuICAgKiAgIC0gYHRydWVgIChkZWZhdWx0KTogUHJlZmV0Y2hlcyB0aGUgcm91dGUgYW5kIGRhdGEgaW4gdGhlIGJhY2tncm91bmQgb24gdmlld3BvcnQgb3IgaG92ZXIuXG4gICAqICAgLSBgZmFsc2VgOiBQcmVmZXRjaCBvbmx5IG9uIGhvdmVyLCBub3Qgb24gdmlld3BvcnQuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgYHRydWVgIChQYWdlcyBSb3V0ZXIpIG9yIGBudWxsYCAoQXBwIFJvdXRlcilcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHN4XG4gICAqIDxMaW5rIGhyZWY9XCIvZGFzaGJvYXJkXCIgcHJlZmV0Y2g9e2ZhbHNlfT5cbiAgICogICBEYXNoYm9hcmRcbiAgICogPC9MaW5rPlxuICAgKiBgYGBcbiAgICovXG4gIHByZWZldGNoPzogYm9vbGVhbiB8ICdhdXRvJyB8IG51bGxcblxuICAvKipcbiAgICogKHVuc3RhYmxlKSBTd2l0Y2ggdG8gYSBkeW5hbWljIHByZWZldGNoIG9uIGhvdmVyLiBFZmZlY3RpdmVseSB0aGUgc2FtZSBhc1xuICAgKiB1cGRhdGluZyB0aGUgcHJlZmV0Y2ggcHJvcCB0byBgdHJ1ZWAgaW4gYSBtb3VzZSBldmVudC5cbiAgICovXG4gIHVuc3RhYmxlX2R5bmFtaWNPbkhvdmVyPzogYm9vbGVhblxuXG4gIC8qKlxuICAgKiBUaGUgYWN0aXZlIGxvY2FsZSBpcyBhdXRvbWF0aWNhbGx5IHByZXBlbmRlZCBpbiB0aGUgUGFnZXMgUm91dGVyLiBgbG9jYWxlYCBhbGxvd3MgZm9yIHByb3ZpZGluZ1xuICAgKiBhIGRpZmZlcmVudCBsb2NhbGUsIG9yIGNhbiBiZSBzZXQgdG8gYGZhbHNlYCB0byBvcHQgb3V0IG9mIGF1dG9tYXRpYyBsb2NhbGUgYmVoYXZpb3IuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIE5vdGU6IGxvY2FsZSBvbmx5IGFwcGxpZXMgaW4gdGhlIFBhZ2VzIFJvdXRlciBhbmQgaXMgaWdub3JlZCBpbiB0aGUgQXBwIFJvdXRlci5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHN4XG4gICAqIC8vIFVzZSB0aGUgJ2ZyJyBsb2NhbGU6XG4gICAqIDxMaW5rIGhyZWY9XCIvYWJvdXRcIiBsb2NhbGU9XCJmclwiPlxuICAgKiAgIEFib3V0IChGcmVuY2gpXG4gICAqIDwvTGluaz5cbiAgICpcbiAgICogLy8gRGlzYWJsZSBsb2NhbGUgcHJlZml4OlxuICAgKiA8TGluayBocmVmPVwiL2Fib3V0XCIgbG9jYWxlPXtmYWxzZX0+XG4gICAqICAgQWJvdXQgKG5vIGxvY2FsZSBwcmVmaXgpXG4gICAqIDwvTGluaz5cbiAgICogYGBgXG4gICAqL1xuICBsb2NhbGU/OiBzdHJpbmcgfCBmYWxzZVxuXG4gIC8qKlxuICAgKiBFbmFibGUgbGVnYWN5IGxpbmsgYmVoYXZpb3IsIHJlcXVpcmluZyBhbiBgPGE+YCB0YWcgdG8gd3JhcCB0aGUgY2hpbGQgY29udGVudFxuICAgKiBpZiB0aGUgY2hpbGQgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MTZcbiAgICogQGRlZmF1bHRWYWx1ZSBgZmFsc2VgXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzL2NvbW1pdC80ODllNjVlZDk4NTQ0ZTY5YjBhZmQ3ZTBjZmMzZjlmNmMyYjgwM2I3XG4gICAqL1xuICBsZWdhY3lCZWhhdmlvcj86IGJvb2xlYW5cblxuICAvKipcbiAgICogT3B0aW9uYWwgZXZlbnQgaGFuZGxlciBmb3Igd2hlbiB0aGUgbW91c2UgcG9pbnRlciBpcyBtb3ZlZCBvbnRvIHRoZSBgPExpbms+YC5cbiAgICovXG4gIG9uTW91c2VFbnRlcj86IFJlYWN0Lk1vdXNlRXZlbnRIYW5kbGVyPEhUTUxBbmNob3JFbGVtZW50PlxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBldmVudCBoYW5kbGVyIGZvciB3aGVuIHRoZSBgPExpbms+YCBpcyB0b3VjaGVkLlxuICAgKi9cbiAgb25Ub3VjaFN0YXJ0PzogUmVhY3QuVG91Y2hFdmVudEhhbmRsZXI8SFRNTEFuY2hvckVsZW1lbnQ+XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGV2ZW50IGhhbmRsZXIgZm9yIHdoZW4gdGhlIGA8TGluaz5gIGlzIGNsaWNrZWQuXG4gICAqL1xuICBvbkNsaWNrPzogUmVhY3QuTW91c2VFdmVudEhhbmRsZXI8SFRNTEFuY2hvckVsZW1lbnQ+XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGV2ZW50IGhhbmRsZXIgZm9yIHdoZW4gdGhlIGA8TGluaz5gIGlzIG5hdmlnYXRlZC5cbiAgICovXG4gIG9uTmF2aWdhdGU/OiBPbk5hdmlnYXRlRXZlbnRIYW5kbGVyXG59XG5cbi8vIFRPRE8tQVBQOiBJbmNsdWRlIHRoZSBmdWxsIHNldCBvZiBBbmNob3IgcHJvcHNcbi8vIGFkZGluZyB0aGlzIHRvIHRoZSBwdWJsaWNseSBleHBvcnRlZCB0eXBlIGN1cnJlbnRseSBicmVha3MgZXhpc3RpbmcgYXBwc1xuXG4vLyBgUm91dGVJbmZlclR5cGVgIGlzIGEgc3R1YiBoZXJlIHRvIGF2b2lkIGJyZWFraW5nIGB0eXBlZFJvdXRlc2Agd2hlbiB0aGUgdHlwZVxuLy8gaXNuJ3QgZ2VuZXJhdGVkIHlldC4gSXQgd2lsbCBiZSByZXBsYWNlZCB3aGVuIHRoZSB3ZWJwYWNrIHBsdWdpbiBydW5zLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZXhwb3J0IHR5cGUgTGlua1Byb3BzPFJvdXRlSW5mZXJUeXBlID0gYW55PiA9IEludGVybmFsTGlua1Byb3BzXG50eXBlIExpbmtQcm9wc1JlcXVpcmVkID0gUmVxdWlyZWRLZXlzPExpbmtQcm9wcz5cbnR5cGUgTGlua1Byb3BzT3B0aW9uYWwgPSBPcHRpb25hbEtleXM8T21pdDxJbnRlcm5hbExpbmtQcm9wcywgJ2xvY2FsZSc+PlxuXG5mdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpOiBib29sZWFuIHtcbiAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnRcbiAgY29uc3QgdGFyZ2V0ID0gZXZlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKVxuICByZXR1cm4gKFxuICAgICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSAnX3NlbGYnKSB8fFxuICAgIGV2ZW50Lm1ldGFLZXkgfHxcbiAgICBldmVudC5jdHJsS2V5IHx8XG4gICAgZXZlbnQuc2hpZnRLZXkgfHxcbiAgICBldmVudC5hbHRLZXkgfHwgLy8gdHJpZ2dlcnMgcmVzb3VyY2UgZG93bmxvYWRcbiAgICAoZXZlbnQubmF0aXZlRXZlbnQgJiYgZXZlbnQubmF0aXZlRXZlbnQud2hpY2ggPT09IDIpXG4gIClcbn1cblxuZnVuY3Rpb24gbGlua0NsaWNrZWQoXG4gIGU6IFJlYWN0Lk1vdXNlRXZlbnQsXG4gIGhyZWY6IHN0cmluZyxcbiAgYXM6IHN0cmluZyxcbiAgbGlua0luc3RhbmNlUmVmOiBSZWFjdC5SZWZPYmplY3Q8TGlua0luc3RhbmNlIHwgbnVsbD4sXG4gIHJlcGxhY2U/OiBib29sZWFuLFxuICBzY3JvbGw/OiBib29sZWFuLFxuICBvbk5hdmlnYXRlPzogT25OYXZpZ2F0ZUV2ZW50SGFuZGxlclxuKTogdm9pZCB7XG4gIGNvbnN0IHsgbm9kZU5hbWUgfSA9IGUuY3VycmVudFRhcmdldFxuXG4gIC8vIGFuY2hvcnMgaW5zaWRlIGFuIHN2ZyBoYXZlIGEgbG93ZXJjYXNlIG5vZGVOYW1lXG4gIGNvbnN0IGlzQW5jaG9yTm9kZU5hbWUgPSBub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnQSdcblxuICBpZiAoXG4gICAgKGlzQW5jaG9yTm9kZU5hbWUgJiYgaXNNb2RpZmllZEV2ZW50KGUpKSB8fFxuICAgIGUuY3VycmVudFRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rvd25sb2FkJylcbiAgKSB7XG4gICAgLy8gaWdub3JlIGNsaWNrIGZvciBicm93c2Vy4oCZcyBkZWZhdWx0IGJlaGF2aW9yXG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoIWlzTG9jYWxVUkwoaHJlZikpIHtcbiAgICBpZiAocmVwbGFjZSkge1xuICAgICAgLy8gYnJvd3NlciBkZWZhdWx0IGJlaGF2aW9yIGRvZXMgbm90IHJlcGxhY2UgdGhlIGhpc3Rvcnkgc3RhdGVcbiAgICAgIC8vIHNvIHdlIG5lZWQgdG8gZG8gaXQgbWFudWFsbHlcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgbG9jYXRpb24ucmVwbGFjZShocmVmKVxuICAgIH1cblxuICAgIC8vIGlnbm9yZSBjbGljayBmb3IgYnJvd3NlcuKAmXMgZGVmYXVsdCBiZWhhdmlvclxuICAgIHJldHVyblxuICB9XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgaWYgKG9uTmF2aWdhdGUpIHtcbiAgICBsZXQgaXNEZWZhdWx0UHJldmVudGVkID0gZmFsc2VcblxuICAgIG9uTmF2aWdhdGUoe1xuICAgICAgcHJldmVudERlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgaXNEZWZhdWx0UHJldmVudGVkID0gdHJ1ZVxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgaWYgKGlzRGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgUmVhY3Quc3RhcnRUcmFuc2l0aW9uKCgpID0+IHtcbiAgICBkaXNwYXRjaE5hdmlnYXRlQWN0aW9uKFxuICAgICAgYXMgfHwgaHJlZixcbiAgICAgIHJlcGxhY2UgPyAncmVwbGFjZScgOiAncHVzaCcsXG4gICAgICBzY3JvbGwgPz8gdHJ1ZSxcbiAgICAgIGxpbmtJbnN0YW5jZVJlZi5jdXJyZW50XG4gICAgKVxuICB9KVxufVxuXG5mdW5jdGlvbiBmb3JtYXRTdHJpbmdPclVybCh1cmxPYmpPclN0cmluZzogVXJsT2JqZWN0IHwgc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiB1cmxPYmpPclN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsT2JqT3JTdHJpbmdcbiAgfVxuXG4gIHJldHVybiBmb3JtYXRVcmwodXJsT2JqT3JTdHJpbmcpXG59XG5cbi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdGhhdCBleHRlbmRzIHRoZSBIVE1MIGA8YT5gIGVsZW1lbnQgdG8gcHJvdmlkZVxuICogW3ByZWZldGNoaW5nXShodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yb3V0aW5nL2xpbmtpbmctYW5kLW5hdmlnYXRpbmcjMi1wcmVmZXRjaGluZylcbiAqIGFuZCBjbGllbnQtc2lkZSBuYXZpZ2F0aW9uLiBUaGlzIGlzIHRoZSBwcmltYXJ5IHdheSB0byBuYXZpZ2F0ZSBiZXR3ZWVuIHJvdXRlcyBpbiBOZXh0LmpzLlxuICpcbiAqIEByZW1hcmtzXG4gKiAtIFByZWZldGNoaW5nIGlzIG9ubHkgZW5hYmxlZCBpbiBwcm9kdWN0aW9uLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvY29tcG9uZW50cy9saW5rXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExpbmtDb21wb25lbnQoXG4gIHByb3BzOiBMaW5rUHJvcHMgJiB7XG4gICAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxuICAgIHJlZjogUmVhY3QuUmVmPEhUTUxBbmNob3JFbGVtZW50PlxuICB9XG4pIHtcbiAgY29uc3QgW2xpbmtTdGF0dXMsIHNldE9wdGltaXN0aWNMaW5rU3RhdHVzXSA9IHVzZU9wdGltaXN0aWMoSURMRV9MSU5LX1NUQVRVUylcblxuICBsZXQgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxuXG4gIGNvbnN0IGxpbmtJbnN0YW5jZVJlZiA9IHVzZVJlZjxMaW5rSW5zdGFuY2UgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IHtcbiAgICBocmVmOiBocmVmUHJvcCxcbiAgICBhczogYXNQcm9wLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlblByb3AsXG4gICAgcHJlZmV0Y2g6IHByZWZldGNoUHJvcCA9IG51bGwsXG4gICAgcGFzc0hyZWYsXG4gICAgcmVwbGFjZSxcbiAgICBzaGFsbG93LFxuICAgIHNjcm9sbCxcbiAgICBvbkNsaWNrLFxuICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyUHJvcCxcbiAgICBvblRvdWNoU3RhcnQ6IG9uVG91Y2hTdGFydFByb3AsXG4gICAgbGVnYWN5QmVoYXZpb3IgPSBmYWxzZSxcbiAgICBvbk5hdmlnYXRlLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgIHVuc3RhYmxlX2R5bmFtaWNPbkhvdmVyLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHNcblxuICBjaGlsZHJlbiA9IGNoaWxkcmVuUHJvcFxuXG4gIGlmIChcbiAgICBsZWdhY3lCZWhhdmlvciAmJlxuICAgICh0eXBlb2YgY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ251bWJlcicpXG4gICkge1xuICAgIGNoaWxkcmVuID0gPGE+e2NoaWxkcmVufTwvYT5cbiAgfVxuXG4gIGNvbnN0IHJvdXRlciA9IFJlYWN0LnVzZUNvbnRleHQoQXBwUm91dGVyQ29udGV4dClcblxuICBjb25zdCBwcmVmZXRjaEVuYWJsZWQgPSBwcmVmZXRjaFByb3AgIT09IGZhbHNlXG4gIC8qKlxuICAgKiBUaGUgcG9zc2libGUgc3RhdGVzIGZvciBwcmVmZXRjaCBhcmU6XG4gICAqIC0gbnVsbDogdGhpcyBpcyB0aGUgZGVmYXVsdCBcImF1dG9cIiBtb2RlLCB3aGVyZSB3ZSB3aWxsIHByZWZldGNoIHBhcnRpYWxseSBpZiB0aGUgbGluayBpcyBpbiB0aGUgdmlld3BvcnRcbiAgICogLSB0cnVlOiB3ZSB3aWxsIHByZWZldGNoIGlmIHRoZSBsaW5rIGlzIHZpc2libGUgYW5kIHByZWZldGNoIHRoZSBmdWxsIHBhZ2UsIG5vdCBqdXN0IHBhcnRpYWxseVxuICAgKiAtIGZhbHNlOiB3ZSB3aWxsIG5vdCBwcmVmZXRjaCBpZiBpbiB0aGUgdmlld3BvcnQgYXQgYWxsXG4gICAqIC0gJ3Vuc3RhYmxlX2R5bmFtaWNPbkhvdmVyJzogdGhpcyBzdGFydHMgaW4gXCJhdXRvXCIgbW9kZSwgYnV0IHN3aXRjaGVzIHRvIFwiZnVsbFwiIHdoZW4gdGhlIGxpbmsgaXMgaG92ZXJlZFxuICAgKi9cbiAgY29uc3QgYXBwUHJlZmV0Y2hLaW5kID1cbiAgICBwcmVmZXRjaFByb3AgPT09IG51bGwgfHwgcHJlZmV0Y2hQcm9wID09PSAnYXV0bydcbiAgICAgID8gUHJlZmV0Y2hLaW5kLkFVVE9cbiAgICAgIDogUHJlZmV0Y2hLaW5kLkZVTExcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb3BFcnJvcihhcmdzOiB7XG4gICAgICBrZXk6IHN0cmluZ1xuICAgICAgZXhwZWN0ZWQ6IHN0cmluZ1xuICAgICAgYWN0dWFsOiBzdHJpbmdcbiAgICB9KSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICBgRmFpbGVkIHByb3AgdHlwZTogVGhlIHByb3AgXFxgJHthcmdzLmtleX1cXGAgZXhwZWN0cyBhICR7YXJncy5leHBlY3RlZH0gaW4gXFxgPExpbms+XFxgLCBidXQgZ290IFxcYCR7YXJncy5hY3R1YWx9XFxgIGluc3RlYWQuYCArXG4gICAgICAgICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IFwiXFxuT3BlbiB5b3VyIGJyb3dzZXIncyBjb25zb2xlIHRvIHZpZXcgdGhlIENvbXBvbmVudCBzdGFjayB0cmFjZS5cIlxuICAgICAgICAgICAgOiAnJylcbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBUeXBlU2NyaXB0IHRyaWNrIGZvciB0eXBlLWd1YXJkaW5nOlxuICAgIGNvbnN0IHJlcXVpcmVkUHJvcHNHdWFyZDogUmVjb3JkPExpbmtQcm9wc1JlcXVpcmVkLCB0cnVlPiA9IHtcbiAgICAgIGhyZWY6IHRydWUsXG4gICAgfSBhcyBjb25zdFxuICAgIGNvbnN0IHJlcXVpcmVkUHJvcHM6IExpbmtQcm9wc1JlcXVpcmVkW10gPSBPYmplY3Qua2V5cyhcbiAgICAgIHJlcXVpcmVkUHJvcHNHdWFyZFxuICAgICkgYXMgTGlua1Byb3BzUmVxdWlyZWRbXVxuICAgIHJlcXVpcmVkUHJvcHMuZm9yRWFjaCgoa2V5OiBMaW5rUHJvcHNSZXF1aXJlZCkgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gJ2hyZWYnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9wc1trZXldID09IG51bGwgfHxcbiAgICAgICAgICAodHlwZW9mIHByb3BzW2tleV0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiBwcm9wc1trZXldICE9PSAnb2JqZWN0JylcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlUHJvcEVycm9yKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiAnYHN0cmluZ2Agb3IgYG9iamVjdGAnLFxuICAgICAgICAgICAgYWN0dWFsOiBwcm9wc1trZXldID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHByb3BzW2tleV0sXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHlwZVNjcmlwdCB0cmljayBmb3IgdHlwZS1ndWFyZGluZzpcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICBjb25zdCBfOiBuZXZlciA9IGtleVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBUeXBlU2NyaXB0IHRyaWNrIGZvciB0eXBlLWd1YXJkaW5nOlxuICAgIGNvbnN0IG9wdGlvbmFsUHJvcHNHdWFyZDogUmVjb3JkPExpbmtQcm9wc09wdGlvbmFsLCB0cnVlPiA9IHtcbiAgICAgIGFzOiB0cnVlLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHNjcm9sbDogdHJ1ZSxcbiAgICAgIHNoYWxsb3c6IHRydWUsXG4gICAgICBwYXNzSHJlZjogdHJ1ZSxcbiAgICAgIHByZWZldGNoOiB0cnVlLFxuICAgICAgdW5zdGFibGVfZHluYW1pY09uSG92ZXI6IHRydWUsXG4gICAgICBvbkNsaWNrOiB0cnVlLFxuICAgICAgb25Nb3VzZUVudGVyOiB0cnVlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0cnVlLFxuICAgICAgbGVnYWN5QmVoYXZpb3I6IHRydWUsXG4gICAgICBvbk5hdmlnYXRlOiB0cnVlLFxuICAgIH0gYXMgY29uc3RcbiAgICBjb25zdCBvcHRpb25hbFByb3BzOiBMaW5rUHJvcHNPcHRpb25hbFtdID0gT2JqZWN0LmtleXMoXG4gICAgICBvcHRpb25hbFByb3BzR3VhcmRcbiAgICApIGFzIExpbmtQcm9wc09wdGlvbmFsW11cbiAgICBvcHRpb25hbFByb3BzLmZvckVhY2goKGtleTogTGlua1Byb3BzT3B0aW9uYWwpID0+IHtcbiAgICAgIGNvbnN0IHZhbFR5cGUgPSB0eXBlb2YgcHJvcHNba2V5XVxuXG4gICAgICBpZiAoa2V5ID09PSAnYXMnKSB7XG4gICAgICAgIGlmIChwcm9wc1trZXldICYmIHZhbFR5cGUgIT09ICdzdHJpbmcnICYmIHZhbFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlUHJvcEVycm9yKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiAnYHN0cmluZ2Agb3IgYG9iamVjdGAnLFxuICAgICAgICAgICAgYWN0dWFsOiB2YWxUeXBlLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGtleSA9PT0gJ29uQ2xpY2snIHx8XG4gICAgICAgIGtleSA9PT0gJ29uTW91c2VFbnRlcicgfHxcbiAgICAgICAga2V5ID09PSAnb25Ub3VjaFN0YXJ0JyB8fFxuICAgICAgICBrZXkgPT09ICdvbk5hdmlnYXRlJ1xuICAgICAgKSB7XG4gICAgICAgIGlmIChwcm9wc1trZXldICYmIHZhbFR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVQcm9wRXJyb3Ioe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZXhwZWN0ZWQ6ICdgZnVuY3Rpb25gJyxcbiAgICAgICAgICAgIGFjdHVhbDogdmFsVHlwZSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBrZXkgPT09ICdyZXBsYWNlJyB8fFxuICAgICAgICBrZXkgPT09ICdzY3JvbGwnIHx8XG4gICAgICAgIGtleSA9PT0gJ3NoYWxsb3cnIHx8XG4gICAgICAgIGtleSA9PT0gJ3Bhc3NIcmVmJyB8fFxuICAgICAgICBrZXkgPT09ICdsZWdhY3lCZWhhdmlvcicgfHxcbiAgICAgICAga2V5ID09PSAndW5zdGFibGVfZHluYW1pY09uSG92ZXInXG4gICAgICApIHtcbiAgICAgICAgaWYgKHByb3BzW2tleV0gIT0gbnVsbCAmJiB2YWxUeXBlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICB0aHJvdyBjcmVhdGVQcm9wRXJyb3Ioe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZXhwZWN0ZWQ6ICdgYm9vbGVhbmAnLFxuICAgICAgICAgICAgYWN0dWFsOiB2YWxUeXBlLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncHJlZmV0Y2gnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9wc1trZXldICE9IG51bGwgJiZcbiAgICAgICAgICB2YWxUeXBlICE9PSAnYm9vbGVhbicgJiZcbiAgICAgICAgICBwcm9wc1trZXldICE9PSAnYXV0bydcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlUHJvcEVycm9yKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiAnYGJvb2xlYW4gfCBcImF1dG9cImAnLFxuICAgICAgICAgICAgYWN0dWFsOiB2YWxUeXBlLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFR5cGVTY3JpcHQgdHJpY2sgZm9yIHR5cGUtZ3VhcmRpbmc6XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgY29uc3QgXzogbmV2ZXIgPSBrZXlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAocHJvcHMubG9jYWxlKSB7XG4gICAgICB3YXJuT25jZShcbiAgICAgICAgJ1RoZSBgbG9jYWxlYCBwcm9wIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYG5leHQvbGlua2Agd2hpbGUgdXNpbmcgdGhlIGBhcHBgIHJvdXRlci4gUmVhZCBtb3JlIGFib3V0IGFwcCByb3V0ZXIgaW50ZXJuYWxpemF0aW9uOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yb3V0aW5nL2ludGVybmF0aW9uYWxpemF0aW9uJ1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAoIWFzUHJvcCkge1xuICAgICAgbGV0IGhyZWY6IHN0cmluZyB8IHVuZGVmaW5lZFxuICAgICAgaWYgKHR5cGVvZiBocmVmUHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaHJlZiA9IGhyZWZQcm9wXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0eXBlb2YgaHJlZlByb3AgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBocmVmUHJvcC5wYXRobmFtZSA9PT0gJ3N0cmluZydcbiAgICAgICkge1xuICAgICAgICBocmVmID0gaHJlZlByb3AucGF0aG5hbWVcbiAgICAgIH1cblxuICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgY29uc3QgaGFzRHluYW1pY1NlZ21lbnQgPSBocmVmXG4gICAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgICAuc29tZSgoc2VnbWVudCkgPT4gc2VnbWVudC5zdGFydHNXaXRoKCdbJykgJiYgc2VnbWVudC5lbmRzV2l0aCgnXScpKVxuXG4gICAgICAgIGlmIChoYXNEeW5hbWljU2VnbWVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBEeW5hbWljIGhyZWYgXFxgJHtocmVmfVxcYCBmb3VuZCBpbiA8TGluaz4gd2hpbGUgdXNpbmcgdGhlIFxcYC9hcHBcXGAgcm91dGVyLCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQuIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvYXBwLWRpci1keW5hbWljLWhyZWZgXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgeyBocmVmLCBhcyB9ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWRIcmVmID0gZm9ybWF0U3RyaW5nT3JVcmwoaHJlZlByb3ApXG4gICAgcmV0dXJuIHtcbiAgICAgIGhyZWY6IHJlc29sdmVkSHJlZixcbiAgICAgIGFzOiBhc1Byb3AgPyBmb3JtYXRTdHJpbmdPclVybChhc1Byb3ApIDogcmVzb2x2ZWRIcmVmLFxuICAgIH1cbiAgfSwgW2hyZWZQcm9wLCBhc1Byb3BdKVxuXG4gIC8vIFRoaXMgd2lsbCByZXR1cm4gdGhlIGZpcnN0IGNoaWxkLCBpZiBtdWx0aXBsZSBhcmUgcHJvdmlkZWQgaXQgd2lsbCB0aHJvdyBhbiBlcnJvclxuICBsZXQgY2hpbGQ6IGFueVxuICBpZiAobGVnYWN5QmVoYXZpb3IpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgXCJvbkNsaWNrXCIgd2FzIHBhc3NlZCB0byA8TGluaz4gd2l0aCBcXGBocmVmXFxgIG9mIFxcYCR7aHJlZlByb3B9XFxgIGJ1dCBcImxlZ2FjeUJlaGF2aW9yXCIgd2FzIHNldC4gVGhlIGxlZ2FjeSBiZWhhdmlvciByZXF1aXJlcyBvbkNsaWNrIGJlIHNldCBvbiB0aGUgY2hpbGQgb2YgbmV4dC9saW5rYFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBpZiAob25Nb3VzZUVudGVyUHJvcCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFwib25Nb3VzZUVudGVyXCIgd2FzIHBhc3NlZCB0byA8TGluaz4gd2l0aCBcXGBocmVmXFxgIG9mIFxcYCR7aHJlZlByb3B9XFxgIGJ1dCBcImxlZ2FjeUJlaGF2aW9yXCIgd2FzIHNldC4gVGhlIGxlZ2FjeSBiZWhhdmlvciByZXF1aXJlcyBvbk1vdXNlRW50ZXIgYmUgc2V0IG9uIHRoZSBjaGlsZCBvZiBuZXh0L2xpbmtgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbilcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYE5vIGNoaWxkcmVuIHdlcmUgcGFzc2VkIHRvIDxMaW5rPiB3aXRoIFxcYGhyZWZcXGAgb2YgXFxgJHtocmVmUHJvcH1cXGAgYnV0IG9uZSBjaGlsZCBpcyByZXF1aXJlZCBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9saW5rLW5vLWNoaWxkcmVuYFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYE11bHRpcGxlIGNoaWxkcmVuIHdlcmUgcGFzc2VkIHRvIDxMaW5rPiB3aXRoIFxcYGhyZWZcXGAgb2YgXFxgJHtocmVmUHJvcH1cXGAgYnV0IG9ubHkgb25lIGNoaWxkIGlzIHN1cHBvcnRlZCBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9saW5rLW11bHRpcGxlLWNoaWxkcmVuYCArXG4gICAgICAgICAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgPyBcIiBcXG5PcGVuIHlvdXIgYnJvd3NlcidzIGNvbnNvbGUgdG8gdmlldyB0aGUgQ29tcG9uZW50IHN0YWNrIHRyYWNlLlwiXG4gICAgICAgICAgICAgIDogJycpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGlmICgoY2hpbGRyZW4gYXMgYW55KT8udHlwZSA9PT0gJ2EnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnSW52YWxpZCA8TGluaz4gd2l0aCA8YT4gY2hpbGQuIFBsZWFzZSByZW1vdmUgPGE+IG9yIHVzZSA8TGluayBsZWdhY3lCZWhhdmlvcj4uXFxuTGVhcm4gbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvaW52YWxpZC1uZXctbGluay13aXRoLWV4dHJhLWFuY2hvcidcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNoaWxkUmVmOiBhbnkgPSBsZWdhY3lCZWhhdmlvclxuICAgID8gY2hpbGQgJiYgdHlwZW9mIGNoaWxkID09PSAnb2JqZWN0JyAmJiBjaGlsZC5yZWZcbiAgICA6IGZvcndhcmRlZFJlZlxuXG4gIC8vIFVzZSBhIGNhbGxiYWNrIHJlZiB0byBhdHRhY2ggYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgdG8gdGhlIGFuY2hvciB0YWcgb25cbiAgLy8gbW91bnQuIEluIHRoZSBmdXR1cmUgd2Ugd2lsbCBhbHNvIHVzZSB0aGlzIHRvIGtlZXAgdHJhY2sgb2YgYWxsIHRoZVxuICAvLyBjdXJyZW50bHkgbW91bnRlZCA8TGluaz4gaW5zdGFuY2VzLCBlLmcuIHNvIHdlIGNhbiByZS1wcmVmZXRjaCB0aGVtIGFmdGVyXG4gIC8vIGEgcmV2YWxpZGF0aW9uIG9yIHJlZnJlc2guXG4gIGNvbnN0IG9ic2VydmVMaW5rVmlzaWJpbGl0eU9uTW91bnQgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZWxlbWVudDogSFRNTEFuY2hvckVsZW1lbnQgfCBTVkdBRWxlbWVudCkgPT4ge1xuICAgICAgaWYgKHJvdXRlciAhPT0gbnVsbCkge1xuICAgICAgICBsaW5rSW5zdGFuY2VSZWYuY3VycmVudCA9IG1vdW50TGlua0luc3RhbmNlKFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgaHJlZixcbiAgICAgICAgICByb3V0ZXIsXG4gICAgICAgICAgYXBwUHJlZmV0Y2hLaW5kLFxuICAgICAgICAgIHByZWZldGNoRW5hYmxlZCxcbiAgICAgICAgICBzZXRPcHRpbWlzdGljTGlua1N0YXR1c1xuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChsaW5rSW5zdGFuY2VSZWYuY3VycmVudCkge1xuICAgICAgICAgIHVubW91bnRMaW5rRm9yQ3VycmVudE5hdmlnYXRpb24obGlua0luc3RhbmNlUmVmLmN1cnJlbnQpXG4gICAgICAgICAgbGlua0luc3RhbmNlUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdW5tb3VudFByZWZldGNoYWJsZUluc3RhbmNlKGVsZW1lbnQpXG4gICAgICB9XG4gICAgfSxcbiAgICBbcHJlZmV0Y2hFbmFibGVkLCBocmVmLCByb3V0ZXIsIGFwcFByZWZldGNoS2luZCwgc2V0T3B0aW1pc3RpY0xpbmtTdGF0dXNdXG4gIClcblxuICBjb25zdCBtZXJnZWRSZWYgPSB1c2VNZXJnZWRSZWYob2JzZXJ2ZUxpbmtWaXNpYmlsaXR5T25Nb3VudCwgY2hpbGRSZWYpXG5cbiAgY29uc3QgY2hpbGRQcm9wczoge1xuICAgIG9uVG91Y2hTdGFydD86IFJlYWN0LlRvdWNoRXZlbnRIYW5kbGVyPEhUTUxBbmNob3JFbGVtZW50PlxuICAgIG9uTW91c2VFbnRlcjogUmVhY3QuTW91c2VFdmVudEhhbmRsZXI8SFRNTEFuY2hvckVsZW1lbnQ+XG4gICAgb25DbGljazogUmVhY3QuTW91c2VFdmVudEhhbmRsZXI8SFRNTEFuY2hvckVsZW1lbnQ+XG4gICAgaHJlZj86IHN0cmluZ1xuICAgIHJlZj86IGFueVxuICB9ID0ge1xuICAgIHJlZjogbWVyZ2VkUmVmLFxuICAgIG9uQ2xpY2soZSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYENvbXBvbmVudCByZW5kZXJlZCBpbnNpZGUgbmV4dC9saW5rIGhhcyB0byBwYXNzIGNsaWNrIGV2ZW50IHRvIFwib25DbGlja1wiIHByb3AuYFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWxlZ2FjeUJlaGF2aW9yICYmIHR5cGVvZiBvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQ2xpY2soZSlcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBsZWdhY3lCZWhhdmlvciAmJlxuICAgICAgICBjaGlsZC5wcm9wcyAmJlxuICAgICAgICB0eXBlb2YgY2hpbGQucHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgKSB7XG4gICAgICAgIGNoaWxkLnByb3BzLm9uQ2xpY2soZSlcbiAgICAgIH1cblxuICAgICAgaWYgKCFyb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGxpbmtDbGlja2VkKGUsIGhyZWYsIGFzLCBsaW5rSW5zdGFuY2VSZWYsIHJlcGxhY2UsIHNjcm9sbCwgb25OYXZpZ2F0ZSlcbiAgICB9LFxuICAgIG9uTW91c2VFbnRlcihlKSB7XG4gICAgICBpZiAoIWxlZ2FjeUJlaGF2aW9yICYmIHR5cGVvZiBvbk1vdXNlRW50ZXJQcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uTW91c2VFbnRlclByb3AoZSlcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBsZWdhY3lCZWhhdmlvciAmJlxuICAgICAgICBjaGlsZC5wcm9wcyAmJlxuICAgICAgICB0eXBlb2YgY2hpbGQucHJvcHMub25Nb3VzZUVudGVyID09PSAnZnVuY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgY2hpbGQucHJvcHMub25Nb3VzZUVudGVyKGUpXG4gICAgICB9XG5cbiAgICAgIGlmICghcm91dGVyKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoIXByZWZldGNoRW5hYmxlZCB8fCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdXBncmFkZVRvRHluYW1pY1ByZWZldGNoID0gdW5zdGFibGVfZHluYW1pY09uSG92ZXIgPT09IHRydWVcbiAgICAgIG9uTmF2aWdhdGlvbkludGVudChcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnQsXG4gICAgICAgIHVwZ3JhZGVUb0R5bmFtaWNQcmVmZXRjaFxuICAgICAgKVxuICAgIH0sXG4gICAgb25Ub3VjaFN0YXJ0OiBwcm9jZXNzLmVudi5fX05FWFRfTElOS19OT19UT1VDSF9TVEFSVFxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAgICAgICBpZiAoIWxlZ2FjeUJlaGF2aW9yICYmIHR5cGVvZiBvblRvdWNoU3RhcnRQcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvblRvdWNoU3RhcnRQcm9wKGUpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbGVnYWN5QmVoYXZpb3IgJiZcbiAgICAgICAgICAgIGNoaWxkLnByb3BzICYmXG4gICAgICAgICAgICB0eXBlb2YgY2hpbGQucHJvcHMub25Ub3VjaFN0YXJ0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5vblRvdWNoU3RhcnQoZSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXJvdXRlcikge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFwcmVmZXRjaEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHVwZ3JhZGVUb0R5bmFtaWNQcmVmZXRjaCA9IHVuc3RhYmxlX2R5bmFtaWNPbkhvdmVyID09PSB0cnVlXG4gICAgICAgICAgb25OYXZpZ2F0aW9uSW50ZW50KFxuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50IHwgU1ZHQUVsZW1lbnQsXG4gICAgICAgICAgICB1cGdyYWRlVG9EeW5hbWljUHJlZmV0Y2hcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gIH1cblxuICAvLyBJZiBjaGlsZCBpcyBhbiA8YT4gdGFnIGFuZCBkb2Vzbid0IGhhdmUgYSBocmVmIGF0dHJpYnV0ZSwgb3IgaWYgdGhlICdwYXNzSHJlZicgcHJvcGVydHkgaXNcbiAgLy8gZGVmaW5lZCwgd2Ugc3BlY2lmeSB0aGUgY3VycmVudCAnaHJlZicsIHNvIHRoYXQgcmVwZXRpdGlvbiBpcyBub3QgbmVlZGVkIGJ5IHRoZSB1c2VyLlxuICAvLyBJZiB0aGUgdXJsIGlzIGFic29sdXRlLCB3ZSBjYW4gYnlwYXNzIHRoZSBsb2dpYyB0byBwcmVwZW5kIHRoZSBiYXNlUGF0aC5cbiAgaWYgKGlzQWJzb2x1dGVVcmwoYXMpKSB7XG4gICAgY2hpbGRQcm9wcy5ocmVmID0gYXNcbiAgfSBlbHNlIGlmIChcbiAgICAhbGVnYWN5QmVoYXZpb3IgfHxcbiAgICBwYXNzSHJlZiB8fFxuICAgIChjaGlsZC50eXBlID09PSAnYScgJiYgISgnaHJlZicgaW4gY2hpbGQucHJvcHMpKVxuICApIHtcbiAgICBjaGlsZFByb3BzLmhyZWYgPSBhZGRCYXNlUGF0aChhcylcbiAgfVxuXG4gIGxldCBsaW5rOiBSZWFjdC5SZWFjdE5vZGVcblxuICBpZiAobGVnYWN5QmVoYXZpb3IpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGVycm9yT25jZShcbiAgICAgICAgJ2BsZWdhY3lCZWhhdmlvcmAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlICcgK1xuICAgICAgICAgICdyZWxlYXNlLiBBIGNvZGVtb2QgaXMgYXZhaWxhYmxlIHRvIHVwZ3JhZGUgeW91ciBjb21wb25lbnRzOlxcblxcbicgK1xuICAgICAgICAgICducHggQG5leHQvY29kZW1vZEBsYXRlc3QgbmV3LWxpbmsgLlxcblxcbicgK1xuICAgICAgICAgICdMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi91cGdyYWRpbmcvY29kZW1vZHMjcmVtb3ZlLWEtdGFncy1mcm9tLWxpbmstY29tcG9uZW50cydcbiAgICAgIClcbiAgICB9XG4gICAgbGluayA9IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgY2hpbGRQcm9wcylcbiAgfSBlbHNlIHtcbiAgICBsaW5rID0gKFxuICAgICAgPGEgey4uLnJlc3RQcm9wc30gey4uLmNoaWxkUHJvcHN9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGlua1N0YXR1c0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2xpbmtTdGF0dXN9PlxuICAgICAge2xpbmt9XG4gICAgPC9MaW5rU3RhdHVzQ29udGV4dC5Qcm92aWRlcj5cbiAgKVxufVxuXG5jb25zdCBMaW5rU3RhdHVzQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8XG4gIHR5cGVvZiBQRU5ESU5HX0xJTktfU1RBVFVTIHwgdHlwZW9mIElETEVfTElOS19TVEFUVVNcbj4oSURMRV9MSU5LX1NUQVRVUylcblxuZXhwb3J0IGNvbnN0IHVzZUxpbmtTdGF0dXMgPSAoKSA9PiB7XG4gIHJldHVybiB1c2VDb250ZXh0KExpbmtTdGF0dXNDb250ZXh0KVxufVxuIl0sIm5hbWVzIjpbIkxpbmtDb21wb25lbnQiLCJ1c2VMaW5rU3RhdHVzIiwiaXNNb2RpZmllZEV2ZW50IiwiZXZlbnQiLCJldmVudFRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJtZXRhS2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwibmF0aXZlRXZlbnQiLCJ3aGljaCIsImxpbmtDbGlja2VkIiwiZSIsImhyZWYiLCJhcyIsImxpbmtJbnN0YW5jZVJlZiIsInJlcGxhY2UiLCJzY3JvbGwiLCJvbk5hdmlnYXRlIiwibm9kZU5hbWUiLCJpc0FuY2hvck5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJoYXNBdHRyaWJ1dGUiLCJpc0xvY2FsVVJMIiwicHJldmVudERlZmF1bHQiLCJsb2NhdGlvbiIsImlzRGVmYXVsdFByZXZlbnRlZCIsIlJlYWN0Iiwic3RhcnRUcmFuc2l0aW9uIiwiZGlzcGF0Y2hOYXZpZ2F0ZUFjdGlvbiIsImN1cnJlbnQiLCJmb3JtYXRTdHJpbmdPclVybCIsInVybE9iak9yU3RyaW5nIiwiZm9ybWF0VXJsIiwicHJvcHMiLCJsaW5rU3RhdHVzIiwic2V0T3B0aW1pc3RpY0xpbmtTdGF0dXMiLCJ1c2VPcHRpbWlzdGljIiwiSURMRV9MSU5LX1NUQVRVUyIsImNoaWxkcmVuIiwidXNlUmVmIiwiaHJlZlByb3AiLCJhc1Byb3AiLCJjaGlsZHJlblByb3AiLCJwcmVmZXRjaCIsInByZWZldGNoUHJvcCIsInBhc3NIcmVmIiwic2hhbGxvdyIsIm9uQ2xpY2siLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlRW50ZXJQcm9wIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0UHJvcCIsImxlZ2FjeUJlaGF2aW9yIiwicmVmIiwiZm9yd2FyZGVkUmVmIiwidW5zdGFibGVfZHluYW1pY09uSG92ZXIiLCJyZXN0UHJvcHMiLCJhIiwicm91dGVyIiwidXNlQ29udGV4dCIsIkFwcFJvdXRlckNvbnRleHQiLCJwcmVmZXRjaEVuYWJsZWQiLCJhcHBQcmVmZXRjaEtpbmQiLCJQcmVmZXRjaEtpbmQiLCJBVVRPIiwiRlVMTCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNyZWF0ZVByb3BFcnJvciIsImFyZ3MiLCJFcnJvciIsImtleSIsImV4cGVjdGVkIiwiYWN0dWFsIiwid2luZG93IiwicmVxdWlyZWRQcm9wc0d1YXJkIiwicmVxdWlyZWRQcm9wcyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiXyIsIm9wdGlvbmFsUHJvcHNHdWFyZCIsIm9wdGlvbmFsUHJvcHMiLCJ2YWxUeXBlIiwibG9jYWxlIiwid2Fybk9uY2UiLCJwYXRobmFtZSIsImhhc0R5bmFtaWNTZWdtZW50Iiwic3BsaXQiLCJzb21lIiwic2VnbWVudCIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInVzZU1lbW8iLCJyZXNvbHZlZEhyZWYiLCJjaGlsZCIsImNvbnNvbGUiLCJ3YXJuIiwiQ2hpbGRyZW4iLCJvbmx5IiwiZXJyIiwidHlwZSIsImNoaWxkUmVmIiwib2JzZXJ2ZUxpbmtWaXNpYmlsaXR5T25Nb3VudCIsInVzZUNhbGxiYWNrIiwiZWxlbWVudCIsIm1vdW50TGlua0luc3RhbmNlIiwidW5tb3VudExpbmtGb3JDdXJyZW50TmF2aWdhdGlvbiIsInVubW91bnRQcmVmZXRjaGFibGVJbnN0YW5jZSIsIm1lcmdlZFJlZiIsInVzZU1lcmdlZFJlZiIsImNoaWxkUHJvcHMiLCJkZWZhdWx0UHJldmVudGVkIiwidXBncmFkZVRvRHluYW1pY1ByZWZldGNoIiwib25OYXZpZ2F0aW9uSW50ZW50IiwiX19ORVhUX0xJTktfTk9fVE9VQ0hfU1RBUlQiLCJ1bmRlZmluZWQiLCJpc0Fic29sdXRlVXJsIiwiYWRkQmFzZVBhdGgiLCJsaW5rIiwiZXJyb3JPbmNlIiwiY2xvbmVFbGVtZW50IiwiTGlua1N0YXR1c0NvbnRleHQiLCJQcm92aWRlciIsInZhbHVlIiwiY3JlYXRlQ29udGV4dCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/client/components/hooks-server-context.js":
/*!**************************************************************************!*\
  !*** ./node_modules/next/dist/client/components/hooks-server-context.js ***!
  \**************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    DynamicServerError: function() {\n        return DynamicServerError;\n    },\n    isDynamicServerError: function() {\n        return isDynamicServerError;\n    }\n});\nconst DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE';\nclass DynamicServerError extends Error {\n    constructor(description){\n        super(\"Dynamic server usage: \" + description), this.description = description, this.digest = DYNAMIC_ERROR_CODE;\n    }\n}\nfunction isDynamicServerError(err) {\n    if (typeof err !== 'object' || err === null || !('digest' in err) || typeof err.digest !== 'string') {\n        return false;\n    }\n    return err.digest === DYNAMIC_ERROR_CODE;\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n    Object.defineProperty(exports.default, '__esModule', {\n        value: true\n    });\n    Object.assign(exports.default, exports);\n    module.exports = exports.default;\n} //# sourceMappingURL=hooks-server-context.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvaG9va3Mtc2VydmVyLWNvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0lBRWFBLGtCQUFrQjtlQUFsQkE7O0lBUUdDLG9CQUFvQjtlQUFwQkE7OztBQVZoQixNQUFNQyxxQkFBcUI7QUFFcEIsTUFBTUYsMkJBQTJCRztJQUd0Q0MsWUFBNEJDLFdBQW1CLENBQUU7UUFDL0MsS0FBSyxDQUFFLDJCQUF3QkEsY0FBQUEsSUFBQUEsQ0FETEEsV0FBQUEsR0FBQUEsYUFBQUEsSUFBQUEsQ0FGNUJDLE1BQUFBLEdBQW9DSjtJQUlwQztBQUNGO0FBRU8sU0FBU0QscUJBQXFCTSxHQUFZO0lBQy9DLElBQ0UsT0FBT0EsUUFBUSxZQUNmQSxRQUFRLFFBQ1IsQ0FBRSxhQUFZQSxHQUFBQSxDQUFFLElBQ2hCLE9BQU9BLElBQUlELE1BQU0sS0FBSyxVQUN0QjtRQUNBLE9BQU87SUFDVDtJQUVBLE9BQU9DLElBQUlELE1BQU0sS0FBS0o7QUFDeEIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXGhvb2tzLXNlcnZlci1jb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERZTkFNSUNfRVJST1JfQ09ERSA9ICdEWU5BTUlDX1NFUlZFUl9VU0FHRSdcblxuZXhwb3J0IGNsYXNzIER5bmFtaWNTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgZGlnZXN0OiB0eXBlb2YgRFlOQU1JQ19FUlJPUl9DT0RFID0gRFlOQU1JQ19FUlJPUl9DT0RFXG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcbiAgICBzdXBlcihgRHluYW1pYyBzZXJ2ZXIgdXNhZ2U6ICR7ZGVzY3JpcHRpb259YClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEeW5hbWljU2VydmVyRXJyb3IoZXJyOiB1bmtub3duKTogZXJyIGlzIER5bmFtaWNTZXJ2ZXJFcnJvciB7XG4gIGlmIChcbiAgICB0eXBlb2YgZXJyICE9PSAnb2JqZWN0JyB8fFxuICAgIGVyciA9PT0gbnVsbCB8fFxuICAgICEoJ2RpZ2VzdCcgaW4gZXJyKSB8fFxuICAgIHR5cGVvZiBlcnIuZGlnZXN0ICE9PSAnc3RyaW5nJ1xuICApIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBlcnIuZGlnZXN0ID09PSBEWU5BTUlDX0VSUk9SX0NPREVcbn1cbiJdLCJuYW1lcyI6WyJEeW5hbWljU2VydmVyRXJyb3IiLCJpc0R5bmFtaWNTZXJ2ZXJFcnJvciIsIkRZTkFNSUNfRVJST1JfQ09ERSIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJkZXNjcmlwdGlvbiIsImRpZ2VzdCIsImVyciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/hooks-server-context.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/next/dist/client/components/static-generation-bailout.js ***!
  \*******************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    StaticGenBailoutError: function() {\n        return StaticGenBailoutError;\n    },\n    isStaticGenBailoutError: function() {\n        return isStaticGenBailoutError;\n    }\n});\nconst NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT';\nclass StaticGenBailoutError extends Error {\n    constructor(...args){\n        super(...args), this.code = NEXT_STATIC_GEN_BAILOUT;\n    }\n}\nfunction isStaticGenBailoutError(error) {\n    if (typeof error !== 'object' || error === null || !('code' in error)) {\n        return false;\n    }\n    return error.code === NEXT_STATIC_GEN_BAILOUT;\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n    Object.defineProperty(exports.default, '__esModule', {\n        value: true\n    });\n    Object.assign(exports.default, exports);\n    module.exports = exports.default;\n} //# sourceMappingURL=static-generation-bailout.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7SUFFYUEscUJBQXFCO2VBQXJCQTs7SUFJR0MsdUJBQXVCO2VBQXZCQTs7O0FBTmhCLE1BQU1DLDBCQUEwQjtBQUV6QixNQUFNRiw4QkFBOEJHOztRQUFwQyxxQkFDV0MsSUFBQUEsR0FBT0Y7O0FBQ3pCO0FBRU8sU0FBU0Qsd0JBQ2RJLEtBQWM7SUFFZCxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxRQUFRLENBQUUsV0FBVUEsS0FBQUEsQ0FBSSxFQUFJO1FBQ3JFLE9BQU87SUFDVDtJQUVBLE9BQU9BLE1BQU1ELElBQUksS0FBS0Y7QUFDeEIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXHN0YXRpYy1nZW5lcmF0aW9uLWJhaWxvdXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTkVYVF9TVEFUSUNfR0VOX0JBSUxPVVQgPSAnTkVYVF9TVEFUSUNfR0VOX0JBSUxPVVQnXG5cbmV4cG9ydCBjbGFzcyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyByZWFkb25seSBjb2RlID0gTkVYVF9TVEFUSUNfR0VOX0JBSUxPVVRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhdGljR2VuQmFpbG91dEVycm9yKFxuICBlcnJvcjogdW5rbm93blxuKTogZXJyb3IgaXMgU3RhdGljR2VuQmFpbG91dEVycm9yIHtcbiAgaWYgKHR5cGVvZiBlcnJvciAhPT0gJ29iamVjdCcgfHwgZXJyb3IgPT09IG51bGwgfHwgISgnY29kZScgaW4gZXJyb3IpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gZXJyb3IuY29kZSA9PT0gTkVYVF9TVEFUSUNfR0VOX0JBSUxPVVRcbn1cbiJdLCJuYW1lcyI6WyJTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJpc1N0YXRpY0dlbkJhaWxvdXRFcnJvciIsIk5FWFRfU1RBVElDX0dFTl9CQUlMT1VUIiwiRXJyb3IiLCJjb2RlIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/client/use-merged-ref.js":
/*!*********************************************************!*\
  !*** ./node_modules/next/dist/client/use-merged-ref.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"useMergedRef\", ({\n    enumerable: true,\n    get: function() {\n        return useMergedRef;\n    }\n}));\nconst _react = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\nfunction useMergedRef(refA, refB) {\n    const cleanupA = (0, _react.useRef)(null);\n    const cleanupB = (0, _react.useRef)(null);\n    // NOTE: In theory, we could skip the wrapping if only one of the refs is non-null.\n    // (this happens often if the user doesn't pass a ref to Link/Form/Image)\n    // But this can cause us to leak a cleanup-ref into user code (e.g. via `<Link legacyBehavior>`),\n    // and the user might pass that ref into ref-merging library that doesn't support cleanup refs\n    // (because it hasn't been updated for React 19)\n    // which can then cause things to blow up, because a cleanup-returning ref gets called with `null`.\n    // So in practice, it's safer to be defensive and always wrap the ref, even on React 19.\n    return (0, _react.useCallback)((current)=>{\n        if (current === null) {\n            const cleanupFnA = cleanupA.current;\n            if (cleanupFnA) {\n                cleanupA.current = null;\n                cleanupFnA();\n            }\n            const cleanupFnB = cleanupB.current;\n            if (cleanupFnB) {\n                cleanupB.current = null;\n                cleanupFnB();\n            }\n        } else {\n            if (refA) {\n                cleanupA.current = applyRef(refA, current);\n            }\n            if (refB) {\n                cleanupB.current = applyRef(refB, current);\n            }\n        }\n    }, [\n        refA,\n        refB\n    ]);\n}\nfunction applyRef(refA, current) {\n    if (typeof refA === 'function') {\n        const cleanup = refA(current);\n        if (typeof cleanup === 'function') {\n            return cleanup;\n        } else {\n            return ()=>refA(null);\n        }\n    } else {\n        refA.current = current;\n        return ()=>{\n            refA.current = null;\n        };\n    }\n}\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n    Object.defineProperty(exports.default, '__esModule', {\n        value: true\n    });\n    Object.assign(exports.default, exports);\n    module.exports = exports.default;\n} //# sourceMappingURL=use-merged-ref.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L3VzZS1tZXJnZWQtcmVmLmpzIiwibWFwcGluZ3MiOiI7Ozs7Z0RBU2dCQTs7O2VBQUFBOzs7bUNBVDhCO0FBU3ZDLFNBQVNBLGFBQ2RDLElBQW1CLEVBQ25CQyxJQUFtQjtJQUVuQixNQUFNQyxXQUFXQyxDQUFBQSxHQUFBQSxPQUFBQSxNQUFBQSxFQUE0QjtJQUM3QyxNQUFNQyxXQUFXRCxDQUFBQSxHQUFBQSxPQUFBQSxNQUFBQSxFQUE0QjtJQUU3QyxtRkFBbUY7SUFDbkYseUVBQXlFO0lBQ3pFLGlHQUFpRztJQUNqRyw4RkFBOEY7SUFDOUYsZ0RBQWdEO0lBQ2hELG1HQUFtRztJQUNuRyx3RkFBd0Y7SUFDeEYsT0FBT0UsQ0FBQUEsR0FBQUEsT0FBQUEsV0FBQUEsRUFDTCxDQUFDQztRQUNDLElBQUlBLFlBQVksTUFBTTtZQUNwQixNQUFNQyxhQUFhTCxTQUFTSSxPQUFPO1lBQ25DLElBQUlDLFlBQVk7Z0JBQ2RMLFNBQVNJLE9BQU8sR0FBRztnQkFDbkJDO1lBQ0Y7WUFDQSxNQUFNQyxhQUFhSixTQUFTRSxPQUFPO1lBQ25DLElBQUlFLFlBQVk7Z0JBQ2RKLFNBQVNFLE9BQU8sR0FBRztnQkFDbkJFO1lBQ0Y7UUFDRixPQUFPO1lBQ0wsSUFBSVIsTUFBTTtnQkFDUkUsU0FBU0ksT0FBTyxHQUFHRyxTQUFTVCxNQUFNTTtZQUNwQztZQUNBLElBQUlMLE1BQU07Z0JBQ1JHLFNBQVNFLE9BQU8sR0FBR0csU0FBU1IsTUFBTUs7WUFDcEM7UUFDRjtJQUNGLEdBQ0E7UUFBQ047UUFBTUM7S0FBSztBQUVoQjtBQUVBLFNBQVNRLFNBQ1BULElBQWdDLEVBQ2hDTSxPQUFpQjtJQUVqQixJQUFJLE9BQU9OLFNBQVMsWUFBWTtRQUM5QixNQUFNVSxVQUFVVixLQUFLTTtRQUNyQixJQUFJLE9BQU9JLFlBQVksWUFBWTtZQUNqQyxPQUFPQTtRQUNULE9BQU87WUFDTCxPQUFPLElBQU1WLEtBQUs7UUFDcEI7SUFDRixPQUFPO1FBQ0xBLEtBQUtNLE9BQU8sR0FBR0E7UUFDZixPQUFPO1lBQ0xOLEtBQUtNLE9BQU8sR0FBRztRQUNqQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcc3JjXFxjbGllbnRcXHVzZS1tZXJnZWQtcmVmLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYsIHR5cGUgUmVmIH0gZnJvbSAncmVhY3QnXG5cbi8vIFRoaXMgaXMgYSBjb21wYXRpYmlsaXR5IGhvb2sgdG8gc3VwcG9ydCBSZWFjdCAxOCBhbmQgMTkgcmVmcy5cbi8vIEluIDE5LCBhIGNsZWFudXAgZnVuY3Rpb24gZnJvbSByZWZzIG1heSBiZSByZXR1cm5lZC5cbi8vIEluIDE4LCByZXR1cm5pbmcgYSBjbGVhbnVwIGZ1bmN0aW9uIGNyZWF0ZXMgYSB3YXJuaW5nLlxuLy8gU2luY2Ugd2UgdGFrZSB1c2Vyc3BhY2UgcmVmcywgd2UgZG9uJ3Qga25vdyBhaGVhZCBvZiB0aW1lIGlmIGEgY2xlYW51cCBmdW5jdGlvbiB3aWxsIGJlIHJldHVybmVkLlxuLy8gVGhpcyBpbXBsZW1lbnRzIGNsZWFudXAgZnVuY3Rpb25zIHdpdGggdGhlIG9sZCBiZWhhdmlvciBpbiAxOC5cbi8vIFdlIGtub3cgcmVmcyBhcmUgYWx3YXlzIGNhbGxlZCBhbHRlcm5hdGluZyB3aXRoIGBudWxsYCBhbmQgdGhlbiBgVGAuXG4vLyBTbyBhIGNhbGwgd2l0aCBgbnVsbGAgbWVhbnMgd2UgbmVlZCB0byBjYWxsIHRoZSBwcmV2aW91cyBjbGVhbnVwIGZ1bmN0aW9ucy5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRSZWY8VEVsZW1lbnQ+KFxuICByZWZBOiBSZWY8VEVsZW1lbnQ+LFxuICByZWZCOiBSZWY8VEVsZW1lbnQ+XG4pOiBSZWY8VEVsZW1lbnQ+IHtcbiAgY29uc3QgY2xlYW51cEEgPSB1c2VSZWY8KCgpID0+IHZvaWQpIHwgbnVsbD4obnVsbClcbiAgY29uc3QgY2xlYW51cEIgPSB1c2VSZWY8KCgpID0+IHZvaWQpIHwgbnVsbD4obnVsbClcblxuICAvLyBOT1RFOiBJbiB0aGVvcnksIHdlIGNvdWxkIHNraXAgdGhlIHdyYXBwaW5nIGlmIG9ubHkgb25lIG9mIHRoZSByZWZzIGlzIG5vbi1udWxsLlxuICAvLyAodGhpcyBoYXBwZW5zIG9mdGVuIGlmIHRoZSB1c2VyIGRvZXNuJ3QgcGFzcyBhIHJlZiB0byBMaW5rL0Zvcm0vSW1hZ2UpXG4gIC8vIEJ1dCB0aGlzIGNhbiBjYXVzZSB1cyB0byBsZWFrIGEgY2xlYW51cC1yZWYgaW50byB1c2VyIGNvZGUgKGUuZy4gdmlhIGA8TGluayBsZWdhY3lCZWhhdmlvcj5gKSxcbiAgLy8gYW5kIHRoZSB1c2VyIG1pZ2h0IHBhc3MgdGhhdCByZWYgaW50byByZWYtbWVyZ2luZyBsaWJyYXJ5IHRoYXQgZG9lc24ndCBzdXBwb3J0IGNsZWFudXAgcmVmc1xuICAvLyAoYmVjYXVzZSBpdCBoYXNuJ3QgYmVlbiB1cGRhdGVkIGZvciBSZWFjdCAxOSlcbiAgLy8gd2hpY2ggY2FuIHRoZW4gY2F1c2UgdGhpbmdzIHRvIGJsb3cgdXAsIGJlY2F1c2UgYSBjbGVhbnVwLXJldHVybmluZyByZWYgZ2V0cyBjYWxsZWQgd2l0aCBgbnVsbGAuXG4gIC8vIFNvIGluIHByYWN0aWNlLCBpdCdzIHNhZmVyIHRvIGJlIGRlZmVuc2l2ZSBhbmQgYWx3YXlzIHdyYXAgdGhlIHJlZiwgZXZlbiBvbiBSZWFjdCAxOS5cbiAgcmV0dXJuIHVzZUNhbGxiYWNrKFxuICAgIChjdXJyZW50OiBURWxlbWVudCB8IG51bGwpOiB2b2lkID0+IHtcbiAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNsZWFudXBGbkEgPSBjbGVhbnVwQS5jdXJyZW50XG4gICAgICAgIGlmIChjbGVhbnVwRm5BKSB7XG4gICAgICAgICAgY2xlYW51cEEuY3VycmVudCA9IG51bGxcbiAgICAgICAgICBjbGVhbnVwRm5BKClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGVhbnVwRm5CID0gY2xlYW51cEIuY3VycmVudFxuICAgICAgICBpZiAoY2xlYW51cEZuQikge1xuICAgICAgICAgIGNsZWFudXBCLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgY2xlYW51cEZuQigpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZWZBKSB7XG4gICAgICAgICAgY2xlYW51cEEuY3VycmVudCA9IGFwcGx5UmVmKHJlZkEsIGN1cnJlbnQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZkIpIHtcbiAgICAgICAgICBjbGVhbnVwQi5jdXJyZW50ID0gYXBwbHlSZWYocmVmQiwgY3VycmVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW3JlZkEsIHJlZkJdXG4gIClcbn1cblxuZnVuY3Rpb24gYXBwbHlSZWY8VEVsZW1lbnQ+KFxuICByZWZBOiBOb25OdWxsYWJsZTxSZWY8VEVsZW1lbnQ+PixcbiAgY3VycmVudDogVEVsZW1lbnRcbikge1xuICBpZiAodHlwZW9mIHJlZkEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zdCBjbGVhbnVwID0gcmVmQShjdXJyZW50KVxuICAgIGlmICh0eXBlb2YgY2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGNsZWFudXBcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICgpID0+IHJlZkEobnVsbClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVmQS5jdXJyZW50ID0gY3VycmVudFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZWZBLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsidXNlTWVyZ2VkUmVmIiwicmVmQSIsInJlZkIiLCJjbGVhbnVwQSIsInVzZVJlZiIsImNsZWFudXBCIiwidXNlQ2FsbGJhY2siLCJjdXJyZW50IiwiY2xlYW51cEZuQSIsImNsZWFudXBGbkIiLCJhcHBseVJlZiIsImNsZWFudXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/use-merged-ref.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  RequestCookies: () => RequestCookies,\n  ResponseCookies: () => ResponseCookies,\n  parseCookie: () => parseCookie,\n  parseSetCookie: () => parseSetCookie,\n  stringifyCookie: () => stringifyCookie\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/serialize.ts\nfunction stringifyCookie(c) {\n  var _a;\n  const attrs = [\n    \"path\" in c && c.path && `Path=${c.path}`,\n    \"expires\" in c && (c.expires || c.expires === 0) && `Expires=${(typeof c.expires === \"number\" ? new Date(c.expires) : c.expires).toUTCString()}`,\n    \"maxAge\" in c && typeof c.maxAge === \"number\" && `Max-Age=${c.maxAge}`,\n    \"domain\" in c && c.domain && `Domain=${c.domain}`,\n    \"secure\" in c && c.secure && \"Secure\",\n    \"httpOnly\" in c && c.httpOnly && \"HttpOnly\",\n    \"sameSite\" in c && c.sameSite && `SameSite=${c.sameSite}`,\n    \"partitioned\" in c && c.partitioned && \"Partitioned\",\n    \"priority\" in c && c.priority && `Priority=${c.priority}`\n  ].filter(Boolean);\n  const stringified = `${c.name}=${encodeURIComponent((_a = c.value) != null ? _a : \"\")}`;\n  return attrs.length === 0 ? stringified : `${stringified}; ${attrs.join(\"; \")}`;\n}\nfunction parseCookie(cookie) {\n  const map = /* @__PURE__ */ new Map();\n  for (const pair of cookie.split(/; */)) {\n    if (!pair)\n      continue;\n    const splitAt = pair.indexOf(\"=\");\n    if (splitAt === -1) {\n      map.set(pair, \"true\");\n      continue;\n    }\n    const [key, value] = [pair.slice(0, splitAt), pair.slice(splitAt + 1)];\n    try {\n      map.set(key, decodeURIComponent(value != null ? value : \"true\"));\n    } catch {\n    }\n  }\n  return map;\n}\nfunction parseSetCookie(setCookie) {\n  if (!setCookie) {\n    return void 0;\n  }\n  const [[name, value], ...attributes] = parseCookie(setCookie);\n  const {\n    domain,\n    expires,\n    httponly,\n    maxage,\n    path,\n    samesite,\n    secure,\n    partitioned,\n    priority\n  } = Object.fromEntries(\n    attributes.map(([key, value2]) => [\n      key.toLowerCase().replace(/-/g, \"\"),\n      value2\n    ])\n  );\n  const cookie = {\n    name,\n    value: decodeURIComponent(value),\n    domain,\n    ...expires && { expires: new Date(expires) },\n    ...httponly && { httpOnly: true },\n    ...typeof maxage === \"string\" && { maxAge: Number(maxage) },\n    path,\n    ...samesite && { sameSite: parseSameSite(samesite) },\n    ...secure && { secure: true },\n    ...priority && { priority: parsePriority(priority) },\n    ...partitioned && { partitioned: true }\n  };\n  return compact(cookie);\n}\nfunction compact(t) {\n  const newT = {};\n  for (const key in t) {\n    if (t[key]) {\n      newT[key] = t[key];\n    }\n  }\n  return newT;\n}\nvar SAME_SITE = [\"strict\", \"lax\", \"none\"];\nfunction parseSameSite(string) {\n  string = string.toLowerCase();\n  return SAME_SITE.includes(string) ? string : void 0;\n}\nvar PRIORITY = [\"low\", \"medium\", \"high\"];\nfunction parsePriority(string) {\n  string = string.toLowerCase();\n  return PRIORITY.includes(string) ? string : void 0;\n}\nfunction splitCookiesString(cookiesString) {\n  if (!cookiesString)\n    return [];\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\n\n// src/request-cookies.ts\nvar RequestCookies = class {\n  constructor(requestHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    this._headers = requestHeaders;\n    const header = requestHeaders.get(\"cookie\");\n    if (header) {\n      const parsed = parseCookie(header);\n      for (const [name, value] of parsed) {\n        this._parsed.set(name, { name, value });\n      }\n    }\n  }\n  [Symbol.iterator]() {\n    return this._parsed[Symbol.iterator]();\n  }\n  /**\n   * The amount of cookies received from the client\n   */\n  get size() {\n    return this._parsed.size;\n  }\n  get(...args) {\n    const name = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(name);\n  }\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed);\n    if (!args.length) {\n      return all.map(([_, value]) => value);\n    }\n    const name = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter(([n]) => n === name).map(([_, value]) => value);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  set(...args) {\n    const [name, value] = args.length === 1 ? [args[0].name, args[0].value] : args;\n    const map = this._parsed;\n    map.set(name, { name, value });\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value2]) => stringifyCookie(value2)).join(\"; \")\n    );\n    return this;\n  }\n  /**\n   * Delete the cookies matching the passed name or names in the request.\n   */\n  delete(names) {\n    const map = this._parsed;\n    const result = !Array.isArray(names) ? map.delete(names) : names.map((name) => map.delete(name));\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value]) => stringifyCookie(value)).join(\"; \")\n    );\n    return result;\n  }\n  /**\n   * Delete all the cookies in the cookies in the request.\n   */\n  clear() {\n    this.delete(Array.from(this._parsed.keys()));\n    return this;\n  }\n  /**\n   * Format the cookies in the request as a string for logging\n   */\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map((v) => `${v.name}=${encodeURIComponent(v.value)}`).join(\"; \");\n  }\n};\n\n// src/response-cookies.ts\nvar ResponseCookies = class {\n  constructor(responseHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    var _a, _b, _c;\n    this._headers = responseHeaders;\n    const setCookie = (_c = (_b = (_a = responseHeaders.getSetCookie) == null ? void 0 : _a.call(responseHeaders)) != null ? _b : responseHeaders.get(\"set-cookie\")) != null ? _c : [];\n    const cookieStrings = Array.isArray(setCookie) ? setCookie : splitCookiesString(setCookie);\n    for (const cookieString of cookieStrings) {\n      const parsed = parseSetCookie(cookieString);\n      if (parsed)\n        this._parsed.set(parsed.name, parsed);\n    }\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-get CookieStore#get} without the Promise.\n   */\n  get(...args) {\n    const key = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(key);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-getAll CookieStore#getAll} without the Promise.\n   */\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed.values());\n    if (!args.length) {\n      return all;\n    }\n    const key = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter((c) => c.name === key);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-set CookieStore#set} without the Promise.\n   */\n  set(...args) {\n    const [name, value, cookie] = args.length === 1 ? [args[0].name, args[0].value, args[0]] : args;\n    const map = this._parsed;\n    map.set(name, normalizeCookie({ name, value, ...cookie }));\n    replace(map, this._headers);\n    return this;\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-delete CookieStore#delete} without the Promise.\n   */\n  delete(...args) {\n    const [name, options] = typeof args[0] === \"string\" ? [args[0]] : [args[0].name, args[0]];\n    return this.set({ ...options, name, value: \"\", expires: /* @__PURE__ */ new Date(0) });\n  }\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map(stringifyCookie).join(\"; \");\n  }\n};\nfunction replace(bag, headers) {\n  headers.delete(\"set-cookie\");\n  for (const [, value] of bag) {\n    const serialized = stringifyCookie(value);\n    headers.append(\"set-cookie\", serialized);\n  }\n}\nfunction normalizeCookie(cookie = { name: \"\", value: \"\" }) {\n  if (typeof cookie.expires === \"number\") {\n    cookie.expires = new Date(cookie.expires);\n  }\n  if (cookie.maxAge) {\n    cookie.expires = new Date(Date.now() + cookie.maxAge * 1e3);\n  }\n  if (cookie.path === null || cookie.path === void 0) {\n    cookie.path = \"/\";\n  }\n  return cookie;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvQGVkZ2UtcnVudGltZS9jb29raWVzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFrQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0JBQWtCLGFBQWE7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsT0FBTztBQUM1QyxtRUFBbUUsZ0ZBQWdGO0FBQ25KLGdFQUFnRSxTQUFTO0FBQ3pFLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQSxpREFBaUQsV0FBVztBQUM1RDtBQUNBLGlEQUFpRCxXQUFXO0FBQzVEO0FBQ0EseUJBQXlCLE9BQU8sR0FBRyxxREFBcUQ7QUFDeEYsK0NBQStDLGNBQWMsRUFBRSxjQUFjLEdBQUc7QUFDaEY7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQscUJBQXFCLGdCQUFnQjtBQUNyQyx1Q0FBdUMsd0JBQXdCO0FBQy9EO0FBQ0EscUJBQXFCLG1DQUFtQztBQUN4RCxtQkFBbUIsY0FBYztBQUNqQyxxQkFBcUIsbUNBQW1DO0FBQ3hELHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxhQUFhO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaURBQWlEO0FBQzlFO0FBQ0E7QUFDQSxvREFBb0QsT0FBTyxHQUFHLDRCQUE0QixXQUFXO0FBQ3JHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDRFQUE0RTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtGQUFrRjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0RUFBNEU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0JBQXdCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrRkFBa0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1FQUFtRTtBQUN6RjtBQUNBO0FBQ0EsOEJBQThCLGlEQUFpRDtBQUMvRTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxDQU1MIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcY29tcGlsZWRcXEBlZGdlLXJ1bnRpbWVcXGNvb2tpZXNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0NvbW1vbkpTID0gKG1vZCkgPT4gX19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KSwgbW9kKTtcblxuLy8gc3JjL2luZGV4LnRzXG52YXIgc3JjX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHNyY19leHBvcnRzLCB7XG4gIFJlcXVlc3RDb29raWVzOiAoKSA9PiBSZXF1ZXN0Q29va2llcyxcbiAgUmVzcG9uc2VDb29raWVzOiAoKSA9PiBSZXNwb25zZUNvb2tpZXMsXG4gIHBhcnNlQ29va2llOiAoKSA9PiBwYXJzZUNvb2tpZSxcbiAgcGFyc2VTZXRDb29raWU6ICgpID0+IHBhcnNlU2V0Q29va2llLFxuICBzdHJpbmdpZnlDb29raWU6ICgpID0+IHN0cmluZ2lmeUNvb2tpZVxufSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fdG9Db21tb25KUyhzcmNfZXhwb3J0cyk7XG5cbi8vIHNyYy9zZXJpYWxpemUudHNcbmZ1bmN0aW9uIHN0cmluZ2lmeUNvb2tpZShjKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgYXR0cnMgPSBbXG4gICAgXCJwYXRoXCIgaW4gYyAmJiBjLnBhdGggJiYgYFBhdGg9JHtjLnBhdGh9YCxcbiAgICBcImV4cGlyZXNcIiBpbiBjICYmIChjLmV4cGlyZXMgfHwgYy5leHBpcmVzID09PSAwKSAmJiBgRXhwaXJlcz0keyh0eXBlb2YgYy5leHBpcmVzID09PSBcIm51bWJlclwiID8gbmV3IERhdGUoYy5leHBpcmVzKSA6IGMuZXhwaXJlcykudG9VVENTdHJpbmcoKX1gLFxuICAgIFwibWF4QWdlXCIgaW4gYyAmJiB0eXBlb2YgYy5tYXhBZ2UgPT09IFwibnVtYmVyXCIgJiYgYE1heC1BZ2U9JHtjLm1heEFnZX1gLFxuICAgIFwiZG9tYWluXCIgaW4gYyAmJiBjLmRvbWFpbiAmJiBgRG9tYWluPSR7Yy5kb21haW59YCxcbiAgICBcInNlY3VyZVwiIGluIGMgJiYgYy5zZWN1cmUgJiYgXCJTZWN1cmVcIixcbiAgICBcImh0dHBPbmx5XCIgaW4gYyAmJiBjLmh0dHBPbmx5ICYmIFwiSHR0cE9ubHlcIixcbiAgICBcInNhbWVTaXRlXCIgaW4gYyAmJiBjLnNhbWVTaXRlICYmIGBTYW1lU2l0ZT0ke2Muc2FtZVNpdGV9YCxcbiAgICBcInBhcnRpdGlvbmVkXCIgaW4gYyAmJiBjLnBhcnRpdGlvbmVkICYmIFwiUGFydGl0aW9uZWRcIixcbiAgICBcInByaW9yaXR5XCIgaW4gYyAmJiBjLnByaW9yaXR5ICYmIGBQcmlvcml0eT0ke2MucHJpb3JpdHl9YFxuICBdLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3Qgc3RyaW5naWZpZWQgPSBgJHtjLm5hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KChfYSA9IGMudmFsdWUpICE9IG51bGwgPyBfYSA6IFwiXCIpfWA7XG4gIHJldHVybiBhdHRycy5sZW5ndGggPT09IDAgPyBzdHJpbmdpZmllZCA6IGAke3N0cmluZ2lmaWVkfTsgJHthdHRycy5qb2luKFwiOyBcIil9YDtcbn1cbmZ1bmN0aW9uIHBhcnNlQ29va2llKGNvb2tpZSkge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IHBhaXIgb2YgY29va2llLnNwbGl0KC87ICovKSkge1xuICAgIGlmICghcGFpcilcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IHNwbGl0QXQgPSBwYWlyLmluZGV4T2YoXCI9XCIpO1xuICAgIGlmIChzcGxpdEF0ID09PSAtMSkge1xuICAgICAgbWFwLnNldChwYWlyLCBcInRydWVcIik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgW2tleSwgdmFsdWVdID0gW3BhaXIuc2xpY2UoMCwgc3BsaXRBdCksIHBhaXIuc2xpY2Uoc3BsaXRBdCArIDEpXTtcbiAgICB0cnkge1xuICAgICAgbWFwLnNldChrZXksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBcInRydWVcIikpO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuZnVuY3Rpb24gcGFyc2VTZXRDb29raWUoc2V0Q29va2llKSB7XG4gIGlmICghc2V0Q29va2llKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBbW25hbWUsIHZhbHVlXSwgLi4uYXR0cmlidXRlc10gPSBwYXJzZUNvb2tpZShzZXRDb29raWUpO1xuICBjb25zdCB7XG4gICAgZG9tYWluLFxuICAgIGV4cGlyZXMsXG4gICAgaHR0cG9ubHksXG4gICAgbWF4YWdlLFxuICAgIHBhdGgsXG4gICAgc2FtZXNpdGUsXG4gICAgc2VjdXJlLFxuICAgIHBhcnRpdGlvbmVkLFxuICAgIHByaW9yaXR5XG4gIH0gPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgYXR0cmlidXRlcy5tYXAoKFtrZXksIHZhbHVlMl0pID0+IFtcbiAgICAgIGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0vZywgXCJcIiksXG4gICAgICB2YWx1ZTJcbiAgICBdKVxuICApO1xuICBjb25zdCBjb29raWUgPSB7XG4gICAgbmFtZSxcbiAgICB2YWx1ZTogZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSxcbiAgICBkb21haW4sXG4gICAgLi4uZXhwaXJlcyAmJiB7IGV4cGlyZXM6IG5ldyBEYXRlKGV4cGlyZXMpIH0sXG4gICAgLi4uaHR0cG9ubHkgJiYgeyBodHRwT25seTogdHJ1ZSB9LFxuICAgIC4uLnR5cGVvZiBtYXhhZ2UgPT09IFwic3RyaW5nXCIgJiYgeyBtYXhBZ2U6IE51bWJlcihtYXhhZ2UpIH0sXG4gICAgcGF0aCxcbiAgICAuLi5zYW1lc2l0ZSAmJiB7IHNhbWVTaXRlOiBwYXJzZVNhbWVTaXRlKHNhbWVzaXRlKSB9LFxuICAgIC4uLnNlY3VyZSAmJiB7IHNlY3VyZTogdHJ1ZSB9LFxuICAgIC4uLnByaW9yaXR5ICYmIHsgcHJpb3JpdHk6IHBhcnNlUHJpb3JpdHkocHJpb3JpdHkpIH0sXG4gICAgLi4ucGFydGl0aW9uZWQgJiYgeyBwYXJ0aXRpb25lZDogdHJ1ZSB9XG4gIH07XG4gIHJldHVybiBjb21wYWN0KGNvb2tpZSk7XG59XG5mdW5jdGlvbiBjb21wYWN0KHQpIHtcbiAgY29uc3QgbmV3VCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiB0KSB7XG4gICAgaWYgKHRba2V5XSkge1xuICAgICAgbmV3VFtrZXldID0gdFtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3VDtcbn1cbnZhciBTQU1FX1NJVEUgPSBbXCJzdHJpY3RcIiwgXCJsYXhcIiwgXCJub25lXCJdO1xuZnVuY3Rpb24gcGFyc2VTYW1lU2l0ZShzdHJpbmcpIHtcbiAgc3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBTQU1FX1NJVEUuaW5jbHVkZXMoc3RyaW5nKSA/IHN0cmluZyA6IHZvaWQgMDtcbn1cbnZhciBQUklPUklUWSA9IFtcImxvd1wiLCBcIm1lZGl1bVwiLCBcImhpZ2hcIl07XG5mdW5jdGlvbiBwYXJzZVByaW9yaXR5KHN0cmluZykge1xuICBzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIFBSSU9SSVRZLmluY2x1ZGVzKHN0cmluZykgPyBzdHJpbmcgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBzcGxpdENvb2tpZXNTdHJpbmcoY29va2llc1N0cmluZykge1xuICBpZiAoIWNvb2tpZXNTdHJpbmcpXG4gICAgcmV0dXJuIFtdO1xuICB2YXIgY29va2llc1N0cmluZ3MgPSBbXTtcbiAgdmFyIHBvcyA9IDA7XG4gIHZhciBzdGFydDtcbiAgdmFyIGNoO1xuICB2YXIgbGFzdENvbW1hO1xuICB2YXIgbmV4dFN0YXJ0O1xuICB2YXIgY29va2llc1NlcGFyYXRvckZvdW5kO1xuICBmdW5jdGlvbiBza2lwV2hpdGVzcGFjZSgpIHtcbiAgICB3aGlsZSAocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGggJiYgL1xccy8udGVzdChjb29raWVzU3RyaW5nLmNoYXJBdChwb3MpKSkge1xuICAgICAgcG9zICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aDtcbiAgfVxuICBmdW5jdGlvbiBub3RTcGVjaWFsQ2hhcigpIHtcbiAgICBjaCA9IGNvb2tpZXNTdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgcmV0dXJuIGNoICE9PSBcIj1cIiAmJiBjaCAhPT0gXCI7XCIgJiYgY2ggIT09IFwiLFwiO1xuICB9XG4gIHdoaWxlIChwb3MgPCBjb29raWVzU3RyaW5nLmxlbmd0aCkge1xuICAgIHN0YXJ0ID0gcG9zO1xuICAgIGNvb2tpZXNTZXBhcmF0b3JGb3VuZCA9IGZhbHNlO1xuICAgIHdoaWxlIChza2lwV2hpdGVzcGFjZSgpKSB7XG4gICAgICBjaCA9IGNvb2tpZXNTdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgICBpZiAoY2ggPT09IFwiLFwiKSB7XG4gICAgICAgIGxhc3RDb21tYSA9IHBvcztcbiAgICAgICAgcG9zICs9IDE7XG4gICAgICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICAgIG5leHRTdGFydCA9IHBvcztcbiAgICAgICAgd2hpbGUgKHBvcyA8IGNvb2tpZXNTdHJpbmcubGVuZ3RoICYmIG5vdFNwZWNpYWxDaGFyKCkpIHtcbiAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zIDwgY29va2llc1N0cmluZy5sZW5ndGggJiYgY29va2llc1N0cmluZy5jaGFyQXQocG9zKSA9PT0gXCI9XCIpIHtcbiAgICAgICAgICBjb29raWVzU2VwYXJhdG9yRm91bmQgPSB0cnVlO1xuICAgICAgICAgIHBvcyA9IG5leHRTdGFydDtcbiAgICAgICAgICBjb29raWVzU3RyaW5ncy5wdXNoKGNvb2tpZXNTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBsYXN0Q29tbWEpKTtcbiAgICAgICAgICBzdGFydCA9IHBvcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3MgPSBsYXN0Q29tbWEgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3MgKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjb29raWVzU2VwYXJhdG9yRm91bmQgfHwgcG9zID49IGNvb2tpZXNTdHJpbmcubGVuZ3RoKSB7XG4gICAgICBjb29raWVzU3RyaW5ncy5wdXNoKGNvb2tpZXNTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBjb29raWVzU3RyaW5nLmxlbmd0aCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29va2llc1N0cmluZ3M7XG59XG5cbi8vIHNyYy9yZXF1ZXN0LWNvb2tpZXMudHNcbnZhciBSZXF1ZXN0Q29va2llcyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdEhlYWRlcnMpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5fcGFyc2VkID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLl9oZWFkZXJzID0gcmVxdWVzdEhlYWRlcnM7XG4gICAgY29uc3QgaGVhZGVyID0gcmVxdWVzdEhlYWRlcnMuZ2V0KFwiY29va2llXCIpO1xuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlQ29va2llKGhlYWRlcik7XG4gICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgcGFyc2VkKSB7XG4gICAgICAgIHRoaXMuX3BhcnNlZC5zZXQobmFtZSwgeyBuYW1lLCB2YWx1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZFtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgb2YgY29va2llcyByZWNlaXZlZCBmcm9tIHRoZSBjbGllbnRcbiAgICovXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWQuc2l6ZTtcbiAgfVxuICBnZXQoLi4uYXJncykge1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiBhcmdzWzBdLm5hbWU7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZC5nZXQobmFtZSk7XG4gIH1cbiAgZ2V0QWxsKC4uLmFyZ3MpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYWxsID0gQXJyYXkuZnJvbSh0aGlzLl9wYXJzZWQpO1xuICAgIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBhbGwubWFwKChbXywgdmFsdWVdKSA9PiB2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiAoX2EgPSBhcmdzWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZTtcbiAgICByZXR1cm4gYWxsLmZpbHRlcigoW25dKSA9PiBuID09PSBuYW1lKS5tYXAoKFtfLCB2YWx1ZV0pID0+IHZhbHVlKTtcbiAgfVxuICBoYXMobmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZWQuaGFzKG5hbWUpO1xuICB9XG4gIHNldCguLi5hcmdzKSB7XG4gICAgY29uc3QgW25hbWUsIHZhbHVlXSA9IGFyZ3MubGVuZ3RoID09PSAxID8gW2FyZ3NbMF0ubmFtZSwgYXJnc1swXS52YWx1ZV0gOiBhcmdzO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX3BhcnNlZDtcbiAgICBtYXAuc2V0KG5hbWUsIHsgbmFtZSwgdmFsdWUgfSk7XG4gICAgdGhpcy5faGVhZGVycy5zZXQoXG4gICAgICBcImNvb2tpZVwiLFxuICAgICAgQXJyYXkuZnJvbShtYXApLm1hcCgoW18sIHZhbHVlMl0pID0+IHN0cmluZ2lmeUNvb2tpZSh2YWx1ZTIpKS5qb2luKFwiOyBcIilcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgdGhlIGNvb2tpZXMgbWF0Y2hpbmcgdGhlIHBhc3NlZCBuYW1lIG9yIG5hbWVzIGluIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgZGVsZXRlKG5hbWVzKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fcGFyc2VkO1xuICAgIGNvbnN0IHJlc3VsdCA9ICFBcnJheS5pc0FycmF5KG5hbWVzKSA/IG1hcC5kZWxldGUobmFtZXMpIDogbmFtZXMubWFwKChuYW1lKSA9PiBtYXAuZGVsZXRlKG5hbWUpKTtcbiAgICB0aGlzLl9oZWFkZXJzLnNldChcbiAgICAgIFwiY29va2llXCIsXG4gICAgICBBcnJheS5mcm9tKG1hcCkubWFwKChbXywgdmFsdWVdKSA9PiBzdHJpbmdpZnlDb29raWUodmFsdWUpKS5qb2luKFwiOyBcIilcbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhbGwgdGhlIGNvb2tpZXMgaW4gdGhlIGNvb2tpZXMgaW4gdGhlIHJlcXVlc3QuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmRlbGV0ZShBcnJheS5mcm9tKHRoaXMuX3BhcnNlZC5rZXlzKCkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogRm9ybWF0IHRoZSBjb29raWVzIGluIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIGZvciBsb2dnaW5nXG4gICAqL1xuICBbU3ltYm9sLmZvcihcImVkZ2UtcnVudGltZS5pbnNwZWN0LmN1c3RvbVwiKV0oKSB7XG4gICAgcmV0dXJuIGBSZXF1ZXN0Q29va2llcyAke0pTT04uc3RyaW5naWZ5KE9iamVjdC5mcm9tRW50cmllcyh0aGlzLl9wYXJzZWQpKX1gO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fcGFyc2VkLnZhbHVlcygpXS5tYXAoKHYpID0+IGAke3YubmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodi52YWx1ZSl9YCkuam9pbihcIjsgXCIpO1xuICB9XG59O1xuXG4vLyBzcmMvcmVzcG9uc2UtY29va2llcy50c1xudmFyIFJlc3BvbnNlQ29va2llcyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuX3BhcnNlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGhpcy5faGVhZGVycyA9IHJlc3BvbnNlSGVhZGVycztcbiAgICBjb25zdCBzZXRDb29raWUgPSAoX2MgPSAoX2IgPSAoX2EgPSByZXNwb25zZUhlYWRlcnMuZ2V0U2V0Q29va2llKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChyZXNwb25zZUhlYWRlcnMpKSAhPSBudWxsID8gX2IgOiByZXNwb25zZUhlYWRlcnMuZ2V0KFwic2V0LWNvb2tpZVwiKSkgIT0gbnVsbCA/IF9jIDogW107XG4gICAgY29uc3QgY29va2llU3RyaW5ncyA9IEFycmF5LmlzQXJyYXkoc2V0Q29va2llKSA/IHNldENvb2tpZSA6IHNwbGl0Q29va2llc1N0cmluZyhzZXRDb29raWUpO1xuICAgIGZvciAoY29uc3QgY29va2llU3RyaW5nIG9mIGNvb2tpZVN0cmluZ3MpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlU2V0Q29va2llKGNvb2tpZVN0cmluZyk7XG4gICAgICBpZiAocGFyc2VkKVxuICAgICAgICB0aGlzLl9wYXJzZWQuc2V0KHBhcnNlZC5uYW1lLCBwYXJzZWQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29va2llLXN0b3JlLyNDb29raWVTdG9yZS1nZXQgQ29va2llU3RvcmUjZ2V0fSB3aXRob3V0IHRoZSBQcm9taXNlLlxuICAgKi9cbiAgZ2V0KC4uLmFyZ3MpIHtcbiAgICBjb25zdCBrZXkgPSB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIiA/IGFyZ3NbMF0gOiBhcmdzWzBdLm5hbWU7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlZC5nZXQoa2V5KTtcbiAgfVxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29va2llLXN0b3JlLyNDb29raWVTdG9yZS1nZXRBbGwgQ29va2llU3RvcmUjZ2V0QWxsfSB3aXRob3V0IHRoZSBQcm9taXNlLlxuICAgKi9cbiAgZ2V0QWxsKC4uLmFyZ3MpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYWxsID0gQXJyYXkuZnJvbSh0aGlzLl9wYXJzZWQudmFsdWVzKCkpO1xuICAgIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBhbGw7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHR5cGVvZiBhcmdzWzBdID09PSBcInN0cmluZ1wiID8gYXJnc1swXSA6IChfYSA9IGFyZ3NbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lO1xuICAgIHJldHVybiBhbGwuZmlsdGVyKChjKSA9PiBjLm5hbWUgPT09IGtleSk7XG4gIH1cbiAgaGFzKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VkLmhhcyhuYW1lKTtcbiAgfVxuICAvKipcbiAgICoge0BsaW5rIGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29va2llLXN0b3JlLyNDb29raWVTdG9yZS1zZXQgQ29va2llU3RvcmUjc2V0fSB3aXRob3V0IHRoZSBQcm9taXNlLlxuICAgKi9cbiAgc2V0KC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbbmFtZSwgdmFsdWUsIGNvb2tpZV0gPSBhcmdzLmxlbmd0aCA9PT0gMSA/IFthcmdzWzBdLm5hbWUsIGFyZ3NbMF0udmFsdWUsIGFyZ3NbMF1dIDogYXJncztcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9wYXJzZWQ7XG4gICAgbWFwLnNldChuYW1lLCBub3JtYWxpemVDb29raWUoeyBuYW1lLCB2YWx1ZSwgLi4uY29va2llIH0pKTtcbiAgICByZXBsYWNlKG1hcCwgdGhpcy5faGVhZGVycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIHtAbGluayBodHRwczovL3dpY2cuZ2l0aHViLmlvL2Nvb2tpZS1zdG9yZS8jQ29va2llU3RvcmUtZGVsZXRlIENvb2tpZVN0b3JlI2RlbGV0ZX0gd2l0aG91dCB0aGUgUHJvbWlzZS5cbiAgICovXG4gIGRlbGV0ZSguLi5hcmdzKSB7XG4gICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwic3RyaW5nXCIgPyBbYXJnc1swXV0gOiBbYXJnc1swXS5uYW1lLCBhcmdzWzBdXTtcbiAgICByZXR1cm4gdGhpcy5zZXQoeyAuLi5vcHRpb25zLCBuYW1lLCB2YWx1ZTogXCJcIiwgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApIH0pO1xuICB9XG4gIFtTeW1ib2wuZm9yKFwiZWRnZS1ydW50aW1lLmluc3BlY3QuY3VzdG9tXCIpXSgpIHtcbiAgICByZXR1cm4gYFJlc3BvbnNlQ29va2llcyAke0pTT04uc3RyaW5naWZ5KE9iamVjdC5mcm9tRW50cmllcyh0aGlzLl9wYXJzZWQpKX1gO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5fcGFyc2VkLnZhbHVlcygpXS5tYXAoc3RyaW5naWZ5Q29va2llKS5qb2luKFwiOyBcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXBsYWNlKGJhZywgaGVhZGVycykge1xuICBoZWFkZXJzLmRlbGV0ZShcInNldC1jb29raWVcIik7XG4gIGZvciAoY29uc3QgWywgdmFsdWVdIG9mIGJhZykge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBzdHJpbmdpZnlDb29raWUodmFsdWUpO1xuICAgIGhlYWRlcnMuYXBwZW5kKFwic2V0LWNvb2tpZVwiLCBzZXJpYWxpemVkKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29va2llKGNvb2tpZSA9IHsgbmFtZTogXCJcIiwgdmFsdWU6IFwiXCIgfSkge1xuICBpZiAodHlwZW9mIGNvb2tpZS5leHBpcmVzID09PSBcIm51bWJlclwiKSB7XG4gICAgY29va2llLmV4cGlyZXMgPSBuZXcgRGF0ZShjb29raWUuZXhwaXJlcyk7XG4gIH1cbiAgaWYgKGNvb2tpZS5tYXhBZ2UpIHtcbiAgICBjb29raWUuZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBjb29raWUubWF4QWdlICogMWUzKTtcbiAgfVxuICBpZiAoY29va2llLnBhdGggPT09IG51bGwgfHwgY29va2llLnBhdGggPT09IHZvaWQgMCkge1xuICAgIGNvb2tpZS5wYXRoID0gXCIvXCI7XG4gIH1cbiAgcmV0dXJuIGNvb2tpZTtcbn1cbi8vIEFubm90YXRlIHRoZSBDb21tb25KUyBleHBvcnQgbmFtZXMgZm9yIEVTTSBpbXBvcnQgaW4gbm9kZTpcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICBSZXF1ZXN0Q29va2llcyxcbiAgUmVzcG9uc2VDb29raWVzLFxuICBwYXJzZUNvb2tpZSxcbiAgcGFyc2VTZXRDb29raWUsXG4gIHN0cmluZ2lmeUNvb2tpZVxufSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFnRDtBQUNoRSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0EsZ0NBQWdDLGtDQUFrQyxPQUFPO0FBQ3pFO0FBQ0EsZ0dBQWdHLFNBQVMsVUFBVSxzRkFBc0YsYUFBYSxVQUFVLFVBQVU7QUFDMU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQyxzR0FBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEIsSUFBSSxjQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGNvbXBpbGVkXFxyZWFjdFxcY2pzXFxyZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQoXG4gICAgICB0eXBlLFxuICAgICAga2V5LFxuICAgICAgc2VsZixcbiAgICAgIHNvdXJjZSxcbiAgICAgIG93bmVyLFxuICAgICAgcHJvcHMsXG4gICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgZGVidWdUYXNrXG4gICAgKSB7XG4gICAgICBzZWxmID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHNlbGYgPyBzZWxmIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZixcbiAgICAgIGRlYnVnU3RhY2ssXG4gICAgICBkZWJ1Z1Rhc2tcbiAgICApIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbik7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBzZWxmLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgICBkZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUpIHtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG51bGwgIT09IG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFICYmXG4gICAgICAgIG5vZGUuX3N0b3JlICYmXG4gICAgICAgIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxcbiAgICAgIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfQUNUSVZJVFlfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5hY3Rpdml0eVwiKSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgY3JlYXRlVGFzayA9IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA/IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH07XG4gICAgUmVhY3QgPSB7XG4gICAgICByZWFjdF9zdGFja19ib3R0b21fZnJhbWU6IGZ1bmN0aW9uIChjYWxsU3RhY2tGb3JFcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbFN0YWNrRm9yRXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1N0YWNrID0gUmVhY3QucmVhY3Rfc3RhY2tfYm90dG9tX2ZyYW1lLmJpbmQoXG4gICAgICBSZWFjdCxcbiAgICAgIFVua25vd25Pd25lclxuICAgICkoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgdmFyIHRyYWNrQWN0dWFsT3duZXIgPVxuICAgICAgICAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgc2VsZixcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxjb21waWxlZFxccmVhY3RcXGpzeC1kZXYtcnVudGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/lib/metadata/metadata-constants.js":
/*!*******************************************************************!*\
  !*** ./node_modules/next/dist/lib/metadata/metadata-constants.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    METADATA_BOUNDARY_NAME: function() {\n        return METADATA_BOUNDARY_NAME;\n    },\n    OUTLET_BOUNDARY_NAME: function() {\n        return OUTLET_BOUNDARY_NAME;\n    },\n    VIEWPORT_BOUNDARY_NAME: function() {\n        return VIEWPORT_BOUNDARY_NAME;\n    }\n});\nconst METADATA_BOUNDARY_NAME = '__next_metadata_boundary__';\nconst VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__';\nconst OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__';\n\n//# sourceMappingURL=metadata-constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvbGliL21ldGFkYXRhL21ldGFkYXRhLWNvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLE1BQU0sQ0FJTDtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGxpYlxcbWV0YWRhdGFcXG1ldGFkYXRhLWNvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIE1FVEFEQVRBX0JPVU5EQVJZX05BTUU6IG51bGwsXG4gICAgT1VUTEVUX0JPVU5EQVJZX05BTUU6IG51bGwsXG4gICAgVklFV1BPUlRfQk9VTkRBUllfTkFNRTogbnVsbFxufSk7XG5mdW5jdGlvbiBfZXhwb3J0KHRhcmdldCwgYWxsKSB7XG4gICAgZm9yKHZhciBuYW1lIGluIGFsbClPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogYWxsW25hbWVdXG4gICAgfSk7XG59XG5fZXhwb3J0KGV4cG9ydHMsIHtcbiAgICBNRVRBREFUQV9CT1VOREFSWV9OQU1FOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1FVEFEQVRBX0JPVU5EQVJZX05BTUU7XG4gICAgfSxcbiAgICBPVVRMRVRfQk9VTkRBUllfTkFNRTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBPVVRMRVRfQk9VTkRBUllfTkFNRTtcbiAgICB9LFxuICAgIFZJRVdQT1JUX0JPVU5EQVJZX05BTUU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gVklFV1BPUlRfQk9VTkRBUllfTkFNRTtcbiAgICB9XG59KTtcbmNvbnN0IE1FVEFEQVRBX0JPVU5EQVJZX05BTUUgPSAnX19uZXh0X21ldGFkYXRhX2JvdW5kYXJ5X18nO1xuY29uc3QgVklFV1BPUlRfQk9VTkRBUllfTkFNRSA9ICdfX25leHRfdmlld3BvcnRfYm91bmRhcnlfXyc7XG5jb25zdCBPVVRMRVRfQk9VTkRBUllfTkFNRSA9ICdfX25leHRfb3V0bGV0X2JvdW5kYXJ5X18nO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/lib/metadata/metadata-constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/lib/scheduler.js":
/*!*************************************************!*\
  !*** ./node_modules/next/dist/lib/scheduler.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    atLeastOneTask: function() {\n        return atLeastOneTask;\n    },\n    scheduleImmediate: function() {\n        return scheduleImmediate;\n    },\n    scheduleOnNextTick: function() {\n        return scheduleOnNextTick;\n    },\n    waitAtLeastOneReactRenderTask: function() {\n        return waitAtLeastOneReactRenderTask;\n    }\n});\nconst scheduleOnNextTick = (cb)=>{\n    // We use Promise.resolve().then() here so that the operation is scheduled at\n    // the end of the promise job queue, we then add it to the next process tick\n    // to ensure it's evaluated afterwards.\n    //\n    // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n    //\n    Promise.resolve().then(()=>{\n        if (false) {} else {\n            process.nextTick(cb);\n        }\n    });\n};\nconst scheduleImmediate = (cb)=>{\n    if (false) {} else {\n        setImmediate(cb);\n    }\n};\nfunction atLeastOneTask() {\n    return new Promise((resolve)=>scheduleImmediate(resolve));\n}\nfunction waitAtLeastOneReactRenderTask() {\n    if (false) {} else {\n        return new Promise((r)=>setImmediate(r));\n    }\n}\n\n//# sourceMappingURL=scheduler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvbGliL3NjaGVkdWxlci5qcyIsIm1hcHBpbmdzIjoiO0FBQWE7QUFDYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixNQUFNLENBS0w7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLEtBQW1DLEVBQUUsRUFFeEMsQ0FBQztBQUNWLFlBQVksT0FBTztBQUNuQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUSxLQUFtQyxFQUFFLEVBRXhDLENBQUM7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBbUMsRUFBRSxFQUV4QyxDQUFDO0FBQ047QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcbGliXFxzY2hlZHVsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhdExlYXN0T25lVGFzazogbnVsbCxcbiAgICBzY2hlZHVsZUltbWVkaWF0ZTogbnVsbCxcbiAgICBzY2hlZHVsZU9uTmV4dFRpY2s6IG51bGwsXG4gICAgd2FpdEF0TGVhc3RPbmVSZWFjdFJlbmRlclRhc2s6IG51bGxcbn0pO1xuZnVuY3Rpb24gX2V4cG9ydCh0YXJnZXQsIGFsbCkge1xuICAgIGZvcih2YXIgbmFtZSBpbiBhbGwpT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGFsbFtuYW1lXVxuICAgIH0pO1xufVxuX2V4cG9ydChleHBvcnRzLCB7XG4gICAgYXRMZWFzdE9uZVRhc2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYXRMZWFzdE9uZVRhc2s7XG4gICAgfSxcbiAgICBzY2hlZHVsZUltbWVkaWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUltbWVkaWF0ZTtcbiAgICB9LFxuICAgIHNjaGVkdWxlT25OZXh0VGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZU9uTmV4dFRpY2s7XG4gICAgfSxcbiAgICB3YWl0QXRMZWFzdE9uZVJlYWN0UmVuZGVyVGFzazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3YWl0QXRMZWFzdE9uZVJlYWN0UmVuZGVyVGFzaztcbiAgICB9XG59KTtcbmNvbnN0IHNjaGVkdWxlT25OZXh0VGljayA9IChjYik9PntcbiAgICAvLyBXZSB1c2UgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigpIGhlcmUgc28gdGhhdCB0aGUgb3BlcmF0aW9uIGlzIHNjaGVkdWxlZCBhdFxuICAgIC8vIHRoZSBlbmQgb2YgdGhlIHByb21pc2Ugam9iIHF1ZXVlLCB3ZSB0aGVuIGFkZCBpdCB0byB0aGUgbmV4dCBwcm9jZXNzIHRpY2tcbiAgICAvLyB0byBlbnN1cmUgaXQncyBldmFsdWF0ZWQgYWZ0ZXJ3YXJkcy5cbiAgICAvL1xuICAgIC8vIFRoaXMgd2FzIGluc3BpcmVkIGJ5IHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgRGF0YUxvYWRlciBpbnRlcmZhY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2RhdGFsb2FkZXIvYmxvYi9kMzM2YmQxNTI4MjY2NGUwYmU0YjRhNjU3Y2I3OTZmMDliYWZiYzZiL3NyYy9pbmRleC5qcyNMMjEzLUwyNTVcbiAgICAvL1xuICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PntcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5FWFRfUlVOVElNRSA9PT0gJ2VkZ2UnKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soY2IpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuY29uc3Qgc2NoZWR1bGVJbW1lZGlhdGUgPSAoY2IpPT57XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5FWFRfUlVOVElNRSA9PT0gJ2VkZ2UnKSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEltbWVkaWF0ZShjYik7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGF0TGVhc3RPbmVUYXNrKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk9PnNjaGVkdWxlSW1tZWRpYXRlKHJlc29sdmUpKTtcbn1cbmZ1bmN0aW9uIHdhaXRBdExlYXN0T25lUmVhY3RSZW5kZXJUYXNrKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1JVTlRJTUUgPT09ICdlZGdlJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHIpPT5zZXRUaW1lb3V0KHIsIDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHIpPT5zZXRJbW1lZGlhdGUocikpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/lib/scheduler.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/app-render/after-task-async-storage-instance.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/after-task-async-storage-instance.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"afterTaskAsyncStorageInstance\", ({\n    enumerable: true,\n    get: function() {\n        return afterTaskAsyncStorageInstance;\n    }\n}));\nconst _asynclocalstorage = __webpack_require__(/*! ./async-local-storage */ \"(app-pages-browser)/./node_modules/next/dist/server/app-render/async-local-storage.js\");\nconst afterTaskAsyncStorageInstance = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\n//# sourceMappingURL=after-task-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsaUVBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMkJBQTJCLG1CQUFPLENBQUMsb0hBQXVCO0FBQzFEOztBQUVBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcc2VydmVyXFxhcHAtcmVuZGVyXFxhZnRlci10YXNrLWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhZnRlclRhc2tBc3luY1N0b3JhZ2VJbnN0YW5jZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlSW5zdGFuY2U7XG4gICAgfVxufSk7XG5jb25zdCBfYXN5bmNsb2NhbHN0b3JhZ2UgPSByZXF1aXJlKFwiLi9hc3luYy1sb2NhbC1zdG9yYWdlXCIpO1xuY29uc3QgYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlSW5zdGFuY2UgPSAoMCwgX2FzeW5jbG9jYWxzdG9yYWdlLmNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlKSgpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZnRlci10YXNrLWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/app-render/after-task-async-storage-instance.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/app-render/after-task-async-storage.external.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/after-task-async-storage.external.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"afterTaskAsyncStorage\", ({\n    enumerable: true,\n    get: function() {\n        return _aftertaskasyncstorageinstance.afterTaskAsyncStorageInstance;\n    }\n}));\nconst _aftertaskasyncstorageinstance = __webpack_require__(/*! ./after-task-async-storage-instance */ \"(app-pages-browser)/./node_modules/next/dist/server/app-render/after-task-async-storage-instance.js\");\n\n//# sourceMappingURL=after-task-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YseURBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsdUNBQXVDLG1CQUFPLENBQUMsZ0pBQXFDOztBQUVwRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcYXBwLXJlbmRlclxcYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfYWZ0ZXJ0YXNrYXN5bmNzdG9yYWdlaW5zdGFuY2UuYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlSW5zdGFuY2U7XG4gICAgfVxufSk7XG5jb25zdCBfYWZ0ZXJ0YXNrYXN5bmNzdG9yYWdlaW5zdGFuY2UgPSByZXF1aXJlKFwiLi9hZnRlci10YXNrLWFzeW5jLXN0b3JhZ2UtaW5zdGFuY2VcIik7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFmdGVyLXRhc2stYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/app-render/after-task-async-storage.external.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/app-render/async-local-storage.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/async-local-storage.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    bindSnapshot: function() {\n        return bindSnapshot;\n    },\n    createAsyncLocalStorage: function() {\n        return createAsyncLocalStorage;\n    },\n    createSnapshot: function() {\n        return createSnapshot;\n    }\n});\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(fn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvYXN5bmMtbG9jYWwtc3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLE1BQU0sQ0FJTDtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcYXBwLXJlbmRlclxcYXN5bmMtbG9jYWwtc3RvcmFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGJpbmRTbmFwc2hvdDogbnVsbCxcbiAgICBjcmVhdGVBc3luY0xvY2FsU3RvcmFnZTogbnVsbCxcbiAgICBjcmVhdGVTbmFwc2hvdDogbnVsbFxufSk7XG5mdW5jdGlvbiBfZXhwb3J0KHRhcmdldCwgYWxsKSB7XG4gICAgZm9yKHZhciBuYW1lIGluIGFsbClPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogYWxsW25hbWVdXG4gICAgfSk7XG59XG5fZXhwb3J0KGV4cG9ydHMsIHtcbiAgICBiaW5kU25hcHNob3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYmluZFNuYXBzaG90O1xuICAgIH0sXG4gICAgY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2U7XG4gICAgfSxcbiAgICBjcmVhdGVTbmFwc2hvdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVTbmFwc2hvdDtcbiAgICB9XG59KTtcbmNvbnN0IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdJbnZhcmlhbnQ6IEFzeW5jTG9jYWxTdG9yYWdlIGFjY2Vzc2VkIGluIHJ1bnRpbWUgd2hlcmUgaXQgaXMgbm90IGF2YWlsYWJsZScpLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICB2YWx1ZTogXCJFNTA0XCIsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcbmNsYXNzIEZha2VBc3luY0xvY2FsU3RvcmFnZSB7XG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhyb3cgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvcjtcbiAgICB9XG4gICAgZ2V0U3RvcmUoKSB7XG4gICAgICAgIC8vIFRoaXMgZmFrZSBpbXBsZW1lbnRhdGlvbiBvZiBBc3luY0xvY2FsU3RvcmFnZSBhbHdheXMgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBleGl0KCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBlbnRlcldpdGgoKSB7XG4gICAgICAgIHRocm93IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICAgIHN0YXRpYyBiaW5kKGZuKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG59XG5jb25zdCBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuQXN5bmNMb2NhbFN0b3JhZ2U7XG5mdW5jdGlvbiBjcmVhdGVBc3luY0xvY2FsU3RvcmFnZSgpIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbmV3IG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGYWtlQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbn1cbmZ1bmN0aW9uIGJpbmRTbmFwc2hvdChmbikge1xuICAgIGlmIChtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIHJldHVybiBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlLmJpbmQoZm4pO1xuICAgIH1cbiAgICByZXR1cm4gRmFrZUFzeW5jTG9jYWxTdG9yYWdlLmJpbmQoZm4pO1xufVxuZnVuY3Rpb24gY3JlYXRlU25hcHNob3QoKSB7XG4gICAgaWYgKG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2Uuc25hcHNob3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy1sb2NhbC1zdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/app-render/async-local-storage.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/app-render/dynamic-rendering.js":
/*!***********************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/dynamic-rendering.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */ \nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    Postpone: function() {\n        return Postpone;\n    },\n    PreludeState: function() {\n        return PreludeState;\n    },\n    abortAndThrowOnSynchronousRequestDataAccess: function() {\n        return abortAndThrowOnSynchronousRequestDataAccess;\n    },\n    abortOnSynchronousPlatformIOAccess: function() {\n        return abortOnSynchronousPlatformIOAccess;\n    },\n    accessedDynamicData: function() {\n        return accessedDynamicData;\n    },\n    annotateDynamicAccess: function() {\n        return annotateDynamicAccess;\n    },\n    consumeDynamicAccess: function() {\n        return consumeDynamicAccess;\n    },\n    createDynamicTrackingState: function() {\n        return createDynamicTrackingState;\n    },\n    createDynamicValidationState: function() {\n        return createDynamicValidationState;\n    },\n    createHangingInputAbortSignal: function() {\n        return createHangingInputAbortSignal;\n    },\n    createPostponedAbortSignal: function() {\n        return createPostponedAbortSignal;\n    },\n    formatDynamicAPIAccesses: function() {\n        return formatDynamicAPIAccesses;\n    },\n    getFirstDynamicReason: function() {\n        return getFirstDynamicReason;\n    },\n    isDynamicPostpone: function() {\n        return isDynamicPostpone;\n    },\n    isPrerenderInterruptedError: function() {\n        return isPrerenderInterruptedError;\n    },\n    markCurrentScopeAsDynamic: function() {\n        return markCurrentScopeAsDynamic;\n    },\n    postponeWithTracking: function() {\n        return postponeWithTracking;\n    },\n    throwIfDisallowedDynamic: function() {\n        return throwIfDisallowedDynamic;\n    },\n    throwToInterruptStaticGeneration: function() {\n        return throwToInterruptStaticGeneration;\n    },\n    trackAllowedDynamicAccess: function() {\n        return trackAllowedDynamicAccess;\n    },\n    trackDynamicDataInDynamicRender: function() {\n        return trackDynamicDataInDynamicRender;\n    },\n    trackFallbackParamAccessed: function() {\n        return trackFallbackParamAccessed;\n    },\n    trackSynchronousPlatformIOAccessInDev: function() {\n        return trackSynchronousPlatformIOAccessInDev;\n    },\n    trackSynchronousRequestDataAccessInDev: function() {\n        return trackSynchronousRequestDataAccessInDev;\n    },\n    useDynamicRouteParams: function() {\n        return useDynamicRouteParams;\n    }\n});\nconst _react = /*#__PURE__*/ _interop_require_default(__webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"));\nconst _hooksservercontext = __webpack_require__(/*! ../../client/components/hooks-server-context */ \"(app-pages-browser)/./node_modules/next/dist/client/components/hooks-server-context.js\");\nconst _staticgenerationbailout = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js\");\nconst _workunitasyncstorageexternal = __webpack_require__(/*! ./work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js\");\nconst _workasyncstorageexternal = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\");\nconst _dynamicrenderingutils = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(app-pages-browser)/./node_modules/next/dist/server/dynamic-rendering-utils.js\");\nconst _metadataconstants = __webpack_require__(/*! ../../lib/metadata/metadata-constants */ \"(app-pages-browser)/./node_modules/next/dist/lib/metadata/metadata-constants.js\");\nconst _scheduler = __webpack_require__(/*! ../../lib/scheduler */ \"(app-pages-browser)/./node_modules/next/dist/lib/scheduler.js\");\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nconst hasPostpone = typeof _react.default.unstable_postpone === 'function';\nfunction createDynamicTrackingState(isDebugDynamicAccesses) {\n    return {\n        isDebugDynamicAccesses,\n        dynamicAccesses: [],\n        syncDynamicErrorWithStack: null\n    };\n}\nfunction createDynamicValidationState() {\n    return {\n        hasSuspenseAboveBody: false,\n        hasDynamicMetadata: false,\n        hasDynamicViewport: false,\n        hasAllowedDynamic: false,\n        dynamicErrors: []\n    };\n}\nfunction getFirstDynamicReason(trackingState) {\n    var _trackingState_dynamicAccesses_;\n    return (_trackingState_dynamicAccesses_ = trackingState.dynamicAccesses[0]) == null ? void 0 : _trackingState_dynamicAccesses_.expression;\n}\nfunction markCurrentScopeAsDynamic(store, workUnitStore, expression) {\n    if (workUnitStore) {\n        if (workUnitStore.type === 'cache' || workUnitStore.type === 'unstable-cache') {\n            // inside cache scopes marking a scope as dynamic has no effect because the outer cache scope\n            // creates a cache boundary. This is subtly different from reading a dynamic data source which is\n            // forbidden inside a cache scope.\n            return;\n        }\n    }\n    // If we're forcing dynamic rendering or we're forcing static rendering, we\n    // don't need to do anything here because the entire page is already dynamic\n    // or it's static and it should not throw or postpone here.\n    if (store.forceDynamic || store.forceStatic) return;\n    if (store.dynamicShouldError) {\n        throw Object.defineProperty(new _staticgenerationbailout.StaticGenBailoutError(\"Route \".concat(store.route, ' with `dynamic = \"error\"` couldn\\'t be rendered statically because it used `').concat(expression, \"`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\")), \"__NEXT_ERROR_CODE\", {\n            value: \"E553\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    if (workUnitStore) {\n        if (workUnitStore.type === 'prerender-ppr') {\n            postponeWithTracking(store.route, expression, workUnitStore.dynamicTracking);\n        } else if (workUnitStore.type === 'prerender-legacy') {\n            workUnitStore.revalidate = 0;\n            // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n            const err = Object.defineProperty(new _hooksservercontext.DynamicServerError(\"Route \".concat(store.route, \" couldn't be rendered statically because it used \").concat(expression, \". See more info here: https://nextjs.org/docs/messages/dynamic-server-error\")), \"__NEXT_ERROR_CODE\", {\n                value: \"E550\",\n                enumerable: false,\n                configurable: true\n            });\n            store.dynamicUsageDescription = expression;\n            store.dynamicUsageStack = err.stack;\n            throw err;\n        } else if ( true && workUnitStore && workUnitStore.type === 'request') {\n            workUnitStore.usedDynamic = true;\n        }\n    }\n}\nfunction trackFallbackParamAccessed(store, expression) {\n    const prerenderStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (!prerenderStore || prerenderStore.type !== 'prerender-ppr') return;\n    postponeWithTracking(store.route, expression, prerenderStore.dynamicTracking);\n}\nfunction throwToInterruptStaticGeneration(expression, store, prerenderStore) {\n    // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n    const err = Object.defineProperty(new _hooksservercontext.DynamicServerError(\"Route \".concat(store.route, \" couldn't be rendered statically because it used `\").concat(expression, \"`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error\")), \"__NEXT_ERROR_CODE\", {\n        value: \"E558\",\n        enumerable: false,\n        configurable: true\n    });\n    prerenderStore.revalidate = 0;\n    store.dynamicUsageDescription = expression;\n    store.dynamicUsageStack = err.stack;\n    throw err;\n}\nfunction trackDynamicDataInDynamicRender(_store, workUnitStore) {\n    if (workUnitStore) {\n        if (workUnitStore.type === 'cache' || workUnitStore.type === 'unstable-cache') {\n            // inside cache scopes marking a scope as dynamic has no effect because the outer cache scope\n            // creates a cache boundary. This is subtly different from reading a dynamic data source which is\n            // forbidden inside a cache scope.\n            return;\n        }\n        // TODO: it makes no sense to have these work unit store types during a dev render.\n        if (workUnitStore.type === 'prerender' || workUnitStore.type === 'prerender-client' || workUnitStore.type === 'prerender-legacy') {\n            workUnitStore.revalidate = 0;\n        }\n        if ( true && workUnitStore.type === 'request') {\n            workUnitStore.usedDynamic = true;\n        }\n    }\n}\nfunction abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore) {\n    const reason = \"Route \".concat(route, \" needs to bail out of prerendering at this point because it used \").concat(expression, \".\");\n    const error = createPrerenderInterruptedError(reason);\n    prerenderStore.controller.abort(error);\n    const dynamicTracking = prerenderStore.dynamicTracking;\n    if (dynamicTracking) {\n        dynamicTracking.dynamicAccesses.push({\n            // When we aren't debugging, we don't need to create another error for the\n            // stack trace.\n            stack: dynamicTracking.isDebugDynamicAccesses ? new Error().stack : undefined,\n            expression\n        });\n    }\n}\nfunction abortOnSynchronousPlatformIOAccess(route, expression, errorWithStack, prerenderStore) {\n    const dynamicTracking = prerenderStore.dynamicTracking;\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore);\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    if (dynamicTracking) {\n        if (dynamicTracking.syncDynamicErrorWithStack === null) {\n            dynamicTracking.syncDynamicErrorWithStack = errorWithStack;\n        }\n    }\n}\nfunction trackSynchronousPlatformIOAccessInDev(requestStore) {\n    // We don't actually have a controller to abort but we do the semantic equivalent by\n    // advancing the request store out of prerender mode\n    requestStore.prerenderPhase = false;\n}\nfunction abortAndThrowOnSynchronousRequestDataAccess(route, expression, errorWithStack, prerenderStore) {\n    const prerenderSignal = prerenderStore.controller.signal;\n    if (prerenderSignal.aborted === false) {\n        // TODO it would be better to move this aborted check into the callsite so we can avoid making\n        // the error object when it isn't relevant to the aborting of the prerender however\n        // since we need the throw semantics regardless of whether we abort it is easier to land\n        // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n        // to ideal implementation\n        abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore);\n        // It is important that we set this tracking value after aborting. Aborts are executed\n        // synchronously except for the case where you abort during render itself. By setting this\n        // value late we can use it to determine if any of the aborted tasks are the task that\n        // called the sync IO expression in the first place.\n        const dynamicTracking = prerenderStore.dynamicTracking;\n        if (dynamicTracking) {\n            if (dynamicTracking.syncDynamicErrorWithStack === null) {\n                dynamicTracking.syncDynamicErrorWithStack = errorWithStack;\n            }\n        }\n    }\n    throw createPrerenderInterruptedError(\"Route \".concat(route, \" needs to bail out of prerendering at this point because it used \").concat(expression, \".\"));\n}\nconst trackSynchronousRequestDataAccessInDev = trackSynchronousPlatformIOAccessInDev;\nfunction Postpone(param) {\n    let { reason, route } = param;\n    const prerenderStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    const dynamicTracking = prerenderStore && prerenderStore.type === 'prerender-ppr' ? prerenderStore.dynamicTracking : null;\n    postponeWithTracking(route, reason, dynamicTracking);\n}\n_c = Postpone;\nfunction postponeWithTracking(route, expression, dynamicTracking) {\n    assertPostpone();\n    if (dynamicTracking) {\n        dynamicTracking.dynamicAccesses.push({\n            // When we aren't debugging, we don't need to create another error for the\n            // stack trace.\n            stack: dynamicTracking.isDebugDynamicAccesses ? new Error().stack : undefined,\n            expression\n        });\n    }\n    _react.default.unstable_postpone(createPostponeReason(route, expression));\n}\nfunction createPostponeReason(route, expression) {\n    return \"Route \".concat(route, \" needs to bail out of prerendering at this point because it used \").concat(expression, \". \") + \"React throws this special object to indicate where. It should not be caught by \" + \"your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error\";\n}\nfunction isDynamicPostpone(err) {\n    if (typeof err === 'object' && err !== null && typeof err.message === 'string') {\n        return isDynamicPostponeReason(err.message);\n    }\n    return false;\n}\nfunction isDynamicPostponeReason(reason) {\n    return reason.includes('needs to bail out of prerendering at this point because it used') && reason.includes('Learn more: https://nextjs.org/docs/messages/ppr-caught-error');\n}\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n    throw Object.defineProperty(new Error('Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'), \"__NEXT_ERROR_CODE\", {\n        value: \"E296\",\n        enumerable: false,\n        configurable: true\n    });\n}\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED';\nfunction createPrerenderInterruptedError(message) {\n    const error = Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.digest = NEXT_PRERENDER_INTERRUPTED;\n    return error;\n}\nfunction isPrerenderInterruptedError(error) {\n    return typeof error === 'object' && error !== null && error.digest === NEXT_PRERENDER_INTERRUPTED && 'name' in error && 'message' in error && error instanceof Error;\n}\nfunction accessedDynamicData(dynamicAccesses) {\n    return dynamicAccesses.length > 0;\n}\nfunction consumeDynamicAccess(serverDynamic, clientDynamic) {\n    // We mutate because we only call this once we are no longer writing\n    // to the dynamicTrackingState and it's more efficient than creating a new\n    // array.\n    serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses);\n    return serverDynamic.dynamicAccesses;\n}\nfunction formatDynamicAPIAccesses(dynamicAccesses) {\n    return dynamicAccesses.filter((access)=>typeof access.stack === 'string' && access.stack.length > 0).map((param)=>{\n        let { expression, stack } = param;\n        stack = stack.split('\\n') // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4).filter((line)=>{\n            // Exclude Next.js internals from the stack trace.\n            if (line.includes('node_modules/next/')) {\n                return false;\n            }\n            // Exclude anonymous functions from the stack trace.\n            if (line.includes(' (<anonymous>)')) {\n                return false;\n            }\n            // Exclude Node.js internals from the stack trace.\n            if (line.includes(' (node:')) {\n                return false;\n            }\n            return true;\n        }).join('\\n');\n        return \"Dynamic API Usage Debug - \".concat(expression, \":\\n\").concat(stack);\n    });\n}\nfunction assertPostpone() {\n    if (!hasPostpone) {\n        throw Object.defineProperty(new Error(\"Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js\"), \"__NEXT_ERROR_CODE\", {\n            value: \"E224\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\nfunction createPostponedAbortSignal(reason) {\n    assertPostpone();\n    const controller = new AbortController();\n    // We get our hands on a postpone instance by calling postpone and catching the throw\n    try {\n        _react.default.unstable_postpone(reason);\n    } catch (x) {\n        controller.abort(x);\n    }\n    return controller.signal;\n}\nfunction createHangingInputAbortSignal(workUnitStore) {\n    const controller = new AbortController();\n    if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If the input\n        // we're waiting on is coming from another cache, we do want to wait for it so that\n        // we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(()=>{\n            controller.abort();\n        });\n    } else {\n        // Otherwise we're in the final render and we should already have all our caches\n        // filled. We might still be waiting on some microtasks so we wait one tick before\n        // giving up. When we give up, we still want to render the content of this cache\n        // as deeply as we can so that we can suspend as deeply as possible in the tree\n        // or not at all if we don't end up waiting for the input.\n        (0, _scheduler.scheduleOnNextTick)(()=>controller.abort());\n    }\n    return controller.signal;\n}\nfunction annotateDynamicAccess(expression, prerenderStore) {\n    const dynamicTracking = prerenderStore.dynamicTracking;\n    if (dynamicTracking) {\n        dynamicTracking.dynamicAccesses.push({\n            stack: dynamicTracking.isDebugDynamicAccesses ? new Error().stack : undefined,\n            expression\n        });\n    }\n}\nfunction useDynamicRouteParams(expression) {\n    const workStore = _workasyncstorageexternal.workAsyncStorage.getStore();\n    if (workStore && workStore.isStaticGeneration && workStore.fallbackRouteParams && workStore.fallbackRouteParams.size > 0) {\n        // There are fallback route params, we should track these as dynamic\n        // accesses.\n        const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n        if (workUnitStore) {\n            // We're prerendering with dynamicIO or PPR or both\n            if (workUnitStore.type === 'prerender-client') {\n                // We are in a prerender with dynamicIO semantics\n                // We are going to hang here and never resolve. This will cause the currently\n                // rendering component to effectively be a dynamic hole\n                _react.default.use((0, _dynamicrenderingutils.makeHangingPromise)(workUnitStore.renderSignal, expression));\n            } else if (workUnitStore.type === 'prerender-ppr') {\n                // We're prerendering with PPR\n                postponeWithTracking(workStore.route, expression, workUnitStore.dynamicTracking);\n            } else if (workUnitStore.type === 'prerender-legacy') {\n                throwToInterruptStaticGeneration(expression, workStore, workUnitStore);\n            }\n        }\n    }\n}\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/;\nconst hasSuspenseAfterBodyOrHtmlRegex = /\\n\\s+at (?:body|html) \\(<anonymous>\\)[\\s\\S]*?\\n\\s+at Suspense \\(<anonymous>\\)/;\nconst hasMetadataRegex = new RegExp(\"\\\\n\\\\s+at \".concat(_metadataconstants.METADATA_BOUNDARY_NAME, \"[\\\\n\\\\s]\"));\nconst hasViewportRegex = new RegExp(\"\\\\n\\\\s+at \".concat(_metadataconstants.VIEWPORT_BOUNDARY_NAME, \"[\\\\n\\\\s]\"));\nconst hasOutletRegex = new RegExp(\"\\\\n\\\\s+at \".concat(_metadataconstants.OUTLET_BOUNDARY_NAME, \"[\\\\n\\\\s]\"));\nfunction trackAllowedDynamicAccess(workStore, componentStack, dynamicValidation, clientDynamic) {\n    if (hasOutletRegex.test(componentStack)) {\n        // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n        return;\n    } else if (hasMetadataRegex.test(componentStack)) {\n        dynamicValidation.hasDynamicMetadata = true;\n        return;\n    } else if (hasViewportRegex.test(componentStack)) {\n        dynamicValidation.hasDynamicViewport = true;\n        return;\n    } else if (hasSuspenseAfterBodyOrHtmlRegex.test(componentStack)) {\n        // This prerender has a Suspense boundary above the body which\n        // effectively opts the page into allowing 100% dynamic rendering\n        dynamicValidation.hasAllowedDynamic = true;\n        dynamicValidation.hasSuspenseAboveBody = true;\n        return;\n    } else if (hasSuspenseRegex.test(componentStack)) {\n        // this error had a Suspense boundary above it so we don't need to report it as a source\n        // of disallowed\n        dynamicValidation.hasAllowedDynamic = true;\n        return;\n    } else if (clientDynamic.syncDynamicErrorWithStack) {\n        // This task was the task that called the sync error.\n        dynamicValidation.dynamicErrors.push(clientDynamic.syncDynamicErrorWithStack);\n        return;\n    } else {\n        const message = 'Route \"'.concat(workStore.route, '\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense');\n        const error = createErrorWithComponentOrOwnerStack(message, componentStack);\n        dynamicValidation.dynamicErrors.push(error);\n        return;\n    }\n}\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */ function createErrorWithComponentOrOwnerStack(message, componentStack) {\n    const ownerStack =  true && _react.default.captureOwnerStack ? _react.default.captureOwnerStack() : null;\n    const error = Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n        value: \"E394\",\n        enumerable: false,\n        configurable: true\n    });\n    error.stack = error.name + ': ' + message + (ownerStack !== null && ownerStack !== void 0 ? ownerStack : componentStack);\n    return error;\n}\nvar PreludeState = /*#__PURE__*/ function(PreludeState) {\n    PreludeState[PreludeState[\"Full\"] = 0] = \"Full\";\n    PreludeState[PreludeState[\"Empty\"] = 1] = \"Empty\";\n    PreludeState[PreludeState[\"Errored\"] = 2] = \"Errored\";\n    return PreludeState;\n}({});\nfunction logDisallowedDynamicError(workStore, error) {\n    console.error(error);\n    if (!workStore.dev) {\n        if (workStore.hasReadableErrorStacks) {\n            console.error('To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running `next dev`, then open \"'.concat(workStore.route, '\" in your browser to investigate the error.'));\n        } else {\n            console.error('To get a more detailed stack trace and pinpoint the issue, try one of the following:\\n  - Start the app in development mode by running `next dev`, then open \"'.concat(workStore.route, '\" in your browser to investigate the error.\\n  - Rerun the production build with `next build --debug-prerender` to generate better stack traces.'));\n        }\n    }\n}\nfunction throwIfDisallowedDynamic(workStore, prelude, dynamicValidation, serverDynamic) {\n    if (workStore.invalidDynamicUsageError) {\n        logDisallowedDynamicError(workStore, workStore.invalidDynamicUsageError);\n        throw new _staticgenerationbailout.StaticGenBailoutError();\n    }\n    if (prelude !== 0) {\n        if (dynamicValidation.hasSuspenseAboveBody) {\n            // This route has opted into allowing fully dynamic rendering\n            // by including a Suspense boundary above the body. In this case\n            // a lack of a shell is not considered disallowed so we simply return\n            return;\n        }\n        if (serverDynamic.syncDynamicErrorWithStack) {\n            // There is no shell and the server did something sync dynamic likely\n            // leading to an early termination of the prerender before the shell\n            // could be completed. We terminate the build/validating render.\n            logDisallowedDynamicError(workStore, serverDynamic.syncDynamicErrorWithStack);\n            throw new _staticgenerationbailout.StaticGenBailoutError();\n        }\n        // We didn't have any sync bailouts but there may be user code which\n        // blocked the root. We would have captured these during the prerender\n        // and can log them here and then terminate the build/validating render\n        const dynamicErrors = dynamicValidation.dynamicErrors;\n        if (dynamicErrors.length > 0) {\n            for(let i = 0; i < dynamicErrors.length; i++){\n                logDisallowedDynamicError(workStore, dynamicErrors[i]);\n            }\n            throw new _staticgenerationbailout.StaticGenBailoutError();\n        }\n        // If we got this far then the only other thing that could be blocking\n        // the root is dynamic Viewport. If this is dynamic then\n        // you need to opt into that by adding a Suspense boundary above the body\n        // to indicate your are ok with fully dynamic rendering.\n        if (dynamicValidation.hasDynamicViewport) {\n            console.error('Route \"'.concat(workStore.route, '\" has a `generateViewport` that depends on Request data (`cookies()`, etc...) or uncached external data (`fetch(...)`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport'));\n            throw new _staticgenerationbailout.StaticGenBailoutError();\n        }\n        if (prelude === 1) {\n            // If we ever get this far then we messed up the tracking of invalid dynamic.\n            // We still adhere to the constraint that you must produce a shell but invite the\n            // user to report this as a bug in Next.js.\n            console.error('Route \"'.concat(workStore.route, '\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.'));\n            throw new _staticgenerationbailout.StaticGenBailoutError();\n        }\n    } else {\n        if (dynamicValidation.hasAllowedDynamic === false && dynamicValidation.hasDynamicMetadata) {\n            console.error('Route \"'.concat(workStore.route, '\" has a `generateMetadata` that depends on Request data (`cookies()`, etc...) or uncached external data (`fetch(...)`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata'));\n            throw new _staticgenerationbailout.StaticGenBailoutError();\n        }\n    }\n} //# sourceMappingURL=dynamic-rendering.js.map\nvar _c;\n$RefreshReg$(_c, \"Postpone\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcuanMiLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0JDOzs7Ozs7Ozs7Ozs7SUFnVmVBLFFBQVE7ZUFBUkE7O0lBMlRKQyxZQUFZO2VBQVpBOztJQXBXSUMsMkNBQTJDO2VBQTNDQTs7SUFyQ0FDLGtDQUFrQztlQUFsQ0E7O0lBd0tBQyxtQkFBbUI7ZUFBbkJBOztJQTRHQUMscUJBQXFCO2VBQXJCQTs7SUF0R0FDLG9CQUFvQjtlQUFwQkE7O0lBL1dBQywwQkFBMEI7ZUFBMUJBOztJQVVBQyw0QkFBNEI7ZUFBNUJBOztJQW1iQUMsNkJBQTZCO2VBQTdCQTs7SUFqQkFDLDBCQUEwQjtlQUExQkE7O0lBbERBQyx3QkFBd0I7ZUFBeEJBOztJQXRXQUMscUJBQXFCO2VBQXJCQTs7SUFnU0FDLGlCQUFpQjtlQUFqQkE7O0lBd0NBQywyQkFBMkI7ZUFBM0JBOztJQTNUQUMseUJBQXlCO2VBQXpCQTs7SUF1UEFDLG9CQUFvQjtlQUFwQkE7O0lBd1VBQyx3QkFBd0I7ZUFBeEJBOztJQS9lQUMsZ0NBQWdDO2VBQWhDQTs7SUErWkFDLHlCQUF5QjtlQUF6QkE7O0lBdFlBQywrQkFBK0I7ZUFBL0JBOztJQXpDQUMsMEJBQTBCO2VBQTFCQTs7SUFtSEFDLHFDQUFxQztlQUFyQ0E7O0lBaURIQyxzQ0FBc0M7ZUFBdENBOztJQStOR0MscUJBQXFCO2VBQXJCQTs7OzBFQTFoQkU7Z0RBRWlCO3FEQUNHOzBEQUNEO3NEQUNKO21EQUNFOytDQUs1Qjt1Q0FDNEI7Ozs7OztBQUVuQyxNQUFNQyxjQUFjLE9BQU9DLE9BQUFBLE9BQUssQ0FBQ0MsaUJBQWlCLEtBQUs7QUF3Q2hELFNBQVNwQiwyQkFDZHFCLHNCQUEyQztJQUUzQyxPQUFPO1FBQ0xBO1FBQ0FDLGlCQUFpQixFQUFFO1FBQ25CQywyQkFBMkI7SUFDN0I7QUFD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RztZQUM1QixJQUFLLElBQUk4QyxJQUFJLEdBQUdBLElBQUk5RixjQUFjZ0QsTUFBTSxFQUFFOEMsSUFBSztnQkFDN0NOLDBCQUEwQnhCLFdBQVdoRSxhQUFhLENBQUM4RixFQUFFO1lBQ3ZEO1lBRUEsTUFBTSxJQUFJckYseUJBQUFBLHFCQUFxQjtRQUNqQztRQUVBLHNFQUFzRTtRQUN0RSx3REFBd0Q7UUFDeEQseUVBQXlFO1FBQ3pFLHdEQUF3RDtRQUN4RCxJQUFJeUUsa0JBQWtCcEYsa0JBQWtCLEVBQUU7WUFDeEMyRixRQUFRN0QsS0FBSyxDQUNYLE9BQVEsVUFBRW9DLFVBQVV0RCxLQUFLLEVBQUM7WUFFNUIsTUFBTSxJQUFJRCx5QkFBQUEscUJBQXFCO1FBQ2pDO1FBRUEsSUFBSW1GLFlBQUFBLEdBQWdDO1lBQ2xDLDZFQUE2RTtZQUM3RSxpRkFBaUY7WUFDakYsMkNBQTJDO1lBQzNDSCxRQUFRN0QsS0FBSyxDQUNYLE9BQVEsVUFBRW9DLFVBQVV0RCxLQUFLLEVBQUMsd0dBQXdHLENBQUM7WUFFckksTUFBTSxJQUFJRCx5QkFBQUEscUJBQXFCO1FBQ2pDO0lBQ0YsT0FBTztRQUNMLElBQ0V5RSxrQkFBa0JuRixpQkFBaUIsS0FBSyxTQUN4Q21GLGtCQUFrQnJGLGtCQUFrQixFQUNwQztZQUNBNEYsUUFBUTdELEtBQUssQ0FDWCxPQUFRLFVBQUVvQyxVQUFVdEQsS0FBSyxFQUFDO1lBRTVCLE1BQU0sSUFBSUQseUJBQUFBLHFCQUFxQjtRQUNqQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXGR5bmFtaWMtcmVuZGVyaW5nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGZ1bmN0aW9ucyBwcm92aWRlZCBieSB0aGlzIG1vZHVsZSBhcmUgdXNlZCB0byBjb21tdW5pY2F0ZSBjZXJ0YWluIHByb3BlcnRpZXNcbiAqIGFib3V0IHRoZSBjdXJyZW50bHkgcnVubmluZyBjb2RlIHNvIHRoYXQgTmV4dC5qcyBjYW4gbWFrZSBkZWNpc2lvbnMgb24gaG93IHRvIGhhbmRsZVxuICogdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGluIGRpZmZlcmVudCByZW5kZXJpbmcgbW9kZXMgc3VjaCBhcyBwcmUtcmVuZGVyaW5nLCByZXN1bWluZywgYW5kIFNTUi5cbiAqXG4gKiBUb2RheSBOZXh0LmpzIHRyZWF0cyBhbGwgY29kZSBhcyBwb3RlbnRpYWxseSBzdGF0aWMuIENlcnRhaW4gQVBJcyBtYXkgb25seSBtYWtlIHNlbnNlIHdoZW4gZHluYW1pY2FsbHkgcmVuZGVyaW5nLlxuICogVHJhZGl0aW9uYWxseSB0aGlzIG1lYW50IGRlb3B0aW5nIHRoZSBlbnRpcmUgcmVuZGVyIHRvIGR5bmFtaWMgaG93ZXZlciB3aXRoIFBQUiB3ZSBjYW4gbm93IGRlb3B0IHBhcnRzXG4gKiBvZiBhIFJlYWN0IHRyZWUgYXMgZHluYW1pYyB3aGlsZSBzdGlsbCBrZWVwaW5nIG90aGVyIHBhcnRzIHN0YXRpYy4gVGhlcmUgYXJlIHJlYWxseSB0d28gZGlmZmVyZW50IGtpbmRzIG9mXG4gKiBEeW5hbWljIGluZGljYXRpb25zLlxuICpcbiAqIFRoZSBmaXJzdCBpcyBzaW1wbHkgYW4gaW50ZW50aW9uIHRvIGJlIGR5bmFtaWMuIHVuc3RhYmxlX25vU3RvcmUgaXMgYW4gZXhhbXBsZSBvZiB0aGlzIHdoZXJlXG4gKiB0aGUgY3VycmVudGx5IGV4ZWN1dGluZyBjb2RlIHNpbXBseSBkZWNsYXJlcyB0aGF0IHRoZSBjdXJyZW50IHNjb3BlIGlzIGR5bmFtaWMgYnV0IGlmIHlvdSB1c2UgaXRcbiAqIGluc2lkZSB1bnN0YWJsZV9jYWNoZSBpdCBjYW4gc3RpbGwgYmUgY2FjaGVkLiBUaGlzIHR5cGUgb2YgaW5kaWNhdGlvbiBjYW4gYmUgcmVtb3ZlZCBpZiB3ZSBldmVyXG4gKiBtYWtlIHRoZSBkZWZhdWx0IGR5bmFtaWMgdG8gYmVnaW4gd2l0aCBiZWNhdXNlIHRoZSBvbmx5IHdheSB5b3Ugd291bGQgZXZlciBiZSBzdGF0aWMgaXMgaW5zaWRlXG4gKiBhIGNhY2hlIHNjb3BlIHdoaWNoIHRoaXMgaW5kaWNhdGlvbiBkb2VzIG5vdCBhZmZlY3QuXG4gKlxuICogVGhlIHNlY29uZCBpcyBhbiBpbmRpY2F0aW9uIHRoYXQgYSBkeW5hbWljIGRhdGEgc291cmNlIHdhcyByZWFkLiBUaGlzIGlzIGEgc3Ryb25nZXIgZm9ybSBvZiBkeW5hbWljXG4gKiBiZWNhdXNlIGl0IG1lYW5zIHRoYXQgaXQgaXMgaW5hcHByb3ByaWF0ZSB0byBjYWNoZSB0aGlzIGF0IGFsbC4gdXNpbmcgYSBkeW5hbWljIGRhdGEgc291cmNlIGluc2lkZVxuICogdW5zdGFibGVfY2FjaGUgc2hvdWxkIGVycm9yLiBJZiB5b3Ugd2FudCB0byB1c2Ugc29tZSBkeW5hbWljIGRhdGEgaW5zaWRlIHVuc3RhYmxlX2NhY2hlIHlvdSBzaG91bGRcbiAqIHJlYWQgdGhhdCBkYXRhIG91dHNpZGUgdGhlIGNhY2hlIGFuZCBwYXNzIGl0IGluIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBjYWNoZWQgZnVuY3Rpb24uXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBXb3JrU3RvcmUgfSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB0eXBlIHtcbiAgV29ya1VuaXRTdG9yZSxcbiAgUmVxdWVzdFN0b3JlLFxuICBQcmVyZW5kZXJTdG9yZUxlZ2FjeSxcbiAgUHJlcmVuZGVyU3RvcmVNb2Rlcm4sXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5cbi8vIE9uY2UgcG9zdHBvbmUgaXMgaW4gc3RhYmxlIHdlIHNob3VsZCBzd2l0Y2ggdG8gaW1wb3J0aW5nIHRoZSBwb3N0cG9uZSBleHBvcnQgZGlyZWN0bHlcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgRHluYW1pY1NlcnZlckVycm9yIH0gZnJvbSAnLi4vLi4vY2xpZW50L2NvbXBvbmVudHMvaG9va3Mtc2VydmVyLWNvbnRleHQnXG5pbXBvcnQgeyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1iYWlsb3V0J1xuaW1wb3J0IHsgd29ya1VuaXRBc3luY1N0b3JhZ2UgfSBmcm9tICcuL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuaW1wb3J0IHsgd29ya0FzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuaW1wb3J0IHsgbWFrZUhhbmdpbmdQcm9taXNlIH0gZnJvbSAnLi4vZHluYW1pYy1yZW5kZXJpbmctdXRpbHMnXG5pbXBvcnQge1xuICBNRVRBREFUQV9CT1VOREFSWV9OQU1FLFxuICBWSUVXUE9SVF9CT1VOREFSWV9OQU1FLFxuICBPVVRMRVRfQk9VTkRBUllfTkFNRSxcbn0gZnJvbSAnLi4vLi4vbGliL21ldGFkYXRhL21ldGFkYXRhLWNvbnN0YW50cydcbmltcG9ydCB7IHNjaGVkdWxlT25OZXh0VGljayB9IGZyb20gJy4uLy4uL2xpYi9zY2hlZHVsZXInXG5cbmNvbnN0IGhhc1Bvc3Rwb25lID0gdHlwZW9mIFJlYWN0LnVuc3RhYmxlX3Bvc3Rwb25lID09PSAnZnVuY3Rpb24nXG5cbmV4cG9ydCB0eXBlIER5bmFtaWNBY2Nlc3MgPSB7XG4gIC8qKlxuICAgKiBJZiBkZWJ1Z2dpbmcsIHRoaXMgd2lsbCBjb250YWluIHRoZSBzdGFjayB0cmFjZSBvZiB3aGVyZSB0aGUgZHluYW1pYyBhY2Nlc3NcbiAgICogb2NjdXJyZWQuIFRoaXMgaXMgdXNlZCB0byBwcm92aWRlIG1vcmUgaW5mb3JtYXRpb24gdG8gdGhlIHVzZXIgYWJvdXQgd2h5XG4gICAqIHRoZWlyIHBhZ2UgaXMgYmVpbmcgcmVuZGVyZWQgZHluYW1pY2FsbHkuXG4gICAqL1xuICBzdGFjaz86IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBUaGUgZXhwcmVzc2lvbiB0aGF0IHdhcyBhY2Nlc3NlZCBkeW5hbWljYWxseS5cbiAgICovXG4gIGV4cHJlc3Npb246IHN0cmluZ1xufVxuXG4vLyBTdG9yZXMgZHluYW1pYyByZWFzb25zIHVzZWQgZHVyaW5nIGFuIFJTQyByZW5kZXIuXG5leHBvcnQgdHlwZSBEeW5hbWljVHJhY2tpbmdTdGF0ZSA9IHtcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc3RhY2sgaW5mb3JtYXRpb24gd2lsbCBhbHNvIGJlIHRyYWNrZWQgZHVyaW5nIGR5bmFtaWMgYWNjZXNzLlxuICAgKi9cbiAgcmVhZG9ubHkgaXNEZWJ1Z0R5bmFtaWNBY2Nlc3NlczogYm9vbGVhbiB8IHVuZGVmaW5lZFxuXG4gIC8qKlxuICAgKiBUaGUgZHluYW1pYyBhY2Nlc3NlcyB0aGF0IG9jY3VycmVkIGR1cmluZyB0aGUgcmVuZGVyLlxuICAgKi9cbiAgcmVhZG9ubHkgZHluYW1pY0FjY2Vzc2VzOiBBcnJheTxEeW5hbWljQWNjZXNzPlxuXG4gIHN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2s6IG51bGwgfCBFcnJvclxufVxuXG4vLyBTdG9yZXMgZHluYW1pYyByZWFzb25zIHVzZWQgZHVyaW5nIGFuIFNTUiByZW5kZXIuXG5leHBvcnQgdHlwZSBEeW5hbWljVmFsaWRhdGlvblN0YXRlID0ge1xuICBoYXNTdXNwZW5zZUFib3ZlQm9keTogYm9vbGVhblxuICBoYXNEeW5hbWljTWV0YWRhdGE6IGJvb2xlYW5cbiAgaGFzRHluYW1pY1ZpZXdwb3J0OiBib29sZWFuXG4gIGhhc0FsbG93ZWREeW5hbWljOiBib29sZWFuXG4gIGR5bmFtaWNFcnJvcnM6IEFycmF5PEVycm9yPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRHluYW1pY1RyYWNraW5nU3RhdGUoXG4gIGlzRGVidWdEeW5hbWljQWNjZXNzZXM6IGJvb2xlYW4gfCB1bmRlZmluZWRcbik6IER5bmFtaWNUcmFja2luZ1N0YXRlIHtcbiAgcmV0dXJuIHtcbiAgICBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzLFxuICAgIGR5bmFtaWNBY2Nlc3NlczogW10sXG4gICAgc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjazogbnVsbCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRHluYW1pY1ZhbGlkYXRpb25TdGF0ZSgpOiBEeW5hbWljVmFsaWRhdGlvblN0YXRlIHtcbiAgcmV0dXJuIHtcbiAgICBoYXNTdXNwZW5zZUFib3ZlQm9keTogZmFsc2UsXG4gICAgaGFzRHluYW1pY01ldGFkYXRhOiBmYWxzZSxcbiAgICBoYXNEeW5hbWljVmlld3BvcnQ6IGZhbHNlLFxuICAgIGhhc0FsbG93ZWREeW5hbWljOiBmYWxzZSxcbiAgICBkeW5hbWljRXJyb3JzOiBbXSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3REeW5hbWljUmVhc29uKFxuICB0cmFja2luZ1N0YXRlOiBEeW5hbWljVHJhY2tpbmdTdGF0ZVxuKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgcmV0dXJuIHRyYWNraW5nU3RhdGUuZHluYW1pY0FjY2Vzc2VzWzBdPy5leHByZXNzaW9uXG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjb21tdW5pY2F0ZXMgdGhhdCB0aGUgY3VycmVudCBzY29wZSBzaG91bGQgYmUgdHJlYXRlZCBhcyBkeW5hbWljLlxuICpcbiAqIEluIG1vc3QgY2FzZXMgdGhpcyBmdW5jdGlvbiBpcyBhIG5vLW9wIGJ1dCBpZiBjYWxsZWQgZHVyaW5nXG4gKiBhIFBQUiBwcmVyZW5kZXIgaXQgd2lsbCBwb3N0cG9uZSB0aGUgY3VycmVudCBzdWItdHJlZSBhbmQgY2FsbGluZ1xuICogaXQgZHVyaW5nIGEgbm9ybWFsIHByZXJlbmRlciB3aWxsIGNhdXNlIHRoZSBlbnRpcmUgcHJlcmVuZGVyIHRvIGFib3J0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXJrQ3VycmVudFNjb3BlQXNEeW5hbWljKFxuICBzdG9yZTogV29ya1N0b3JlLFxuICB3b3JrVW5pdFN0b3JlOiB1bmRlZmluZWQgfCBFeGNsdWRlPFdvcmtVbml0U3RvcmUsIFByZXJlbmRlclN0b3JlTW9kZXJuPixcbiAgZXhwcmVzc2lvbjogc3RyaW5nXG4pOiB2b2lkIHtcbiAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICBpZiAoXG4gICAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdjYWNoZScgfHxcbiAgICAgIHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3Vuc3RhYmxlLWNhY2hlJ1xuICAgICkge1xuICAgICAgLy8gaW5zaWRlIGNhY2hlIHNjb3BlcyBtYXJraW5nIGEgc2NvcGUgYXMgZHluYW1pYyBoYXMgbm8gZWZmZWN0IGJlY2F1c2UgdGhlIG91dGVyIGNhY2hlIHNjb3BlXG4gICAgICAvLyBjcmVhdGVzIGEgY2FjaGUgYm91bmRhcnkuIFRoaXMgaXMgc3VidGx5IGRpZmZlcmVudCBmcm9tIHJlYWRpbmcgYSBkeW5hbWljIGRhdGEgc291cmNlIHdoaWNoIGlzXG4gICAgICAvLyBmb3JiaWRkZW4gaW5zaWRlIGEgY2FjaGUgc2NvcGUuXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSdyZSBmb3JjaW5nIGR5bmFtaWMgcmVuZGVyaW5nIG9yIHdlJ3JlIGZvcmNpbmcgc3RhdGljIHJlbmRlcmluZywgd2VcbiAgLy8gZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlIGJlY2F1c2UgdGhlIGVudGlyZSBwYWdlIGlzIGFscmVhZHkgZHluYW1pY1xuICAvLyBvciBpdCdzIHN0YXRpYyBhbmQgaXQgc2hvdWxkIG5vdCB0aHJvdyBvciBwb3N0cG9uZSBoZXJlLlxuICBpZiAoc3RvcmUuZm9yY2VEeW5hbWljIHx8IHN0b3JlLmZvcmNlU3RhdGljKSByZXR1cm5cblxuICBpZiAoc3RvcmUuZHluYW1pY1Nob3VsZEVycm9yKSB7XG4gICAgdGhyb3cgbmV3IFN0YXRpY0dlbkJhaWxvdXRFcnJvcihcbiAgICAgIGBSb3V0ZSAke3N0b3JlLnJvdXRlfSB3aXRoIFxcYGR5bmFtaWMgPSBcImVycm9yXCJcXGAgY291bGRuJ3QgYmUgcmVuZGVyZWQgc3RhdGljYWxseSBiZWNhdXNlIGl0IHVzZWQgXFxgJHtleHByZXNzaW9ufVxcYC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYnVpbGRpbmcteW91ci1hcHBsaWNhdGlvbi9yZW5kZXJpbmcvc3RhdGljLWFuZC1keW5hbWljI2R5bmFtaWMtcmVuZGVyaW5nYFxuICAgIClcbiAgfVxuXG4gIGlmICh3b3JrVW5pdFN0b3JlKSB7XG4gICAgaWYgKHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3ByZXJlbmRlci1wcHInKSB7XG4gICAgICBwb3N0cG9uZVdpdGhUcmFja2luZyhcbiAgICAgICAgc3RvcmUucm91dGUsXG4gICAgICAgIGV4cHJlc3Npb24sXG4gICAgICAgIHdvcmtVbml0U3RvcmUuZHluYW1pY1RyYWNraW5nXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXItbGVnYWN5Jykge1xuICAgICAgd29ya1VuaXRTdG9yZS5yZXZhbGlkYXRlID0gMFxuXG4gICAgICAvLyBXZSBhcmVuJ3QgcHJlcmVuZGVyaW5nIGJ1dCB3ZSBhcmUgZ2VuZXJhdGluZyBhIHN0YXRpYyBwYWdlLiBXZSBuZWVkIHRvIGJhaWwgb3V0IG9mIHN0YXRpYyBnZW5lcmF0aW9uXG4gICAgICBjb25zdCBlcnIgPSBuZXcgRHluYW1pY1NlcnZlckVycm9yKFxuICAgICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gY291bGRuJ3QgYmUgcmVuZGVyZWQgc3RhdGljYWxseSBiZWNhdXNlIGl0IHVzZWQgJHtleHByZXNzaW9ufS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9keW5hbWljLXNlcnZlci1lcnJvcmBcbiAgICAgIClcbiAgICAgIHN0b3JlLmR5bmFtaWNVc2FnZURlc2NyaXB0aW9uID0gZXhwcmVzc2lvblxuICAgICAgc3RvcmUuZHluYW1pY1VzYWdlU3RhY2sgPSBlcnIuc3RhY2tcblxuICAgICAgdGhyb3cgZXJyXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmXG4gICAgICB3b3JrVW5pdFN0b3JlICYmXG4gICAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdyZXF1ZXN0J1xuICAgICkge1xuICAgICAgd29ya1VuaXRTdG9yZS51c2VkRHluYW1pYyA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNvbW11bmljYXRlcyB0aGF0IHNvbWUgZHluYW1pYyBwYXRoIHBhcmFtZXRlciB3YXMgcmVhZC4gVGhpc1xuICogZGlmZmVycyBmcm9tIHRoZSBtb3JlIGdlbmVyYWwgYHRyYWNrRHluYW1pY0RhdGFBY2Nlc3NlZGAgaW4gdGhhdCBpdCBpcyB3aWxsXG4gKiBub3QgZXJyb3Igd2hlbiBgZHluYW1pYyA9IFwiZXJyb3JcImAgaXMgc2V0LlxuICpcbiAqIEBwYXJhbSBzdG9yZSBUaGUgc3RhdGljIGdlbmVyYXRpb24gc3RvcmVcbiAqIEBwYXJhbSBleHByZXNzaW9uIFRoZSBleHByZXNzaW9uIHRoYXQgd2FzIGFjY2Vzc2VkIGR5bmFtaWNhbGx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0ZhbGxiYWNrUGFyYW1BY2Nlc3NlZChcbiAgc3RvcmU6IFdvcmtTdG9yZSxcbiAgZXhwcmVzc2lvbjogc3RyaW5nXG4pOiB2b2lkIHtcbiAgY29uc3QgcHJlcmVuZGVyU3RvcmUgPSB3b3JrVW5pdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIGlmICghcHJlcmVuZGVyU3RvcmUgfHwgcHJlcmVuZGVyU3RvcmUudHlwZSAhPT0gJ3ByZXJlbmRlci1wcHInKSByZXR1cm5cblxuICBwb3N0cG9uZVdpdGhUcmFja2luZyhzdG9yZS5yb3V0ZSwgZXhwcmVzc2lvbiwgcHJlcmVuZGVyU3RvcmUuZHluYW1pY1RyYWNraW5nKVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbWVhbnQgdG8gYmUgdXNlZCB3aGVuIHByZXJlbmRlcmluZyB3aXRob3V0IGR5bmFtaWNJTyBvciBQUFIuXG4gKiBXaGVuIGNhbGxlZCBkdXJpbmcgYSBidWlsZCBpdCB3aWxsIGNhdXNlIE5leHQuanMgdG8gY29uc2lkZXIgdGhlIHJvdXRlIGFzIGR5bmFtaWMuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbihcbiAgZXhwcmVzc2lvbjogc3RyaW5nLFxuICBzdG9yZTogV29ya1N0b3JlLFxuICBwcmVyZW5kZXJTdG9yZTogUHJlcmVuZGVyU3RvcmVMZWdhY3lcbik6IG5ldmVyIHtcbiAgLy8gV2UgYXJlbid0IHByZXJlbmRlcmluZyBidXQgd2UgYXJlIGdlbmVyYXRpbmcgYSBzdGF0aWMgcGFnZS4gV2UgbmVlZCB0byBiYWlsIG91dCBvZiBzdGF0aWMgZ2VuZXJhdGlvblxuICBjb25zdCBlcnIgPSBuZXcgRHluYW1pY1NlcnZlckVycm9yKFxuICAgIGBSb3V0ZSAke3N0b3JlLnJvdXRlfSBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCBcXGAke2V4cHJlc3Npb259XFxgLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL2R5bmFtaWMtc2VydmVyLWVycm9yYFxuICApXG5cbiAgcHJlcmVuZGVyU3RvcmUucmV2YWxpZGF0ZSA9IDBcblxuICBzdG9yZS5keW5hbWljVXNhZ2VEZXNjcmlwdGlvbiA9IGV4cHJlc3Npb25cbiAgc3RvcmUuZHluYW1pY1VzYWdlU3RhY2sgPSBlcnIuc3RhY2tcblxuICB0aHJvdyBlcnJcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSB1c2VkIHRvIHRyYWNrIHdoZXRoZXIgc29tZXRoaW5nIGR5bmFtaWMgaGFwcGVuZWQgZXZlbiB3aGVuXG4gKiB3ZSBhcmUgaW4gYSBkeW5hbWljIHJlbmRlci4gVGhpcyBpcyB1c2VmdWwgZm9yIERldiB3aGVyZSBhbGwgcmVuZGVycyBhcmUgZHluYW1pYyBidXRcbiAqIHdlIHN0aWxsIHRyYWNrIHdoZXRoZXIgZHluYW1pYyBBUElzIHdlcmUgYWNjZXNzZWQgZm9yIGhlbHBmdWwgbWVzc2FnaW5nXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0R5bmFtaWNEYXRhSW5EeW5hbWljUmVuZGVyKFxuICBfc3RvcmU6IFdvcmtTdG9yZSxcbiAgd29ya1VuaXRTdG9yZTogdm9pZCB8IFdvcmtVbml0U3RvcmVcbikge1xuICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgIGlmIChcbiAgICAgIHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ2NhY2hlJyB8fFxuICAgICAgd29ya1VuaXRTdG9yZS50eXBlID09PSAndW5zdGFibGUtY2FjaGUnXG4gICAgKSB7XG4gICAgICAvLyBpbnNpZGUgY2FjaGUgc2NvcGVzIG1hcmtpbmcgYSBzY29wZSBhcyBkeW5hbWljIGhhcyBubyBlZmZlY3QgYmVjYXVzZSB0aGUgb3V0ZXIgY2FjaGUgc2NvcGVcbiAgICAgIC8vIGNyZWF0ZXMgYSBjYWNoZSBib3VuZGFyeS4gVGhpcyBpcyBzdWJ0bHkgZGlmZmVyZW50IGZyb20gcmVhZGluZyBhIGR5bmFtaWMgZGF0YSBzb3VyY2Ugd2hpY2ggaXNcbiAgICAgIC8vIGZvcmJpZGRlbiBpbnNpZGUgYSBjYWNoZSBzY29wZS5cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBUT0RPOiBpdCBtYWtlcyBubyBzZW5zZSB0byBoYXZlIHRoZXNlIHdvcmsgdW5pdCBzdG9yZSB0eXBlcyBkdXJpbmcgYSBkZXYgcmVuZGVyLlxuICAgIGlmIChcbiAgICAgIHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3ByZXJlbmRlcicgfHxcbiAgICAgIHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3ByZXJlbmRlci1jbGllbnQnIHx8XG4gICAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXItbGVnYWN5J1xuICAgICkge1xuICAgICAgd29ya1VuaXRTdG9yZS5yZXZhbGlkYXRlID0gMFxuICAgIH1cbiAgICBpZiAoXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJlxuICAgICAgd29ya1VuaXRTdG9yZS50eXBlID09PSAncmVxdWVzdCdcbiAgICApIHtcbiAgICAgIHdvcmtVbml0U3RvcmUudXNlZER5bmFtaWMgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFib3J0T25TeW5jaHJvbm91c0R5bmFtaWNEYXRhQWNjZXNzKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIHByZXJlbmRlclN0b3JlOiBQcmVyZW5kZXJTdG9yZU1vZGVyblxuKTogdm9pZCB7XG4gIGNvbnN0IHJlYXNvbiA9IGBSb3V0ZSAke3JvdXRlfSBuZWVkcyB0byBiYWlsIG91dCBvZiBwcmVyZW5kZXJpbmcgYXQgdGhpcyBwb2ludCBiZWNhdXNlIGl0IHVzZWQgJHtleHByZXNzaW9ufS5gXG5cbiAgY29uc3QgZXJyb3IgPSBjcmVhdGVQcmVyZW5kZXJJbnRlcnJ1cHRlZEVycm9yKHJlYXNvbilcblxuICBwcmVyZW5kZXJTdG9yZS5jb250cm9sbGVyLmFib3J0KGVycm9yKVxuXG4gIGNvbnN0IGR5bmFtaWNUcmFja2luZyA9IHByZXJlbmRlclN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICBpZiAoZHluYW1pY1RyYWNraW5nKSB7XG4gICAgZHluYW1pY1RyYWNraW5nLmR5bmFtaWNBY2Nlc3Nlcy5wdXNoKHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlbid0IGRlYnVnZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYW5vdGhlciBlcnJvciBmb3IgdGhlXG4gICAgICAvLyBzdGFjayB0cmFjZS5cbiAgICAgIHN0YWNrOiBkeW5hbWljVHJhY2tpbmcuaXNEZWJ1Z0R5bmFtaWNBY2Nlc3Nlc1xuICAgICAgICA/IG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgZXhwcmVzc2lvbixcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydE9uU3luY2hyb25vdXNQbGF0Zm9ybUlPQWNjZXNzKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIGVycm9yV2l0aFN0YWNrOiBFcnJvcixcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiB2b2lkIHtcbiAgY29uc3QgZHluYW1pY1RyYWNraW5nID0gcHJlcmVuZGVyU3RvcmUuZHluYW1pY1RyYWNraW5nXG4gIGFib3J0T25TeW5jaHJvbm91c0R5bmFtaWNEYXRhQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uLCBwcmVyZW5kZXJTdG9yZSlcbiAgLy8gSXQgaXMgaW1wb3J0YW50IHRoYXQgd2Ugc2V0IHRoaXMgdHJhY2tpbmcgdmFsdWUgYWZ0ZXIgYWJvcnRpbmcuIEFib3J0cyBhcmUgZXhlY3V0ZWRcbiAgLy8gc3luY2hyb25vdXNseSBleGNlcHQgZm9yIHRoZSBjYXNlIHdoZXJlIHlvdSBhYm9ydCBkdXJpbmcgcmVuZGVyIGl0c2VsZi4gQnkgc2V0dGluZyB0aGlzXG4gIC8vIHZhbHVlIGxhdGUgd2UgY2FuIHVzZSBpdCB0byBkZXRlcm1pbmUgaWYgYW55IG9mIHRoZSBhYm9ydGVkIHRhc2tzIGFyZSB0aGUgdGFzayB0aGF0XG4gIC8vIGNhbGxlZCB0aGUgc3luYyBJTyBleHByZXNzaW9uIGluIHRoZSBmaXJzdCBwbGFjZS5cbiAgaWYgKGR5bmFtaWNUcmFja2luZykge1xuICAgIGlmIChkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjayA9PT0gbnVsbCkge1xuICAgICAgZHluYW1pY1RyYWNraW5nLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2sgPSBlcnJvcldpdGhTdGFja1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tTeW5jaHJvbm91c1BsYXRmb3JtSU9BY2Nlc3NJbkRldihcbiAgcmVxdWVzdFN0b3JlOiBSZXF1ZXN0U3RvcmVcbik6IHZvaWQge1xuICAvLyBXZSBkb24ndCBhY3R1YWxseSBoYXZlIGEgY29udHJvbGxlciB0byBhYm9ydCBidXQgd2UgZG8gdGhlIHNlbWFudGljIGVxdWl2YWxlbnQgYnlcbiAgLy8gYWR2YW5jaW5nIHRoZSByZXF1ZXN0IHN0b3JlIG91dCBvZiBwcmVyZW5kZXIgbW9kZVxuICByZXF1ZXN0U3RvcmUucHJlcmVuZGVyUGhhc2UgPSBmYWxzZVxufVxuXG4vKipcbiAqIHVzZSB0aGlzIGZ1bmN0aW9uIHdoZW4gcHJlcmVuZGVyaW5nIHdpdGggZHluYW1pY0lPLiBJZiB3ZSBhcmUgZG9pbmcgYVxuICogcHJvc3BlY3RpdmUgcHJlcmVuZGVyIHdlIGRvbid0IGFjdHVhbGx5IGFib3J0IGJlY2F1c2Ugd2Ugd2FudCB0byBkaXNjb3ZlclxuICogYWxsIGNhY2hlcyBmb3IgdGhlIHNoZWxsLiBJZiB0aGlzIGlzIHRoZSBhY3R1YWwgcHJlcmVuZGVyIHdlIGRvIGFib3J0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhIHByZXJlbmRlclN0b3JlIGJ1dCB0aGUgY2FsbGVyIHNob3VsZCBlbnN1cmUgd2UncmVcbiAqIGFjdHVhbGx5IHJ1bm5pbmcgaW4gZHluYW1pY0lPIG1vZGUuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydEFuZFRocm93T25TeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmcsXG4gIGVycm9yV2l0aFN0YWNrOiBFcnJvcixcbiAgcHJlcmVuZGVyU3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiBuZXZlciB7XG4gIGNvbnN0IHByZXJlbmRlclNpZ25hbCA9IHByZXJlbmRlclN0b3JlLmNvbnRyb2xsZXIuc2lnbmFsXG4gIGlmIChwcmVyZW5kZXJTaWduYWwuYWJvcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAvLyBUT0RPIGl0IHdvdWxkIGJlIGJldHRlciB0byBtb3ZlIHRoaXMgYWJvcnRlZCBjaGVjayBpbnRvIHRoZSBjYWxsc2l0ZSBzbyB3ZSBjYW4gYXZvaWQgbWFraW5nXG4gICAgLy8gdGhlIGVycm9yIG9iamVjdCB3aGVuIGl0IGlzbid0IHJlbGV2YW50IHRvIHRoZSBhYm9ydGluZyBvZiB0aGUgcHJlcmVuZGVyIGhvd2V2ZXJcbiAgICAvLyBzaW5jZSB3ZSBuZWVkIHRoZSB0aHJvdyBzZW1hbnRpY3MgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHdlIGFib3J0IGl0IGlzIGVhc2llciB0byBsYW5kXG4gICAgLy8gdGhpcyB3YXkuIFNlZSBob3cgdGhpcyB3YXMgaGFuZGxlZCB3aXRoIGBhYm9ydE9uU3luY2hyb25vdXNQbGF0Zm9ybUlPQWNjZXNzYCBmb3IgYSBjbG9zZXJcbiAgICAvLyB0byBpZGVhbCBpbXBsZW1lbnRhdGlvblxuICAgIGFib3J0T25TeW5jaHJvbm91c0R5bmFtaWNEYXRhQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uLCBwcmVyZW5kZXJTdG9yZSlcbiAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdGhhdCB3ZSBzZXQgdGhpcyB0cmFja2luZyB2YWx1ZSBhZnRlciBhYm9ydGluZy4gQWJvcnRzIGFyZSBleGVjdXRlZFxuICAgIC8vIHN5bmNocm9ub3VzbHkgZXhjZXB0IGZvciB0aGUgY2FzZSB3aGVyZSB5b3UgYWJvcnQgZHVyaW5nIHJlbmRlciBpdHNlbGYuIEJ5IHNldHRpbmcgdGhpc1xuICAgIC8vIHZhbHVlIGxhdGUgd2UgY2FuIHVzZSBpdCB0byBkZXRlcm1pbmUgaWYgYW55IG9mIHRoZSBhYm9ydGVkIHRhc2tzIGFyZSB0aGUgdGFzayB0aGF0XG4gICAgLy8gY2FsbGVkIHRoZSBzeW5jIElPIGV4cHJlc3Npb24gaW4gdGhlIGZpcnN0IHBsYWNlLlxuICAgIGNvbnN0IGR5bmFtaWNUcmFja2luZyA9IHByZXJlbmRlclN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgIGlmIChkeW5hbWljVHJhY2tpbmcpIHtcbiAgICAgIGlmIChkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjayA9PT0gbnVsbCkge1xuICAgICAgICBkeW5hbWljVHJhY2tpbmcuc3luY0R5bmFtaWNFcnJvcldpdGhTdGFjayA9IGVycm9yV2l0aFN0YWNrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRocm93IGNyZWF0ZVByZXJlbmRlckludGVycnVwdGVkRXJyb3IoXG4gICAgYFJvdXRlICR7cm91dGV9IG5lZWRzIHRvIGJhaWwgb3V0IG9mIHByZXJlbmRlcmluZyBhdCB0aGlzIHBvaW50IGJlY2F1c2UgaXQgdXNlZCAke2V4cHJlc3Npb259LmBcbiAgKVxufVxuXG4vLyBGb3Igbm93IHRoZXNlIGltcGxlbWVudGF0aW9ucyBhcmUgdGhlIHNhbWUgc28gd2UganVzdCByZWV4cG9ydFxuZXhwb3J0IGNvbnN0IHRyYWNrU3luY2hyb25vdXNSZXF1ZXN0RGF0YUFjY2Vzc0luRGV2ID1cbiAgdHJhY2tTeW5jaHJvbm91c1BsYXRmb3JtSU9BY2Nlc3NJbkRldlxuXG4vKipcbiAqIFRoaXMgY29tcG9uZW50IHdpbGwgY2FsbCBgUmVhY3QucG9zdHBvbmVgIHRoYXQgdGhyb3dzIHRoZSBwb3N0cG9uZWQgZXJyb3IuXG4gKi9cbnR5cGUgUG9zdHBvbmVQcm9wcyA9IHtcbiAgcmVhc29uOiBzdHJpbmdcbiAgcm91dGU6IHN0cmluZ1xufVxuZXhwb3J0IGZ1bmN0aW9uIFBvc3Rwb25lKHsgcmVhc29uLCByb3V0ZSB9OiBQb3N0cG9uZVByb3BzKTogbmV2ZXIge1xuICBjb25zdCBwcmVyZW5kZXJTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3QgZHluYW1pY1RyYWNraW5nID1cbiAgICBwcmVyZW5kZXJTdG9yZSAmJiBwcmVyZW5kZXJTdG9yZS50eXBlID09PSAncHJlcmVuZGVyLXBwcidcbiAgICAgID8gcHJlcmVuZGVyU3RvcmUuZHluYW1pY1RyYWNraW5nXG4gICAgICA6IG51bGxcbiAgcG9zdHBvbmVXaXRoVHJhY2tpbmcocm91dGUsIHJlYXNvbiwgZHluYW1pY1RyYWNraW5nKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9zdHBvbmVXaXRoVHJhY2tpbmcoXG4gIHJvdXRlOiBzdHJpbmcsXG4gIGV4cHJlc3Npb246IHN0cmluZyxcbiAgZHluYW1pY1RyYWNraW5nOiBudWxsIHwgRHluYW1pY1RyYWNraW5nU3RhdGVcbik6IG5ldmVyIHtcbiAgYXNzZXJ0UG9zdHBvbmUoKVxuICBpZiAoZHluYW1pY1RyYWNraW5nKSB7XG4gICAgZHluYW1pY1RyYWNraW5nLmR5bmFtaWNBY2Nlc3Nlcy5wdXNoKHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlbid0IGRlYnVnZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYW5vdGhlciBlcnJvciBmb3IgdGhlXG4gICAgICAvLyBzdGFjayB0cmFjZS5cbiAgICAgIHN0YWNrOiBkeW5hbWljVHJhY2tpbmcuaXNEZWJ1Z0R5bmFtaWNBY2Nlc3Nlc1xuICAgICAgICA/IG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgZXhwcmVzc2lvbixcbiAgICB9KVxuICB9XG5cbiAgUmVhY3QudW5zdGFibGVfcG9zdHBvbmUoY3JlYXRlUG9zdHBvbmVSZWFzb24ocm91dGUsIGV4cHJlc3Npb24pKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3N0cG9uZVJlYXNvbihyb3V0ZTogc3RyaW5nLCBleHByZXNzaW9uOiBzdHJpbmcpIHtcbiAgcmV0dXJuIChcbiAgICBgUm91dGUgJHtyb3V0ZX0gbmVlZHMgdG8gYmFpbCBvdXQgb2YgcHJlcmVuZGVyaW5nIGF0IHRoaXMgcG9pbnQgYmVjYXVzZSBpdCB1c2VkICR7ZXhwcmVzc2lvbn0uIGAgK1xuICAgIGBSZWFjdCB0aHJvd3MgdGhpcyBzcGVjaWFsIG9iamVjdCB0byBpbmRpY2F0ZSB3aGVyZS4gSXQgc2hvdWxkIG5vdCBiZSBjYXVnaHQgYnkgYCArXG4gICAgYHlvdXIgb3duIHRyeS9jYXRjaC4gTGVhcm4gbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvcHByLWNhdWdodC1lcnJvcmBcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEeW5hbWljUG9zdHBvbmUoZXJyOiB1bmtub3duKSB7XG4gIGlmIChcbiAgICB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJlxuICAgIGVyciAhPT0gbnVsbCAmJlxuICAgIHR5cGVvZiAoZXJyIGFzIGFueSkubWVzc2FnZSA9PT0gJ3N0cmluZydcbiAgKSB7XG4gICAgcmV0dXJuIGlzRHluYW1pY1Bvc3Rwb25lUmVhc29uKChlcnIgYXMgYW55KS5tZXNzYWdlKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbihyZWFzb246IHN0cmluZykge1xuICByZXR1cm4gKFxuICAgIHJlYXNvbi5pbmNsdWRlcyhcbiAgICAgICduZWVkcyB0byBiYWlsIG91dCBvZiBwcmVyZW5kZXJpbmcgYXQgdGhpcyBwb2ludCBiZWNhdXNlIGl0IHVzZWQnXG4gICAgKSAmJlxuICAgIHJlYXNvbi5pbmNsdWRlcyhcbiAgICAgICdMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9wcHItY2F1Z2h0LWVycm9yJ1xuICAgIClcbiAgKVxufVxuXG5pZiAoaXNEeW5hbWljUG9zdHBvbmVSZWFzb24oY3JlYXRlUG9zdHBvbmVSZWFzb24oJyUlJScsICdeXl4nKSkgPT09IGZhbHNlKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnSW52YXJpYW50OiBpc0R5bmFtaWNQb3N0cG9uZSBtaXNpZGVudGlmaWVkIGEgcG9zdHBvbmUgcmVhc29uLiBUaGlzIGlzIGEgYnVnIGluIE5leHQuanMnXG4gIClcbn1cblxuY29uc3QgTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURUQgPSAnTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURUQnXG5cbmZ1bmN0aW9uIGNyZWF0ZVByZXJlbmRlckludGVycnVwdGVkRXJyb3IobWVzc2FnZTogc3RyaW5nKTogRXJyb3Ige1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKVxuICA7KGVycm9yIGFzIGFueSkuZGlnZXN0ID0gTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURURcbiAgcmV0dXJuIGVycm9yXG59XG5cbnR5cGUgRGlnZXN0RXJyb3IgPSBFcnJvciAmIHtcbiAgZGlnZXN0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJlcmVuZGVySW50ZXJydXB0ZWRFcnJvcihcbiAgZXJyb3I6IHVua25vd25cbik6IGVycm9yIGlzIERpZ2VzdEVycm9yIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAoZXJyb3IgYXMgYW55KS5kaWdlc3QgPT09IE5FWFRfUFJFUkVOREVSX0lOVEVSUlVQVEVEICYmXG4gICAgJ25hbWUnIGluIGVycm9yICYmXG4gICAgJ21lc3NhZ2UnIGluIGVycm9yICYmXG4gICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NlZER5bmFtaWNEYXRhKFxuICBkeW5hbWljQWNjZXNzZXM6IEFycmF5PER5bmFtaWNBY2Nlc3M+XG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIGR5bmFtaWNBY2Nlc3Nlcy5sZW5ndGggPiAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdW1lRHluYW1pY0FjY2VzcyhcbiAgc2VydmVyRHluYW1pYzogRHluYW1pY1RyYWNraW5nU3RhdGUsXG4gIGNsaWVudER5bmFtaWM6IER5bmFtaWNUcmFja2luZ1N0YXRlXG4pOiBEeW5hbWljVHJhY2tpbmdTdGF0ZVsnZHluYW1pY0FjY2Vzc2VzJ10ge1xuICAvLyBXZSBtdXRhdGUgYmVjYXVzZSB3ZSBvbmx5IGNhbGwgdGhpcyBvbmNlIHdlIGFyZSBubyBsb25nZXIgd3JpdGluZ1xuICAvLyB0byB0aGUgZHluYW1pY1RyYWNraW5nU3RhdGUgYW5kIGl0J3MgbW9yZSBlZmZpY2llbnQgdGhhbiBjcmVhdGluZyBhIG5ld1xuICAvLyBhcnJheS5cbiAgc2VydmVyRHluYW1pYy5keW5hbWljQWNjZXNzZXMucHVzaCguLi5jbGllbnREeW5hbWljLmR5bmFtaWNBY2Nlc3NlcylcbiAgcmV0dXJuIHNlcnZlckR5bmFtaWMuZHluYW1pY0FjY2Vzc2VzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREeW5hbWljQVBJQWNjZXNzZXMoXG4gIGR5bmFtaWNBY2Nlc3NlczogQXJyYXk8RHluYW1pY0FjY2Vzcz5cbik6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIGR5bmFtaWNBY2Nlc3Nlc1xuICAgIC5maWx0ZXIoXG4gICAgICAoYWNjZXNzKTogYWNjZXNzIGlzIFJlcXVpcmVkPER5bmFtaWNBY2Nlc3M+ID0+XG4gICAgICAgIHR5cGVvZiBhY2Nlc3Muc3RhY2sgPT09ICdzdHJpbmcnICYmIGFjY2Vzcy5zdGFjay5sZW5ndGggPiAwXG4gICAgKVxuICAgIC5tYXAoKHsgZXhwcmVzc2lvbiwgc3RhY2sgfSkgPT4ge1xuICAgICAgc3RhY2sgPSBzdGFja1xuICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgXCJFcnJvcjogXCIgcHJlZml4IGZyb20gdGhlIGZpcnN0IGxpbmUgb2YgdGhlIHN0YWNrIHRyYWNlIGFzXG4gICAgICAgIC8vIHdlbGwgYXMgdGhlIGZpcnN0IDQgbGluZXMgb2YgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGlzIHRoZSBkaXN0YW5jZVxuICAgICAgICAvLyBmcm9tIHRoZSB1c2VyIGNvZGUgYW5kIHRoZSBgbmV3IEVycm9yKCkuc3RhY2tgIGNhbGwuXG4gICAgICAgIC5zbGljZSg0KVxuICAgICAgICAuZmlsdGVyKChsaW5lKSA9PiB7XG4gICAgICAgICAgLy8gRXhjbHVkZSBOZXh0LmpzIGludGVybmFscyBmcm9tIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnbm9kZV9tb2R1bGVzL25leHQvJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEV4Y2x1ZGUgYW5vbnltb3VzIGZ1bmN0aW9ucyBmcm9tIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnICg8YW5vbnltb3VzPiknKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXhjbHVkZSBOb2RlLmpzIGludGVybmFscyBmcm9tIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgICAgICBpZiAobGluZS5pbmNsdWRlcygnIChub2RlOicpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICAuam9pbignXFxuJylcbiAgICAgIHJldHVybiBgRHluYW1pYyBBUEkgVXNhZ2UgRGVidWcgLSAke2V4cHJlc3Npb259OlxcbiR7c3RhY2t9YFxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIGFzc2VydFBvc3Rwb25lKCkge1xuICBpZiAoIWhhc1Bvc3Rwb25lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFyaWFudDogUmVhY3QudW5zdGFibGVfcG9zdHBvbmUgaXMgbm90IGRlZmluZWQuIFRoaXMgc3VnZ2VzdHMgdGhlIHdyb25nIHZlcnNpb24gb2YgUmVhY3Qgd2FzIGxvYWRlZC4gVGhpcyBpcyBhIGJ1ZyBpbiBOZXh0LmpzYFxuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrIHRvIGFsbG93IHVzIHRvIGFib3J0IGEgcmVuZGVyIHVzaW5nIGEgUG9zdHBvbmUgaW5zdGFuY2UgaW5zdGVhZCBvZiBhbiBFcnJvciB3aGljaCBjaGFuZ2VzIFJlYWN0J3NcbiAqIGFib3J0IHNlbWFudGljcyBzbGlnaHRseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvc3Rwb25lZEFib3J0U2lnbmFsKHJlYXNvbjogc3RyaW5nKTogQWJvcnRTaWduYWwge1xuICBhc3NlcnRQb3N0cG9uZSgpXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgLy8gV2UgZ2V0IG91ciBoYW5kcyBvbiBhIHBvc3Rwb25lIGluc3RhbmNlIGJ5IGNhbGxpbmcgcG9zdHBvbmUgYW5kIGNhdGNoaW5nIHRoZSB0aHJvd1xuICB0cnkge1xuICAgIFJlYWN0LnVuc3RhYmxlX3Bvc3Rwb25lKHJlYXNvbilcbiAgfSBjYXRjaCAoeDogdW5rbm93bikge1xuICAgIGNvbnRyb2xsZXIuYWJvcnQoeClcbiAgfVxuICByZXR1cm4gY29udHJvbGxlci5zaWduYWxcbn1cblxuLyoqXG4gKiBJbiBhIHByZXJlbmRlciwgd2UgbWF5IGVuZCB1cCB3aXRoIGhhbmdpbmcgUHJvbWlzZXMgYXMgaW5wdXRzIGR1ZSB0aGVtXG4gKiBzdGFsbGluZyBvbiBjb25uZWN0aW9uKCkgb3IgYmVjYXVzZSB0aGV5J3JlIGxvYWRpbmcgZHluYW1pYyBkYXRhLiBJbiB0aGF0XG4gKiBjYXNlIHdlIG5lZWQgdG8gYWJvcnQgdGhlIGVuY29kaW5nIG9mIGFyZ3VtZW50cyBzaW5jZSB0aGV5J2xsIG5ldmVyIGNvbXBsZXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZ2luZ0lucHV0QWJvcnRTaWduYWwoXG4gIHdvcmtVbml0U3RvcmU6IFByZXJlbmRlclN0b3JlTW9kZXJuXG4pOiBBYm9ydFNpZ25hbCB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcblxuICBpZiAod29ya1VuaXRTdG9yZS5jYWNoZVNpZ25hbCkge1xuICAgIC8vIElmIHdlIGhhdmUgYSBjYWNoZVNpZ25hbCBpdCBtZWFucyB3ZSdyZSBpbiBhIHByb3NwZWN0aXZlIHJlbmRlci4gSWYgdGhlIGlucHV0XG4gICAgLy8gd2UncmUgd2FpdGluZyBvbiBpcyBjb21pbmcgZnJvbSBhbm90aGVyIGNhY2hlLCB3ZSBkbyB3YW50IHRvIHdhaXQgZm9yIGl0IHNvIHRoYXRcbiAgICAvLyB3ZSBjYW4gcmVzb2x2ZSB0aGlzIGNhY2hlIGVudHJ5IHRvby5cbiAgICB3b3JrVW5pdFN0b3JlLmNhY2hlU2lnbmFsLmlucHV0UmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlIHdlJ3JlIGluIHRoZSBmaW5hbCByZW5kZXIgYW5kIHdlIHNob3VsZCBhbHJlYWR5IGhhdmUgYWxsIG91ciBjYWNoZXNcbiAgICAvLyBmaWxsZWQuIFdlIG1pZ2h0IHN0aWxsIGJlIHdhaXRpbmcgb24gc29tZSBtaWNyb3Rhc2tzIHNvIHdlIHdhaXQgb25lIHRpY2sgYmVmb3JlXG4gICAgLy8gZ2l2aW5nIHVwLiBXaGVuIHdlIGdpdmUgdXAsIHdlIHN0aWxsIHdhbnQgdG8gcmVuZGVyIHRoZSBjb250ZW50IG9mIHRoaXMgY2FjaGVcbiAgICAvLyBhcyBkZWVwbHkgYXMgd2UgY2FuIHNvIHRoYXQgd2UgY2FuIHN1c3BlbmQgYXMgZGVlcGx5IGFzIHBvc3NpYmxlIGluIHRoZSB0cmVlXG4gICAgLy8gb3Igbm90IGF0IGFsbCBpZiB3ZSBkb24ndCBlbmQgdXAgd2FpdGluZyBmb3IgdGhlIGlucHV0LlxuICAgIHNjaGVkdWxlT25OZXh0VGljaygoKSA9PiBjb250cm9sbGVyLmFib3J0KCkpXG4gIH1cblxuICByZXR1cm4gY29udHJvbGxlci5zaWduYWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFubm90YXRlRHluYW1pY0FjY2VzcyhcbiAgZXhwcmVzc2lvbjogc3RyaW5nLFxuICBwcmVyZW5kZXJTdG9yZTogUHJlcmVuZGVyU3RvcmVNb2Rlcm5cbikge1xuICBjb25zdCBkeW5hbWljVHJhY2tpbmcgPSBwcmVyZW5kZXJTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgaWYgKGR5bmFtaWNUcmFja2luZykge1xuICAgIGR5bmFtaWNUcmFja2luZy5keW5hbWljQWNjZXNzZXMucHVzaCh7XG4gICAgICBzdGFjazogZHluYW1pY1RyYWNraW5nLmlzRGVidWdEeW5hbWljQWNjZXNzZXNcbiAgICAgICAgPyBuZXcgRXJyb3IoKS5zdGFja1xuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGV4cHJlc3Npb24sXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlRHluYW1pY1JvdXRlUGFyYW1zKGV4cHJlc3Npb246IHN0cmluZykge1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAoXG4gICAgd29ya1N0b3JlICYmXG4gICAgd29ya1N0b3JlLmlzU3RhdGljR2VuZXJhdGlvbiAmJlxuICAgIHdvcmtTdG9yZS5mYWxsYmFja1JvdXRlUGFyYW1zICYmXG4gICAgd29ya1N0b3JlLmZhbGxiYWNrUm91dGVQYXJhbXMuc2l6ZSA+IDBcbiAgKSB7XG4gICAgLy8gVGhlcmUgYXJlIGZhbGxiYWNrIHJvdXRlIHBhcmFtcywgd2Ugc2hvdWxkIHRyYWNrIHRoZXNlIGFzIGR5bmFtaWNcbiAgICAvLyBhY2Nlc3Nlcy5cbiAgICBjb25zdCB3b3JrVW5pdFN0b3JlID0gd29ya1VuaXRBc3luY1N0b3JhZ2UuZ2V0U3RvcmUoKVxuICAgIGlmICh3b3JrVW5pdFN0b3JlKSB7XG4gICAgICAvLyBXZSdyZSBwcmVyZW5kZXJpbmcgd2l0aCBkeW5hbWljSU8gb3IgUFBSIG9yIGJvdGhcbiAgICAgIGlmICh3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXItY2xpZW50Jykge1xuICAgICAgICAvLyBXZSBhcmUgaW4gYSBwcmVyZW5kZXIgd2l0aCBkeW5hbWljSU8gc2VtYW50aWNzXG4gICAgICAgIC8vIFdlIGFyZSBnb2luZyB0byBoYW5nIGhlcmUgYW5kIG5ldmVyIHJlc29sdmUuIFRoaXMgd2lsbCBjYXVzZSB0aGUgY3VycmVudGx5XG4gICAgICAgIC8vIHJlbmRlcmluZyBjb21wb25lbnQgdG8gZWZmZWN0aXZlbHkgYmUgYSBkeW5hbWljIGhvbGVcbiAgICAgICAgUmVhY3QudXNlKG1ha2VIYW5naW5nUHJvbWlzZSh3b3JrVW5pdFN0b3JlLnJlbmRlclNpZ25hbCwgZXhwcmVzc2lvbikpXG4gICAgICB9IGVsc2UgaWYgKHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3ByZXJlbmRlci1wcHInKSB7XG4gICAgICAgIC8vIFdlJ3JlIHByZXJlbmRlcmluZyB3aXRoIFBQUlxuICAgICAgICBwb3N0cG9uZVdpdGhUcmFja2luZyhcbiAgICAgICAgICB3b3JrU3RvcmUucm91dGUsXG4gICAgICAgICAgZXhwcmVzc2lvbixcbiAgICAgICAgICB3b3JrVW5pdFN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3ByZXJlbmRlci1sZWdhY3knKSB7XG4gICAgICAgIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uKGV4cHJlc3Npb24sIHdvcmtTdG9yZSwgd29ya1VuaXRTdG9yZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgaGFzU3VzcGVuc2VSZWdleCA9IC9cXG5cXHMrYXQgU3VzcGVuc2UgXFwoPGFub255bW91cz5cXCkvXG5jb25zdCBoYXNTdXNwZW5zZUFmdGVyQm9keU9ySHRtbFJlZ2V4ID1cbiAgL1xcblxccythdCAoPzpib2R5fGh0bWwpIFxcKDxhbm9ueW1vdXM+XFwpW1xcc1xcU10qP1xcblxccythdCBTdXNwZW5zZSBcXCg8YW5vbnltb3VzPlxcKS9cbmNvbnN0IGhhc01ldGFkYXRhUmVnZXggPSBuZXcgUmVnRXhwKFxuICBgXFxcXG5cXFxccythdCAke01FVEFEQVRBX0JPVU5EQVJZX05BTUV9W1xcXFxuXFxcXHNdYFxuKVxuY29uc3QgaGFzVmlld3BvcnRSZWdleCA9IG5ldyBSZWdFeHAoXG4gIGBcXFxcblxcXFxzK2F0ICR7VklFV1BPUlRfQk9VTkRBUllfTkFNRX1bXFxcXG5cXFxcc11gXG4pXG5jb25zdCBoYXNPdXRsZXRSZWdleCA9IG5ldyBSZWdFeHAoYFxcXFxuXFxcXHMrYXQgJHtPVVRMRVRfQk9VTkRBUllfTkFNRX1bXFxcXG5cXFxcc11gKVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tBbGxvd2VkRHluYW1pY0FjY2VzcyhcbiAgd29ya1N0b3JlOiBXb3JrU3RvcmUsXG4gIGNvbXBvbmVudFN0YWNrOiBzdHJpbmcsXG4gIGR5bmFtaWNWYWxpZGF0aW9uOiBEeW5hbWljVmFsaWRhdGlvblN0YXRlLFxuICBjbGllbnREeW5hbWljOiBEeW5hbWljVHJhY2tpbmdTdGF0ZVxuKSB7XG4gIGlmIChoYXNPdXRsZXRSZWdleC50ZXN0KGNvbXBvbmVudFN0YWNrKSkge1xuICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gdHJhY2sgdGhhdCB0aGlzIGlzIGR5bmFtaWMuIEl0IGlzIG9ubHkgc28gd2hlbiBzb21ldGhpbmcgZWxzZSBpcyBhbHNvIGR5bmFtaWMuXG4gICAgcmV0dXJuXG4gIH0gZWxzZSBpZiAoaGFzTWV0YWRhdGFSZWdleC50ZXN0KGNvbXBvbmVudFN0YWNrKSkge1xuICAgIGR5bmFtaWNWYWxpZGF0aW9uLmhhc0R5bmFtaWNNZXRhZGF0YSA9IHRydWVcbiAgICByZXR1cm5cbiAgfSBlbHNlIGlmIChoYXNWaWV3cG9ydFJlZ2V4LnRlc3QoY29tcG9uZW50U3RhY2spKSB7XG4gICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzRHluYW1pY1ZpZXdwb3J0ID0gdHJ1ZVxuICAgIHJldHVyblxuICB9IGVsc2UgaWYgKGhhc1N1c3BlbnNlQWZ0ZXJCb2R5T3JIdG1sUmVnZXgudGVzdChjb21wb25lbnRTdGFjaykpIHtcbiAgICAvLyBUaGlzIHByZXJlbmRlciBoYXMgYSBTdXNwZW5zZSBib3VuZGFyeSBhYm92ZSB0aGUgYm9keSB3aGljaFxuICAgIC8vIGVmZmVjdGl2ZWx5IG9wdHMgdGhlIHBhZ2UgaW50byBhbGxvd2luZyAxMDAlIGR5bmFtaWMgcmVuZGVyaW5nXG4gICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzQWxsb3dlZER5bmFtaWMgPSB0cnVlXG4gICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzU3VzcGVuc2VBYm92ZUJvZHkgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH0gZWxzZSBpZiAoaGFzU3VzcGVuc2VSZWdleC50ZXN0KGNvbXBvbmVudFN0YWNrKSkge1xuICAgIC8vIHRoaXMgZXJyb3IgaGFkIGEgU3VzcGVuc2UgYm91bmRhcnkgYWJvdmUgaXQgc28gd2UgZG9uJ3QgbmVlZCB0byByZXBvcnQgaXQgYXMgYSBzb3VyY2VcbiAgICAvLyBvZiBkaXNhbGxvd2VkXG4gICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzQWxsb3dlZER5bmFtaWMgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH0gZWxzZSBpZiAoY2xpZW50RHluYW1pYy5zeW5jRHluYW1pY0Vycm9yV2l0aFN0YWNrKSB7XG4gICAgLy8gVGhpcyB0YXNrIHdhcyB0aGUgdGFzayB0aGF0IGNhbGxlZCB0aGUgc3luYyBlcnJvci5cbiAgICBkeW5hbWljVmFsaWRhdGlvbi5keW5hbWljRXJyb3JzLnB1c2goXG4gICAgICBjbGllbnREeW5hbWljLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2tcbiAgICApXG4gICAgcmV0dXJuXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBSb3V0ZSBcIiR7d29ya1N0b3JlLnJvdXRlfVwiOiBBIGNvbXBvbmVudCBhY2Nlc3NlZCBkYXRhLCBoZWFkZXJzLCBwYXJhbXMsIHNlYXJjaFBhcmFtcywgb3IgYSBzaG9ydC1saXZlZCBjYWNoZSB3aXRob3V0IGEgU3VzcGVuc2UgYm91bmRhcnkgbm9yIGEgXCJ1c2UgY2FjaGVcIiBhYm92ZSBpdC4gU2VlIG1vcmUgaW5mbzogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbmV4dC1wcmVyZW5kZXItbWlzc2luZy1zdXNwZW5zZWBcbiAgICBjb25zdCBlcnJvciA9IGNyZWF0ZUVycm9yV2l0aENvbXBvbmVudE9yT3duZXJTdGFjayhtZXNzYWdlLCBjb21wb25lbnRTdGFjaylcbiAgICBkeW5hbWljVmFsaWRhdGlvbi5keW5hbWljRXJyb3JzLnB1c2goZXJyb3IpXG4gICAgcmV0dXJuXG4gIH1cbn1cblxuLyoqXG4gKiBJbiBkZXYgbW9kZSwgd2UgcHJlZmVyIHVzaW5nIHRoZSBvd25lciBzdGFjaywgb3RoZXJ3aXNlIHRoZSBwcm92aWRlZFxuICogY29tcG9uZW50IHN0YWNrIGlzIHVzZWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yV2l0aENvbXBvbmVudE9yT3duZXJTdGFjayhcbiAgbWVzc2FnZTogc3RyaW5nLFxuICBjb21wb25lbnRTdGFjazogc3RyaW5nXG4pIHtcbiAgY29uc3Qgb3duZXJTdGFjayA9XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBSZWFjdC5jYXB0dXJlT3duZXJTdGFja1xuICAgICAgPyBSZWFjdC5jYXB0dXJlT3duZXJTdGFjaygpXG4gICAgICA6IG51bGxcblxuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKVxuICBlcnJvci5zdGFjayA9IGVycm9yLm5hbWUgKyAnOiAnICsgbWVzc2FnZSArIChvd25lclN0YWNrID8/IGNvbXBvbmVudFN0YWNrKVxuICByZXR1cm4gZXJyb3Jcbn1cblxuZXhwb3J0IGVudW0gUHJlbHVkZVN0YXRlIHtcbiAgRnVsbCA9IDAsXG4gIEVtcHR5ID0gMSxcbiAgRXJyb3JlZCA9IDIsXG59XG5cbmZ1bmN0aW9uIGxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3Iod29ya1N0b3JlOiBXb3JrU3RvcmUsIGVycm9yOiBFcnJvcik6IHZvaWQge1xuICBjb25zb2xlLmVycm9yKGVycm9yKVxuXG4gIGlmICghd29ya1N0b3JlLmRldikge1xuICAgIGlmICh3b3JrU3RvcmUuaGFzUmVhZGFibGVFcnJvclN0YWNrcykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFRvIGdldCBhIG1vcmUgZGV0YWlsZWQgc3RhY2sgdHJhY2UgYW5kIHBpbnBvaW50IHRoZSBpc3N1ZSwgc3RhcnQgdGhlIGFwcCBpbiBkZXZlbG9wbWVudCBtb2RlIGJ5IHJ1bm5pbmcgXFxgbmV4dCBkZXZcXGAsIHRoZW4gb3BlbiBcIiR7d29ya1N0b3JlLnJvdXRlfVwiIGluIHlvdXIgYnJvd3NlciB0byBpbnZlc3RpZ2F0ZSB0aGUgZXJyb3IuYFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBUbyBnZXQgYSBtb3JlIGRldGFpbGVkIHN0YWNrIHRyYWNlIGFuZCBwaW5wb2ludCB0aGUgaXNzdWUsIHRyeSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAgLSBTdGFydCB0aGUgYXBwIGluIGRldmVsb3BtZW50IG1vZGUgYnkgcnVubmluZyBcXGBuZXh0IGRldlxcYCwgdGhlbiBvcGVuIFwiJHt3b3JrU3RvcmUucm91dGV9XCIgaW4geW91ciBicm93c2VyIHRvIGludmVzdGlnYXRlIHRoZSBlcnJvci5cbiAgLSBSZXJ1biB0aGUgcHJvZHVjdGlvbiBidWlsZCB3aXRoIFxcYG5leHQgYnVpbGQgLS1kZWJ1Zy1wcmVyZW5kZXJcXGAgdG8gZ2VuZXJhdGUgYmV0dGVyIHN0YWNrIHRyYWNlcy5gKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJZkRpc2FsbG93ZWREeW5hbWljKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgcHJlbHVkZTogUHJlbHVkZVN0YXRlLFxuICBkeW5hbWljVmFsaWRhdGlvbjogRHluYW1pY1ZhbGlkYXRpb25TdGF0ZSxcbiAgc2VydmVyRHluYW1pYzogRHluYW1pY1RyYWNraW5nU3RhdGVcbik6IHZvaWQge1xuICBpZiAod29ya1N0b3JlLmludmFsaWREeW5hbWljVXNhZ2VFcnJvcikge1xuICAgIGxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3Iod29ya1N0b3JlLCB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yKVxuICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoKVxuICB9XG5cbiAgaWYgKHByZWx1ZGUgIT09IFByZWx1ZGVTdGF0ZS5GdWxsKSB7XG4gICAgaWYgKGR5bmFtaWNWYWxpZGF0aW9uLmhhc1N1c3BlbnNlQWJvdmVCb2R5KSB7XG4gICAgICAvLyBUaGlzIHJvdXRlIGhhcyBvcHRlZCBpbnRvIGFsbG93aW5nIGZ1bGx5IGR5bmFtaWMgcmVuZGVyaW5nXG4gICAgICAvLyBieSBpbmNsdWRpbmcgYSBTdXNwZW5zZSBib3VuZGFyeSBhYm92ZSB0aGUgYm9keS4gSW4gdGhpcyBjYXNlXG4gICAgICAvLyBhIGxhY2sgb2YgYSBzaGVsbCBpcyBub3QgY29uc2lkZXJlZCBkaXNhbGxvd2VkIHNvIHdlIHNpbXBseSByZXR1cm5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChzZXJ2ZXJEeW5hbWljLnN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2spIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIHNoZWxsIGFuZCB0aGUgc2VydmVyIGRpZCBzb21ldGhpbmcgc3luYyBkeW5hbWljIGxpa2VseVxuICAgICAgLy8gbGVhZGluZyB0byBhbiBlYXJseSB0ZXJtaW5hdGlvbiBvZiB0aGUgcHJlcmVuZGVyIGJlZm9yZSB0aGUgc2hlbGxcbiAgICAgIC8vIGNvdWxkIGJlIGNvbXBsZXRlZC4gV2UgdGVybWluYXRlIHRoZSBidWlsZC92YWxpZGF0aW5nIHJlbmRlci5cbiAgICAgIGxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3IoXG4gICAgICAgIHdvcmtTdG9yZSxcbiAgICAgICAgc2VydmVyRHluYW1pYy5zeW5jRHluYW1pY0Vycm9yV2l0aFN0YWNrXG4gICAgICApXG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKClcbiAgICB9XG5cbiAgICAvLyBXZSBkaWRuJ3QgaGF2ZSBhbnkgc3luYyBiYWlsb3V0cyBidXQgdGhlcmUgbWF5IGJlIHVzZXIgY29kZSB3aGljaFxuICAgIC8vIGJsb2NrZWQgdGhlIHJvb3QuIFdlIHdvdWxkIGhhdmUgY2FwdHVyZWQgdGhlc2UgZHVyaW5nIHRoZSBwcmVyZW5kZXJcbiAgICAvLyBhbmQgY2FuIGxvZyB0aGVtIGhlcmUgYW5kIHRoZW4gdGVybWluYXRlIHRoZSBidWlsZC92YWxpZGF0aW5nIHJlbmRlclxuICAgIGNvbnN0IGR5bmFtaWNFcnJvcnMgPSBkeW5hbWljVmFsaWRhdGlvbi5keW5hbWljRXJyb3JzXG4gICAgaWYgKGR5bmFtaWNFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljRXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3Iod29ya1N0b3JlLCBkeW5hbWljRXJyb3JzW2ldKVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKClcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBnb3QgdGhpcyBmYXIgdGhlbiB0aGUgb25seSBvdGhlciB0aGluZyB0aGF0IGNvdWxkIGJlIGJsb2NraW5nXG4gICAgLy8gdGhlIHJvb3QgaXMgZHluYW1pYyBWaWV3cG9ydC4gSWYgdGhpcyBpcyBkeW5hbWljIHRoZW5cbiAgICAvLyB5b3UgbmVlZCB0byBvcHQgaW50byB0aGF0IGJ5IGFkZGluZyBhIFN1c3BlbnNlIGJvdW5kYXJ5IGFib3ZlIHRoZSBib2R5XG4gICAgLy8gdG8gaW5kaWNhdGUgeW91ciBhcmUgb2sgd2l0aCBmdWxseSBkeW5hbWljIHJlbmRlcmluZy5cbiAgICBpZiAoZHluYW1pY1ZhbGlkYXRpb24uaGFzRHluYW1pY1ZpZXdwb3J0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgUm91dGUgXCIke3dvcmtTdG9yZS5yb3V0ZX1cIiBoYXMgYSBcXGBnZW5lcmF0ZVZpZXdwb3J0XFxgIHRoYXQgZGVwZW5kcyBvbiBSZXF1ZXN0IGRhdGEgKFxcYGNvb2tpZXMoKVxcYCwgZXRjLi4uKSBvciB1bmNhY2hlZCBleHRlcm5hbCBkYXRhIChcXGBmZXRjaCguLi4pXFxgLCBldGMuLi4pIHdpdGhvdXQgZXhwbGljaXRseSBhbGxvd2luZyBmdWxseSBkeW5hbWljIHJlbmRlcmluZy4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXByZXJlbmRlci1keW5hbWljLXZpZXdwb3J0YFxuICAgICAgKVxuICAgICAgdGhyb3cgbmV3IFN0YXRpY0dlbkJhaWxvdXRFcnJvcigpXG4gICAgfVxuXG4gICAgaWYgKHByZWx1ZGUgPT09IFByZWx1ZGVTdGF0ZS5FbXB0eSkge1xuICAgICAgLy8gSWYgd2UgZXZlciBnZXQgdGhpcyBmYXIgdGhlbiB3ZSBtZXNzZWQgdXAgdGhlIHRyYWNraW5nIG9mIGludmFsaWQgZHluYW1pYy5cbiAgICAgIC8vIFdlIHN0aWxsIGFkaGVyZSB0byB0aGUgY29uc3RyYWludCB0aGF0IHlvdSBtdXN0IHByb2R1Y2UgYSBzaGVsbCBidXQgaW52aXRlIHRoZVxuICAgICAgLy8gdXNlciB0byByZXBvcnQgdGhpcyBhcyBhIGJ1ZyBpbiBOZXh0LmpzLlxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFJvdXRlIFwiJHt3b3JrU3RvcmUucm91dGV9XCIgZGlkIG5vdCBwcm9kdWNlIGEgc3RhdGljIHNoZWxsIGFuZCBOZXh0LmpzIHdhcyB1bmFibGUgdG8gZGV0ZXJtaW5lIGEgcmVhc29uLiBUaGlzIGlzIGEgYnVnIGluIE5leHQuanMuYFxuICAgICAgKVxuICAgICAgdGhyb3cgbmV3IFN0YXRpY0dlbkJhaWxvdXRFcnJvcigpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChcbiAgICAgIGR5bmFtaWNWYWxpZGF0aW9uLmhhc0FsbG93ZWREeW5hbWljID09PSBmYWxzZSAmJlxuICAgICAgZHluYW1pY1ZhbGlkYXRpb24uaGFzRHluYW1pY01ldGFkYXRhXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgUm91dGUgXCIke3dvcmtTdG9yZS5yb3V0ZX1cIiBoYXMgYSBcXGBnZW5lcmF0ZU1ldGFkYXRhXFxgIHRoYXQgZGVwZW5kcyBvbiBSZXF1ZXN0IGRhdGEgKFxcYGNvb2tpZXMoKVxcYCwgZXRjLi4uKSBvciB1bmNhY2hlZCBleHRlcm5hbCBkYXRhIChcXGBmZXRjaCguLi4pXFxgLCBldGMuLi4pIHdoZW4gdGhlIHJlc3Qgb2YgdGhlIHJvdXRlIGRvZXMgbm90LiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtcHJlcmVuZGVyLWR5bmFtaWMtbWV0YWRhdGFgXG4gICAgICApXG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKClcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQb3N0cG9uZSIsIlByZWx1ZGVTdGF0ZSIsImFib3J0QW5kVGhyb3dPblN5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3MiLCJhYm9ydE9uU3luY2hyb25vdXNQbGF0Zm9ybUlPQWNjZXNzIiwiYWNjZXNzZWREeW5hbWljRGF0YSIsImFubm90YXRlRHluYW1pY0FjY2VzcyIsImNvbnN1bWVEeW5hbWljQWNjZXNzIiwiY3JlYXRlRHluYW1pY1RyYWNraW5nU3RhdGUiLCJjcmVhdGVEeW5hbWljVmFsaWRhdGlvblN0YXRlIiwiY3JlYXRlSGFuZ2luZ0lucHV0QWJvcnRTaWduYWwiLCJjcmVhdGVQb3N0cG9uZWRBYm9ydFNpZ25hbCIsImZvcm1hdER5bmFtaWNBUElBY2Nlc3NlcyIsImdldEZpcnN0RHluYW1pY1JlYXNvbiIsImlzRHluYW1pY1Bvc3Rwb25lIiwiaXNQcmVyZW5kZXJJbnRlcnJ1cHRlZEVycm9yIiwibWFya0N1cnJlbnRTY29wZUFzRHluYW1pYyIsInBvc3Rwb25lV2l0aFRyYWNraW5nIiwidGhyb3dJZkRpc2FsbG93ZWREeW5hbWljIiwidGhyb3dUb0ludGVycnVwdFN0YXRpY0dlbmVyYXRpb24iLCJ0cmFja0FsbG93ZWREeW5hbWljQWNjZXNzIiwidHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlciIsInRyYWNrRmFsbGJhY2tQYXJhbUFjY2Vzc2VkIiwidHJhY2tTeW5jaHJvbm91c1BsYXRmb3JtSU9BY2Nlc3NJbkRldiIsInRyYWNrU3luY2hyb25vdXNSZXF1ZXN0RGF0YUFjY2Vzc0luRGV2IiwidXNlRHluYW1pY1JvdXRlUGFyYW1zIiwiaGFzUG9zdHBvbmUiLCJSZWFjdCIsInVuc3RhYmxlX3Bvc3Rwb25lIiwiaXNEZWJ1Z0R5bmFtaWNBY2Nlc3NlcyIsImR5bmFtaWNBY2Nlc3NlcyIsInN5bmNEeW5hbWljRXJyb3JXaXRoU3RhY2siLCJoYXNTdXNwZW5zZUFib3ZlQm9keSIsImhhc0R5bmFtaWNNZXRhZGF0YSIsImhhc0R5bmFtaWNWaWV3cG9ydCIsImhhc0FsbG93ZWREeW5hbWljIiwiZHluYW1pY0Vycm9ycyIsInRyYWNraW5nU3RhdGUiLCJleHByZXNzaW9uIiwic3RvcmUiLCJ3b3JrVW5pdFN0b3JlIiwidHlwZSIsImZvcmNlRHluYW1pYyIsImZvcmNlU3RhdGljIiwiZHluYW1pY1Nob3VsZEVycm9yIiwiU3RhdGljR2VuQmFpbG91dEVycm9yIiwicm91dGUiLCJkeW5hbWljVHJhY2tpbmciLCJyZXZhbGlkYXRlIiwiZXJyIiwiRHluYW1pY1NlcnZlckVycm9yIiwiZHluYW1pY1VzYWdlRGVzY3JpcHRpb24iLCJkeW5hbWljVXNhZ2VTdGFjayIsInN0YWNrIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwidXNlZER5bmFtaWMiLCJwcmVyZW5kZXJTdG9yZSIsIndvcmtVbml0QXN5bmNTdG9yYWdlIiwiZ2V0U3RvcmUiLCJfc3RvcmUiLCJhYm9ydE9uU3luY2hyb25vdXNEeW5hbWljRGF0YUFjY2VzcyIsInJlYXNvbiIsImVycm9yIiwiY3JlYXRlUHJlcmVuZGVySW50ZXJydXB0ZWRFcnJvciIsImNvbnRyb2xsZXIiLCJhYm9ydCIsInB1c2giLCJFcnJvciIsInVuZGVmaW5lZCIsImVycm9yV2l0aFN0YWNrIiwicmVxdWVzdFN0b3JlIiwicHJlcmVuZGVyUGhhc2UiLCJwcmVyZW5kZXJTaWduYWwiLCJzaWduYWwiLCJhYm9ydGVkIiwiYXNzZXJ0UG9zdHBvbmUiLCJjcmVhdGVQb3N0cG9uZVJlYXNvbiIsIm1lc3NhZ2UiLCJpc0R5bmFtaWNQb3N0cG9uZVJlYXNvbiIsImluY2x1ZGVzIiwiTkVYVF9QUkVSRU5ERVJfSU5URVJSVVBURUQiLCJkaWdlc3QiLCJsZW5ndGgiLCJzZXJ2ZXJEeW5hbWljIiwiY2xpZW50RHluYW1pYyIsImZpbHRlciIsImFjY2VzcyIsIm1hcCIsInNwbGl0Iiwic2xpY2UiLCJsaW5lIiwiam9pbiIsIkFib3J0Q29udHJvbGxlciIsIngiLCJjYWNoZVNpZ25hbCIsImlucHV0UmVhZHkiLCJ0aGVuIiwic2NoZWR1bGVPbk5leHRUaWNrIiwid29ya1N0b3JlIiwid29ya0FzeW5jU3RvcmFnZSIsImlzU3RhdGljR2VuZXJhdGlvbiIsImZhbGxiYWNrUm91dGVQYXJhbXMiLCJzaXplIiwidXNlIiwibWFrZUhhbmdpbmdQcm9taXNlIiwicmVuZGVyU2lnbmFsIiwiaGFzU3VzcGVuc2VSZWdleCIsImhhc1N1c3BlbnNlQWZ0ZXJCb2R5T3JIdG1sUmVnZXgiLCJoYXNNZXRhZGF0YVJlZ2V4IiwiUmVnRXhwIiwiTUVUQURBVEFfQk9VTkRBUllfTkFNRSIsImhhc1ZpZXdwb3J0UmVnZXgiLCJWSUVXUE9SVF9CT1VOREFSWV9OQU1FIiwiaGFzT3V0bGV0UmVnZXgiLCJPVVRMRVRfQk9VTkRBUllfTkFNRSIsImNvbXBvbmVudFN0YWNrIiwiZHluYW1pY1ZhbGlkYXRpb24iLCJ0ZXN0IiwiY3JlYXRlRXJyb3JXaXRoQ29tcG9uZW50T3JPd25lclN0YWNrIiwib3duZXJTdGFjayIsImNhcHR1cmVPd25lclN0YWNrIiwibmFtZSIsImxvZ0Rpc2FsbG93ZWREeW5hbWljRXJyb3IiLCJjb25zb2xlIiwiZGV2IiwiaGFzUmVhZGFibGVFcnJvclN0YWNrcyIsInByZWx1ZGUiLCJpbnZhbGlkRHluYW1pY1VzYWdlRXJyb3IiLCJpIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/app-render/dynamic-rendering.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/create-deduped-by-callsite-server-error-logger.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/next/dist/server/create-deduped-by-callsite-server-error-logger.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"createDedupedByCallsiteServerErrorLoggerDev\", ({\n    enumerable: true,\n    get: function() {\n        return createDedupedByCallsiteServerErrorLoggerDev;\n    }\n}));\nconst _react = /*#__PURE__*/ _interop_require_wildcard(__webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) {\n        return obj;\n    }\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n        return {\n            default: obj\n        };\n    }\n    var cache = _getRequireWildcardCache(nodeInterop);\n    if (cache && cache.has(obj)) {\n        return cache.get(obj);\n    }\n    var newObj = {\n        __proto__: null\n    };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for(var key in obj){\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) {\n                Object.defineProperty(newObj, key, desc);\n            } else {\n                newObj[key] = obj[key];\n            }\n        }\n    }\n    newObj.default = obj;\n    if (cache) {\n        cache.set(obj, newObj);\n    }\n    return newObj;\n}\nconst errorRef = {\n    current: null\n};\n// React.cache is currently only available in canary/experimental React channels.\nconst cache = typeof _react.cache === 'function' ? _react.cache : (fn)=>fn;\n// When Dynamic IO is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn =  false ? 0 : console.warn;\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(// eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n(key)=>{\n    try {\n        logErrorOrWarn(errorRef.current);\n    } finally{\n        errorRef.current = null;\n    }\n});\nfunction createDedupedByCallsiteServerErrorLoggerDev(getMessage) {\n    return function logDedupedError(...args) {\n        const message = getMessage(...args);\n        if (true) {\n            var _stack;\n            const callStackFrames = (_stack = new Error().stack) == null ? void 0 : _stack.split('\\n');\n            if (callStackFrames === undefined || callStackFrames.length < 4) {\n                logErrorOrWarn(message);\n            } else {\n                // Error:\n                //   logDedupedError\n                //   asyncApiBeingAccessedSynchronously\n                //   <userland callsite>\n                // TODO: This breaks if sourcemaps with ignore lists are enabled.\n                const key = callStackFrames[4];\n                errorRef.current = message;\n                flushCurrentErrorIfNew(key);\n            }\n        } else {}\n    };\n}\n\n//# sourceMappingURL=create-deduped-by-callsite-server-error-logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2NyZWF0ZS1kZWR1cGVkLWJ5LWNhbGxzaXRlLXNlcnZlci1lcnJvci1sb2dnZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRiwrRUFBOEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRix1REFBdUQsbUJBQU8sQ0FBQyxtRkFBTztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsTUFBNkIsR0FBRyxDQUFhO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBcUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLLEVBRU47QUFDVDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcc2VydmVyXFxjcmVhdGUtZGVkdXBlZC1ieS1jYWxsc2l0ZS1zZXJ2ZXItZXJyb3ItbG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlRGVkdXBlZEJ5Q2FsbHNpdGVTZXJ2ZXJFcnJvckxvZ2dlckRldlwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRGVkdXBlZEJ5Q2FsbHNpdGVTZXJ2ZXJFcnJvckxvZ2dlckRldjtcbiAgICB9XG59KTtcbmNvbnN0IF9yZWFjdCA9IC8qI19fUFVSRV9fKi8gX2ludGVyb3BfcmVxdWlyZV93aWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBXZWFrTWFwICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBudWxsO1xuICAgIHZhciBjYWNoZUJhYmVsSW50ZXJvcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpO1xuICAgIHJldHVybiAoX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24obm9kZUludGVyb3ApIHtcbiAgICAgICAgcmV0dXJuIG5vZGVJbnRlcm9wID8gY2FjaGVOb2RlSW50ZXJvcCA6IGNhY2hlQmFiZWxJbnRlcm9wO1xuICAgIH0pKG5vZGVJbnRlcm9wKTtcbn1cbmZ1bmN0aW9uIF9pbnRlcm9wX3JlcXVpcmVfd2lsZGNhcmQob2JqLCBub2RlSW50ZXJvcCkge1xuICAgIGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUobm9kZUludGVyb3ApO1xuICAgIGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkge1xuICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KG9iaik7XG4gICAgfVxuICAgIHZhciBuZXdPYmogPSB7XG4gICAgICAgIF9fcHJvdG9fXzogbnVsbFxuICAgIH07XG4gICAgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgIGZvcih2YXIga2V5IGluIG9iail7XG4gICAgICAgIGlmIChrZXkgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGRlc2MgJiYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICAgIGNhY2hlLnNldChvYmosIG5ld09iaik7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmo7XG59XG5jb25zdCBlcnJvclJlZiA9IHtcbiAgICBjdXJyZW50OiBudWxsXG59O1xuLy8gUmVhY3QuY2FjaGUgaXMgY3VycmVudGx5IG9ubHkgYXZhaWxhYmxlIGluIGNhbmFyeS9leHBlcmltZW50YWwgUmVhY3QgY2hhbm5lbHMuXG5jb25zdCBjYWNoZSA9IHR5cGVvZiBfcmVhY3QuY2FjaGUgPT09ICdmdW5jdGlvbicgPyBfcmVhY3QuY2FjaGUgOiAoZm4pPT5mbjtcbi8vIFdoZW4gRHluYW1pYyBJTyBpcyBlbmFibGVkLCB3ZSByZWNvcmQgdGhlc2UgYXMgZXJyb3JzIHNvIHRoYXQgdGhleVxuLy8gYXJlIGNhcHR1cmVkIGJ5IHRoZSBkZXYgb3ZlcmxheSBhcyBpdCdzIG1vcmUgY3JpdGljYWwgdG8gZml4IHRoZXNlXG4vLyB3aGVuIGVuYWJsZWQuXG5jb25zdCBsb2dFcnJvck9yV2FybiA9IHByb2Nlc3MuZW52Ll9fTkVYVF9EWU5BTUlDX0lPID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcbi8vIFdlIGRvbid0IHdhbnQgdG8gZGVkdXBlIGFjcm9zcyByZXF1ZXN0cy5cbi8vIFRoZSBkZXZlbG9wZXIgbWlnaHQndmUganVzdCBhdHRlbXB0ZWQgdG8gZml4IHRoZSB3YXJuaW5nIHNvIHdlIHNob3VsZCB3YXJuIGFnYWluIGlmIGl0IHN0aWxsIGhhcHBlbnMuXG5jb25zdCBmbHVzaEN1cnJlbnRFcnJvcklmTmV3ID0gY2FjaGUoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAtLSBjYWNoZSBrZXlcbihrZXkpPT57XG4gICAgdHJ5IHtcbiAgICAgICAgbG9nRXJyb3JPcldhcm4oZXJyb3JSZWYuY3VycmVudCk7XG4gICAgfSBmaW5hbGx5e1xuICAgICAgICBlcnJvclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIGNyZWF0ZURlZHVwZWRCeUNhbGxzaXRlU2VydmVyRXJyb3JMb2dnZXJEZXYoZ2V0TWVzc2FnZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBsb2dEZWR1cGVkRXJyb3IoLi4uYXJncykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0TWVzc2FnZSguLi5hcmdzKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBfc3RhY2s7XG4gICAgICAgICAgICBjb25zdCBjYWxsU3RhY2tGcmFtZXMgPSAoX3N0YWNrID0gbmV3IEVycm9yKCkuc3RhY2spID09IG51bGwgPyB2b2lkIDAgOiBfc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgaWYgKGNhbGxTdGFja0ZyYW1lcyA9PT0gdW5kZWZpbmVkIHx8IGNhbGxTdGFja0ZyYW1lcy5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICAgICAgbG9nRXJyb3JPcldhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVycm9yOlxuICAgICAgICAgICAgICAgIC8vICAgbG9nRGVkdXBlZEVycm9yXG4gICAgICAgICAgICAgICAgLy8gICBhc3luY0FwaUJlaW5nQWNjZXNzZWRTeW5jaHJvbm91c2x5XG4gICAgICAgICAgICAgICAgLy8gICA8dXNlcmxhbmQgY2FsbHNpdGU+XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3MgaWYgc291cmNlbWFwcyB3aXRoIGlnbm9yZSBsaXN0cyBhcmUgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBjYWxsU3RhY2tGcmFtZXNbNF07XG4gICAgICAgICAgICAgICAgZXJyb3JSZWYuY3VycmVudCA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgZmx1c2hDdXJyZW50RXJyb3JJZk5ldyhrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nRXJyb3JPcldhcm4obWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtZGVkdXBlZC1ieS1jYWxsc2l0ZS1zZXJ2ZXItZXJyb3ItbG9nZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/create-deduped-by-callsite-server-error-logger.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/dynamic-rendering-utils.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/server/dynamic-rendering-utils.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    isHangingPromiseRejectionError: function() {\n        return isHangingPromiseRejectionError;\n    },\n    makeHangingPromise: function() {\n        return makeHangingPromise;\n    }\n});\nfunction isHangingPromiseRejectionError(err) {\n    if (typeof err !== 'object' || err === null || !('digest' in err)) {\n        return false;\n    }\n    return err.digest === HANGING_PROMISE_REJECTION;\n}\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION';\nclass HangingPromiseRejectionError extends Error {\n    constructor(expression){\n        super(`During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context.`), this.expression = expression, this.digest = HANGING_PROMISE_REJECTION;\n    }\n}\nconst abortListenersBySignal = new WeakMap();\nfunction makeHangingPromise(signal, expression) {\n    if (signal.aborted) {\n        return Promise.reject(new HangingPromiseRejectionError(expression));\n    } else {\n        const hangingPromise = new Promise((_, reject)=>{\n            const boundRejection = reject.bind(null, new HangingPromiseRejectionError(expression));\n            let currentListeners = abortListenersBySignal.get(signal);\n            if (currentListeners) {\n                currentListeners.push(boundRejection);\n            } else {\n                const listeners = [\n                    boundRejection\n                ];\n                abortListenersBySignal.set(signal, listeners);\n                signal.addEventListener('abort', ()=>{\n                    for(let i = 0; i < listeners.length; i++){\n                        listeners[i]();\n                    }\n                }, {\n                    once: true\n                });\n            }\n        });\n        // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n        // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n        // your own promise out of it you'll need to ensure you handle the error when it rejects.\n        hangingPromise.catch(ignoreReject);\n        return hangingPromise;\n    }\n}\nfunction ignoreReject() {}\n\n//# sourceMappingURL=dynamic-rendering-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL2R5bmFtaWMtcmVuZGVyaW5nLXV0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsTUFBTSxDQUdMO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxZQUFZLHNHQUFzRyxZQUFZO0FBQ3BLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0JBQXNCO0FBQ3pEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcZHluYW1pYy1yZW5kZXJpbmctdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpc0hhbmdpbmdQcm9taXNlUmVqZWN0aW9uRXJyb3I6IG51bGwsXG4gICAgbWFrZUhhbmdpbmdQcm9taXNlOiBudWxsXG59KTtcbmZ1bmN0aW9uIF9leHBvcnQodGFyZ2V0LCBhbGwpIHtcbiAgICBmb3IodmFyIG5hbWUgaW4gYWxsKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBhbGxbbmFtZV1cbiAgICB9KTtcbn1cbl9leHBvcnQoZXhwb3J0cywge1xuICAgIGlzSGFuZ2luZ1Byb21pc2VSZWplY3Rpb25FcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpc0hhbmdpbmdQcm9taXNlUmVqZWN0aW9uRXJyb3I7XG4gICAgfSxcbiAgICBtYWtlSGFuZ2luZ1Byb21pc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbWFrZUhhbmdpbmdQcm9taXNlO1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gaXNIYW5naW5nUHJvbWlzZVJlamVjdGlvbkVycm9yKGVycikge1xuICAgIGlmICh0eXBlb2YgZXJyICE9PSAnb2JqZWN0JyB8fCBlcnIgPT09IG51bGwgfHwgISgnZGlnZXN0JyBpbiBlcnIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGVyci5kaWdlc3QgPT09IEhBTkdJTkdfUFJPTUlTRV9SRUpFQ1RJT047XG59XG5jb25zdCBIQU5HSU5HX1BST01JU0VfUkVKRUNUSU9OID0gJ0hBTkdJTkdfUFJPTUlTRV9SRUpFQ1RJT04nO1xuY2xhc3MgSGFuZ2luZ1Byb21pc2VSZWplY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihleHByZXNzaW9uKXtcbiAgICAgICAgc3VwZXIoYER1cmluZyBwcmVyZW5kZXJpbmcsICR7ZXhwcmVzc2lvbn0gcmVqZWN0cyB3aGVuIHRoZSBwcmVyZW5kZXIgaXMgY29tcGxldGUuIFR5cGljYWxseSB0aGVzZSBlcnJvcnMgYXJlIGhhbmRsZWQgYnkgUmVhY3QgYnV0IGlmIHlvdSBtb3ZlICR7ZXhwcmVzc2lvbn0gdG8gYSBkaWZmZXJlbnQgY29udGV4dCBieSB1c2luZyBcXGBzZXRUaW1lb3V0XFxgLCBcXGBhZnRlclxcYCwgb3Igc2ltaWxhciBmdW5jdGlvbnMgeW91IG1heSBvYnNlcnZlIHRoaXMgZXJyb3IgYW5kIHlvdSBzaG91bGQgaGFuZGxlIGl0IGluIHRoYXQgY29udGV4dC5gKSwgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbiwgdGhpcy5kaWdlc3QgPSBIQU5HSU5HX1BST01JU0VfUkVKRUNUSU9OO1xuICAgIH1cbn1cbmNvbnN0IGFib3J0TGlzdGVuZXJzQnlTaWduYWwgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gbWFrZUhhbmdpbmdQcm9taXNlKHNpZ25hbCwgZXhwcmVzc2lvbikge1xuICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEhhbmdpbmdQcm9taXNlUmVqZWN0aW9uRXJyb3IoZXhwcmVzc2lvbikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGhhbmdpbmdQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHJlamVjdCk9PntcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kUmVqZWN0aW9uID0gcmVqZWN0LmJpbmQobnVsbCwgbmV3IEhhbmdpbmdQcm9taXNlUmVqZWN0aW9uRXJyb3IoZXhwcmVzc2lvbikpO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRMaXN0ZW5lcnMgPSBhYm9ydExpc3RlbmVyc0J5U2lnbmFsLmdldChzaWduYWwpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzLnB1c2goYm91bmRSZWplY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kUmVqZWN0aW9uXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBhYm9ydExpc3RlbmVyc0J5U2lnbmFsLnNldChzaWduYWwsIGxpc3RlbmVycyk7XG4gICAgICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgYXJlIGZpbmUgaWYgbm8gb25lIGFjdHVhbGx5IGF3YWl0cyB0aGlzIHByb21pc2UuIFdlIHNob3VsZG4ndCBjb25zaWRlciB0aGlzIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gc29cbiAgICAgICAgLy8gd2UgYXR0YWNoIGEgbm9vcCBjYXRjaCBoYW5kbGVyIGhlcmUgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLiBJZiB5b3UgYWN0dWFsbHkgYXdhaXQgc29tZXdoZXJlIG9yIGNvbnN0cnVjdFxuICAgICAgICAvLyB5b3VyIG93biBwcm9taXNlIG91dCBvZiBpdCB5b3UnbGwgbmVlZCB0byBlbnN1cmUgeW91IGhhbmRsZSB0aGUgZXJyb3Igd2hlbiBpdCByZWplY3RzLlxuICAgICAgICBoYW5naW5nUHJvbWlzZS5jYXRjaChpZ25vcmVSZWplY3QpO1xuICAgICAgICByZXR1cm4gaGFuZ2luZ1Byb21pc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaWdub3JlUmVqZWN0KCkge31cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHluYW1pYy1yZW5kZXJpbmctdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/dynamic-rendering-utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/request/cookies.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/server/request/cookies.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"cookies\", ({\n    enumerable: true,\n    get: function() {\n        return cookies;\n    }\n}));\nconst _requestcookies = __webpack_require__(/*! ../web/spec-extension/adapters/request-cookies */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/request-cookies.js\");\nconst _cookies = __webpack_require__(/*! ../web/spec-extension/cookies */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/cookies.js\");\nconst _workasyncstorageexternal = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\");\nconst _workunitasyncstorageexternal = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js\");\nconst _dynamicrendering = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(app-pages-browser)/./node_modules/next/dist/server/app-render/dynamic-rendering.js\");\nconst _staticgenerationbailout = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js\");\nconst _dynamicrenderingutils = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(app-pages-browser)/./node_modules/next/dist/server/dynamic-rendering-utils.js\");\nconst _creatededupedbycallsiteservererrorlogger = __webpack_require__(/*! ../create-deduped-by-callsite-server-error-logger */ \"(app-pages-browser)/./node_modules/next/dist/server/create-deduped-by-callsite-server-error-logger.js\");\nconst _scheduler = __webpack_require__(/*! ../../lib/scheduler */ \"(app-pages-browser)/./node_modules/next/dist/lib/scheduler.js\");\nconst _utils = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./node_modules/next/dist/server/request/utils.js\");\nconst _invarianterror = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/invariant-error.js\");\nconst _reflect = __webpack_require__(/*! ../web/spec-extension/adapters/reflect */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js\");\nfunction cookies() {\n    const callingExpression = 'cookies';\n    const workStore = _workasyncstorageexternal.workAsyncStorage.getStore();\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (workStore) {\n        if (workUnitStore && workUnitStore.phase === 'after' && !(0, _utils.isRequestAPICallableInsideAfter)()) {\n            throw Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"cookies\" inside \"after(...)\". This is not supported. If you need this data inside an \"after\" callback, use \"cookies\" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after')), \"__NEXT_ERROR_CODE\", {\n                value: \"E88\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workStore.forceStatic) {\n            // When using forceStatic we override all other logic and always just return an empty\n            // cookies object without tracking\n            const underlyingCookies = createEmptyCookies();\n            return makeUntrackedExoticCookies(underlyingCookies);\n        }\n        if (workUnitStore) {\n            if (workUnitStore.type === 'cache') {\n                throw Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"cookies\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"cookies\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E398\",\n                    enumerable: false,\n                    configurable: true\n                });\n            } else if (workUnitStore.type === 'unstable-cache') {\n                throw Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"cookies\" inside a function cached with \"unstable_cache(...)\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"cookies\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E157\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        }\n        if (workStore.dynamicShouldError) {\n            throw Object.defineProperty(new _staticgenerationbailout.StaticGenBailoutError(\"Route \".concat(workStore.route, ' with `dynamic = \"error\"` couldn\\'t be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering')), \"__NEXT_ERROR_CODE\", {\n                value: \"E549\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'prerender':\n                    return makeHangingCookies(workUnitStore);\n                case 'prerender-client':\n                    const exportName = '`cookies`';\n                    throw Object.defineProperty(new _invarianterror.InvariantError(\"\".concat(exportName, \" must not be used within a client component. Next.js should be preventing \").concat(exportName, \" from being included in client components statically, but did not in this case.\")), \"__NEXT_ERROR_CODE\", {\n                        value: \"E693\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender-ppr':\n                    // PPR Prerender (no dynamicIO)\n                    // We are prerendering with PPR. We need track dynamic access here eagerly\n                    // to keep continuity with how cookies has worked in PPR without dynamicIO.\n                    (0, _dynamicrendering.postponeWithTracking)(workStore.route, callingExpression, workUnitStore.dynamicTracking);\n                    break;\n                case 'prerender-legacy':\n                    // Legacy Prerender\n                    // We track dynamic access here so we don't need to wrap the cookies in\n                    // individual property access tracking.\n                    (0, _dynamicrendering.throwToInterruptStaticGeneration)(callingExpression, workStore, workUnitStore);\n                    break;\n                default:\n            }\n        }\n        // We fall through to the dynamic context below but we still track dynamic access\n        // because in dev we can still error for things like using cookies inside a cache context\n        (0, _dynamicrendering.trackDynamicDataInDynamicRender)(workStore, workUnitStore);\n    }\n    // cookies is being called in a dynamic context\n    const requestStore = (0, _workunitasyncstorageexternal.getExpectedRequestStore)(callingExpression);\n    let underlyingCookies;\n    if ((0, _requestcookies.areCookiesMutableInCurrentPhase)(requestStore)) {\n        // We can't conditionally return different types here based on the context.\n        // To avoid confusion, we always return the readonly type here.\n        underlyingCookies = requestStore.userspaceMutableCookies;\n    } else {\n        underlyingCookies = requestStore.cookies;\n    }\n    if ( true && !(workStore == null ? void 0 : workStore.isPrefetchRequest)) {\n        if (false) {}\n        return makeUntrackedExoticCookiesWithDevWarnings(underlyingCookies, workStore == null ? void 0 : workStore.route);\n    } else {\n        return makeUntrackedExoticCookies(underlyingCookies);\n    }\n}\nfunction createEmptyCookies() {\n    return _requestcookies.RequestCookiesAdapter.seal(new _cookies.RequestCookies(new Headers({})));\n}\nconst CachedCookies = new WeakMap();\nfunction makeHangingCookies(prerenderStore) {\n    const cachedPromise = CachedCookies.get(prerenderStore);\n    if (cachedPromise) {\n        return cachedPromise;\n    }\n    const promise = (0, _dynamicrenderingutils.makeHangingPromise)(prerenderStore.renderSignal, '`cookies()`');\n    CachedCookies.set(prerenderStore, promise);\n    return promise;\n}\nfunction makeUntrackedExoticCookies(underlyingCookies) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = Promise.resolve(underlyingCookies);\n    CachedCookies.set(underlyingCookies, promise);\n    Object.defineProperties(promise, {\n        [Symbol.iterator]: {\n            value: underlyingCookies[Symbol.iterator] ? underlyingCookies[Symbol.iterator].bind(underlyingCookies) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesIterator.bind(underlyingCookies)\n        },\n        size: {\n            get () {\n                return underlyingCookies.size;\n            }\n        },\n        get: {\n            value: underlyingCookies.get.bind(underlyingCookies)\n        },\n        getAll: {\n            value: underlyingCookies.getAll.bind(underlyingCookies)\n        },\n        has: {\n            value: underlyingCookies.has.bind(underlyingCookies)\n        },\n        set: {\n            value: underlyingCookies.set.bind(underlyingCookies)\n        },\n        delete: {\n            value: underlyingCookies.delete.bind(underlyingCookies)\n        },\n        clear: {\n            value: typeof underlyingCookies.clear === 'function' ? underlyingCookies.clear.bind(underlyingCookies) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n            // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n            // has extra properties not available on RequestCookie instances.\n            polyfilledResponseCookiesClear.bind(underlyingCookies, promise)\n        },\n        toString: {\n            value: underlyingCookies.toString.bind(underlyingCookies)\n        }\n    });\n    return promise;\n}\nfunction makeUntrackedExoticCookiesWithDevWarnings(underlyingCookies, route) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = new Promise((resolve)=>(0, _scheduler.scheduleImmediate)(()=>resolve(underlyingCookies)));\n    CachedCookies.set(underlyingCookies, promise);\n    Object.defineProperties(promise, {\n        [Symbol.iterator]: {\n            value: function() {\n                const expression = '`...cookies()` or similar iteration';\n                syncIODev(route, expression);\n                return underlyingCookies[Symbol.iterator] ? underlyingCookies[Symbol.iterator].apply(underlyingCookies, arguments) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n                // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n                // has extra properties not available on RequestCookie instances.\n                polyfilledResponseCookiesIterator.call(underlyingCookies);\n            },\n            writable: false\n        },\n        size: {\n            get () {\n                const expression = '`cookies().size`';\n                syncIODev(route, expression);\n                return underlyingCookies.size;\n            }\n        },\n        get: {\n            value: function get() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().get()`';\n                } else {\n                    expression = \"`cookies().get(\".concat(describeNameArg(arguments[0]), \")`\");\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.get.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        getAll: {\n            value: function getAll() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().getAll()`';\n                } else {\n                    expression = \"`cookies().getAll(\".concat(describeNameArg(arguments[0]), \")`\");\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.getAll.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        has: {\n            value: function get() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().has()`';\n                } else {\n                    expression = \"`cookies().has(\".concat(describeNameArg(arguments[0]), \")`\");\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.has.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        set: {\n            value: function set() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().set()`';\n                } else {\n                    const arg = arguments[0];\n                    if (arg) {\n                        expression = \"`cookies().set(\".concat(describeNameArg(arg), \", ...)`\");\n                    } else {\n                        expression = '`cookies().set(...)`';\n                    }\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.set.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        delete: {\n            value: function() {\n                let expression;\n                if (arguments.length === 0) {\n                    expression = '`cookies().delete()`';\n                } else if (arguments.length === 1) {\n                    expression = \"`cookies().delete(\".concat(describeNameArg(arguments[0]), \")`\");\n                } else {\n                    expression = \"`cookies().delete(\".concat(describeNameArg(arguments[0]), \", ...)`\");\n                }\n                syncIODev(route, expression);\n                return underlyingCookies.delete.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        },\n        clear: {\n            value: function clear() {\n                const expression = '`cookies().clear()`';\n                syncIODev(route, expression);\n                // @ts-ignore clear is defined in RequestCookies implementation but not in the type\n                return typeof underlyingCookies.clear === 'function' ? underlyingCookies.clear.apply(underlyingCookies, arguments) : // but that's already a hard thing to debug so we may as well implement it consistently. The biggest problem with\n                // implementing this in this way is the underlying cookie type is a ResponseCookie and not a RequestCookie and so it\n                // has extra properties not available on RequestCookie instances.\n                polyfilledResponseCookiesClear.call(underlyingCookies, promise);\n            },\n            writable: false\n        },\n        toString: {\n            value: function toString() {\n                const expression = '`cookies().toString()` or implicit casting';\n                syncIODev(route, expression);\n                return underlyingCookies.toString.apply(underlyingCookies, arguments);\n            },\n            writable: false\n        }\n    });\n    return promise;\n}\n// Similar to `makeUntrackedExoticCookiesWithDevWarnings`, but just logging the\n// sync access without actually defining the cookies properties on the promise.\nfunction makeUntrackedCookiesWithDevWarnings(underlyingCookies, route) {\n    const cachedCookies = CachedCookies.get(underlyingCookies);\n    if (cachedCookies) {\n        return cachedCookies;\n    }\n    const promise = new Promise((resolve)=>(0, _scheduler.scheduleImmediate)(()=>resolve(underlyingCookies)));\n    const proxiedPromise = new Proxy(promise, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case Symbol.iterator:\n                    {\n                        warnForSyncAccess(route, '`...cookies()` or similar iteration');\n                        break;\n                    }\n                case 'size':\n                case 'get':\n                case 'getAll':\n                case 'has':\n                case 'set':\n                case 'delete':\n                case 'clear':\n                case 'toString':\n                    {\n                        warnForSyncAccess(route, \"`cookies().\".concat(prop, \"`\"));\n                        break;\n                    }\n                default:\n                    {\n                    // We only warn for well-defined properties of the cookies object.\n                    }\n            }\n            return _reflect.ReflectAdapter.get(target, prop, receiver);\n        }\n    });\n    CachedCookies.set(underlyingCookies, proxiedPromise);\n    return proxiedPromise;\n}\nfunction describeNameArg(arg) {\n    return typeof arg === 'object' && arg !== null && typeof arg.name === 'string' ? \"'\".concat(arg.name, \"'\") : typeof arg === 'string' ? \"'\".concat(arg, \"'\") : '...';\n}\nfunction syncIODev(route, expression) {\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (workUnitStore && workUnitStore.type === 'request' && workUnitStore.prerenderPhase === true) {\n        // When we're rendering dynamically in dev we need to advance out of the\n        // Prerender environment when we read Request data synchronously\n        const requestStore = workUnitStore;\n        (0, _dynamicrendering.trackSynchronousRequestDataAccessInDev)(requestStore);\n    }\n    // In all cases we warn normally\n    warnForSyncAccess(route, expression);\n}\nconst warnForSyncAccess = (0, _creatededupedbycallsiteservererrorlogger.createDedupedByCallsiteServerErrorLoggerDev)(createCookiesAccessError);\nfunction createCookiesAccessError(route, expression) {\n    const prefix = route ? 'Route \"'.concat(route, '\" ') : 'This route ';\n    return Object.defineProperty(new Error(\"\".concat(prefix, \"used \").concat(expression, \". \") + \"`cookies()` should be awaited before using its value. \" + \"Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis\"), \"__NEXT_ERROR_CODE\", {\n        value: \"E223\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction polyfilledResponseCookiesIterator() {\n    return this.getAll().map((c)=>[\n            c.name,\n            c\n        ]).values();\n}\nfunction polyfilledResponseCookiesClear(returnable) {\n    for (const cookie of this.getAll()){\n        this.delete(cookie.name);\n    }\n    return returnable;\n} //# sourceMappingURL=cookies.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QvY29va2llcy5qcyIsIm1hcHBpbmdzIjoiOzs7OzJDQWtEZ0JBOzs7ZUFBQUE7Ozs0Q0E3Q1Q7cUNBQ3dCO3NEQUNFOzBEQUkxQjs4Q0FNQTtxREFFK0I7bURBQ0g7c0VBQ3lCO3VDQUMxQjttQ0FDYzs0Q0FDakI7cUNBQ0E7QUF5QnhCLFNBQVNBO0lBQ2QsTUFBTUMsb0JBQW9CO0lBQzFCLE1BQU1DLFlBQVlDLDBCQUFBQSxnQkFBZ0IsQ0FBQ0MsUUFBUTtJQUMzQyxNQUFNQyxnQkFBZ0JDLDhCQUFBQSxvQkFBb0IsQ0FBQ0YsUUFBUTtJQUVuRCxJQUFJRixXQUFXO1FBQ2IsSUFDRUcsaUJBQ0FBLGNBQWNFLEtBQUssS0FBSyxXQUN4QixDQUFDQyxDQUFBQSxHQUFBQSxPQUFBQSwrQkFBK0IsS0FDaEM7WUFDQSxNQUFNLHFCQUdMLENBSEssSUFBSUMsTUFDUixNQUNPLFVBQUVQLFVBQVVRLEtBQUssRUFBQyx1QkFEK0Isa05BQzBNLENBQUMsS0FGL1A7dUJBQUE7NEJBQUE7OEJBQUE7WUFHTjtRQUNGO1FBRUEsSUFBSVIsVUFBVVMsV0FBVyxFQUFFO1lBQ3pCLHFGQUFxRjtZQUNyRixrQ0FBa0M7WUFDbEMsTUFBTUMsb0JBQW9CQztZQUMxQixPQUFPQywyQkFBMkJGO1FBQ3BDO1FBRUEsSUFBSVAsZUFBZTtZQUNqQixJQUFJQSxjQUFjVSxJQUFJLEtBQUssU0FBUztnQkFDbEMsTUFBTSxxQkFFTCxDQUZLLElBQUlOLE1BQ1IsTUFBTyxVQUFFUCxVQUFVUSxLQUFLLEVBQUMsMFVBQTBVLENBQUMsS0FEaFc7MkJBQUE7Z0NBQUE7a0NBQUE7Z0JBRU47WUFDRixPQUFPLElBQUlMLGNBQWNVLElBQUksS0FBSyxrQkFBa0I7Z0JBQ2xELE1BQU0scUJBRUwsQ0FGSyxJQUFJTixNQUNQLE1BQU0sR0FBa0IsT0FBaEJQLFVBQVVRLEtBQUssNlZBQW9YLENBQUMsNkJB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RUEsTUFBTWMsb0JBQW9CSyxDQUFBQSxHQUFBQSwwQ0FBQUEsMkNBQUFBLEVBQ3hCQztBQUdGLFNBQVNBLHlCQUNQN0UsS0FBeUIsRUFDekJ5RCxVQUFrQjtJQUVsQixNQUFNcUIsU0FBUzlFLFFBQVEsT0FBUSxVQUFFQSxPQUFNLEVBQUUsQ0FBQyxLQUFHO0lBQzdDLE9BQU8scUJBSU4sQ0FKTSxJQUFJRCxNQUNULFVBQUcrRSxRQUFPLEtBQUssV0FBRXJCLFlBQVcsRUFBRSxDQUFDLEdBQzdCLEVBQUMsd0RBQXdELENBQUMsRUFDekQsQ0FBRCw2REFBK0QsQ0FBQyxJQUg3RDtlQUFBO29CQUFBO3NCQUFBO0lBSVA7QUFDRjtBQUVBLFNBQVNUO0lBR1AsT0FBTyxJQUFJLENBQUNFLE1BQU0sR0FDZjZCLEdBQUcsQ0FBQyxDQUFDQyxJQUFNO1lBQUNBLEVBQUVQLElBQUk7WUFBRU87U0FBRSxFQUN0QkMsTUFBTTtBQUNYO0FBRUEsU0FBUzNCLCtCQUVQNEIsVUFBMkM7SUFFM0MsS0FBSyxNQUFNQyxVQUFVLElBQUksQ0FBQ2pDLE1BQU0sR0FBSTtRQUNsQyxJQUFJLENBQUNFLE1BQU0sQ0FBQytCLE9BQU9WLElBQUk7SUFDekI7SUFDQSxPQUFPUztBQUNUIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXHNyY1xcc2VydmVyXFxyZXF1ZXN0XFxjb29raWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHR5cGUgUmVhZG9ubHlSZXF1ZXN0Q29va2llcyxcbiAgdHlwZSBSZXNwb25zZUNvb2tpZXMsXG4gIGFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2UsXG4gIFJlcXVlc3RDb29raWVzQWRhcHRlcixcbn0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL3JlcXVlc3QtY29va2llcydcbmltcG9ydCB7IFJlcXVlc3RDb29raWVzIH0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2Nvb2tpZXMnXG5pbXBvcnQgeyB3b3JrQXN5bmNTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQge1xuICB3b3JrVW5pdEFzeW5jU3RvcmFnZSxcbiAgdHlwZSBQcmVyZW5kZXJTdG9yZU1vZGVybixcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7XG4gIHBvc3Rwb25lV2l0aFRyYWNraW5nLFxuICB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbixcbiAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcixcbiAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcnXG5pbXBvcnQgeyBnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1iYWlsb3V0J1xuaW1wb3J0IHsgbWFrZUhhbmdpbmdQcm9taXNlIH0gZnJvbSAnLi4vZHluYW1pYy1yZW5kZXJpbmctdXRpbHMnXG5pbXBvcnQgeyBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IH0gZnJvbSAnLi4vY3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlcidcbmltcG9ydCB7IHNjaGVkdWxlSW1tZWRpYXRlIH0gZnJvbSAnLi4vLi4vbGliL3NjaGVkdWxlcidcbmltcG9ydCB7IGlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgSW52YXJpYW50RXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2ludmFyaWFudC1lcnJvcidcbmltcG9ydCB7IFJlZmxlY3RBZGFwdGVyIH0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL3JlZmxlY3QnXG5cbi8qKlxuICogSW4gdGhpcyB2ZXJzaW9uIG9mIE5leHQuanMgYGNvb2tpZXMoKWAgcmV0dXJucyBhIFByb21pc2UgaG93ZXZlciB5b3UgY2FuIHN0aWxsIHJlZmVyZW5jZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBjb29raWVzIG9iamVjdFxuICogc3luY2hyb25vdXNseSB0byBmYWNpbGl0YXRlIG1pZ3JhdGlvbi4gVGhlIGBVbnNhZmVVbndyYXBwZWRDb29raWVzYCB0eXBlIGlzIGFkZGVkIHRvIHlvdXIgY29kZSBieSBhIGNvZGVtb2QgdGhhdCBhdHRlbXB0cyB0byBhdXRvbWF0aWNhbGx5XG4gKiB1cGRhdGVzIGNhbGxzaXRlcyB0byByZWZsZWN0IHRoZSBuZXcgUHJvbWlzZSByZXR1cm4gdHlwZS4gVGhlcmUgYXJlIHNvbWUgY2FzZXMgd2hlcmUgYGNvb2tpZXMoKWAgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkLCBuYW1lbHlcbiAqIHdoZW4gaXQgaXMgdXNlZCBpbnNpZGUgYSBzeW5jaHJvbm91cyBmdW5jdGlvbiBhbmQgd2UgY2FuJ3QgYmUgc3VyZSB0aGUgZnVuY3Rpb24gY2FuIGJlIG1hZGUgYXN5bmMgYXV0b21hdGljYWxseS4gSW4gdGhlc2UgY2FzZXMgd2UgYWRkIGFuXG4gKiBleHBsaWNpdCB0eXBlIGNhc2UgdG8gYFVuc2FmZVVud3JhcHBlZENvb2tpZXNgIHRvIGVuYWJsZSB0eXBlc2NyaXB0IHRvIGFsbG93IGZvciB0aGUgc3luY2hyb25vdXMgdXNhZ2Ugb25seSB3aGVyZSBpdCBpcyBhY3R1YWxseSBuZWNlc3NhcnkuXG4gKlxuICogWW91IHNob3VsZCBzaG91bGQgdXBkYXRlIHRoZXNlIGNhbGxzaXRlcyB0byBlaXRoZXIgYmUgYXN5bmMgZnVuY3Rpb25zIHdoZXJlIHRoZSBgY29va2llcygpYCB2YWx1ZSBjYW4gYmUgYXdhaXRlZCBvciB5b3Ugc2hvdWxkIGNhbGwgYGNvb2tpZXMoKWBcbiAqIGZyb20gb3V0c2lkZSBhbmQgYXdhaXQgdGhlIHJldHVybiB2YWx1ZSBiZWZvcmUgcGFzc2luZyBpdCBpbnRvIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogWW91IGNhbiBmaW5kIGluc3RhbmNlcyB0aGF0IHJlcXVpcmUgbWFudWFsIG1pZ3JhdGlvbiBieSBzZWFyY2hpbmcgZm9yIGBVbnNhZmVVbndyYXBwZWRDb29raWVzYCBpbiB5b3VyIGNvZGViYXNlIG9yIGJ5IHNlYXJjaCBmb3IgYSBjb21tZW50IHRoYXRcbiAqIHN0YXJ0cyB3aXRoIGBAbmV4dC1jb2RlbW9kLWVycm9yYC5cbiAqXG4gKiBJbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIE5leHQuanMgYGNvb2tpZXMoKWAgd2lsbCBvbmx5IHJldHVybiBhIFByb21pc2UgYW5kIHlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIGFjY2VzcyB0aGUgdW5kZXJseWluZyBjb29raWVzIG9iamVjdCBkaXJlY3RseVxuICogd2l0aG91dCBhd2FpdGluZyB0aGUgcmV0dXJuIHZhbHVlIGZpcnN0LiBXaGVuIHRoaXMgY2hhbmdlIGhhcHBlbnMgdGhlIHR5cGUgYFVuc2FmZVVud3JhcHBlZENvb2tpZXNgIHdpbGwgYmUgdXBkYXRlZCB0byByZWZsZWN0IHRoYXQgaXMgaXQgbm8gbG9uZ2VyXG4gKiB1c2FibGUuXG4gKlxuICogVGhpcyB0eXBlIGlzIG1hcmtlZCBkZXByZWNhdGVkIHRvIGhlbHAgaWRlbnRpZnkgaXQgYXMgdGFyZ2V0IGZvciByZWZhY3RvcmluZyBhd2F5LlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCB0eXBlIFVuc2FmZVVud3JhcHBlZENvb2tpZXMgPSBSZWFkb25seVJlcXVlc3RDb29raWVzXG5cbmV4cG9ydCBmdW5jdGlvbiBjb29raWVzKCk6IFByb21pc2U8UmVhZG9ubHlSZXF1ZXN0Q29va2llcz4ge1xuICBjb25zdCBjYWxsaW5nRXhwcmVzc2lvbiA9ICdjb29raWVzJ1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAod29ya1N0b3JlKSB7XG4gICAgaWYgKFxuICAgICAgd29ya1VuaXRTdG9yZSAmJlxuICAgICAgd29ya1VuaXRTdG9yZS5waGFzZSA9PT0gJ2FmdGVyJyAmJlxuICAgICAgIWlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIoKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAvLyBUT0RPKGFmdGVyKTogY2xhcmlmeSB0aGF0IHRoaXMgb25seSBhcHBsaWVzIHRvIHBhZ2VzP1xuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJjb29raWVzXCIgaW5zaWRlIFwiYWZ0ZXIoLi4uKVwiLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHRoaXMgZGF0YSBpbnNpZGUgYW4gXCJhZnRlclwiIGNhbGxiYWNrLCB1c2UgXCJjb29raWVzXCIgb3V0c2lkZSBvZiB0aGUgY2FsbGJhY2suIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvY2FuYXJ5L2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9hZnRlcmBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAod29ya1N0b3JlLmZvcmNlU3RhdGljKSB7XG4gICAgICAvLyBXaGVuIHVzaW5nIGZvcmNlU3RhdGljIHdlIG92ZXJyaWRlIGFsbCBvdGhlciBsb2dpYyBhbmQgYWx3YXlzIGp1c3QgcmV0dXJuIGFuIGVtcHR5XG4gICAgICAvLyBjb29raWVzIG9iamVjdCB3aXRob3V0IHRyYWNraW5nXG4gICAgICBjb25zdCB1bmRlcmx5aW5nQ29va2llcyA9IGNyZWF0ZUVtcHR5Q29va2llcygpXG4gICAgICByZXR1cm4gbWFrZVVudHJhY2tlZEV4b3RpY0Nvb2tpZXModW5kZXJseWluZ0Nvb2tpZXMpXG4gICAgfVxuXG4gICAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICAgIGlmICh3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdjYWNoZScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcImNvb2tpZXNcIiBpbnNpZGUgXCJ1c2UgY2FjaGVcIi4gQWNjZXNzaW5nIER5bmFtaWMgZGF0YSBzb3VyY2VzIGluc2lkZSBhIGNhY2hlIHNjb3BlIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHRoaXMgZGF0YSBpbnNpZGUgYSBjYWNoZWQgZnVuY3Rpb24gdXNlIFwiY29va2llc1wiIG91dHNpZGUgb2YgdGhlIGNhY2hlZCBmdW5jdGlvbiBhbmQgcGFzcyB0aGUgcmVxdWlyZWQgZHluYW1pYyBkYXRhIGluIGFzIGFuIGFyZ3VtZW50LiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtcmVxdWVzdC1pbi11c2UtY2FjaGVgXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAod29ya1VuaXRTdG9yZS50eXBlID09PSAndW5zdGFibGUtY2FjaGUnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJjb29raWVzXCIgaW5zaWRlIGEgZnVuY3Rpb24gY2FjaGVkIHdpdGggXCJ1bnN0YWJsZV9jYWNoZSguLi4pXCIuIEFjY2Vzc2luZyBEeW5hbWljIGRhdGEgc291cmNlcyBpbnNpZGUgYSBjYWNoZSBzY29wZSBpcyBub3Qgc3VwcG9ydGVkLiBJZiB5b3UgbmVlZCB0aGlzIGRhdGEgaW5zaWRlIGEgY2FjaGVkIGZ1bmN0aW9uIHVzZSBcImNvb2tpZXNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3MgdGhlIHJlcXVpcmVkIGR5bmFtaWMgZGF0YSBpbiBhcyBhbiBhcmd1bWVudC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvdW5zdGFibGVfY2FjaGVgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdvcmtTdG9yZS5keW5hbWljU2hvdWxkRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IoXG4gICAgICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gd2l0aCBcXGBkeW5hbWljID0gXCJlcnJvclwiXFxgIGNvdWxkbid0IGJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgYmVjYXVzZSBpdCB1c2VkIFxcYGNvb2tpZXNcXGAuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3N0YXRpYy1hbmQtZHluYW1pYyNkeW5hbWljLXJlbmRlcmluZ2BcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgICAgc3dpdGNoICh3b3JrVW5pdFN0b3JlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgICAgICByZXR1cm4gbWFrZUhhbmdpbmdDb29raWVzKHdvcmtVbml0U3RvcmUpXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgICAgIGNvbnN0IGV4cG9ydE5hbWUgPSAnYGNvb2tpZXNgJ1xuICAgICAgICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihcbiAgICAgICAgICAgIGAke2V4cG9ydE5hbWV9IG11c3Qgbm90IGJlIHVzZWQgd2l0aGluIGEgY2xpZW50IGNvbXBvbmVudC4gTmV4dC5qcyBzaG91bGQgYmUgcHJldmVudGluZyAke2V4cG9ydE5hbWV9IGZyb20gYmVpbmcgaW5jbHVkZWQgaW4gY2xpZW50IGNvbXBvbmVudHMgc3RhdGljYWxseSwgYnV0IGRpZCBub3QgaW4gdGhpcyBjYXNlLmBcbiAgICAgICAgICApXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1wcHInOlxuICAgICAgICAgIC8vIFBQUiBQcmVyZW5kZXIgKG5vIGR5bmFtaWNJTylcbiAgICAgICAgICAvLyBXZSBhcmUgcHJlcmVuZGVyaW5nIHdpdGggUFBSLiBXZSBuZWVkIHRyYWNrIGR5bmFtaWMgYWNjZXNzIGhlcmUgZWFnZXJseVxuICAgICAgICAgIC8vIHRvIGtlZXAgY29udGludWl0eSB3aXRoIGhvdyBjb29raWVzIGhhcyB3b3JrZWQgaW4gUFBSIHdpdGhvdXQgZHluYW1pY0lPLlxuICAgICAgICAgIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgICAgd29ya1N0b3JlLnJvdXRlLFxuICAgICAgICAgICAgY2FsbGluZ0V4cHJlc3Npb24sXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlLmR5bmFtaWNUcmFja2luZ1xuICAgICAgICAgIClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgICAgICAvLyBMZWdhY3kgUHJlcmVuZGVyXG4gICAgICAgICAgLy8gV2UgdHJhY2sgZHluYW1pYyBhY2Nlc3MgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHdyYXAgdGhlIGNvb2tpZXMgaW5cbiAgICAgICAgICAvLyBpbmRpdmlkdWFsIHByb3BlcnR5IGFjY2VzcyB0cmFja2luZy5cbiAgICAgICAgICB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbihcbiAgICAgICAgICAgIGNhbGxpbmdFeHByZXNzaW9uLFxuICAgICAgICAgICAgd29ya1N0b3JlLFxuICAgICAgICAgICAgd29ya1VuaXRTdG9yZVxuICAgICAgICAgIClcbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBmYWxsIHRocm91Z2ggdG8gdGhlIGR5bmFtaWMgY29udGV4dCBiZWxvdyBidXQgd2Ugc3RpbGwgdHJhY2sgZHluYW1pYyBhY2Nlc3NcbiAgICAvLyBiZWNhdXNlIGluIGRldiB3ZSBjYW4gc3RpbGwgZXJyb3IgZm9yIHRoaW5ncyBsaWtlIHVzaW5nIGNvb2tpZXMgaW5zaWRlIGEgY2FjaGUgY29udGV4dFxuICAgIHRyYWNrRHluYW1pY0RhdGFJbkR5bmFtaWNSZW5kZXIod29ya1N0b3JlLCB3b3JrVW5pdFN0b3JlKVxuICB9XG5cbiAgLy8gY29va2llcyBpcyBiZWluZyBjYWxsZWQgaW4gYSBkeW5hbWljIGNvbnRleHRcblxuICBjb25zdCByZXF1ZXN0U3RvcmUgPSBnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZShjYWxsaW5nRXhwcmVzc2lvbilcblxuICBsZXQgdW5kZXJseWluZ0Nvb2tpZXM6IFJlYWRvbmx5UmVxdWVzdENvb2tpZXNcblxuICBpZiAoYXJlQ29va2llc011dGFibGVJbkN1cnJlbnRQaGFzZShyZXF1ZXN0U3RvcmUpKSB7XG4gICAgLy8gV2UgY2FuJ3QgY29uZGl0aW9uYWxseSByZXR1cm4gZGlmZmVyZW50IHR5cGVzIGhlcmUgYmFzZWQgb24gdGhlIGNvbnRleHQuXG4gICAgLy8gVG8gYXZvaWQgY29uZnVzaW9uLCB3ZSBhbHdheXMgcmV0dXJuIHRoZSByZWFkb25seSB0eXBlIGhlcmUuXG4gICAgdW5kZXJseWluZ0Nvb2tpZXMgPVxuICAgICAgcmVxdWVzdFN0b3JlLnVzZXJzcGFjZU11dGFibGVDb29raWVzIGFzIHVua25vd24gYXMgUmVhZG9ubHlSZXF1ZXN0Q29va2llc1xuICB9IGVsc2Uge1xuICAgIHVuZGVybHlpbmdDb29raWVzID0gcmVxdWVzdFN0b3JlLmNvb2tpZXNcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAhd29ya1N0b3JlPy5pc1ByZWZldGNoUmVxdWVzdCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5fX05FWFRfRFlOQU1JQ19JTykge1xuICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRDb29raWVzV2l0aERldldhcm5pbmdzKFxuICAgICAgICB1bmRlcmx5aW5nQ29va2llcyxcbiAgICAgICAgd29ya1N0b3JlPy5yb3V0ZVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBtYWtlVW50cmFja2VkRXhvdGljQ29va2llc1dpdGhEZXZXYXJuaW5ncyhcbiAgICAgIHVuZGVybHlpbmdDb29raWVzLFxuICAgICAgd29ya1N0b3JlPy5yb3V0ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbWFrZVVudHJhY2tlZEV4b3RpY0Nvb2tpZXModW5kZXJseWluZ0Nvb2tpZXMpXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRW1wdHlDb29raWVzKCk6IFJlYWRvbmx5UmVxdWVzdENvb2tpZXMge1xuICByZXR1cm4gUmVxdWVzdENvb2tpZXNBZGFwdGVyLnNlYWwobmV3IFJlcXVlc3RDb29raWVzKG5ldyBIZWFkZXJzKHt9KSkpXG59XG5cbmludGVyZmFjZSBDYWNoZUxpZmV0aW1lIHt9XG5jb25zdCBDYWNoZWRDb29raWVzID0gbmV3IFdlYWtNYXA8XG4gIENhY2hlTGlmZXRpbWUsXG4gIFByb21pc2U8UmVhZG9ubHlSZXF1ZXN0Q29va2llcz5cbj4oKVxuXG5mdW5jdGlvbiBtYWtlSGFuZ2luZ0Nvb2tpZXMoXG4gIHByZXJlbmRlclN0b3JlOiBQcmVyZW5kZXJTdG9yZU1vZGVyblxuKTogUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPiB7XG4gIGNvbnN0IGNhY2hlZFByb21pc2UgPSBDYWNoZWRDb29raWVzLmdldChwcmVyZW5kZXJTdG9yZSlcbiAgaWYgKGNhY2hlZFByb21pc2UpIHtcbiAgICByZXR1cm4gY2FjaGVkUHJvbWlzZVxuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IG1ha2VIYW5naW5nUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPihcbiAgICBwcmVyZW5kZXJTdG9yZS5yZW5kZXJTaWduYWwsXG4gICAgJ2Bjb29raWVzKClgJ1xuICApXG4gIENhY2hlZENvb2tpZXMuc2V0KHByZXJlbmRlclN0b3JlLCBwcm9taXNlKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIG1ha2VVbnRyYWNrZWRFeG90aWNDb29raWVzKFxuICB1bmRlcmx5aW5nQ29va2llczogUmVhZG9ubHlSZXF1ZXN0Q29va2llc1xuKTogUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPiB7XG4gIGNvbnN0IGNhY2hlZENvb2tpZXMgPSBDYWNoZWRDb29raWVzLmdldCh1bmRlcmx5aW5nQ29va2llcylcbiAgaWYgKGNhY2hlZENvb2tpZXMpIHtcbiAgICByZXR1cm4gY2FjaGVkQ29va2llc1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlcmx5aW5nQ29va2llcylcbiAgQ2FjaGVkQ29va2llcy5zZXQodW5kZXJseWluZ0Nvb2tpZXMsIHByb21pc2UpXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJvbWlzZSwge1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXNbU3ltYm9sLml0ZXJhdG9yXVxuICAgICAgICA/IHVuZGVybHlpbmdDb29raWVzW1N5bWJvbC5pdGVyYXRvcl0uYmluZCh1bmRlcmx5aW5nQ29va2llcylcbiAgICAgICAgOiAvLyBUT0RPIHRoaXMgaXMgYSBwb2x5ZmlsbCBmb3Igd2hlbiB0aGUgdW5kZXJseWluZyB0eXBlIGlzIFJlc3BvbnNlQ29va2llc1xuICAgICAgICAgIC8vIFdlIHNob3VsZCByZW1vdmUgdGhpcyBhbmQgdW5pZnkgb3VyIGNvb2tpZXMgdHlwZXMuIFdlIGNvdWxkIGp1c3QgbGV0IHRoaXMgY29udGludWUgdG8gdGhyb3cgbGF6aWx5XG4gICAgICAgICAgLy8gYnV0IHRoYXQncyBhbHJlYWR5IGEgaGFyZCB0aGluZyB0byBkZWJ1ZyBzbyB3ZSBtYXkgYXMgd2VsbCBpbXBsZW1lbnQgaXQgY29uc2lzdGVudGx5LiBUaGUgYmlnZ2VzdCBwcm9ibGVtIHdpdGhcbiAgICAgICAgICAvLyBpbXBsZW1lbnRpbmcgdGhpcyBpbiB0aGlzIHdheSBpcyB0aGUgdW5kZXJseWluZyBjb29raWUgdHlwZSBpcyBhIFJlc3BvbnNlQ29va2llIGFuZCBub3QgYSBSZXF1ZXN0Q29va2llIGFuZCBzbyBpdFxuICAgICAgICAgIC8vIGhhcyBleHRyYSBwcm9wZXJ0aWVzIG5vdCBhdmFpbGFibGUgb24gUmVxdWVzdENvb2tpZSBpbnN0YW5jZXMuXG4gICAgICAgICAgcG9seWZpbGxlZFJlc3BvbnNlQ29va2llc0l0ZXJhdG9yLmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gICAgc2l6ZToge1xuICAgICAgZ2V0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nQ29va2llcy5zaXplXG4gICAgICB9LFxuICAgIH0sXG4gICAgZ2V0OiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXMuZ2V0LmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gICAgZ2V0QWxsOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXMuZ2V0QWxsLmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gICAgaGFzOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXMuaGFzLmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gICAgc2V0OiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXMuc2V0LmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0Nvb2tpZXMuZGVsZXRlLmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gICAgY2xlYXI6IHtcbiAgICAgIHZhbHVlOlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNsZWFyIGlzIGRlZmluZWQgaW4gUmVxdWVzdENvb2tpZXMgaW1wbGVtZW50YXRpb24gYnV0IG5vdCBpbiB0aGUgdHlwZVxuICAgICAgICB0eXBlb2YgdW5kZXJseWluZ0Nvb2tpZXMuY2xlYXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3IgY2xlYXIgaXMgZGVmaW5lZCBpbiBSZXF1ZXN0Q29va2llcyBpbXBsZW1lbnRhdGlvbiBidXQgbm90IGluIHRoZSB0eXBlXG4gICAgICAgICAgICB1bmRlcmx5aW5nQ29va2llcy5jbGVhci5iaW5kKHVuZGVybHlpbmdDb29raWVzKVxuICAgICAgICAgIDogLy8gVE9ETyB0aGlzIGlzIGEgcG9seWZpbGwgZm9yIHdoZW4gdGhlIHVuZGVybHlpbmcgdHlwZSBpcyBSZXNwb25zZUNvb2tpZXNcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCByZW1vdmUgdGhpcyBhbmQgdW5pZnkgb3VyIGNvb2tpZXMgdHlwZXMuIFdlIGNvdWxkIGp1c3QgbGV0IHRoaXMgY29udGludWUgdG8gdGhyb3cgbGF6aWx5XG4gICAgICAgICAgICAvLyBidXQgdGhhdCdzIGFscmVhZHkgYSBoYXJkIHRoaW5nIHRvIGRlYnVnIHNvIHdlIG1heSBhcyB3ZWxsIGltcGxlbWVudCBpdCBjb25zaXN0ZW50bHkuIFRoZSBiaWdnZXN0IHByb2JsZW0gd2l0aFxuICAgICAgICAgICAgLy8gaW1wbGVtZW50aW5nIHRoaXMgaW4gdGhpcyB3YXkgaXMgdGhlIHVuZGVybHlpbmcgY29va2llIHR5cGUgaXMgYSBSZXNwb25zZUNvb2tpZSBhbmQgbm90IGEgUmVxdWVzdENvb2tpZSBhbmQgc28gaXRcbiAgICAgICAgICAgIC8vIGhhcyBleHRyYSBwcm9wZXJ0aWVzIG5vdCBhdmFpbGFibGUgb24gUmVxdWVzdENvb2tpZSBpbnN0YW5jZXMuXG4gICAgICAgICAgICBwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzQ2xlYXIuYmluZCh1bmRlcmx5aW5nQ29va2llcywgcHJvbWlzZSksXG4gICAgfSxcbiAgICB0b1N0cmluZzoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdDb29raWVzLnRvU3RyaW5nLmJpbmQodW5kZXJseWluZ0Nvb2tpZXMpLFxuICAgIH0sXG4gIH0gc2F0aXNmaWVzIENvb2tpZUV4dGVuc2lvbnMpXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gbWFrZVVudHJhY2tlZEV4b3RpY0Nvb2tpZXNXaXRoRGV2V2FybmluZ3MoXG4gIHVuZGVybHlpbmdDb29raWVzOiBSZWFkb25seVJlcXVlc3RDb29raWVzLFxuICByb3V0ZT86IHN0cmluZ1xuKTogUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPiB7XG4gIGNvbnN0IGNhY2hlZENvb2tpZXMgPSBDYWNoZWRDb29raWVzLmdldCh1bmRlcmx5aW5nQ29va2llcylcbiAgaWYgKGNhY2hlZENvb2tpZXMpIHtcbiAgICByZXR1cm4gY2FjaGVkQ29va2llc1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXM+KChyZXNvbHZlKSA9PlxuICAgIHNjaGVkdWxlSW1tZWRpYXRlKCgpID0+IHJlc29sdmUodW5kZXJseWluZ0Nvb2tpZXMpKVxuICApXG4gIENhY2hlZENvb2tpZXMuc2V0KHVuZGVybHlpbmdDb29raWVzLCBwcm9taXNlKVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb21pc2UsIHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXToge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgLi4uY29va2llcygpYCBvciBzaW1pbGFyIGl0ZXJhdGlvbidcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXNbU3ltYm9sLml0ZXJhdG9yXVxuICAgICAgICAgID8gdW5kZXJseWluZ0Nvb2tpZXNbU3ltYm9sLml0ZXJhdG9yXS5hcHBseShcbiAgICAgICAgICAgICAgdW5kZXJseWluZ0Nvb2tpZXMsXG4gICAgICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IC8vIFRPRE8gdGhpcyBpcyBhIHBvbHlmaWxsIGZvciB3aGVuIHRoZSB1bmRlcmx5aW5nIHR5cGUgaXMgUmVzcG9uc2VDb29raWVzXG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgcmVtb3ZlIHRoaXMgYW5kIHVuaWZ5IG91ciBjb29raWVzIHR5cGVzLiBXZSBjb3VsZCBqdXN0IGxldCB0aGlzIGNvbnRpbnVlIHRvIHRocm93IGxhemlseVxuICAgICAgICAgICAgLy8gYnV0IHRoYXQncyBhbHJlYWR5IGEgaGFyZCB0aGluZyB0byBkZWJ1ZyBzbyB3ZSBtYXkgYXMgd2VsbCBpbXBsZW1lbnQgaXQgY29uc2lzdGVudGx5LiBUaGUgYmlnZ2VzdCBwcm9ibGVtIHdpdGhcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGluZyB0aGlzIGluIHRoaXMgd2F5IGlzIHRoZSB1bmRlcmx5aW5nIGNvb2tpZSB0eXBlIGlzIGEgUmVzcG9uc2VDb29raWUgYW5kIG5vdCBhIFJlcXVlc3RDb29raWUgYW5kIHNvIGl0XG4gICAgICAgICAgICAvLyBoYXMgZXh0cmEgcHJvcGVydGllcyBub3QgYXZhaWxhYmxlIG9uIFJlcXVlc3RDb29raWUgaW5zdGFuY2VzLlxuICAgICAgICAgICAgcG9seWZpbGxlZFJlc3BvbnNlQ29va2llc0l0ZXJhdG9yLmNhbGwodW5kZXJseWluZ0Nvb2tpZXMpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgc2l6ZToge1xuICAgICAgZ2V0KCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5zaXplYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXMuc2l6ZVxuICAgICAgfSxcbiAgICB9LFxuICAgIGdldDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgbGV0IGV4cHJlc3Npb246IHN0cmluZ1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5nZXQoKWAnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IGBcXGBjb29raWVzKCkuZ2V0KCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgfVxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nQ29va2llcy5nZXQuYXBwbHkodW5kZXJseWluZ0Nvb2tpZXMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgZ2V0QWxsOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsKCkge1xuICAgICAgICBsZXQgZXhwcmVzc2lvbjogc3RyaW5nXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9ICdgY29va2llcygpLmdldEFsbCgpYCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHByZXNzaW9uID0gYFxcYGNvb2tpZXMoKS5nZXRBbGwoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0pXFxgYFxuICAgICAgICB9XG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdDb29raWVzLmdldEFsbC5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nQ29va2llcyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICBoYXM6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGxldCBleHByZXNzaW9uOiBzdHJpbmdcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBleHByZXNzaW9uID0gJ2Bjb29raWVzKCkuaGFzKClgJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cHJlc3Npb24gPSBgXFxgY29va2llcygpLmhhcygke2Rlc2NyaWJlTmFtZUFyZyhhcmd1bWVudHNbMF0pfSlcXGBgXG4gICAgICAgIH1cbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXMuaGFzLmFwcGx5KHVuZGVybHlpbmdDb29raWVzLCBhcmd1bWVudHMgYXMgYW55KVxuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgIHNldDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgbGV0IGV4cHJlc3Npb246IHN0cmluZ1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5zZXQoKWAnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzWzBdXG4gICAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGBcXGBjb29raWVzKCkuc2V0KCR7ZGVzY3JpYmVOYW1lQXJnKGFyZyl9LCAuLi4pXFxgYFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHByZXNzaW9uID0gJ2Bjb29raWVzKCkuc2V0KC4uLilgJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nQ29va2llcy5zZXQuYXBwbHkodW5kZXJseWluZ0Nvb2tpZXMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgZGVsZXRlOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgZXhwcmVzc2lvbjogc3RyaW5nXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9ICdgY29va2llcygpLmRlbGV0ZSgpYCdcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IGBcXGBjb29raWVzKCkuZGVsZXRlKCR7ZGVzY3JpYmVOYW1lQXJnKGFyZ3VtZW50c1swXSl9KVxcYGBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHByZXNzaW9uID0gYFxcYGNvb2tpZXMoKS5kZWxldGUoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0sIC4uLilcXGBgXG4gICAgICAgIH1cbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0Nvb2tpZXMuZGVsZXRlLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdDb29raWVzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgIGNsZWFyOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGNvb2tpZXMoKS5jbGVhcigpYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICAvLyBAdHMtaWdub3JlIGNsZWFyIGlzIGRlZmluZWQgaW4gUmVxdWVzdENvb2tpZXMgaW1wbGVtZW50YXRpb24gYnV0IG5vdCBpbiB0aGUgdHlwZVxuICAgICAgICByZXR1cm4gdHlwZW9mIHVuZGVybHlpbmdDb29raWVzLmNsZWFyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyAvLyBAdHMtaWdub3JlIGNsZWFyIGlzIGRlZmluZWQgaW4gUmVxdWVzdENvb2tpZXMgaW1wbGVtZW50YXRpb24gYnV0IG5vdCBpbiB0aGUgdHlwZVxuICAgICAgICAgICAgdW5kZXJseWluZ0Nvb2tpZXMuY2xlYXIuYXBwbHkodW5kZXJseWluZ0Nvb2tpZXMsIGFyZ3VtZW50cylcbiAgICAgICAgICA6IC8vIFRPRE8gdGhpcyBpcyBhIHBvbHlmaWxsIGZvciB3aGVuIHRoZSB1bmRlcmx5aW5nIHR5cGUgaXMgUmVzcG9uc2VDb29raWVzXG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgcmVtb3ZlIHRoaXMgYW5kIHVuaWZ5IG91ciBjb29raWVzIHR5cGVzLiBXZSBjb3VsZCBqdXN0IGxldCB0aGlzIGNvbnRpbnVlIHRvIHRocm93IGxhemlseVxuICAgICAgICAgICAgLy8gYnV0IHRoYXQncyBhbHJlYWR5IGEgaGFyZCB0aGluZyB0byBkZWJ1ZyBzbyB3ZSBtYXkgYXMgd2VsbCBpbXBsZW1lbnQgaXQgY29uc2lzdGVudGx5LiBUaGUgYmlnZ2VzdCBwcm9ibGVtIHdpdGhcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGluZyB0aGlzIGluIHRoaXMgd2F5IGlzIHRoZSB1bmRlcmx5aW5nIGNvb2tpZSB0eXBlIGlzIGEgUmVzcG9uc2VDb29raWUgYW5kIG5vdCBhIFJlcXVlc3RDb29raWUgYW5kIHNvIGl0XG4gICAgICAgICAgICAvLyBoYXMgZXh0cmEgcHJvcGVydGllcyBub3QgYXZhaWxhYmxlIG9uIFJlcXVlc3RDb29raWUgaW5zdGFuY2VzLlxuICAgICAgICAgICAgcG9seWZpbGxlZFJlc3BvbnNlQ29va2llc0NsZWFyLmNhbGwodW5kZXJseWluZ0Nvb2tpZXMsIHByb21pc2UpXG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0sXG4gICAgdG9TdHJpbmc6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgY29va2llcygpLnRvU3RyaW5nKClgIG9yIGltcGxpY2l0IGNhc3RpbmcnXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdDb29raWVzLnRvU3RyaW5nLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdDb29raWVzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICB9IHNhdGlzZmllcyBDb29raWVFeHRlbnNpb25zKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbi8vIFNpbWlsYXIgdG8gYG1ha2VVbnRyYWNrZWRFeG90aWNDb29raWVzV2l0aERldldhcm5pbmdzYCwgYnV0IGp1c3QgbG9nZ2luZyB0aGVcbi8vIHN5bmMgYWNjZXNzIHdpdGhvdXQgYWN0dWFsbHkgZGVmaW5pbmcgdGhlIGNvb2tpZXMgcHJvcGVydGllcyBvbiB0aGUgcHJvbWlzZS5cbmZ1bmN0aW9uIG1ha2VVbnRyYWNrZWRDb29raWVzV2l0aERldldhcm5pbmdzKFxuICB1bmRlcmx5aW5nQ29va2llczogUmVhZG9ubHlSZXF1ZXN0Q29va2llcyxcbiAgcm91dGU/OiBzdHJpbmdcbik6IFByb21pc2U8UmVhZG9ubHlSZXF1ZXN0Q29va2llcz4ge1xuICBjb25zdCBjYWNoZWRDb29raWVzID0gQ2FjaGVkQ29va2llcy5nZXQodW5kZXJseWluZ0Nvb2tpZXMpXG4gIGlmIChjYWNoZWRDb29raWVzKSB7XG4gICAgcmV0dXJuIGNhY2hlZENvb2tpZXNcbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPigocmVzb2x2ZSkgPT5cbiAgICBzY2hlZHVsZUltbWVkaWF0ZSgoKSA9PiByZXNvbHZlKHVuZGVybHlpbmdDb29raWVzKSlcbiAgKVxuXG4gIGNvbnN0IHByb3hpZWRQcm9taXNlID0gbmV3IFByb3h5KHByb21pc2UsIHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgIGNhc2UgU3ltYm9sLml0ZXJhdG9yOiB7XG4gICAgICAgICAgd2FybkZvclN5bmNBY2Nlc3Mocm91dGUsICdgLi4uY29va2llcygpYCBvciBzaW1pbGFyIGl0ZXJhdGlvbicpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzaXplJzpcbiAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgY2FzZSAnZ2V0QWxsJzpcbiAgICAgICAgY2FzZSAnaGFzJzpcbiAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgY2FzZSAnY2xlYXInOlxuICAgICAgICBjYXNlICd0b1N0cmluZyc6IHtcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgYFxcYGNvb2tpZXMoKS4ke3Byb3B9XFxgYClcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvLyBXZSBvbmx5IHdhcm4gZm9yIHdlbGwtZGVmaW5lZCBwcm9wZXJ0aWVzIG9mIHRoZSBjb29raWVzIG9iamVjdC5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVmbGVjdEFkYXB0ZXIuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpXG4gICAgfSxcbiAgfSlcblxuICBDYWNoZWRDb29raWVzLnNldCh1bmRlcmx5aW5nQ29va2llcywgcHJveGllZFByb21pc2UpXG5cbiAgcmV0dXJuIHByb3hpZWRQcm9taXNlXG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmFtZUFyZyhhcmc6IHVua25vd24pIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmXG4gICAgYXJnICE9PSBudWxsICYmXG4gICAgdHlwZW9mIChhcmcgYXMgYW55KS5uYW1lID09PSAnc3RyaW5nJ1xuICAgID8gYCckeyhhcmcgYXMgYW55KS5uYW1lfSdgXG4gICAgOiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJ1xuICAgICAgPyBgJyR7YXJnfSdgXG4gICAgICA6ICcuLi4nXG59XG5cbmZ1bmN0aW9uIHN5bmNJT0Rldihyb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBleHByZXNzaW9uOiBzdHJpbmcpIHtcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgaWYgKFxuICAgIHdvcmtVbml0U3RvcmUgJiZcbiAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdyZXF1ZXN0JyAmJlxuICAgIHdvcmtVbml0U3RvcmUucHJlcmVuZGVyUGhhc2UgPT09IHRydWVcbiAgKSB7XG4gICAgLy8gV2hlbiB3ZSdyZSByZW5kZXJpbmcgZHluYW1pY2FsbHkgaW4gZGV2IHdlIG5lZWQgdG8gYWR2YW5jZSBvdXQgb2YgdGhlXG4gICAgLy8gUHJlcmVuZGVyIGVudmlyb25tZW50IHdoZW4gd2UgcmVhZCBSZXF1ZXN0IGRhdGEgc3luY2hyb25vdXNseVxuICAgIGNvbnN0IHJlcXVlc3RTdG9yZSA9IHdvcmtVbml0U3RvcmVcbiAgICB0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldihyZXF1ZXN0U3RvcmUpXG4gIH1cbiAgLy8gSW4gYWxsIGNhc2VzIHdlIHdhcm4gbm9ybWFsbHlcbiAgd2FybkZvclN5bmNBY2Nlc3Mocm91dGUsIGV4cHJlc3Npb24pXG59XG5cbmNvbnN0IHdhcm5Gb3JTeW5jQWNjZXNzID0gY3JlYXRlRGVkdXBlZEJ5Q2FsbHNpdGVTZXJ2ZXJFcnJvckxvZ2dlckRldihcbiAgY3JlYXRlQ29va2llc0FjY2Vzc0Vycm9yXG4pXG5cbmZ1bmN0aW9uIGNyZWF0ZUNvb2tpZXNBY2Nlc3NFcnJvcihcbiAgcm91dGU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgZXhwcmVzc2lvbjogc3RyaW5nXG4pIHtcbiAgY29uc3QgcHJlZml4ID0gcm91dGUgPyBgUm91dGUgXCIke3JvdXRlfVwiIGAgOiAnVGhpcyByb3V0ZSAnXG4gIHJldHVybiBuZXcgRXJyb3IoXG4gICAgYCR7cHJlZml4fXVzZWQgJHtleHByZXNzaW9ufS4gYCArXG4gICAgICBgXFxgY29va2llcygpXFxgIHNob3VsZCBiZSBhd2FpdGVkIGJlZm9yZSB1c2luZyBpdHMgdmFsdWUuIGAgK1xuICAgICAgYExlYXJuIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL3N5bmMtZHluYW1pYy1hcGlzYFxuICApXG59XG5cbmZ1bmN0aW9uIHBvbHlmaWxsZWRSZXNwb25zZUNvb2tpZXNJdGVyYXRvcihcbiAgdGhpczogUmVzcG9uc2VDb29raWVzXG4pOiBSZXR1cm5UeXBlPFJlYWRvbmx5UmVxdWVzdENvb2tpZXNbdHlwZW9mIFN5bWJvbC5pdGVyYXRvcl0+IHtcbiAgcmV0dXJuIHRoaXMuZ2V0QWxsKClcbiAgICAubWFwKChjKSA9PiBbYy5uYW1lLCBjXSBhcyBbc3RyaW5nLCBhbnldKVxuICAgIC52YWx1ZXMoKVxufVxuXG5mdW5jdGlvbiBwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzQ2xlYXIoXG4gIHRoaXM6IFJlc3BvbnNlQ29va2llcyxcbiAgcmV0dXJuYWJsZTogUHJvbWlzZTxSZWFkb25seVJlcXVlc3RDb29raWVzPlxuKTogdHlwZW9mIHJldHVybmFibGUge1xuICBmb3IgKGNvbnN0IGNvb2tpZSBvZiB0aGlzLmdldEFsbCgpKSB7XG4gICAgdGhpcy5kZWxldGUoY29va2llLm5hbWUpXG4gIH1cbiAgcmV0dXJuIHJldHVybmFibGVcbn1cblxudHlwZSBDb29raWVFeHRlbnNpb25zID0ge1xuICBbSyBpbiBrZXlvZiBSZWFkb25seVJlcXVlc3RDb29raWVzIHwgJ2NsZWFyJ106IHVua25vd25cbn1cbiJdLCJuYW1lcyI6WyJjb29raWVzIiwiY2FsbGluZ0V4cHJlc3Npb24iLCJ3b3JrU3RvcmUiLCJ3b3JrQXN5bmNTdG9yYWdlIiwiZ2V0U3RvcmUiLCJ3b3JrVW5pdFN0b3JlIiwid29ya1VuaXRBc3luY1N0b3JhZ2UiLCJwaGFzZSIsImlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIiLCJFcnJvciIsInJvdXRlIiwiZm9yY2VTdGF0aWMiLCJ1bmRlcmx5aW5nQ29va2llcyIsImNyZWF0ZUVtcHR5Q29va2llcyIsIm1ha2VVbnRyYWNrZWRFeG90aWNDb29raWVzIiwidHlwZSIsImR5bmFtaWNTaG91bGRFcnJvciIsIlN0YXRpY0dlbkJhaWxvdXRFcnJvciIsIm1ha2VIYW5naW5nQ29va2llcyIsImV4cG9ydE5hbWUiLCJJbnZhcmlhbnRFcnJvciIsInBvc3Rwb25lV2l0aFRyYWNraW5nIiwiZHluYW1pY1RyYWNraW5nIiwidGhyb3dUb0ludGVycnVwdFN0YXRpY0dlbmVyYXRpb24iLCJ0cmFja0R5bmFtaWNEYXRhSW5EeW5hbWljUmVuZGVyIiwicmVxdWVzdFN0b3JlIiwiZ2V0RXhwZWN0ZWRSZXF1ZXN0U3RvcmUiLCJhcmVDb29raWVzTXV0YWJsZUluQ3VycmVudFBoYXNlIiwidXNlcnNwYWNlTXV0YWJsZUNvb2tpZXMiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJpc1ByZWZldGNoUmVxdWVzdCIsIl9fTkVYVF9EWU5BTUlDX0lPIiwibWFrZVVudHJhY2tlZENvb2tpZXNXaXRoRGV2V2FybmluZ3MiLCJtYWtlVW50cmFja2VkRXhvdGljQ29va2llc1dpdGhEZXZXYXJuaW5ncyIsIlJlcXVlc3RDb29raWVzQWRhcHRlciIsInNlYWwiLCJSZXF1ZXN0Q29va2llcyIsIkhlYWRlcnMiLCJDYWNoZWRDb29raWVzIiwiV2Vha01hcCIsInByZXJlbmRlclN0b3JlIiwiY2FjaGVkUHJvbWlzZSIsImdldCIsInByb21pc2UiLCJtYWtlSGFuZ2luZ1Byb21pc2UiLCJyZW5kZXJTaWduYWwiLCJzZXQiLCJjYWNoZWRDb29raWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2YWx1ZSIsImJpbmQiLCJwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzSXRlcmF0b3IiLCJzaXplIiwiZ2V0QWxsIiwiaGFzIiwiZGVsZXRlIiwiY2xlYXIiLCJwb2x5ZmlsbGVkUmVzcG9uc2VDb29raWVzQ2xlYXIiLCJ0b1N0cmluZyIsInNjaGVkdWxlSW1tZWRpYXRlIiwiZXhwcmVzc2lvbiIsInN5bmNJT0RldiIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2FsbCIsIndyaXRhYmxlIiwibGVuZ3RoIiwiZGVzY3JpYmVOYW1lQXJnIiwiYXJnIiwicHJveGllZFByb21pc2UiLCJQcm94eSIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsIndhcm5Gb3JTeW5jQWNjZXNzIiwiUmVmbGVjdEFkYXB0ZXIiLCJuYW1lIiwicHJlcmVuZGVyUGhhc2UiLCJ0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldiIsImNyZWF0ZURlZHVwZWRCeUNhbGxzaXRlU2VydmVyRXJyb3JMb2dnZXJEZXYiLCJjcmVhdGVDb29raWVzQWNjZXNzRXJyb3IiLCJwcmVmaXgiLCJtYXAiLCJjIiwidmFsdWVzIiwicmV0dXJuYWJsZSIsImNvb2tpZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/request/cookies.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/request/draft-mode.js":
/*!*************************************************************!*\
  !*** ./node_modules/next/dist/server/request/draft-mode.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"draftMode\", ({\n    enumerable: true,\n    get: function() {\n        return draftMode;\n    }\n}));\nconst _workunitasyncstorageexternal = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js\");\nconst _workasyncstorageexternal = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\");\nconst _dynamicrendering = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(app-pages-browser)/./node_modules/next/dist/server/app-render/dynamic-rendering.js\");\nconst _creatededupedbycallsiteservererrorlogger = __webpack_require__(/*! ../create-deduped-by-callsite-server-error-logger */ \"(app-pages-browser)/./node_modules/next/dist/server/create-deduped-by-callsite-server-error-logger.js\");\nconst _staticgenerationbailout = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js\");\nconst _hooksservercontext = __webpack_require__(/*! ../../client/components/hooks-server-context */ \"(app-pages-browser)/./node_modules/next/dist/client/components/hooks-server-context.js\");\nconst _invarianterror = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/invariant-error.js\");\nconst _reflect = __webpack_require__(/*! ../web/spec-extension/adapters/reflect */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js\");\nfunction draftMode() {\n    const callingExpression = 'draftMode';\n    const workStore = _workasyncstorageexternal.workAsyncStorage.getStore();\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (!workStore || !workUnitStore) {\n        (0, _workunitasyncstorageexternal.throwForMissingRequestStore)(callingExpression);\n    }\n    switch(workUnitStore.type){\n        case 'request':\n            return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore);\n        case 'cache':\n        case 'unstable-cache':\n            // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n            // the outmost work unit store is a request store, and if draft mode is\n            // enabled.\n            const draftModeProvider = (0, _workunitasyncstorageexternal.getDraftModeProviderForCacheScope)(workStore, workUnitStore);\n            if (draftModeProvider) {\n                return createOrGetCachedDraftMode(draftModeProvider, workStore);\n            }\n        // Otherwise, we fall through to providing an empty draft mode.\n        // eslint-disable-next-line no-fallthrough\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n            // Return empty draft mode\n            return createOrGetCachedDraftMode(null, workStore);\n        default:\n            const _exhaustiveCheck = workUnitStore;\n            return _exhaustiveCheck;\n    }\n}\nfunction createOrGetCachedDraftMode(draftModeProvider, workStore) {\n    const cacheKey = draftModeProvider !== null && draftModeProvider !== void 0 ? draftModeProvider : NullDraftMode;\n    const cachedDraftMode = CachedDraftModes.get(cacheKey);\n    if (cachedDraftMode) {\n        return cachedDraftMode;\n    }\n    let promise;\n    if ( true && !(workStore == null ? void 0 : workStore.isPrefetchRequest)) {\n        const route = workStore == null ? void 0 : workStore.route;\n        if (false) {}\n        promise = createExoticDraftModeWithDevWarnings(draftModeProvider, route);\n    } else {\n        if (false) {}\n        promise = createExoticDraftMode(draftModeProvider);\n    }\n    CachedDraftModes.set(cacheKey, promise);\n    return promise;\n}\nconst NullDraftMode = {};\nconst CachedDraftModes = new WeakMap();\nfunction createExoticDraftMode(underlyingProvider) {\n    const instance = new DraftMode(underlyingProvider);\n    const promise = Promise.resolve(instance);\n    Object.defineProperty(promise, 'isEnabled', {\n        get () {\n            return instance.isEnabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    promise.enable = instance.enable.bind(instance);\n    promise.disable = instance.disable.bind(instance);\n    return promise;\n}\nfunction createExoticDraftModeWithDevWarnings(underlyingProvider, route) {\n    const instance = new DraftMode(underlyingProvider);\n    const promise = Promise.resolve(instance);\n    Object.defineProperty(promise, 'isEnabled', {\n        get () {\n            const expression = '`draftMode().isEnabled`';\n            syncIODev(route, expression);\n            return instance.isEnabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(promise, 'enable', {\n        value: function get() {\n            const expression = '`draftMode().enable()`';\n            syncIODev(route, expression);\n            return instance.enable.apply(instance, arguments);\n        }\n    });\n    Object.defineProperty(promise, 'disable', {\n        value: function get() {\n            const expression = '`draftMode().disable()`';\n            syncIODev(route, expression);\n            return instance.disable.apply(instance, arguments);\n        }\n    });\n    return promise;\n}\n// Similar to `createExoticDraftModeWithDevWarnings`, but just logging the sync\n// access without actually defining the draftMode properties on the promise.\nfunction createDraftModeWithDevWarnings(underlyingProvider, route) {\n    const instance = new DraftMode(underlyingProvider);\n    const promise = Promise.resolve(instance);\n    const proxiedPromise = new Proxy(promise, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case 'isEnabled':\n                    warnForSyncAccess(route, \"`draftMode().\".concat(prop, \"`\"));\n                    break;\n                case 'enable':\n                case 'disable':\n                    {\n                        warnForSyncAccess(route, \"`draftMode().\".concat(prop, \"()`\"));\n                        break;\n                    }\n                default:\n                    {\n                    // We only warn for well-defined properties of the draftMode object.\n                    }\n            }\n            return _reflect.ReflectAdapter.get(target, prop, receiver);\n        }\n    });\n    return proxiedPromise;\n}\nclass DraftMode {\n    get isEnabled() {\n        if (this._provider !== null) {\n            return this._provider.isEnabled;\n        }\n        return false;\n    }\n    enable() {\n        // We have a store we want to track dynamic data access to ensure we\n        // don't statically generate routes that manipulate draft mode.\n        trackDynamicDraftMode('draftMode().enable()');\n        if (this._provider !== null) {\n            this._provider.enable();\n        }\n    }\n    disable() {\n        trackDynamicDraftMode('draftMode().disable()');\n        if (this._provider !== null) {\n            this._provider.disable();\n        }\n    }\n    constructor(provider){\n        this._provider = provider;\n    }\n}\nfunction syncIODev(route, expression) {\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (workUnitStore && workUnitStore.type === 'request' && workUnitStore.prerenderPhase === true) {\n        // When we're rendering dynamically in dev we need to advance out of the\n        // Prerender environment when we read Request data synchronously\n        const requestStore = workUnitStore;\n        (0, _dynamicrendering.trackSynchronousRequestDataAccessInDev)(requestStore);\n    }\n    // In all cases we warn normally\n    warnForSyncAccess(route, expression);\n}\nconst warnForSyncAccess = (0, _creatededupedbycallsiteservererrorlogger.createDedupedByCallsiteServerErrorLoggerDev)(createDraftModeAccessError);\nfunction createDraftModeAccessError(route, expression) {\n    const prefix = route ? 'Route \"'.concat(route, '\" ') : 'This route ';\n    return Object.defineProperty(new Error(\"\".concat(prefix, \"used \").concat(expression, \". \") + \"`draftMode()` should be awaited before using its value. \" + \"Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis\"), \"__NEXT_ERROR_CODE\", {\n        value: \"E377\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction trackDynamicDraftMode(expression) {\n    const store = _workasyncstorageexternal.workAsyncStorage.getStore();\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (store) {\n        // We have a store we want to track dynamic data access to ensure we\n        // don't statically generate routes that manipulate draft mode.\n        if (workUnitStore) {\n            if (workUnitStore.type === 'cache') {\n                throw Object.defineProperty(new Error(\"Route \".concat(store.route, ' used \"').concat(expression, '\" inside \"use cache\". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E246\",\n                    enumerable: false,\n                    configurable: true\n                });\n            } else if (workUnitStore.type === 'unstable-cache') {\n                throw Object.defineProperty(new Error(\"Route \".concat(store.route, ' used \"').concat(expression, '\" inside a function cached with \"unstable_cache(...)\". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E259\",\n                    enumerable: false,\n                    configurable: true\n                });\n            } else if (workUnitStore.phase === 'after') {\n                throw Object.defineProperty(new Error(\"Route \".concat(store.route, ' used \"').concat(expression, '\" inside `after`. The enabled status of draftMode can be read inside `after` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E348\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        }\n        if (store.dynamicShouldError) {\n            throw Object.defineProperty(new _staticgenerationbailout.StaticGenBailoutError(\"Route \".concat(store.route, ' with `dynamic = \"error\"` couldn\\'t be rendered statically because it used `').concat(expression, \"`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\")), \"__NEXT_ERROR_CODE\", {\n                value: \"E553\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'prerender':\n                    // dynamicIO Prerender\n                    const error = Object.defineProperty(new Error(\"Route \".concat(store.route, \" used \").concat(expression, \" without first calling `await connection()`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers\")), \"__NEXT_ERROR_CODE\", {\n                        value: \"E126\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                    (0, _dynamicrendering.abortAndThrowOnSynchronousRequestDataAccess)(store.route, expression, error, workUnitStore);\n                    break;\n                case 'prerender-client':\n                    const exportName = '`draftMode`';\n                    throw Object.defineProperty(new _invarianterror.InvariantError(\"\".concat(exportName, \" must not be used within a client component. Next.js should be preventing \").concat(exportName, \" from being included in client components statically, but did not in this case.\")), \"__NEXT_ERROR_CODE\", {\n                        value: \"E693\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender-ppr':\n                    // PPR Prerender\n                    (0, _dynamicrendering.postponeWithTracking)(store.route, expression, workUnitStore.dynamicTracking);\n                    break;\n                case 'prerender-legacy':\n                    // legacy Prerender\n                    workUnitStore.revalidate = 0;\n                    const err = Object.defineProperty(new _hooksservercontext.DynamicServerError(\"Route \".concat(store.route, \" couldn't be rendered statically because it used `\").concat(expression, \"`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error\")), \"__NEXT_ERROR_CODE\", {\n                        value: \"E558\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                    store.dynamicUsageDescription = expression;\n                    store.dynamicUsageStack = err.stack;\n                    throw err;\n                case 'request':\n                    if (true) {\n                        workUnitStore.usedDynamic = true;\n                    }\n                    break;\n                default:\n            }\n        }\n    }\n} //# sourceMappingURL=draft-mode.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QvZHJhZnQtbW9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7OzZDQThDZ0JBOzs7ZUFBQUE7OzswREEzQ1Q7c0RBT0E7OENBTUE7c0VBQ3FEO3FEQUN0QjtnREFDSDs0Q0FDSjtxQ0FDQTtBQXlCeEIsU0FBU0E7SUFDZCxNQUFNQyxvQkFBb0I7SUFDMUIsTUFBTUMsWUFBWUMsMEJBQUFBLGdCQUFnQixDQUFDQyxRQUFRO0lBQzNDLE1BQU1DLGdCQUFnQkMsOEJBQUFBLG9CQUFvQixDQUFDRixRQUFRO0lBRW5ELElBQUksQ0FBQ0YsYUFBYSxDQUFDRyxlQUFlO1FBQ2hDRSxDQUFBQSxHQUFBQSw4QkFBQUEsMkJBQUFBLEVBQTRCTjtJQUM5QjtJQUVBLE9BQVFJLGNBQWNHLElBQUk7UUFDeEIsS0FBSztZQUNILE9BQU9DLDJCQUEyQkosY0FBY0wsU0FBUyxFQUFFRTtRQUU3RCxLQUFLO1FBQ0wsS0FBSztZQUNILDBFQUEwRTtZQUMxRSx1RUFBdUU7WUFDdkUsV0FBVztZQUNYLE1BQU1RLG9CQUFvQkMsQ0FBQUEsR0FBQUEsOEJBQUFBLGlDQUFBQSxFQUN4QlQsV0FDQUc7WUFHRixJQUFJSyxtQkFBbUI7Z0JBQ3JCLE9BQU9ELDJCQUEyQkMsbUJBQW1CUjtZQUN2RDtRQUVGLCtEQUErRDtRQUMvRCwwQ0FBMEM7UUFDMUMsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUNILDBCQUEwQjtZQUMxQixPQUFPTywyQkFBMkIsTUFBTVA7UUFFMUM7WUFDRSxNQUFNVSxtQkFBMEJQO1lBQ2hDLE9BQU9PO0lBQ1g7QUFDRjtBQUVBLFNBQVNILDJCQUNQQyxpQkFBMkMsRUFDM0NSLFNBQWdDO0lBRWhDLE1BQU1XLHdFQUFXSCxvQkFBcUJJO0lBQ3RDLE1BQU1DLGtCQUFrQkMsaUJBQWlCQyxHQUFHLENBQUNKO0lBRTdDLElBQUlFLGlCQUFpQjtRQUNuQixPQUFP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XEx1aXNcXERlc2t0b3BcXHNyY1xcc2VydmVyXFxyZXF1ZXN0XFxkcmFmdC1tb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldERyYWZ0TW9kZVByb3ZpZGVyRm9yQ2FjaGVTY29wZSxcbiAgdGhyb3dGb3JNaXNzaW5nUmVxdWVzdFN0b3JlLFxufSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuXG5pbXBvcnQgdHlwZSB7IERyYWZ0TW9kZVByb3ZpZGVyIH0gZnJvbSAnLi4vYXN5bmMtc3RvcmFnZS9kcmFmdC1tb2RlLXByb3ZpZGVyJ1xuXG5pbXBvcnQge1xuICB3b3JrQXN5bmNTdG9yYWdlLFxuICB0eXBlIFdvcmtTdG9yZSxcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyB3b3JrVW5pdEFzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQge1xuICBhYm9ydEFuZFRocm93T25TeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzLFxuICBwb3N0cG9uZVdpdGhUcmFja2luZyxcbiAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcnXG5pbXBvcnQgeyBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IH0gZnJvbSAnLi4vY3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlcidcbmltcG9ydCB7IFN0YXRpY0dlbkJhaWxvdXRFcnJvciB9IGZyb20gJy4uLy4uL2NsaWVudC9jb21wb25lbnRzL3N0YXRpYy1nZW5lcmF0aW9uLWJhaWxvdXQnXG5pbXBvcnQgeyBEeW5hbWljU2VydmVyRXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9ob29rcy1zZXJ2ZXItY29udGV4dCdcbmltcG9ydCB7IEludmFyaWFudEVycm9yIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9pbnZhcmlhbnQtZXJyb3InXG5pbXBvcnQgeyBSZWZsZWN0QWRhcHRlciB9IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZWZsZWN0J1xuXG4vKipcbiAqIEluIHRoaXMgdmVyc2lvbiBvZiBOZXh0LmpzIGBkcmFmdE1vZGUoKWAgcmV0dXJucyBhIFByb21pc2UgaG93ZXZlciB5b3UgY2FuIHN0aWxsIHJlZmVyZW5jZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBkcmFmdE1vZGUgb2JqZWN0XG4gKiBzeW5jaHJvbm91c2x5IHRvIGZhY2lsaXRhdGUgbWlncmF0aW9uLiBUaGUgYFVuc2FmZVVud3JhcHBlZERyYWZ0TW9kZWAgdHlwZSBpcyBhZGRlZCB0byB5b3VyIGNvZGUgYnkgYSBjb2RlbW9kIHRoYXQgYXR0ZW1wdHMgdG8gYXV0b21hdGljYWxseVxuICogdXBkYXRlcyBjYWxsc2l0ZXMgdG8gcmVmbGVjdCB0aGUgbmV3IFByb21pc2UgcmV0dXJuIHR5cGUuIFRoZXJlIGFyZSBzb21lIGNhc2VzIHdoZXJlIGBkcmFmdE1vZGUoKWAgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkLCBuYW1lbHlcbiAqIHdoZW4gaXQgaXMgdXNlZCBpbnNpZGUgYSBzeW5jaHJvbm91cyBmdW5jdGlvbiBhbmQgd2UgY2FuJ3QgYmUgc3VyZSB0aGUgZnVuY3Rpb24gY2FuIGJlIG1hZGUgYXN5bmMgYXV0b21hdGljYWxseS4gSW4gdGhlc2UgY2FzZXMgd2UgYWRkIGFuXG4gKiBleHBsaWNpdCB0eXBlIGNhc2UgdG8gYFVuc2FmZVVud3JhcHBlZERyYWZ0TW9kZWAgdG8gZW5hYmxlIHR5cGVzY3JpcHQgdG8gYWxsb3cgZm9yIHRoZSBzeW5jaHJvbm91cyB1c2FnZSBvbmx5IHdoZXJlIGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeS5cbiAqXG4gKiBZb3Ugc2hvdWxkIHNob3VsZCB1cGRhdGUgdGhlc2UgY2FsbHNpdGVzIHRvIGVpdGhlciBiZSBhc3luYyBmdW5jdGlvbnMgd2hlcmUgdGhlIGBkcmFmdE1vZGUoKWAgdmFsdWUgY2FuIGJlIGF3YWl0ZWQgb3IgeW91IHNob3VsZCBjYWxsIGBkcmFmdE1vZGUoKWBcbiAqIGZyb20gb3V0c2lkZSBhbmQgYXdhaXQgdGhlIHJldHVybiB2YWx1ZSBiZWZvcmUgcGFzc2luZyBpdCBpbnRvIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogWW91IGNhbiBmaW5kIGluc3RhbmNlcyB0aGF0IHJlcXVpcmUgbWFudWFsIG1pZ3JhdGlvbiBieSBzZWFyY2hpbmcgZm9yIGBVbnNhZmVVbndyYXBwZWREcmFmdE1vZGVgIGluIHlvdXIgY29kZWJhc2Ugb3IgYnkgc2VhcmNoIGZvciBhIGNvbW1lbnQgdGhhdFxuICogc3RhcnRzIHdpdGggYEBuZXh0LWNvZGVtb2QtZXJyb3JgLlxuICpcbiAqIEluIGEgZnV0dXJlIHZlcnNpb24gb2YgTmV4dC5qcyBgZHJhZnRNb2RlKClgIHdpbGwgb25seSByZXR1cm4gYSBQcm9taXNlIGFuZCB5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byBhY2Nlc3MgdGhlIHVuZGVybHlpbmcgZHJhZnRNb2RlIG9iamVjdCBkaXJlY3RseVxuICogd2l0aG91dCBhd2FpdGluZyB0aGUgcmV0dXJuIHZhbHVlIGZpcnN0LiBXaGVuIHRoaXMgY2hhbmdlIGhhcHBlbnMgdGhlIHR5cGUgYFVuc2FmZVVud3JhcHBlZERyYWZ0TW9kZWAgd2lsbCBiZSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhhdCBpcyBpdCBubyBsb25nZXJcbiAqIHVzYWJsZS5cbiAqXG4gKiBUaGlzIHR5cGUgaXMgbWFya2VkIGRlcHJlY2F0ZWQgdG8gaGVscCBpZGVudGlmeSBpdCBhcyB0YXJnZXQgZm9yIHJlZmFjdG9yaW5nIGF3YXkuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IHR5cGUgVW5zYWZlVW53cmFwcGVkRHJhZnRNb2RlID0gRHJhZnRNb2RlXG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFmdE1vZGUoKTogUHJvbWlzZTxEcmFmdE1vZGU+IHtcbiAgY29uc3QgY2FsbGluZ0V4cHJlc3Npb24gPSAnZHJhZnRNb2RlJ1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAoIXdvcmtTdG9yZSB8fCAhd29ya1VuaXRTdG9yZSkge1xuICAgIHRocm93Rm9yTWlzc2luZ1JlcXVlc3RTdG9yZShjYWxsaW5nRXhwcmVzc2lvbilcbiAgfVxuXG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICByZXR1cm4gY3JlYXRlT3JHZXRDYWNoZWREcmFmdE1vZGUod29ya1VuaXRTdG9yZS5kcmFmdE1vZGUsIHdvcmtTdG9yZSlcblxuICAgIGNhc2UgJ2NhY2hlJzpcbiAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICAvLyBJbnNpZGUgb2YgYFwidXNlIGNhY2hlXCJgIG9yIGB1bnN0YWJsZV9jYWNoZWAsIGRyYWZ0IG1vZGUgaXMgYXZhaWxhYmxlIGlmXG4gICAgICAvLyB0aGUgb3V0bW9zdCB3b3JrIHVuaXQgc3RvcmUgaXMgYSByZXF1ZXN0IHN0b3JlLCBhbmQgaWYgZHJhZnQgbW9kZSBpc1xuICAgICAgLy8gZW5hYmxlZC5cbiAgICAgIGNvbnN0IGRyYWZ0TW9kZVByb3ZpZGVyID0gZ2V0RHJhZnRNb2RlUHJvdmlkZXJGb3JDYWNoZVNjb3BlKFxuICAgICAgICB3b3JrU3RvcmUsXG4gICAgICAgIHdvcmtVbml0U3RvcmVcbiAgICAgIClcblxuICAgICAgaWYgKGRyYWZ0TW9kZVByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPckdldENhY2hlZERyYWZ0TW9kZShkcmFmdE1vZGVQcm92aWRlciwgd29ya1N0b3JlKVxuICAgICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCB3ZSBmYWxsIHRocm91Z2ggdG8gcHJvdmlkaW5nIGFuIGVtcHR5IGRyYWZ0IG1vZGUuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgIC8vIFJldHVybiBlbXB0eSBkcmFmdCBtb2RlXG4gICAgICByZXR1cm4gY3JlYXRlT3JHZXRDYWNoZWREcmFmdE1vZGUobnVsbCwgd29ya1N0b3JlKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gd29ya1VuaXRTdG9yZVxuICAgICAgcmV0dXJuIF9leGhhdXN0aXZlQ2hlY2tcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVPckdldENhY2hlZERyYWZ0TW9kZShcbiAgZHJhZnRNb2RlUHJvdmlkZXI6IERyYWZ0TW9kZVByb3ZpZGVyIHwgbnVsbCxcbiAgd29ya1N0b3JlOiBXb3JrU3RvcmUgfCB1bmRlZmluZWRcbik6IFByb21pc2U8RHJhZnRNb2RlPiB7XG4gIGNvbnN0IGNhY2hlS2V5ID0gZHJhZnRNb2RlUHJvdmlkZXIgPz8gTnVsbERyYWZ0TW9kZVxuICBjb25zdCBjYWNoZWREcmFmdE1vZGUgPSBDYWNoZWREcmFmdE1vZGVzLmdldChjYWNoZUtleSlcblxuICBpZiAoY2FjaGVkRHJhZnRNb2RlKSB7XG4gICAgcmV0dXJuIGNhY2hlZERyYWZ0TW9kZVxuICB9XG5cbiAgbGV0IHByb21pc2U6IFByb21pc2U8RHJhZnRNb2RlPlxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAhd29ya1N0b3JlPy5pc1ByZWZldGNoUmVxdWVzdCkge1xuICAgIGNvbnN0IHJvdXRlID0gd29ya1N0b3JlPy5yb3V0ZVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Ll9fTkVYVF9EWU5BTUlDX0lPKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRHJhZnRNb2RlV2l0aERldldhcm5pbmdzKGRyYWZ0TW9kZVByb3ZpZGVyLCByb3V0ZSlcbiAgICB9XG5cbiAgICBwcm9taXNlID0gY3JlYXRlRXhvdGljRHJhZnRNb2RlV2l0aERldldhcm5pbmdzKGRyYWZ0TW9kZVByb3ZpZGVyLCByb3V0ZSlcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuX19ORVhUX0RZTkFNSUNfSU8pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IERyYWZ0TW9kZShkcmFmdE1vZGVQcm92aWRlcikpXG4gICAgfVxuXG4gICAgcHJvbWlzZSA9IGNyZWF0ZUV4b3RpY0RyYWZ0TW9kZShkcmFmdE1vZGVQcm92aWRlcilcbiAgfVxuXG4gIENhY2hlZERyYWZ0TW9kZXMuc2V0KGNhY2hlS2V5LCBwcm9taXNlKVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmludGVyZmFjZSBDYWNoZUxpZmV0aW1lIHt9XG5jb25zdCBOdWxsRHJhZnRNb2RlID0ge31cbmNvbnN0IENhY2hlZERyYWZ0TW9kZXMgPSBuZXcgV2Vha01hcDxDYWNoZUxpZmV0aW1lLCBQcm9taXNlPERyYWZ0TW9kZT4+KClcblxuZnVuY3Rpb24gY3JlYXRlRXhvdGljRHJhZnRNb2RlKFxuICB1bmRlcmx5aW5nUHJvdmlkZXI6IG51bGwgfCBEcmFmdE1vZGVQcm92aWRlclxuKTogUHJvbWlzZTxEcmFmdE1vZGU+IHtcbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgRHJhZnRNb2RlKHVuZGVybHlpbmdQcm92aWRlcilcbiAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShpbnN0YW5jZSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgJ2lzRW5hYmxlZCcsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuaXNFbmFibGVkXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgfSlcbiAgOyhwcm9taXNlIGFzIGFueSkuZW5hYmxlID0gaW5zdGFuY2UuZW5hYmxlLmJpbmQoaW5zdGFuY2UpXG4gIDsocHJvbWlzZSBhcyBhbnkpLmRpc2FibGUgPSBpbnN0YW5jZS5kaXNhYmxlLmJpbmQoaW5zdGFuY2UpXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gY3JlYXRlRXhvdGljRHJhZnRNb2RlV2l0aERldldhcm5pbmdzKFxuICB1bmRlcmx5aW5nUHJvdmlkZXI6IG51bGwgfCBEcmFmdE1vZGVQcm92aWRlcixcbiAgcm91dGU6IHVuZGVmaW5lZCB8IHN0cmluZ1xuKTogUHJvbWlzZTxEcmFmdE1vZGU+IHtcbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgRHJhZnRNb2RlKHVuZGVybHlpbmdQcm92aWRlcilcbiAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShpbnN0YW5jZSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgJ2lzRW5hYmxlZCcsIHtcbiAgICBnZXQoKSB7XG4gICAgICBjb25zdCBleHByZXNzaW9uID0gJ2BkcmFmdE1vZGUoKS5pc0VuYWJsZWRgJ1xuICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgcmV0dXJuIGluc3RhbmNlLmlzRW5hYmxlZFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gIH0pXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsICdlbmFibGUnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGRyYWZ0TW9kZSgpLmVuYWJsZSgpYCdcbiAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgIHJldHVybiBpbnN0YW5jZS5lbmFibGUuYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgfSxcbiAgfSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgJ2Rpc2FibGUnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGRyYWZ0TW9kZSgpLmRpc2FibGUoKWAnXG4gICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICByZXR1cm4gaW5zdGFuY2UuZGlzYWJsZS5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzIGFzIGFueSlcbiAgICB9LFxuICB9KVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbi8vIFNpbWlsYXIgdG8gYGNyZWF0ZUV4b3RpY0RyYWZ0TW9kZVdpdGhEZXZXYXJuaW5nc2AsIGJ1dCBqdXN0IGxvZ2dpbmcgdGhlIHN5bmNcbi8vIGFjY2VzcyB3aXRob3V0IGFjdHVhbGx5IGRlZmluaW5nIHRoZSBkcmFmdE1vZGUgcHJvcGVydGllcyBvbiB0aGUgcHJvbWlzZS5cbmZ1bmN0aW9uIGNyZWF0ZURyYWZ0TW9kZVdpdGhEZXZXYXJuaW5ncyhcbiAgdW5kZXJseWluZ1Byb3ZpZGVyOiBudWxsIHwgRHJhZnRNb2RlUHJvdmlkZXIsXG4gIHJvdXRlOiB1bmRlZmluZWQgfCBzdHJpbmdcbik6IFByb21pc2U8RHJhZnRNb2RlPiB7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IERyYWZ0TW9kZSh1bmRlcmx5aW5nUHJvdmlkZXIpXG4gIGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoaW5zdGFuY2UpXG5cbiAgY29uc3QgcHJveGllZFByb21pc2UgPSBuZXcgUHJveHkocHJvbWlzZSwge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgY2FzZSAnaXNFbmFibGVkJzpcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgYFxcYGRyYWZ0TW9kZSgpLiR7cHJvcH1cXGBgKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2VuYWJsZSc6XG4gICAgICAgIGNhc2UgJ2Rpc2FibGUnOiB7XG4gICAgICAgICAgd2FybkZvclN5bmNBY2Nlc3Mocm91dGUsIGBcXGBkcmFmdE1vZGUoKS4ke3Byb3B9KClcXGBgKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIFdlIG9ubHkgd2FybiBmb3Igd2VsbC1kZWZpbmVkIHByb3BlcnRpZXMgb2YgdGhlIGRyYWZ0TW9kZSBvYmplY3QuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlZmxlY3RBZGFwdGVyLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKVxuICAgIH0sXG4gIH0pXG5cbiAgcmV0dXJuIHByb3hpZWRQcm9taXNlXG59XG5cbmNsYXNzIERyYWZ0TW9kZSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgLSB0aGlzIGRlY2xhcmF0aW9uIGlzIHN0cmlwcGVkIHZpYSBgdHNjIC0tc3RyaXBJbnRlcm5hbGBcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgX3Byb3ZpZGVyOiBudWxsIHwgRHJhZnRNb2RlUHJvdmlkZXJcblxuICBjb25zdHJ1Y3Rvcihwcm92aWRlcjogbnVsbCB8IERyYWZ0TW9kZVByb3ZpZGVyKSB7XG4gICAgdGhpcy5fcHJvdmlkZXIgPSBwcm92aWRlclxuICB9XG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgaWYgKHRoaXMuX3Byb3ZpZGVyICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXIuaXNFbmFibGVkXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHB1YmxpYyBlbmFibGUoKSB7XG4gICAgLy8gV2UgaGF2ZSBhIHN0b3JlIHdlIHdhbnQgdG8gdHJhY2sgZHluYW1pYyBkYXRhIGFjY2VzcyB0byBlbnN1cmUgd2VcbiAgICAvLyBkb24ndCBzdGF0aWNhbGx5IGdlbmVyYXRlIHJvdXRlcyB0aGF0IG1hbmlwdWxhdGUgZHJhZnQgbW9kZS5cbiAgICB0cmFja0R5bmFtaWNEcmFmdE1vZGUoJ2RyYWZ0TW9kZSgpLmVuYWJsZSgpJylcbiAgICBpZiAodGhpcy5fcHJvdmlkZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3Byb3ZpZGVyLmVuYWJsZSgpXG4gICAgfVxuICB9XG4gIHB1YmxpYyBkaXNhYmxlKCkge1xuICAgIHRyYWNrRHluYW1pY0RyYWZ0TW9kZSgnZHJhZnRNb2RlKCkuZGlzYWJsZSgpJylcbiAgICBpZiAodGhpcy5fcHJvdmlkZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3Byb3ZpZGVyLmRpc2FibGUoKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzeW5jSU9EZXYocm91dGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgZXhwcmVzc2lvbjogc3RyaW5nKSB7XG4gIGNvbnN0IHdvcmtVbml0U3RvcmUgPSB3b3JrVW5pdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIGlmIChcbiAgICB3b3JrVW5pdFN0b3JlICYmXG4gICAgd29ya1VuaXRTdG9yZS50eXBlID09PSAncmVxdWVzdCcgJiZcbiAgICB3b3JrVW5pdFN0b3JlLnByZXJlbmRlclBoYXNlID09PSB0cnVlXG4gICkge1xuICAgIC8vIFdoZW4gd2UncmUgcmVuZGVyaW5nIGR5bmFtaWNhbGx5IGluIGRldiB3ZSBuZWVkIHRvIGFkdmFuY2Ugb3V0IG9mIHRoZVxuICAgIC8vIFByZXJlbmRlciBlbnZpcm9ubWVudCB3aGVuIHdlIHJlYWQgUmVxdWVzdCBkYXRhIHN5bmNocm9ub3VzbHlcbiAgICBjb25zdCByZXF1ZXN0U3RvcmUgPSB3b3JrVW5pdFN0b3JlXG4gICAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYocmVxdWVzdFN0b3JlKVxuICB9XG4gIC8vIEluIGFsbCBjYXNlcyB3ZSB3YXJuIG5vcm1hbGx5XG4gIHdhcm5Gb3JTeW5jQWNjZXNzKHJvdXRlLCBleHByZXNzaW9uKVxufVxuXG5jb25zdCB3YXJuRm9yU3luY0FjY2VzcyA9IGNyZWF0ZURlZHVwZWRCeUNhbGxzaXRlU2VydmVyRXJyb3JMb2dnZXJEZXYoXG4gIGNyZWF0ZURyYWZ0TW9kZUFjY2Vzc0Vycm9yXG4pXG5cbmZ1bmN0aW9uIGNyZWF0ZURyYWZ0TW9kZUFjY2Vzc0Vycm9yKFxuICByb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBleHByZXNzaW9uOiBzdHJpbmdcbikge1xuICBjb25zdCBwcmVmaXggPSByb3V0ZSA/IGBSb3V0ZSBcIiR7cm91dGV9XCIgYCA6ICdUaGlzIHJvdXRlICdcbiAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICBgJHtwcmVmaXh9dXNlZCAke2V4cHJlc3Npb259LiBgICtcbiAgICAgIGBcXGBkcmFmdE1vZGUoKVxcYCBzaG91bGQgYmUgYXdhaXRlZCBiZWZvcmUgdXNpbmcgaXRzIHZhbHVlLiBgICtcbiAgICAgIGBMZWFybiBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9zeW5jLWR5bmFtaWMtYXBpc2BcbiAgKVxufVxuXG5mdW5jdGlvbiB0cmFja0R5bmFtaWNEcmFmdE1vZGUoZXhwcmVzc2lvbjogc3RyaW5nKSB7XG4gIGNvbnN0IHN0b3JlID0gd29ya0FzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIGNvbnN0IHdvcmtVbml0U3RvcmUgPSB3b3JrVW5pdEFzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIGlmIChzdG9yZSkge1xuICAgIC8vIFdlIGhhdmUgYSBzdG9yZSB3ZSB3YW50IHRvIHRyYWNrIGR5bmFtaWMgZGF0YSBhY2Nlc3MgdG8gZW5zdXJlIHdlXG4gICAgLy8gZG9uJ3Qgc3RhdGljYWxseSBnZW5lcmF0ZSByb3V0ZXMgdGhhdCBtYW5pcHVsYXRlIGRyYWZ0IG1vZGUuXG4gICAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICAgIGlmICh3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdjYWNoZScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBSb3V0ZSAke3N0b3JlLnJvdXRlfSB1c2VkIFwiJHtleHByZXNzaW9ufVwiIGluc2lkZSBcInVzZSBjYWNoZVwiLiBUaGUgZW5hYmxlZCBzdGF0dXMgb2YgZHJhZnRNb2RlIGNhbiBiZSByZWFkIGluIGNhY2hlcyBidXQgeW91IG11c3Qgbm90IGVuYWJsZSBvciBkaXNhYmxlIGRyYWZ0TW9kZSBpbnNpZGUgYSBjYWNoZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3Vuc3RhYmxlLWNhY2hlJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJvdXRlICR7c3RvcmUucm91dGV9IHVzZWQgXCIke2V4cHJlc3Npb259XCIgaW5zaWRlIGEgZnVuY3Rpb24gY2FjaGVkIHdpdGggXCJ1bnN0YWJsZV9jYWNoZSguLi4pXCIuIFRoZSBlbmFibGVkIHN0YXR1cyBvZiBkcmFmdE1vZGUgY2FuIGJlIHJlYWQgaW4gY2FjaGVzIGJ1dCB5b3UgbXVzdCBub3QgZW5hYmxlIG9yIGRpc2FibGUgZHJhZnRNb2RlIGluc2lkZSBhIGNhY2hlLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy91bnN0YWJsZV9jYWNoZWBcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIGlmICh3b3JrVW5pdFN0b3JlLnBoYXNlID09PSAnYWZ0ZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gdXNlZCBcIiR7ZXhwcmVzc2lvbn1cIiBpbnNpZGUgXFxgYWZ0ZXJcXGAuIFRoZSBlbmFibGVkIHN0YXR1cyBvZiBkcmFmdE1vZGUgY2FuIGJlIHJlYWQgaW5zaWRlIFxcYGFmdGVyXFxgIGJ1dCB5b3UgY2Fubm90IGVuYWJsZSBvciBkaXNhYmxlIGRyYWZ0TW9kZS4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9hcHAvYXBpLXJlZmVyZW5jZS9mdW5jdGlvbnMvYWZ0ZXJgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RvcmUuZHluYW1pY1Nob3VsZEVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKFxuICAgICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gd2l0aCBcXGBkeW5hbWljID0gXCJlcnJvclwiXFxgIGNvdWxkbid0IGJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgYmVjYXVzZSBpdCB1c2VkIFxcYCR7ZXhwcmVzc2lvbn1cXGAuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3N0YXRpYy1hbmQtZHluYW1pYyNkeW5hbWljLXJlbmRlcmluZ2BcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAod29ya1VuaXRTdG9yZSkge1xuICAgICAgc3dpdGNoICh3b3JrVW5pdFN0b3JlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICAgICAgICAvLyBkeW5hbWljSU8gUHJlcmVuZGVyXG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gdXNlZCAke2V4cHJlc3Npb259IHdpdGhvdXQgZmlyc3QgY2FsbGluZyBcXGBhd2FpdCBjb25uZWN0aW9uKClcXGAuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvbWVzc2FnZXMvbmV4dC1wcmVyZW5kZXItc3luYy1oZWFkZXJzYFxuICAgICAgICAgIClcbiAgICAgICAgICBhYm9ydEFuZFRocm93T25TeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzKFxuICAgICAgICAgICAgc3RvcmUucm91dGUsXG4gICAgICAgICAgICBleHByZXNzaW9uLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICB3b3JrVW5pdFN0b3JlXG4gICAgICAgICAgKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgICAgIGNvbnN0IGV4cG9ydE5hbWUgPSAnYGRyYWZ0TW9kZWAnXG4gICAgICAgICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKFxuICAgICAgICAgICAgYCR7ZXhwb3J0TmFtZX0gbXVzdCBub3QgYmUgdXNlZCB3aXRoaW4gYSBjbGllbnQgY29tcG9uZW50LiBOZXh0LmpzIHNob3VsZCBiZSBwcmV2ZW50aW5nICR7ZXhwb3J0TmFtZX0gZnJvbSBiZWluZyBpbmNsdWRlZCBpbiBjbGllbnQgY29tcG9uZW50cyBzdGF0aWNhbGx5LCBidXQgZGlkIG5vdCBpbiB0aGlzIGNhc2UuYFxuICAgICAgICAgIClcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgICAgICAgLy8gUFBSIFByZXJlbmRlclxuICAgICAgICAgIHBvc3Rwb25lV2l0aFRyYWNraW5nKFxuICAgICAgICAgICAgc3RvcmUucm91dGUsXG4gICAgICAgICAgICBleHByZXNzaW9uLFxuICAgICAgICAgICAgd29ya1VuaXRTdG9yZS5keW5hbWljVHJhY2tpbmdcbiAgICAgICAgICApXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncHJlcmVuZGVyLWxlZ2FjeSc6XG4gICAgICAgICAgLy8gbGVnYWN5IFByZXJlbmRlclxuICAgICAgICAgIHdvcmtVbml0U3RvcmUucmV2YWxpZGF0ZSA9IDBcblxuICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBEeW5hbWljU2VydmVyRXJyb3IoXG4gICAgICAgICAgICBgUm91dGUgJHtzdG9yZS5yb3V0ZX0gY291bGRuJ3QgYmUgcmVuZGVyZWQgc3RhdGljYWxseSBiZWNhdXNlIGl0IHVzZWQgXFxgJHtleHByZXNzaW9ufVxcYC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9keW5hbWljLXNlcnZlci1lcnJvcmBcbiAgICAgICAgICApXG4gICAgICAgICAgc3RvcmUuZHluYW1pY1VzYWdlRGVzY3JpcHRpb24gPSBleHByZXNzaW9uXG4gICAgICAgICAgc3RvcmUuZHluYW1pY1VzYWdlU3RhY2sgPSBlcnIuc3RhY2tcblxuICAgICAgICAgIHRocm93IGVyclxuICAgICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICAgIHdvcmtVbml0U3RvcmUudXNlZER5bmFtaWMgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiZHJhZnRNb2RlIiwiY2FsbGluZ0V4cHJlc3Npb24iLCJ3b3JrU3RvcmUiLCJ3b3JrQXN5bmNTdG9yYWdlIiwiZ2V0U3RvcmUiLCJ3b3JrVW5pdFN0b3JlIiwid29ya1VuaXRBc3luY1N0b3JhZ2UiLCJ0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUiLCJ0eXBlIiwiY3JlYXRlT3JHZXRDYWNoZWREcmFmdE1vZGUiLCJkcmFmdE1vZGVQcm92aWRlciIsImdldERyYWZ0TW9kZVByb3ZpZGVyRm9yQ2FjaGVTY29wZSIsIl9leGhhdXN0aXZlQ2hlY2siLCJjYWNoZUtleSIsIk51bGxEcmFmdE1vZGUiLCJjYWNoZWREcmFmdE1vZGUiLCJDYWNoZWREcmFmdE1vZGVzIiwiZ2V0IiwicHJvbWlzZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImlzUHJlZmV0Y2hSZXF1ZXN0Iiwicm91dGUiLCJfX05FWFRfRFlOQU1JQ19JTyIsImNyZWF0ZURyYWZ0TW9kZVdpdGhEZXZXYXJuaW5ncyIsImNyZWF0ZUV4b3RpY0RyYWZ0TW9kZVdpdGhEZXZXYXJuaW5ncyIsIlByb21pc2UiLCJyZXNvbHZlIiwiRHJhZnRNb2RlIiwiY3JlYXRlRXhvdGljRHJhZnRNb2RlIiwic2V0IiwiV2Vha01hcCIsInVuZGVybHlpbmdQcm92aWRlciIsImluc3RhbmNlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJpc0VuYWJsZWQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZW5hYmxlIiwiYmluZCIsImRpc2FibGUiLCJleHByZXNzaW9uIiwic3luY0lPRGV2IiwidmFsdWUiLCJhcHBseSIsImFyZ3VtZW50cyIsInByb3hpZWRQcm9taXNlIiwiUHJveHkiLCJ0YXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJ3YXJuRm9yU3luY0FjY2VzcyIsIlJlZmxlY3RBZGFwdGVyIiwiY29uc3RydWN0b3IiLCJwcm92aWRlciIsIl9wcm92aWRlciIsInRyYWNrRHluYW1pY0RyYWZ0TW9kZSIsInByZXJlbmRlclBoYXNlIiwicmVxdWVzdFN0b3JlIiwidHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYiLCJjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IiwiY3JlYXRlRHJhZnRNb2RlQWNjZXNzRXJyb3IiLCJwcmVmaXgiLCJFcnJvciIsInN0b3JlIiwicGhhc2UiLCJkeW5hbWljU2hvdWxkRXJyb3IiLCJTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJlcnJvciIsImFib3J0QW5kVGhyb3dPblN5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3MiLCJleHBvcnROYW1lIiwiSW52YXJpYW50RXJyb3IiLCJwb3N0cG9uZVdpdGhUcmFja2luZyIsImR5bmFtaWNUcmFja2luZyIsInJldmFsaWRhdGUiLCJlcnIiLCJEeW5hbWljU2VydmVyRXJyb3IiLCJkeW5hbWljVXNhZ2VEZXNjcmlwdGlvbiIsImR5bmFtaWNVc2FnZVN0YWNrIiwic3RhY2siLCJ1c2VkRHluYW1pYyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/request/draft-mode.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/request/headers.js":
/*!**********************************************************!*\
  !*** ./node_modules/next/dist/server/request/headers.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"headers\", ({\n    enumerable: true,\n    get: function() {\n        return headers;\n    }\n}));\nconst _headers = __webpack_require__(/*! ../web/spec-extension/adapters/headers */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/headers.js\");\nconst _workasyncstorageexternal = __webpack_require__(/*! ../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\");\nconst _workunitasyncstorageexternal = __webpack_require__(/*! ../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js\");\nconst _dynamicrendering = __webpack_require__(/*! ../app-render/dynamic-rendering */ \"(app-pages-browser)/./node_modules/next/dist/server/app-render/dynamic-rendering.js\");\nconst _staticgenerationbailout = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js\");\nconst _dynamicrenderingutils = __webpack_require__(/*! ../dynamic-rendering-utils */ \"(app-pages-browser)/./node_modules/next/dist/server/dynamic-rendering-utils.js\");\nconst _creatededupedbycallsiteservererrorlogger = __webpack_require__(/*! ../create-deduped-by-callsite-server-error-logger */ \"(app-pages-browser)/./node_modules/next/dist/server/create-deduped-by-callsite-server-error-logger.js\");\nconst _scheduler = __webpack_require__(/*! ../../lib/scheduler */ \"(app-pages-browser)/./node_modules/next/dist/lib/scheduler.js\");\nconst _utils = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./node_modules/next/dist/server/request/utils.js\");\nconst _invarianterror = __webpack_require__(/*! ../../shared/lib/invariant-error */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/invariant-error.js\");\nconst _reflect = __webpack_require__(/*! ../web/spec-extension/adapters/reflect */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js\");\nfunction headers() {\n    const workStore = _workasyncstorageexternal.workAsyncStorage.getStore();\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (workStore) {\n        if (workUnitStore && workUnitStore.phase === 'after' && !(0, _utils.isRequestAPICallableInsideAfter)()) {\n            throw Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"headers\" inside \"after(...)\". This is not supported. If you need this data inside an \"after\" callback, use \"headers\" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after')), \"__NEXT_ERROR_CODE\", {\n                value: \"E367\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workStore.forceStatic) {\n            // When using forceStatic we override all other logic and always just return an empty\n            // headers object without tracking\n            const underlyingHeaders = _headers.HeadersAdapter.seal(new Headers({}));\n            return makeUntrackedExoticHeaders(underlyingHeaders);\n        }\n        if (workUnitStore) {\n            if (workUnitStore.type === 'cache') {\n                throw Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"headers\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E304\",\n                    enumerable: false,\n                    configurable: true\n                });\n            } else if (workUnitStore.type === 'unstable-cache') {\n                throw Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"headers\" inside a function cached with \"unstable_cache(...)\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"headers\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache')), \"__NEXT_ERROR_CODE\", {\n                    value: \"E127\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        }\n        if (workStore.dynamicShouldError) {\n            throw Object.defineProperty(new _staticgenerationbailout.StaticGenBailoutError(\"Route \".concat(workStore.route, ' with `dynamic = \"error\"` couldn\\'t be rendered statically because it used `headers`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering')), \"__NEXT_ERROR_CODE\", {\n                value: \"E525\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore) {\n            switch(workUnitStore.type){\n                case 'prerender':\n                    return makeHangingHeaders(workUnitStore);\n                case 'prerender-client':\n                    const exportName = '`headers`';\n                    throw Object.defineProperty(new _invarianterror.InvariantError(\"\".concat(exportName, \" must not be used within a client component. Next.js should be preventing \").concat(exportName, \" from being included in client components statically, but did not in this case.\")), \"__NEXT_ERROR_CODE\", {\n                        value: \"E693\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                case 'prerender-ppr':\n                    // PPR Prerender (no dynamicIO)\n                    // We are prerendering with PPR. We need track dynamic access here eagerly\n                    // to keep continuity with how headers has worked in PPR without dynamicIO.\n                    // TODO consider switching the semantic to throw on property access instead\n                    (0, _dynamicrendering.postponeWithTracking)(workStore.route, 'headers', workUnitStore.dynamicTracking);\n                    break;\n                case 'prerender-legacy':\n                    // Legacy Prerender\n                    // We are in a legacy static generation mode while prerendering\n                    // We track dynamic access here so we don't need to wrap the headers in\n                    // individual property access tracking.\n                    (0, _dynamicrendering.throwToInterruptStaticGeneration)('headers', workStore, workUnitStore);\n                    break;\n                default:\n            }\n        }\n        // We fall through to the dynamic context below but we still track dynamic access\n        // because in dev we can still error for things like using headers inside a cache context\n        (0, _dynamicrendering.trackDynamicDataInDynamicRender)(workStore, workUnitStore);\n    }\n    const requestStore = (0, _workunitasyncstorageexternal.getExpectedRequestStore)('headers');\n    if ( true && !(workStore == null ? void 0 : workStore.isPrefetchRequest)) {\n        if (false) {}\n        return makeUntrackedExoticHeadersWithDevWarnings(requestStore.headers, workStore == null ? void 0 : workStore.route);\n    } else {\n        return makeUntrackedExoticHeaders(requestStore.headers);\n    }\n}\nconst CachedHeaders = new WeakMap();\nfunction makeHangingHeaders(prerenderStore) {\n    const cachedHeaders = CachedHeaders.get(prerenderStore);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = (0, _dynamicrenderingutils.makeHangingPromise)(prerenderStore.renderSignal, '`headers()`');\n    CachedHeaders.set(prerenderStore, promise);\n    return promise;\n}\nfunction makeUntrackedExoticHeaders(underlyingHeaders) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = Promise.resolve(underlyingHeaders);\n    CachedHeaders.set(underlyingHeaders, promise);\n    Object.defineProperties(promise, {\n        append: {\n            value: underlyingHeaders.append.bind(underlyingHeaders)\n        },\n        delete: {\n            value: underlyingHeaders.delete.bind(underlyingHeaders)\n        },\n        get: {\n            value: underlyingHeaders.get.bind(underlyingHeaders)\n        },\n        has: {\n            value: underlyingHeaders.has.bind(underlyingHeaders)\n        },\n        set: {\n            value: underlyingHeaders.set.bind(underlyingHeaders)\n        },\n        getSetCookie: {\n            value: underlyingHeaders.getSetCookie.bind(underlyingHeaders)\n        },\n        forEach: {\n            value: underlyingHeaders.forEach.bind(underlyingHeaders)\n        },\n        keys: {\n            value: underlyingHeaders.keys.bind(underlyingHeaders)\n        },\n        values: {\n            value: underlyingHeaders.values.bind(underlyingHeaders)\n        },\n        entries: {\n            value: underlyingHeaders.entries.bind(underlyingHeaders)\n        },\n        [Symbol.iterator]: {\n            value: underlyingHeaders[Symbol.iterator].bind(underlyingHeaders)\n        }\n    });\n    return promise;\n}\nfunction makeUntrackedExoticHeadersWithDevWarnings(underlyingHeaders, route) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = new Promise((resolve)=>(0, _scheduler.scheduleImmediate)(()=>resolve(underlyingHeaders)));\n    CachedHeaders.set(underlyingHeaders, promise);\n    Object.defineProperties(promise, {\n        append: {\n            value: function append() {\n                const expression = \"`headers().append(\".concat(describeNameArg(arguments[0]), \", ...)`\");\n                syncIODev(route, expression);\n                return underlyingHeaders.append.apply(underlyingHeaders, arguments);\n            }\n        },\n        delete: {\n            value: function _delete() {\n                const expression = \"`headers().delete(\".concat(describeNameArg(arguments[0]), \")`\");\n                syncIODev(route, expression);\n                return underlyingHeaders.delete.apply(underlyingHeaders, arguments);\n            }\n        },\n        get: {\n            value: function get() {\n                const expression = \"`headers().get(\".concat(describeNameArg(arguments[0]), \")`\");\n                syncIODev(route, expression);\n                return underlyingHeaders.get.apply(underlyingHeaders, arguments);\n            }\n        },\n        has: {\n            value: function has() {\n                const expression = \"`headers().has(\".concat(describeNameArg(arguments[0]), \")`\");\n                syncIODev(route, expression);\n                return underlyingHeaders.has.apply(underlyingHeaders, arguments);\n            }\n        },\n        set: {\n            value: function set() {\n                const expression = \"`headers().set(\".concat(describeNameArg(arguments[0]), \", ...)`\");\n                syncIODev(route, expression);\n                return underlyingHeaders.set.apply(underlyingHeaders, arguments);\n            }\n        },\n        getSetCookie: {\n            value: function getSetCookie() {\n                const expression = '`headers().getSetCookie()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.getSetCookie.apply(underlyingHeaders, arguments);\n            }\n        },\n        forEach: {\n            value: function forEach() {\n                const expression = '`headers().forEach(...)`';\n                syncIODev(route, expression);\n                return underlyingHeaders.forEach.apply(underlyingHeaders, arguments);\n            }\n        },\n        keys: {\n            value: function keys() {\n                const expression = '`headers().keys()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.keys.apply(underlyingHeaders, arguments);\n            }\n        },\n        values: {\n            value: function values() {\n                const expression = '`headers().values()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.values.apply(underlyingHeaders, arguments);\n            }\n        },\n        entries: {\n            value: function entries() {\n                const expression = '`headers().entries()`';\n                syncIODev(route, expression);\n                return underlyingHeaders.entries.apply(underlyingHeaders, arguments);\n            }\n        },\n        [Symbol.iterator]: {\n            value: function() {\n                const expression = '`...headers()` or similar iteration';\n                syncIODev(route, expression);\n                return underlyingHeaders[Symbol.iterator].apply(underlyingHeaders, arguments);\n            }\n        }\n    });\n    return promise;\n}\n// Similar to `makeUntrackedExoticHeadersWithDevWarnings`, but just logging the\n// sync access without actually defining the headers properties on the promise.\nfunction makeUntrackedHeadersWithDevWarnings(underlyingHeaders, route) {\n    const cachedHeaders = CachedHeaders.get(underlyingHeaders);\n    if (cachedHeaders) {\n        return cachedHeaders;\n    }\n    const promise = new Promise((resolve)=>(0, _scheduler.scheduleImmediate)(()=>resolve(underlyingHeaders)));\n    const proxiedPromise = new Proxy(promise, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case Symbol.iterator:\n                    {\n                        warnForSyncAccess(route, '`...headers()` or similar iteration');\n                        break;\n                    }\n                case 'append':\n                case 'delete':\n                case 'get':\n                case 'has':\n                case 'set':\n                case 'getSetCookie':\n                case 'forEach':\n                case 'keys':\n                case 'values':\n                case 'entries':\n                    {\n                        warnForSyncAccess(route, \"`headers().\".concat(prop, \"`\"));\n                        break;\n                    }\n                default:\n                    {\n                    // We only warn for well-defined properties of the headers object.\n                    }\n            }\n            return _reflect.ReflectAdapter.get(target, prop, receiver);\n        }\n    });\n    CachedHeaders.set(underlyingHeaders, proxiedPromise);\n    return proxiedPromise;\n}\nfunction describeNameArg(arg) {\n    return typeof arg === 'string' ? \"'\".concat(arg, \"'\") : '...';\n}\nfunction syncIODev(route, expression) {\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (workUnitStore && workUnitStore.type === 'request' && workUnitStore.prerenderPhase === true) {\n        // When we're rendering dynamically in dev we need to advance out of the\n        // Prerender environment when we read Request data synchronously\n        const requestStore = workUnitStore;\n        (0, _dynamicrendering.trackSynchronousRequestDataAccessInDev)(requestStore);\n    }\n    // In all cases we warn normally\n    warnForSyncAccess(route, expression);\n}\nconst warnForSyncAccess = (0, _creatededupedbycallsiteservererrorlogger.createDedupedByCallsiteServerErrorLoggerDev)(createHeadersAccessError);\nfunction createHeadersAccessError(route, expression) {\n    const prefix = route ? 'Route \"'.concat(route, '\" ') : 'This route ';\n    return Object.defineProperty(new Error(\"\".concat(prefix, \"used \").concat(expression, \". \") + \"`headers()` should be awaited before using its value. \" + \"Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis\"), \"__NEXT_ERROR_CODE\", {\n        value: \"E277\",\n        enumerable: false,\n        configurable: true\n    });\n} //# sourceMappingURL=headers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QvaGVhZGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7OzJDQXdEZ0JBOzs7ZUFBQUE7OztxQ0FyRFQ7c0RBQzBCOzBEQUNPOzhDQVVqQztxREFDK0I7bURBQ0g7c0VBQ3lCO3VDQUMxQjttQ0FDYzs0Q0FDakI7cUNBQ0E7QUFrQ3hCLFNBQVNBO0lBQ2QsTUFBTUMsWUFBWUMsMEJBQUFBLGdCQUFnQixDQUFDQyxRQUFRO0lBQzNDLE1BQU1DLGdCQUFnQkMsOEJBQUFBLG9CQUFvQixDQUFDRixRQUFRO0lBRW5ELElBQUlGLFdBQVc7UUFDYixJQUNFRyxpQkFDQUEsY0FBY0UsS0FBSyxLQUFLLFdBQ3hCLENBQUNDLENBQUFBLEdBQUFBLE9BQUFBLCtCQUFBQSxLQUNEO1lBQ0EsTUFBTSxxQkFFTCxDQUZLLElBQUlDLE1BQ1IsTUFBTyxVQUFFUCxVQUFVUSxLQUFLLEVBQUMseU9BQXlPLENBQUMsS0FEL1A7dUJBQUE7NEJBQUE7OEJBQUE7WUFFTjtRQUNGO1FBRUEsSUFBSVIsVUFBVVMsV0FBVyxFQUFFO1lBQ3pCLHFGQUFxRjtZQUNyRixrQ0FBa0M7WUFDbEMsTUFBTUMsb0JBQW9CQyxTQUFBQSxjQUFjLENBQUNDLElBQUksQ0FBQyxJQUFJQyxRQUFRLENBQUM7WUFDM0QsT0FBT0MsMkJBQTJCSjtRQUNwQztRQUVBLElBQUlQLGVBQWU7WUFDakIsSUFBSUEsY0FBY1ksSUFBSSxLQUFLLFNBQVM7Z0JBQ2xDLE1BQU0scUJBRUwsQ0FGSyxJQUFJUixNQUNSLE1BQU8sVUFBRVAsVUFBVVEsS0FBSyxFQUFDLDBVQUEwVSxDQUFDLEtBRGhXOzJCQUFBO2dDQUFBO2tDQUFBO2dCQUVOO1lBQ0YsT0FBTyxJQUFJTCxjQUFjWSxJQUFJLEtBQUssa0JBQWtCO2dCQUNsRCxNQUFNLHFCQUVMLENBRkssSUFBSVIsTUFDUixNQUFPLFVBQUVQLFVBQVVRLEtBQUssRUFBQyxtWEFBbVgs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QUFBLDBDQUFBQSwyQ0FBQUEsRUFDeEJDO0FBR0YsU0FBU0EseUJBQ1ByRSxLQUF5QixFQUN6Qm9ELFVBQWtCO0lBRWxCLE1BQU1rQixTQUFTdEUsUUFBUSxPQUFRLFVBQUVBLE9BQU0sRUFBRSxDQUFDLEtBQUc7SUFDN0MsT0FBTyxxQkFJTixDQUpNLElBQUlELE1BQ1QsVUFBR3VFLFFBQU8sS0FBSyxXQUFFbEIsWUFBVyxFQUFFLENBQUMsR0FDN0IsRUFBQyx3REFBd0QsQ0FBQyxFQUN6RCxDQUFELDZEQUErRCxDQUFDLElBSDdEO2VBQUE7b0JBQUE7c0JBQUE7SUFJUDtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXHNyY1xcc2VydmVyXFxyZXF1ZXN0XFxoZWFkZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEhlYWRlcnNBZGFwdGVyLFxuICB0eXBlIFJlYWRvbmx5SGVhZGVycyxcbn0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL2hlYWRlcnMnXG5pbXBvcnQgeyB3b3JrQXN5bmNTdG9yYWdlIH0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyBnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvd29yay11bml0LWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQge1xuICB3b3JrVW5pdEFzeW5jU3RvcmFnZSxcbiAgdHlwZSBQcmVyZW5kZXJTdG9yZU1vZGVybixcbn0gZnJvbSAnLi4vYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcbmltcG9ydCB7XG4gIHBvc3Rwb25lV2l0aFRyYWNraW5nLFxuICB0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbixcbiAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcixcbiAgdHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYsXG59IGZyb20gJy4uL2FwcC1yZW5kZXIvZHluYW1pYy1yZW5kZXJpbmcnXG5pbXBvcnQgeyBTdGF0aWNHZW5CYWlsb3V0RXJyb3IgfSBmcm9tICcuLi8uLi9jbGllbnQvY29tcG9uZW50cy9zdGF0aWMtZ2VuZXJhdGlvbi1iYWlsb3V0J1xuaW1wb3J0IHsgbWFrZUhhbmdpbmdQcm9taXNlIH0gZnJvbSAnLi4vZHluYW1pYy1yZW5kZXJpbmctdXRpbHMnXG5pbXBvcnQgeyBjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IH0gZnJvbSAnLi4vY3JlYXRlLWRlZHVwZWQtYnktY2FsbHNpdGUtc2VydmVyLWVycm9yLWxvZ2dlcidcbmltcG9ydCB7IHNjaGVkdWxlSW1tZWRpYXRlIH0gZnJvbSAnLi4vLi4vbGliL3NjaGVkdWxlcidcbmltcG9ydCB7IGlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgSW52YXJpYW50RXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2ludmFyaWFudC1lcnJvcidcbmltcG9ydCB7IFJlZmxlY3RBZGFwdGVyIH0gZnJvbSAnLi4vd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL3JlZmxlY3QnXG5cbi8qKlxuICogSW4gdGhpcyB2ZXJzaW9uIG9mIE5leHQuanMgYGhlYWRlcnMoKWAgcmV0dXJucyBhIFByb21pc2UgaG93ZXZlciB5b3UgY2FuIHN0aWxsIHJlZmVyZW5jZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBIZWFkZXJzIGluc3RhbmNlXG4gKiBzeW5jaHJvbm91c2x5IHRvIGZhY2lsaXRhdGUgbWlncmF0aW9uLiBUaGUgYFVuc2FmZVVud3JhcHBlZEhlYWRlcnNgIHR5cGUgaXMgYWRkZWQgdG8geW91ciBjb2RlIGJ5IGEgY29kZW1vZCB0aGF0IGF0dGVtcHRzIHRvIGF1dG9tYXRpY2FsbHlcbiAqIHVwZGF0ZXMgY2FsbHNpdGVzIHRvIHJlZmxlY3QgdGhlIG5ldyBQcm9taXNlIHJldHVybiB0eXBlLiBUaGVyZSBhcmUgc29tZSBjYXNlcyB3aGVyZSBgaGVhZGVycygpYCBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQsIG5hbWVseVxuICogd2hlbiBpdCBpcyB1c2VkIGluc2lkZSBhIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGFuZCB3ZSBjYW4ndCBiZSBzdXJlIHRoZSBmdW5jdGlvbiBjYW4gYmUgbWFkZSBhc3luYyBhdXRvbWF0aWNhbGx5LiBJbiB0aGVzZSBjYXNlcyB3ZSBhZGQgYW5cbiAqIGV4cGxpY2l0IHR5cGUgY2FzZSB0byBgVW5zYWZlVW53cmFwcGVkSGVhZGVyc2AgdG8gZW5hYmxlIHR5cGVzY3JpcHQgdG8gYWxsb3cgZm9yIHRoZSBzeW5jaHJvbm91cyB1c2FnZSBvbmx5IHdoZXJlIGl0IGlzIGFjdHVhbGx5IG5lY2Vzc2FyeS5cbiAqXG4gKiBZb3Ugc2hvdWxkIHNob3VsZCB1cGRhdGUgdGhlc2UgY2FsbHNpdGVzIHRvIGVpdGhlciBiZSBhc3luYyBmdW5jdGlvbnMgd2hlcmUgdGhlIGBoZWFkZXJzKClgIHZhbHVlIGNhbiBiZSBhd2FpdGVkIG9yIHlvdSBzaG91bGQgY2FsbCBgaGVhZGVycygpYFxuICogZnJvbSBvdXRzaWRlIGFuZCBhd2FpdCB0aGUgcmV0dXJuIHZhbHVlIGJlZm9yZSBwYXNzaW5nIGl0IGludG8gdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgaW5zdGFuY2VzIHRoYXQgcmVxdWlyZSBtYW51YWwgbWlncmF0aW9uIGJ5IHNlYXJjaGluZyBmb3IgYFVuc2FmZVVud3JhcHBlZEhlYWRlcnNgIGluIHlvdXIgY29kZWJhc2Ugb3IgYnkgc2VhcmNoIGZvciBhIGNvbW1lbnQgdGhhdFxuICogc3RhcnRzIHdpdGggYEBuZXh0LWNvZGVtb2QtZXJyb3JgLlxuICpcbiAqIEluIGEgZnV0dXJlIHZlcnNpb24gb2YgTmV4dC5qcyBgaGVhZGVycygpYCB3aWxsIG9ubHkgcmV0dXJuIGEgUHJvbWlzZSBhbmQgeW91IHdpbGwgbm90IGJlIGFibGUgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIEhlYWRlcnMgaW5zdGFuY2VcbiAqIHdpdGhvdXQgYXdhaXRpbmcgdGhlIHJldHVybiB2YWx1ZSBmaXJzdC4gV2hlbiB0aGlzIGNoYW5nZSBoYXBwZW5zIHRoZSB0eXBlIGBVbnNhZmVVbndyYXBwZWRIZWFkZXJzYCB3aWxsIGJlIHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGF0IGlzIGl0IG5vIGxvbmdlclxuICogdXNhYmxlLlxuICpcbiAqIFRoaXMgdHlwZSBpcyBtYXJrZWQgZGVwcmVjYXRlZCB0byBoZWxwIGlkZW50aWZ5IGl0IGFzIHRhcmdldCBmb3IgcmVmYWN0b3JpbmcgYXdheS5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgdHlwZSBVbnNhZmVVbndyYXBwZWRIZWFkZXJzID0gUmVhZG9ubHlIZWFkZXJzXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHJlYWQgdGhlIEhUVFAgaW5jb21pbmcgcmVxdWVzdCBoZWFkZXJzIGluXG4gKiBbU2VydmVyIENvbXBvbmVudHNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zZXJ2ZXItY29tcG9uZW50cyksXG4gKiBbU2VydmVyIEFjdGlvbnNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL2RhdGEtZmV0Y2hpbmcvc2VydmVyLWFjdGlvbnMtYW5kLW11dGF0aW9ucyksXG4gKiBbUm91dGUgSGFuZGxlcnNdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JvdXRpbmcvcm91dGUtaGFuZGxlcnMpIGFuZFxuICogW01pZGRsZXdhcmVdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JvdXRpbmcvbWlkZGxld2FyZSkuXG4gKlxuICogUmVhZCBtb3JlOiBbTmV4dC5qcyBEb2NzOiBgaGVhZGVyc2BdKGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9oZWFkZXJzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVhZGVycygpOiBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4ge1xuICBjb25zdCB3b3JrU3RvcmUgPSB3b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcblxuICBpZiAod29ya1N0b3JlKSB7XG4gICAgaWYgKFxuICAgICAgd29ya1VuaXRTdG9yZSAmJlxuICAgICAgd29ya1VuaXRTdG9yZS5waGFzZSA9PT0gJ2FmdGVyJyAmJlxuICAgICAgIWlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIoKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJoZWFkZXJzXCIgaW5zaWRlIFwiYWZ0ZXIoLi4uKVwiLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIElmIHlvdSBuZWVkIHRoaXMgZGF0YSBpbnNpZGUgYW4gXCJhZnRlclwiIGNhbGxiYWNrLCB1c2UgXCJoZWFkZXJzXCIgb3V0c2lkZSBvZiB0aGUgY2FsbGJhY2suIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvY2FuYXJ5L2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9hZnRlcmBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAod29ya1N0b3JlLmZvcmNlU3RhdGljKSB7XG4gICAgICAvLyBXaGVuIHVzaW5nIGZvcmNlU3RhdGljIHdlIG92ZXJyaWRlIGFsbCBvdGhlciBsb2dpYyBhbmQgYWx3YXlzIGp1c3QgcmV0dXJuIGFuIGVtcHR5XG4gICAgICAvLyBoZWFkZXJzIG9iamVjdCB3aXRob3V0IHRyYWNraW5nXG4gICAgICBjb25zdCB1bmRlcmx5aW5nSGVhZGVycyA9IEhlYWRlcnNBZGFwdGVyLnNlYWwobmV3IEhlYWRlcnMoe30pKVxuICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRFeG90aWNIZWFkZXJzKHVuZGVybHlpbmdIZWFkZXJzKVxuICAgIH1cblxuICAgIGlmICh3b3JrVW5pdFN0b3JlKSB7XG4gICAgICBpZiAod29ya1VuaXRTdG9yZS50eXBlID09PSAnY2FjaGUnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHVzZWQgXCJoZWFkZXJzXCIgaW5zaWRlIFwidXNlIGNhY2hlXCIuIEFjY2Vzc2luZyBEeW5hbWljIGRhdGEgc291cmNlcyBpbnNpZGUgYSBjYWNoZSBzY29wZSBpcyBub3Qgc3VwcG9ydGVkLiBJZiB5b3UgbmVlZCB0aGlzIGRhdGEgaW5zaWRlIGEgY2FjaGVkIGZ1bmN0aW9uIHVzZSBcImhlYWRlcnNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3MgdGhlIHJlcXVpcmVkIGR5bmFtaWMgZGF0YSBpbiBhcyBhbiBhcmd1bWVudC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3Vuc3RhYmxlLWNhY2hlJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJvdXRlICR7d29ya1N0b3JlLnJvdXRlfSB1c2VkIFwiaGVhZGVyc1wiIGluc2lkZSBhIGZ1bmN0aW9uIGNhY2hlZCB3aXRoIFwidW5zdGFibGVfY2FjaGUoLi4uKVwiLiBBY2Nlc3NpbmcgRHluYW1pYyBkYXRhIHNvdXJjZXMgaW5zaWRlIGEgY2FjaGUgc2NvcGUgaXMgbm90IHN1cHBvcnRlZC4gSWYgeW91IG5lZWQgdGhpcyBkYXRhIGluc2lkZSBhIGNhY2hlZCBmdW5jdGlvbiB1c2UgXCJoZWFkZXJzXCIgb3V0c2lkZSBvZiB0aGUgY2FjaGVkIGZ1bmN0aW9uIGFuZCBwYXNzIHRoZSByZXF1aXJlZCBkeW5hbWljIGRhdGEgaW4gYXMgYW4gYXJndW1lbnQuIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvZnVuY3Rpb25zL3Vuc3RhYmxlX2NhY2hlYFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3b3JrU3RvcmUuZHluYW1pY1Nob3VsZEVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKFxuICAgICAgICBgUm91dGUgJHt3b3JrU3RvcmUucm91dGV9IHdpdGggXFxgZHluYW1pYyA9IFwiZXJyb3JcIlxcYCBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCBcXGBoZWFkZXJzXFxgLiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zdGF0aWMtYW5kLWR5bmFtaWMjZHluYW1pYy1yZW5kZXJpbmdgXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHdvcmtVbml0U3RvcmUpIHtcbiAgICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlcic6XG4gICAgICAgICAgcmV0dXJuIG1ha2VIYW5naW5nSGVhZGVycyh3b3JrVW5pdFN0b3JlKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICAgICAgICBjb25zdCBleHBvcnROYW1lID0gJ2BoZWFkZXJzYCdcbiAgICAgICAgICB0aHJvdyBuZXcgSW52YXJpYW50RXJyb3IoXG4gICAgICAgICAgICBgJHtleHBvcnROYW1lfSBtdXN0IG5vdCBiZSB1c2VkIHdpdGhpbiBhIGNsaWVudCBjb21wb25lbnQuIE5leHQuanMgc2hvdWxkIGJlIHByZXZlbnRpbmcgJHtleHBvcnROYW1lfSBmcm9tIGJlaW5nIGluY2x1ZGVkIGluIGNsaWVudCBjb21wb25lbnRzIHN0YXRpY2FsbHksIGJ1dCBkaWQgbm90IGluIHRoaXMgY2FzZS5gXG4gICAgICAgICAgKVxuICAgICAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICAgICAgICAvLyBQUFIgUHJlcmVuZGVyIChubyBkeW5hbWljSU8pXG4gICAgICAgICAgLy8gV2UgYXJlIHByZXJlbmRlcmluZyB3aXRoIFBQUi4gV2UgbmVlZCB0cmFjayBkeW5hbWljIGFjY2VzcyBoZXJlIGVhZ2VybHlcbiAgICAgICAgICAvLyB0byBrZWVwIGNvbnRpbnVpdHkgd2l0aCBob3cgaGVhZGVycyBoYXMgd29ya2VkIGluIFBQUiB3aXRob3V0IGR5bmFtaWNJTy5cbiAgICAgICAgICAvLyBUT0RPIGNvbnNpZGVyIHN3aXRjaGluZyB0aGUgc2VtYW50aWMgdG8gdGhyb3cgb24gcHJvcGVydHkgYWNjZXNzIGluc3RlYWRcbiAgICAgICAgICBwb3N0cG9uZVdpdGhUcmFja2luZyhcbiAgICAgICAgICAgIHdvcmtTdG9yZS5yb3V0ZSxcbiAgICAgICAgICAgICdoZWFkZXJzJyxcbiAgICAgICAgICAgIHdvcmtVbml0U3RvcmUuZHluYW1pY1RyYWNraW5nXG4gICAgICAgICAgKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3ByZXJlbmRlci1sZWdhY3knOlxuICAgICAgICAgIC8vIExlZ2FjeSBQcmVyZW5kZXJcbiAgICAgICAgICAvLyBXZSBhcmUgaW4gYSBsZWdhY3kgc3RhdGljIGdlbmVyYXRpb24gbW9kZSB3aGlsZSBwcmVyZW5kZXJpbmdcbiAgICAgICAgICAvLyBXZSB0cmFjayBkeW5hbWljIGFjY2VzcyBoZXJlIHNvIHdlIGRvbid0IG5lZWQgdG8gd3JhcCB0aGUgaGVhZGVycyBpblxuICAgICAgICAgIC8vIGluZGl2aWR1YWwgcHJvcGVydHkgYWNjZXNzIHRyYWNraW5nLlxuICAgICAgICAgIHRocm93VG9JbnRlcnJ1cHRTdGF0aWNHZW5lcmF0aW9uKCdoZWFkZXJzJywgd29ya1N0b3JlLCB3b3JrVW5pdFN0b3JlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICB9XG4gICAgfVxuICAgIC8vIFdlIGZhbGwgdGhyb3VnaCB0byB0aGUgZHluYW1pYyBjb250ZXh0IGJlbG93IGJ1dCB3ZSBzdGlsbCB0cmFjayBkeW5hbWljIGFjY2Vzc1xuICAgIC8vIGJlY2F1c2UgaW4gZGV2IHdlIGNhbiBzdGlsbCBlcnJvciBmb3IgdGhpbmdzIGxpa2UgdXNpbmcgaGVhZGVycyBpbnNpZGUgYSBjYWNoZSBjb250ZXh0XG4gICAgdHJhY2tEeW5hbWljRGF0YUluRHluYW1pY1JlbmRlcih3b3JrU3RvcmUsIHdvcmtVbml0U3RvcmUpXG4gIH1cblxuICBjb25zdCByZXF1ZXN0U3RvcmUgPSBnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZSgnaGVhZGVycycpXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAhd29ya1N0b3JlPy5pc1ByZWZldGNoUmVxdWVzdCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5fX05FWFRfRFlOQU1JQ19JTykge1xuICAgICAgcmV0dXJuIG1ha2VVbnRyYWNrZWRIZWFkZXJzV2l0aERldldhcm5pbmdzKFxuICAgICAgICByZXF1ZXN0U3RvcmUuaGVhZGVycyxcbiAgICAgICAgd29ya1N0b3JlPy5yb3V0ZVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBtYWtlVW50cmFja2VkRXhvdGljSGVhZGVyc1dpdGhEZXZXYXJuaW5ncyhcbiAgICAgIHJlcXVlc3RTdG9yZS5oZWFkZXJzLFxuICAgICAgd29ya1N0b3JlPy5yb3V0ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbWFrZVVudHJhY2tlZEV4b3RpY0hlYWRlcnMocmVxdWVzdFN0b3JlLmhlYWRlcnMpXG4gIH1cbn1cblxuaW50ZXJmYWNlIENhY2hlTGlmZXRpbWUge31cbmNvbnN0IENhY2hlZEhlYWRlcnMgPSBuZXcgV2Vha01hcDxDYWNoZUxpZmV0aW1lLCBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4+KClcblxuZnVuY3Rpb24gbWFrZUhhbmdpbmdIZWFkZXJzKFxuICBwcmVyZW5kZXJTdG9yZTogUHJlcmVuZGVyU3RvcmVNb2Rlcm5cbik6IFByb21pc2U8UmVhZG9ubHlIZWFkZXJzPiB7XG4gIGNvbnN0IGNhY2hlZEhlYWRlcnMgPSBDYWNoZWRIZWFkZXJzLmdldChwcmVyZW5kZXJTdG9yZSlcbiAgaWYgKGNhY2hlZEhlYWRlcnMpIHtcbiAgICByZXR1cm4gY2FjaGVkSGVhZGVyc1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IG1ha2VIYW5naW5nUHJvbWlzZTxSZWFkb25seUhlYWRlcnM+KFxuICAgIHByZXJlbmRlclN0b3JlLnJlbmRlclNpZ25hbCxcbiAgICAnYGhlYWRlcnMoKWAnXG4gIClcbiAgQ2FjaGVkSGVhZGVycy5zZXQocHJlcmVuZGVyU3RvcmUsIHByb21pc2UpXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gbWFrZVVudHJhY2tlZEV4b3RpY0hlYWRlcnMoXG4gIHVuZGVybHlpbmdIZWFkZXJzOiBSZWFkb25seUhlYWRlcnNcbik6IFByb21pc2U8UmVhZG9ubHlIZWFkZXJzPiB7XG4gIGNvbnN0IGNhY2hlZEhlYWRlcnMgPSBDYWNoZWRIZWFkZXJzLmdldCh1bmRlcmx5aW5nSGVhZGVycylcbiAgaWYgKGNhY2hlZEhlYWRlcnMpIHtcbiAgICByZXR1cm4gY2FjaGVkSGVhZGVyc1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlcmx5aW5nSGVhZGVycylcbiAgQ2FjaGVkSGVhZGVycy5zZXQodW5kZXJseWluZ0hlYWRlcnMsIHByb21pc2UpXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJvbWlzZSwge1xuICAgIGFwcGVuZDoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmFwcGVuZC5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIGRlbGV0ZToge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmRlbGV0ZS5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIGdldDoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmdldC5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIGhhczoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmhhcy5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIHNldDoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLnNldC5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIGdldFNldENvb2tpZToge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmdldFNldENvb2tpZS5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIGZvckVhY2g6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nSGVhZGVycy5mb3JFYWNoLmJpbmQodW5kZXJseWluZ0hlYWRlcnMpLFxuICAgIH0sXG4gICAga2V5czoge1xuICAgICAgdmFsdWU6IHVuZGVybHlpbmdIZWFkZXJzLmtleXMuYmluZCh1bmRlcmx5aW5nSGVhZGVycyksXG4gICAgfSxcbiAgICB2YWx1ZXM6IHtcbiAgICAgIHZhbHVlOiB1bmRlcmx5aW5nSGVhZGVycy52YWx1ZXMuYmluZCh1bmRlcmx5aW5nSGVhZGVycyksXG4gICAgfSxcbiAgICBlbnRyaWVzOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnMuZW50cmllcy5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiB7XG4gICAgICB2YWx1ZTogdW5kZXJseWluZ0hlYWRlcnNbU3ltYm9sLml0ZXJhdG9yXS5iaW5kKHVuZGVybHlpbmdIZWFkZXJzKSxcbiAgICB9LFxuICB9IHNhdGlzZmllcyBIZWFkZXJzRXh0ZW5zaW9ucylcblxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiBtYWtlVW50cmFja2VkRXhvdGljSGVhZGVyc1dpdGhEZXZXYXJuaW5ncyhcbiAgdW5kZXJseWluZ0hlYWRlcnM6IFJlYWRvbmx5SGVhZGVycyxcbiAgcm91dGU/OiBzdHJpbmdcbik6IFByb21pc2U8UmVhZG9ubHlIZWFkZXJzPiB7XG4gIGNvbnN0IGNhY2hlZEhlYWRlcnMgPSBDYWNoZWRIZWFkZXJzLmdldCh1bmRlcmx5aW5nSGVhZGVycylcbiAgaWYgKGNhY2hlZEhlYWRlcnMpIHtcbiAgICByZXR1cm4gY2FjaGVkSGVhZGVyc1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4oKHJlc29sdmUpID0+XG4gICAgc2NoZWR1bGVJbW1lZGlhdGUoKCkgPT4gcmVzb2x2ZSh1bmRlcmx5aW5nSGVhZGVycykpXG4gIClcblxuICBDYWNoZWRIZWFkZXJzLnNldCh1bmRlcmx5aW5nSGVhZGVycywgcHJvbWlzZSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm9taXNlLCB7XG4gICAgYXBwZW5kOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gYFxcYGhlYWRlcnMoKS5hcHBlbmQoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0sIC4uLilcXGBgXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzLmFwcGVuZC5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nSGVhZGVycyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWxldGU6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gYFxcYGhlYWRlcnMoKS5kZWxldGUoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0pXFxgYFxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5kZWxldGUuYXBwbHkoXG4gICAgICAgICAgdW5kZXJseWluZ0hlYWRlcnMsXG4gICAgICAgICAgYXJndW1lbnRzIGFzIGFueVxuICAgICAgICApXG4gICAgICB9LFxuICAgIH0sXG4gICAgZ2V0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gYFxcYGhlYWRlcnMoKS5nZXQoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0pXFxgYFxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5nZXQuYXBwbHkodW5kZXJseWluZ0hlYWRlcnMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgIH0sXG4gICAgaGFzOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gYFxcYGhlYWRlcnMoKS5oYXMoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0pXFxgYFxuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5oYXMuYXBwbHkodW5kZXJseWluZ0hlYWRlcnMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gICAgICB9LFxuICAgIH0sXG4gICAgc2V0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gYFxcYGhlYWRlcnMoKS5zZXQoJHtkZXNjcmliZU5hbWVBcmcoYXJndW1lbnRzWzBdKX0sIC4uLilcXGBgXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzLnNldC5hcHBseSh1bmRlcmx5aW5nSGVhZGVycywgYXJndW1lbnRzIGFzIGFueSlcbiAgICAgIH0sXG4gICAgfSxcbiAgICBnZXRTZXRDb29raWU6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXRDb29raWUoKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGhlYWRlcnMoKS5nZXRTZXRDb29raWUoKWAnXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzLmdldFNldENvb2tpZS5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nSGVhZGVycyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgfSxcbiAgICBmb3JFYWNoOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZm9yRWFjaCgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgaGVhZGVycygpLmZvckVhY2goLi4uKWAnXG4gICAgICAgIHN5bmNJT0Rldihyb3V0ZSwgZXhwcmVzc2lvbilcbiAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdIZWFkZXJzLmZvckVhY2guYXBwbHkoXG4gICAgICAgICAgdW5kZXJseWluZ0hlYWRlcnMsXG4gICAgICAgICAgYXJndW1lbnRzIGFzIGFueVxuICAgICAgICApXG4gICAgICB9LFxuICAgIH0sXG4gICAga2V5czoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGtleXMoKSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSAnYGhlYWRlcnMoKS5rZXlzKClgJ1xuICAgICAgICBzeW5jSU9EZXYocm91dGUsIGV4cHJlc3Npb24pXG4gICAgICAgIHJldHVybiB1bmRlcmx5aW5nSGVhZGVycy5rZXlzLmFwcGx5KHVuZGVybHlpbmdIZWFkZXJzLCBhcmd1bWVudHMgYXMgYW55KVxuICAgICAgfSxcbiAgICB9LFxuICAgIHZhbHVlczoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgaGVhZGVycygpLnZhbHVlcygpYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnMudmFsdWVzLmFwcGx5KFxuICAgICAgICAgIHVuZGVybHlpbmdIZWFkZXJzLFxuICAgICAgICAgIGFyZ3VtZW50cyBhcyBhbnlcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICB9LFxuICAgIGVudHJpZXM6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbnRyaWVzKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gJ2BoZWFkZXJzKCkuZW50cmllcygpYCdcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnMuZW50cmllcy5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nSGVhZGVycyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgfSxcbiAgICBbU3ltYm9sLml0ZXJhdG9yXToge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9ICdgLi4uaGVhZGVycygpYCBvciBzaW1pbGFyIGl0ZXJhdGlvbidcbiAgICAgICAgc3luY0lPRGV2KHJvdXRlLCBleHByZXNzaW9uKVxuICAgICAgICByZXR1cm4gdW5kZXJseWluZ0hlYWRlcnNbU3ltYm9sLml0ZXJhdG9yXS5hcHBseShcbiAgICAgICAgICB1bmRlcmx5aW5nSGVhZGVycyxcbiAgICAgICAgICBhcmd1bWVudHMgYXMgYW55XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgfSxcbiAgfSBzYXRpc2ZpZXMgSGVhZGVyc0V4dGVuc2lvbnMpXG5cbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuLy8gU2ltaWxhciB0byBgbWFrZVVudHJhY2tlZEV4b3RpY0hlYWRlcnNXaXRoRGV2V2FybmluZ3NgLCBidXQganVzdCBsb2dnaW5nIHRoZVxuLy8gc3luYyBhY2Nlc3Mgd2l0aG91dCBhY3R1YWxseSBkZWZpbmluZyB0aGUgaGVhZGVycyBwcm9wZXJ0aWVzIG9uIHRoZSBwcm9taXNlLlxuZnVuY3Rpb24gbWFrZVVudHJhY2tlZEhlYWRlcnNXaXRoRGV2V2FybmluZ3MoXG4gIHVuZGVybHlpbmdIZWFkZXJzOiBSZWFkb25seUhlYWRlcnMsXG4gIHJvdXRlPzogc3RyaW5nXG4pOiBQcm9taXNlPFJlYWRvbmx5SGVhZGVycz4ge1xuICBjb25zdCBjYWNoZWRIZWFkZXJzID0gQ2FjaGVkSGVhZGVycy5nZXQodW5kZXJseWluZ0hlYWRlcnMpXG4gIGlmIChjYWNoZWRIZWFkZXJzKSB7XG4gICAgcmV0dXJuIGNhY2hlZEhlYWRlcnNcbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxSZWFkb25seUhlYWRlcnM+KChyZXNvbHZlKSA9PlxuICAgIHNjaGVkdWxlSW1tZWRpYXRlKCgpID0+IHJlc29sdmUodW5kZXJseWluZ0hlYWRlcnMpKVxuICApXG5cbiAgY29uc3QgcHJveGllZFByb21pc2UgPSBuZXcgUHJveHkocHJvbWlzZSwge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgY2FzZSBTeW1ib2wuaXRlcmF0b3I6IHtcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgJ2AuLi5oZWFkZXJzKClgIG9yIHNpbWlsYXIgaXRlcmF0aW9uJylcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2FwcGVuZCc6XG4gICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgIGNhc2UgJ2hhcyc6XG4gICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgIGNhc2UgJ2dldFNldENvb2tpZSc6XG4gICAgICAgIGNhc2UgJ2ZvckVhY2gnOlxuICAgICAgICBjYXNlICdrZXlzJzpcbiAgICAgICAgY2FzZSAndmFsdWVzJzpcbiAgICAgICAgY2FzZSAnZW50cmllcyc6IHtcbiAgICAgICAgICB3YXJuRm9yU3luY0FjY2Vzcyhyb3V0ZSwgYFxcYGhlYWRlcnMoKS4ke3Byb3B9XFxgYClcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvLyBXZSBvbmx5IHdhcm4gZm9yIHdlbGwtZGVmaW5lZCBwcm9wZXJ0aWVzIG9mIHRoZSBoZWFkZXJzIG9iamVjdC5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVmbGVjdEFkYXB0ZXIuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpXG4gICAgfSxcbiAgfSlcblxuICBDYWNoZWRIZWFkZXJzLnNldCh1bmRlcmx5aW5nSGVhZGVycywgcHJveGllZFByb21pc2UpXG5cbiAgcmV0dXJuIHByb3hpZWRQcm9taXNlXG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmFtZUFyZyhhcmc6IHVua25vd24pIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnID8gYCcke2FyZ30nYCA6ICcuLi4nXG59XG5cbmZ1bmN0aW9uIHN5bmNJT0Rldihyb3V0ZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBleHByZXNzaW9uOiBzdHJpbmcpIHtcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlLmdldFN0b3JlKClcbiAgaWYgKFxuICAgIHdvcmtVbml0U3RvcmUgJiZcbiAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdyZXF1ZXN0JyAmJlxuICAgIHdvcmtVbml0U3RvcmUucHJlcmVuZGVyUGhhc2UgPT09IHRydWVcbiAgKSB7XG4gICAgLy8gV2hlbiB3ZSdyZSByZW5kZXJpbmcgZHluYW1pY2FsbHkgaW4gZGV2IHdlIG5lZWQgdG8gYWR2YW5jZSBvdXQgb2YgdGhlXG4gICAgLy8gUHJlcmVuZGVyIGVudmlyb25tZW50IHdoZW4gd2UgcmVhZCBSZXF1ZXN0IGRhdGEgc3luY2hyb25vdXNseVxuICAgIGNvbnN0IHJlcXVlc3RTdG9yZSA9IHdvcmtVbml0U3RvcmVcbiAgICB0cmFja1N5bmNocm9ub3VzUmVxdWVzdERhdGFBY2Nlc3NJbkRldihyZXF1ZXN0U3RvcmUpXG4gIH1cbiAgLy8gSW4gYWxsIGNhc2VzIHdlIHdhcm4gbm9ybWFsbHlcbiAgd2FybkZvclN5bmNBY2Nlc3Mocm91dGUsIGV4cHJlc3Npb24pXG59XG5cbmNvbnN0IHdhcm5Gb3JTeW5jQWNjZXNzID0gY3JlYXRlRGVkdXBlZEJ5Q2FsbHNpdGVTZXJ2ZXJFcnJvckxvZ2dlckRldihcbiAgY3JlYXRlSGVhZGVyc0FjY2Vzc0Vycm9yXG4pXG5cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcnNBY2Nlc3NFcnJvcihcbiAgcm91dGU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgZXhwcmVzc2lvbjogc3RyaW5nXG4pIHtcbiAgY29uc3QgcHJlZml4ID0gcm91dGUgPyBgUm91dGUgXCIke3JvdXRlfVwiIGAgOiAnVGhpcyByb3V0ZSAnXG4gIHJldHVybiBuZXcgRXJyb3IoXG4gICAgYCR7cHJlZml4fXVzZWQgJHtleHByZXNzaW9ufS4gYCArXG4gICAgICBgXFxgaGVhZGVycygpXFxgIHNob3VsZCBiZSBhd2FpdGVkIGJlZm9yZSB1c2luZyBpdHMgdmFsdWUuIGAgK1xuICAgICAgYExlYXJuIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL3N5bmMtZHluYW1pYy1hcGlzYFxuICApXG59XG5cbnR5cGUgSGVhZGVyc0V4dGVuc2lvbnMgPSB7XG4gIFtLIGluIGtleW9mIFJlYWRvbmx5SGVhZGVyc106IHVua25vd25cbn1cbiJdLCJuYW1lcyI6WyJoZWFkZXJzIiwid29ya1N0b3JlIiwid29ya0FzeW5jU3RvcmFnZSIsImdldFN0b3JlIiwid29ya1VuaXRTdG9yZSIsIndvcmtVbml0QXN5bmNTdG9yYWdlIiwicGhhc2UiLCJpc1JlcXVlc3RBUElDYWxsYWJsZUluc2lkZUFmdGVyIiwiRXJyb3IiLCJyb3V0ZSIsImZvcmNlU3RhdGljIiwidW5kZXJseWluZ0hlYWRlcnMiLCJIZWFkZXJzQWRhcHRlciIsInNlYWwiLCJIZWFkZXJzIiwibWFrZVVudHJhY2tlZEV4b3RpY0hlYWRlcnMiLCJ0eXBlIiwiZHluYW1pY1Nob3VsZEVycm9yIiwiU3RhdGljR2VuQmFpbG91dEVycm9yIiwibWFrZUhhbmdpbmdIZWFkZXJzIiwiZXhwb3J0TmFtZSIsIkludmFyaWFudEVycm9yIiwicG9zdHBvbmVXaXRoVHJhY2tpbmciLCJkeW5hbWljVHJhY2tpbmciLCJ0aHJvd1RvSW50ZXJydXB0U3RhdGljR2VuZXJhdGlvbiIsInRyYWNrRHluYW1pY0RhdGFJbkR5bmFtaWNSZW5kZXIiLCJyZXF1ZXN0U3RvcmUiLCJnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImlzUHJlZmV0Y2hSZXF1ZXN0IiwiX19ORVhUX0RZTkFNSUNfSU8iLCJtYWtlVW50cmFja2VkSGVhZGVyc1dpdGhEZXZXYXJuaW5ncyIsIm1ha2VVbnRyYWNrZWRFeG90aWNIZWFkZXJzV2l0aERldldhcm5pbmdzIiwiQ2FjaGVkSGVhZGVycyIsIldlYWtNYXAiLCJwcmVyZW5kZXJTdG9yZSIsImNhY2hlZEhlYWRlcnMiLCJnZXQiLCJwcm9taXNlIiwibWFrZUhhbmdpbmdQcm9taXNlIiwicmVuZGVyU2lnbmFsIiwic2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiYXBwZW5kIiwidmFsdWUiLCJiaW5kIiwiZGVsZXRlIiwiaGFzIiwiZ2V0U2V0Q29va2llIiwiZm9yRWFjaCIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJzY2hlZHVsZUltbWVkaWF0ZSIsImV4cHJlc3Npb24iLCJkZXNjcmliZU5hbWVBcmciLCJhcmd1bWVudHMiLCJzeW5jSU9EZXYiLCJhcHBseSIsIl9kZWxldGUiLCJwcm94aWVkUHJvbWlzZSIsIlByb3h5IiwidGFyZ2V0IiwicHJvcCIsInJlY2VpdmVyIiwid2FybkZvclN5bmNBY2Nlc3MiLCJSZWZsZWN0QWRhcHRlciIsImFyZyIsInByZXJlbmRlclBoYXNlIiwidHJhY2tTeW5jaHJvbm91c1JlcXVlc3REYXRhQWNjZXNzSW5EZXYiLCJjcmVhdGVEZWR1cGVkQnlDYWxsc2l0ZVNlcnZlckVycm9yTG9nZ2VyRGV2IiwiY3JlYXRlSGVhZGVyc0FjY2Vzc0Vycm9yIiwicHJlZml4Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/request/headers.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/request/utils.js":
/*!********************************************************!*\
  !*** ./node_modules/next/dist/server/request/utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    isRequestAPICallableInsideAfter: function() {\n        return isRequestAPICallableInsideAfter;\n    },\n    throwForSearchParamsAccessInUseCache: function() {\n        return throwForSearchParamsAccessInUseCache;\n    },\n    throwWithStaticGenerationBailoutError: function() {\n        return throwWithStaticGenerationBailoutError;\n    },\n    throwWithStaticGenerationBailoutErrorWithDynamicError: function() {\n        return throwWithStaticGenerationBailoutErrorWithDynamicError;\n    }\n});\nconst _staticgenerationbailout = __webpack_require__(/*! ../../client/components/static-generation-bailout */ \"(app-pages-browser)/./node_modules/next/dist/client/components/static-generation-bailout.js\");\nconst _aftertaskasyncstorageexternal = __webpack_require__(/*! ../app-render/after-task-async-storage.external */ \"(app-pages-browser)/./node_modules/next/dist/server/app-render/after-task-async-storage.external.js\");\nfunction throwWithStaticGenerationBailoutError(route, expression) {\n    throw Object.defineProperty(new _staticgenerationbailout.StaticGenBailoutError(\"Route \".concat(route, \" couldn't be rendered statically because it used \").concat(expression, \". See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\")), \"__NEXT_ERROR_CODE\", {\n        value: \"E576\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction throwWithStaticGenerationBailoutErrorWithDynamicError(route, expression) {\n    throw Object.defineProperty(new _staticgenerationbailout.StaticGenBailoutError(\"Route \".concat(route, ' with `dynamic = \"error\"` couldn\\'t be rendered statically because it used ').concat(expression, \". See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering\")), \"__NEXT_ERROR_CODE\", {\n        value: \"E543\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction throwForSearchParamsAccessInUseCache(workStore, constructorOpt) {\n    var _workStore;\n    const error = Object.defineProperty(new Error(\"Route \".concat(workStore.route, ' used \"searchParams\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"searchParams\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache')), \"__NEXT_ERROR_CODE\", {\n        value: \"E634\",\n        enumerable: false,\n        configurable: true\n    });\n    Error.captureStackTrace(error, constructorOpt);\n    var _invalidDynamicUsageError;\n    (_invalidDynamicUsageError = (_workStore = workStore).invalidDynamicUsageError) !== null && _invalidDynamicUsageError !== void 0 ? _invalidDynamicUsageError : _workStore.invalidDynamicUsageError = error;\n    throw error;\n}\nfunction isRequestAPICallableInsideAfter() {\n    const afterTaskStore = _aftertaskasyncstorageexternal.afterTaskAsyncStorage.getStore();\n    return (afterTaskStore == null ? void 0 : afterTaskStore.rootTaskSpawnPhase) === 'action';\n} //# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0lBb0NnQkEsK0JBQStCO2VBQS9CQTs7SUFkQUMsb0NBQW9DO2VBQXBDQTs7SUFsQkFDLHFDQUFxQztlQUFyQ0E7O0lBU0FDLHFEQUFxRDtlQUFyREE7OztxREFic0I7MkRBQ0E7QUFHL0IsU0FBU0Qsc0NBQ2RFLEtBQWEsRUFDYkMsVUFBa0I7SUFFbEIsTUFBTSxxQkFFTCxDQUZLLElBQUlDLHlCQUFBQSxxQkFBcUIsQ0FDN0IsTUFBTyxVQUFFRixPQUFNLGlEQUFpRCxXQUFFQyxZQUFXLDBIQUEwSCxDQUFDLEtBRHBNO2VBQUE7b0JBQUE7c0JBQUE7SUFFTjtBQUNGO0FBRU8sU0FBU0Ysc0RBQ2RDLEtBQWEsRUFDYkMsVUFBa0I7SUFFbEIsTUFBTSxxQkFFTCxDQUZLLElBQUlDLHlCQUFBQSxxQkFBcUIsQ0FDN0IsTUFBTyxVQUFFRixPQUFNLDRFQUE0RSxVQUFFQyxZQUFXLDBIQUEwSCxDQUFDLEtBRC9OO2VBQUE7b0JBQUE7c0JBQUE7SUFFTjtBQUNGO0FBRU8sU0FBU0oscUNBQ2RNLFNBQW9CLEVBQ3BCQyxjQUF3QjtRQU94QkQ7SUFMQSxNQUFNRSxRQUFRLHFCQUViLENBRmEsSUFBSUMsTUFDZixNQUFNLFVBQUVILFVBQVVILEtBQUssRUFBQyxvVkFBb1YsQ0FBQyxLQURsVztlQUFBO29CQUFBO3NCQUFBO0lBRWQ7SUFFQU0sTUFBTUMsaUJBQWlCLENBQUNGLE9BQU9EOzs4S0FDckJJLHdCQUF3QixHQUFLSDtJQUV2QyxNQUFNQTtBQUNSO0FBRU8sU0FBU1Q7SUFDZCxNQUFNYSxpQkFBaUJDLCtCQUFBQSxxQkFBcUIsQ0FBQ0MsUUFBUTtJQUNyRCxPQUFPRixDQUFBQSxrQkFBQUEsT0FBQUEsS0FBQUEsSUFBQUEsZUFBZ0JHLGtCQUFBQSxNQUF1QjtBQUNoRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxzcmNcXHNlcnZlclxccmVxdWVzdFxcdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdGljR2VuQmFpbG91dEVycm9yIH0gZnJvbSAnLi4vLi4vY2xpZW50L2NvbXBvbmVudHMvc3RhdGljLWdlbmVyYXRpb24tYmFpbG91dCdcbmltcG9ydCB7IGFmdGVyVGFza0FzeW5jU3RvcmFnZSB9IGZyb20gJy4uL2FwcC1yZW5kZXIvYWZ0ZXItdGFzay1hc3luYy1zdG9yYWdlLmV4dGVybmFsJ1xuaW1wb3J0IHR5cGUgeyBXb3JrU3RvcmUgfSBmcm9tICcuLi9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbCdcblxuZXhwb3J0IGZ1bmN0aW9uIHRocm93V2l0aFN0YXRpY0dlbmVyYXRpb25CYWlsb3V0RXJyb3IoXG4gIHJvdXRlOiBzdHJpbmcsXG4gIGV4cHJlc3Npb246IHN0cmluZ1xuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgU3RhdGljR2VuQmFpbG91dEVycm9yKFxuICAgIGBSb3V0ZSAke3JvdXRlfSBjb3VsZG4ndCBiZSByZW5kZXJlZCBzdGF0aWNhbGx5IGJlY2F1c2UgaXQgdXNlZCAke2V4cHJlc3Npb259LiBTZWUgbW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9idWlsZGluZy15b3VyLWFwcGxpY2F0aW9uL3JlbmRlcmluZy9zdGF0aWMtYW5kLWR5bmFtaWMjZHluYW1pYy1yZW5kZXJpbmdgXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm93V2l0aFN0YXRpY0dlbmVyYXRpb25CYWlsb3V0RXJyb3JXaXRoRHluYW1pY0Vycm9yKFxuICByb3V0ZTogc3RyaW5nLFxuICBleHByZXNzaW9uOiBzdHJpbmdcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IFN0YXRpY0dlbkJhaWxvdXRFcnJvcihcbiAgICBgUm91dGUgJHtyb3V0ZX0gd2l0aCBcXGBkeW5hbWljID0gXCJlcnJvclwiXFxgIGNvdWxkbid0IGJlIHJlbmRlcmVkIHN0YXRpY2FsbHkgYmVjYXVzZSBpdCB1c2VkICR7ZXhwcmVzc2lvbn0uIFNlZSBtb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL3N0YXRpYy1hbmQtZHluYW1pYyNkeW5hbWljLXJlbmRlcmluZ2BcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dGb3JTZWFyY2hQYXJhbXNBY2Nlc3NJblVzZUNhY2hlKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgY29uc3RydWN0b3JPcHQ6IEZ1bmN0aW9uXG4pOiBuZXZlciB7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgIGBSb3V0ZSAke3dvcmtTdG9yZS5yb3V0ZX0gdXNlZCBcInNlYXJjaFBhcmFtc1wiIGluc2lkZSBcInVzZSBjYWNoZVwiLiBBY2Nlc3NpbmcgRHluYW1pYyBkYXRhIHNvdXJjZXMgaW5zaWRlIGEgY2FjaGUgc2NvcGUgaXMgbm90IHN1cHBvcnRlZC4gSWYgeW91IG5lZWQgdGhpcyBkYXRhIGluc2lkZSBhIGNhY2hlZCBmdW5jdGlvbiB1c2UgXCJzZWFyY2hQYXJhbXNcIiBvdXRzaWRlIG9mIHRoZSBjYWNoZWQgZnVuY3Rpb24gYW5kIHBhc3MgdGhlIHJlcXVpcmVkIGR5bmFtaWMgZGF0YSBpbiBhcyBhbiBhcmd1bWVudC4gU2VlIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LXJlcXVlc3QtaW4tdXNlLWNhY2hlYFxuICApXG5cbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IsIGNvbnN0cnVjdG9yT3B0KVxuICB3b3JrU3RvcmUuaW52YWxpZER5bmFtaWNVc2FnZUVycm9yID8/PSBlcnJvclxuXG4gIHRocm93IGVycm9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlcXVlc3RBUElDYWxsYWJsZUluc2lkZUFmdGVyKCkge1xuICBjb25zdCBhZnRlclRhc2tTdG9yZSA9IGFmdGVyVGFza0FzeW5jU3RvcmFnZS5nZXRTdG9yZSgpXG4gIHJldHVybiBhZnRlclRhc2tTdG9yZT8ucm9vdFRhc2tTcGF3blBoYXNlID09PSAnYWN0aW9uJ1xufVxuIl0sIm5hbWVzIjpbImlzUmVxdWVzdEFQSUNhbGxhYmxlSW5zaWRlQWZ0ZXIiLCJ0aHJvd0ZvclNlYXJjaFBhcmFtc0FjY2Vzc0luVXNlQ2FjaGUiLCJ0aHJvd1dpdGhTdGF0aWNHZW5lcmF0aW9uQmFpbG91dEVycm9yIiwidGhyb3dXaXRoU3RhdGljR2VuZXJhdGlvbkJhaWxvdXRFcnJvcldpdGhEeW5hbWljRXJyb3IiLCJyb3V0ZSIsImV4cHJlc3Npb24iLCJTdGF0aWNHZW5CYWlsb3V0RXJyb3IiLCJ3b3JrU3RvcmUiLCJjb25zdHJ1Y3Rvck9wdCIsImVycm9yIiwiRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsImludmFsaWREeW5hbWljVXNhZ2VFcnJvciIsImFmdGVyVGFza1N0b3JlIiwiYWZ0ZXJUYXNrQXN5bmNTdG9yYWdlIiwiZ2V0U3RvcmUiLCJyb290VGFza1NwYXduUGhhc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/request/utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/headers.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/server/web/spec-extension/adapters/headers.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    HeadersAdapter: function() {\n        return HeadersAdapter;\n    },\n    ReadonlyHeadersError: function() {\n        return ReadonlyHeadersError;\n    }\n});\nconst _reflect = __webpack_require__(/*! ./reflect */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js\");\nclass ReadonlyHeadersError extends Error {\n    constructor(){\n        super('Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers');\n    }\n    static callable() {\n        throw new ReadonlyHeadersError();\n    }\n}\nclass HeadersAdapter extends Headers {\n    constructor(headers){\n        // We've already overridden the methods that would be called, so we're just\n        // calling the super constructor to ensure that the instanceof check works.\n        super();\n        this.headers = new Proxy(headers, {\n            get (target, prop, receiver) {\n                // Because this is just an object, we expect that all \"get\" operations\n                // are for properties. If it's a \"get\" for a symbol, we'll just return\n                // the symbol.\n                if (typeof prop === 'symbol') {\n                    return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return undefined.\n                if (typeof original === 'undefined') return;\n                // If the original casing exists, return the value.\n                return _reflect.ReflectAdapter.get(target, original, receiver);\n            },\n            set (target, prop, value, receiver) {\n                if (typeof prop === 'symbol') {\n                    return _reflect.ReflectAdapter.set(target, prop, value, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, use the prop as the key.\n                return _reflect.ReflectAdapter.set(target, original ?? prop, value, receiver);\n            },\n            has (target, prop) {\n                if (typeof prop === 'symbol') return _reflect.ReflectAdapter.has(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return false.\n                if (typeof original === 'undefined') return false;\n                // If the original casing exists, return true.\n                return _reflect.ReflectAdapter.has(target, original);\n            },\n            deleteProperty (target, prop) {\n                if (typeof prop === 'symbol') return _reflect.ReflectAdapter.deleteProperty(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return true.\n                if (typeof original === 'undefined') return true;\n                // If the original casing exists, delete the property.\n                return _reflect.ReflectAdapter.deleteProperty(target, original);\n            }\n        });\n    }\n    /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */ static seal(headers) {\n        return new Proxy(headers, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case 'append':\n                    case 'delete':\n                    case 'set':\n                        return ReadonlyHeadersError.callable;\n                    default:\n                        return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n    /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */ merge(value) {\n        if (Array.isArray(value)) return value.join(', ');\n        return value;\n    }\n    /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */ static from(headers) {\n        if (headers instanceof Headers) return headers;\n        return new HeadersAdapter(headers);\n    }\n    append(name, value) {\n        const existing = this.headers[name];\n        if (typeof existing === 'string') {\n            this.headers[name] = [\n                existing,\n                value\n            ];\n        } else if (Array.isArray(existing)) {\n            existing.push(value);\n        } else {\n            this.headers[name] = value;\n        }\n    }\n    delete(name) {\n        delete this.headers[name];\n    }\n    get(name) {\n        const value = this.headers[name];\n        if (typeof value !== 'undefined') return this.merge(value);\n        return null;\n    }\n    has(name) {\n        return typeof this.headers[name] !== 'undefined';\n    }\n    set(name, value) {\n        this.headers[name] = value;\n    }\n    forEach(callbackfn, thisArg) {\n        for (const [name, value] of this.entries()){\n            callbackfn.call(thisArg, value, name, this);\n        }\n    }\n    *entries() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(name);\n            yield [\n                name,\n                value\n            ];\n        }\n    }\n    *keys() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            yield name;\n        }\n    }\n    *values() {\n        for (const key of Object.keys(this.headers)){\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(key);\n            yield value;\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\n\n//# sourceMappingURL=headers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9oZWFkZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsTUFBTSxDQUdMO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQixtQkFBTyxDQUFDLDZHQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcd2ViXFxzcGVjLWV4dGVuc2lvblxcYWRhcHRlcnNcXGhlYWRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBIZWFkZXJzQWRhcHRlcjogbnVsbCxcbiAgICBSZWFkb25seUhlYWRlcnNFcnJvcjogbnVsbFxufSk7XG5mdW5jdGlvbiBfZXhwb3J0KHRhcmdldCwgYWxsKSB7XG4gICAgZm9yKHZhciBuYW1lIGluIGFsbClPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogYWxsW25hbWVdXG4gICAgfSk7XG59XG5fZXhwb3J0KGV4cG9ydHMsIHtcbiAgICBIZWFkZXJzQWRhcHRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBIZWFkZXJzQWRhcHRlcjtcbiAgICB9LFxuICAgIFJlYWRvbmx5SGVhZGVyc0Vycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFJlYWRvbmx5SGVhZGVyc0Vycm9yO1xuICAgIH1cbn0pO1xuY29uc3QgX3JlZmxlY3QgPSByZXF1aXJlKFwiLi9yZWZsZWN0XCIpO1xuY2xhc3MgUmVhZG9ubHlIZWFkZXJzRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoJ0hlYWRlcnMgY2Fubm90IGJlIG1vZGlmaWVkLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9oZWFkZXJzJyk7XG4gICAgfVxuICAgIHN0YXRpYyBjYWxsYWJsZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlYWRvbmx5SGVhZGVyc0Vycm9yKCk7XG4gICAgfVxufVxuY2xhc3MgSGVhZGVyc0FkYXB0ZXIgZXh0ZW5kcyBIZWFkZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXJzKXtcbiAgICAgICAgLy8gV2UndmUgYWxyZWFkeSBvdmVycmlkZGVuIHRoZSBtZXRob2RzIHRoYXQgd291bGQgYmUgY2FsbGVkLCBzbyB3ZSdyZSBqdXN0XG4gICAgICAgIC8vIGNhbGxpbmcgdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHRvIGVuc3VyZSB0aGF0IHRoZSBpbnN0YW5jZW9mIGNoZWNrIHdvcmtzLlxuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgUHJveHkoaGVhZGVycywge1xuICAgICAgICAgICAgZ2V0ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGlzIGlzIGp1c3QgYW4gb2JqZWN0LCB3ZSBleHBlY3QgdGhhdCBhbGwgXCJnZXRcIiBvcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgLy8gYXJlIGZvciBwcm9wZXJ0aWVzLiBJZiBpdCdzIGEgXCJnZXRcIiBmb3IgYSBzeW1ib2wsIHdlJ2xsIGp1c3QgcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdGhlIHN5bWJvbC5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmbGVjdC5SZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZWQgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgb3JpZ2luYWwgY2FzaW5nIG9mIHRoZSBrZXkuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbWl4ZWQgY2FzZSBrZXlzIChlLmcuIFwiQ29udGVudC1UeXBlXCIgYW5kIFwiY29udGVudC10eXBlXCIpIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmtleXMoaGVhZGVycykuZmluZCgobyk9Pm8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJjYXNlZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBkb2Vzbid0IGV4aXN0LCByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWwgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBleGlzdHMsIHJldHVybiB0aGUgdmFsdWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWZsZWN0LlJlZmxlY3RBZGFwdGVyLmdldCh0YXJnZXQsIG9yaWdpbmFsLCByZWNlaXZlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0ICh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWZsZWN0LlJlZmxlY3RBZGFwdGVyLnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZWQgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgb3JpZ2luYWwgY2FzaW5nIG9mIHRoZSBrZXkuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbWl4ZWQgY2FzZSBrZXlzIChlLmcuIFwiQ29udGVudC1UeXBlXCIgYW5kIFwiY29udGVudC10eXBlXCIpIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmtleXMoaGVhZGVycykuZmluZCgobyk9Pm8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJjYXNlZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBkb2Vzbid0IGV4aXN0LCB1c2UgdGhlIHByb3AgYXMgdGhlIGtleS5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZmxlY3QuUmVmbGVjdEFkYXB0ZXIuc2V0KHRhcmdldCwgb3JpZ2luYWwgPz8gcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMgKHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHJldHVybiBfcmVmbGVjdC5SZWZsZWN0QWRhcHRlci5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb3dlcmNhc2VkID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIC8vIExldCdzIGZpbmQgdGhlIG9yaWdpbmFsIGNhc2luZyBvZiB0aGUga2V5LiBUaGlzIGFzc3VtZXMgdGhhdCB0aGVyZSBpc1xuICAgICAgICAgICAgICAgIC8vIG5vIG1peGVkIGNhc2Uga2V5cyAoZS5nLiBcIkNvbnRlbnQtVHlwZVwiIGFuZCBcImNvbnRlbnQtdHlwZVwiKSBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBoZWFkZXJzIG9iamVjdC5cbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IE9iamVjdC5rZXlzKGhlYWRlcnMpLmZpbmQoKG8pPT5vLnRvTG93ZXJDYXNlKCkgPT09IGxvd2VyY2FzZWQpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvcmlnaW5hbCBjYXNpbmcgZG9lc24ndCBleGlzdCwgcmV0dXJuIGZhbHNlLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWwgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBleGlzdHMsIHJldHVybiB0cnVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBfcmVmbGVjdC5SZWZsZWN0QWRhcHRlci5oYXModGFyZ2V0LCBvcmlnaW5hbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlUHJvcGVydHkgKHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHJldHVybiBfcmVmbGVjdC5SZWZsZWN0QWRhcHRlci5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyY2FzZWQgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgZmluZCB0aGUgb3JpZ2luYWwgY2FzaW5nIG9mIHRoZSBrZXkuIFRoaXMgYXNzdW1lcyB0aGF0IHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbWl4ZWQgY2FzZSBrZXlzIChlLmcuIFwiQ29udGVudC1UeXBlXCIgYW5kIFwiY29udGVudC10eXBlXCIpIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmtleXMoaGVhZGVycykuZmluZCgobyk9Pm8udG9Mb3dlckNhc2UoKSA9PT0gbG93ZXJjYXNlZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBkb2Vzbid0IGV4aXN0LCByZXR1cm4gdHJ1ZS5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9yaWdpbmFsIGNhc2luZyBleGlzdHMsIGRlbGV0ZSB0aGUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWZsZWN0LlJlZmxlY3RBZGFwdGVyLmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgb3JpZ2luYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFNlYWxzIGEgSGVhZGVycyBpbnN0YW5jZSB0byBwcmV2ZW50IG1vZGlmaWNhdGlvbiBieSB0aHJvd2luZyBhbiBlcnJvciB3aGVuXG4gICAqIGFueSBtdXRhdGluZyBtZXRob2QgaXMgY2FsbGVkLlxuICAgKi8gc3RhdGljIHNlYWwoaGVhZGVycykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGhlYWRlcnMsIHtcbiAgICAgICAgICAgIGdldCAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIHN3aXRjaChwcm9wKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXBwZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFkb25seUhlYWRlcnNFcnJvci5jYWxsYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmbGVjdC5SZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIE1lcmdlcyBhIGhlYWRlciB2YWx1ZSBpbnRvIGEgc3RyaW5nLiBUaGlzIHN0b3JlcyBtdWx0aXBsZSB2YWx1ZXMgYXMgYW5cbiAgICogYXJyYXksIHNvIHdlIG5lZWQgdG8gbWVyZ2UgdGhlbSBpbnRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgYSBoZWFkZXIgdmFsdWVcbiAgICogQHJldHVybnMgYSBtZXJnZWQgaGVhZGVyIHZhbHVlIChhIHN0cmluZylcbiAgICovIG1lcmdlKHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlLmpvaW4oJywgJyk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYSBIZWFkZXJzIGluc3RhbmNlIGZyb20gYSBwbGFpbiBvYmplY3Qgb3IgYSBIZWFkZXJzIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gaGVhZGVycyBhIHBsYWluIG9iamVjdCBvciBhIEhlYWRlcnMgaW5zdGFuY2VcbiAgICogQHJldHVybnMgYSBoZWFkZXJzIGluc3RhbmNlXG4gICAqLyBzdGF0aWMgZnJvbShoZWFkZXJzKSB7XG4gICAgICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykgcmV0dXJuIGhlYWRlcnM7XG4gICAgICAgIHJldHVybiBuZXcgSGVhZGVyc0FkYXB0ZXIoaGVhZGVycyk7XG4gICAgfVxuICAgIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1tuYW1lXSA9IFtcbiAgICAgICAgICAgICAgICBleGlzdGluZyxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgZXhpc3RpbmcucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICBkZWxldGUgdGhpcy5oZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzLm1lcmdlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5oZWFkZXJzW25hbWVdICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIHRoaXMuZW50cmllcygpKXtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4uY2FsbCh0aGlzQXJnLCB2YWx1ZSwgbmFtZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuaGVhZGVycykpe1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLy8gV2UgYXNzZXJ0IGhlcmUgdGhhdCB0aGlzIGlzIGEgc3RyaW5nIGJlY2F1c2Ugd2UgZ290IGl0IGZyb20gdGhlXG4gICAgICAgICAgICAvLyBPYmplY3Qua2V5cygpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgeWllbGQgW1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmtleXMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuaGVhZGVycykpe1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgeWllbGQgbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmhlYWRlcnMpKXtcbiAgICAgICAgICAgIC8vIFdlIGFzc2VydCBoZXJlIHRoYXQgdGhpcyBpcyBhIHN0cmluZyBiZWNhdXNlIHdlIGdvdCBpdCBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gT2JqZWN0LmtleXMoKSBjYWxsIGFib3ZlLlxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xuICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlYWRlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/headers.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js":
/*!******************************************************************************!*\
  !*** ./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"ReflectAdapter\", ({\n    enumerable: true,\n    get: function() {\n        return ReflectAdapter;\n    }\n}));\nclass ReflectAdapter {\n    static get(target, prop, receiver) {\n        const value = Reflect.get(target, prop, receiver);\n        if (typeof value === 'function') {\n            return value.bind(target);\n        }\n        return value;\n    }\n    static set(target, prop, value, receiver) {\n        return Reflect.set(target, prop, value, receiver);\n    }\n    static has(target, prop) {\n        return Reflect.has(target, prop);\n    }\n    static deleteProperty(target, prop) {\n        return Reflect.deleteProperty(target, prop);\n    }\n}\n\n//# sourceMappingURL=reflect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZWZsZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0RBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcc2VydmVyXFx3ZWJcXHNwZWMtZXh0ZW5zaW9uXFxhZGFwdGVyc1xccmVmbGVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlZmxlY3RBZGFwdGVyXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBSZWZsZWN0QWRhcHRlcjtcbiAgICB9XG59KTtcbmNsYXNzIFJlZmxlY3RBZGFwdGVyIHtcbiAgICBzdGF0aWMgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmJpbmQodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHN0YXRpYyBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICB9XG4gICAgc3RhdGljIGhhcyh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZmxlY3QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/request-cookies.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/next/dist/server/web/spec-extension/adapters/request-cookies.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    MutableRequestCookiesAdapter: function() {\n        return MutableRequestCookiesAdapter;\n    },\n    ReadonlyRequestCookiesError: function() {\n        return ReadonlyRequestCookiesError;\n    },\n    RequestCookiesAdapter: function() {\n        return RequestCookiesAdapter;\n    },\n    appendMutableCookies: function() {\n        return appendMutableCookies;\n    },\n    areCookiesMutableInCurrentPhase: function() {\n        return areCookiesMutableInCurrentPhase;\n    },\n    getModifiedCookieValues: function() {\n        return getModifiedCookieValues;\n    },\n    responseCookiesToRequestCookies: function() {\n        return responseCookiesToRequestCookies;\n    },\n    wrapWithMutableAccessCheck: function() {\n        return wrapWithMutableAccessCheck;\n    }\n});\nconst _cookies = __webpack_require__(/*! ../cookies */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/cookies.js\");\nconst _reflect = __webpack_require__(/*! ./reflect */ \"(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/reflect.js\");\nconst _workasyncstorageexternal = __webpack_require__(/*! ../../../app-render/work-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\");\nconst _workunitasyncstorageexternal = __webpack_require__(/*! ../../../app-render/work-unit-async-storage.external */ \"(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js\");\nclass ReadonlyRequestCookiesError extends Error {\n    constructor(){\n        super('Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options');\n    }\n    static callable() {\n        throw new ReadonlyRequestCookiesError();\n    }\n}\nclass RequestCookiesAdapter {\n    static seal(cookies) {\n        return new Proxy(cookies, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case 'clear':\n                    case 'delete':\n                    case 'set':\n                        return ReadonlyRequestCookiesError.callable;\n                    default:\n                        return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n}\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies');\nfunction getModifiedCookieValues(cookies) {\n    const modified = cookies[SYMBOL_MODIFY_COOKIE_VALUES];\n    if (!modified || !Array.isArray(modified) || modified.length === 0) {\n        return [];\n    }\n    return modified;\n}\nfunction appendMutableCookies(headers, mutableCookies) {\n    const modifiedCookieValues = getModifiedCookieValues(mutableCookies);\n    if (modifiedCookieValues.length === 0) {\n        return false;\n    }\n    // Return a new response that extends the response with\n    // the modified cookies as fallbacks. `res` cookies\n    // will still take precedence.\n    const resCookies = new _cookies.ResponseCookies(headers);\n    const returnedCookies = resCookies.getAll();\n    // Set the modified cookies as fallbacks.\n    for (const cookie of modifiedCookieValues){\n        resCookies.set(cookie);\n    }\n    // Set the original cookies as the final values.\n    for (const cookie of returnedCookies){\n        resCookies.set(cookie);\n    }\n    return true;\n}\nclass MutableRequestCookiesAdapter {\n    static wrap(cookies, onUpdateCookies) {\n        const responseCookies = new _cookies.ResponseCookies(new Headers());\n        for (const cookie of cookies.getAll()){\n            responseCookies.set(cookie);\n        }\n        let modifiedValues = [];\n        const modifiedCookies = new Set();\n        const updateResponseCookies = ()=>{\n            // TODO-APP: change method of getting workStore\n            const workStore = _workasyncstorageexternal.workAsyncStorage.getStore();\n            if (workStore) {\n                workStore.pathWasRevalidated = true;\n            }\n            const allCookies = responseCookies.getAll();\n            modifiedValues = allCookies.filter((c)=>modifiedCookies.has(c.name));\n            if (onUpdateCookies) {\n                const serializedCookies = [];\n                for (const cookie of modifiedValues){\n                    const tempCookies = new _cookies.ResponseCookies(new Headers());\n                    tempCookies.set(cookie);\n                    serializedCookies.push(tempCookies.toString());\n                }\n                onUpdateCookies(serializedCookies);\n            }\n        };\n        const wrappedCookies = new Proxy(responseCookies, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    // A special symbol to get the modified cookie values\n                    case SYMBOL_MODIFY_COOKIE_VALUES:\n                        return modifiedValues;\n                    // TODO: Throw error if trying to set a cookie after the response\n                    // headers have been set.\n                    case 'delete':\n                        return function(...args) {\n                            modifiedCookies.add(typeof args[0] === 'string' ? args[0] : args[0].name);\n                            try {\n                                target.delete(...args);\n                                return wrappedCookies;\n                            } finally{\n                                updateResponseCookies();\n                            }\n                        };\n                    case 'set':\n                        return function(...args) {\n                            modifiedCookies.add(typeof args[0] === 'string' ? args[0] : args[0].name);\n                            try {\n                                target.set(...args);\n                                return wrappedCookies;\n                            } finally{\n                                updateResponseCookies();\n                            }\n                        };\n                    default:\n                        return _reflect.ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n        return wrappedCookies;\n    }\n}\nfunction wrapWithMutableAccessCheck(responseCookies) {\n    const wrappedCookies = new Proxy(responseCookies, {\n        get (target, prop, receiver) {\n            switch(prop){\n                case 'delete':\n                    return function(...args) {\n                        ensureCookiesAreStillMutable('cookies().delete');\n                        target.delete(...args);\n                        return wrappedCookies;\n                    };\n                case 'set':\n                    return function(...args) {\n                        ensureCookiesAreStillMutable('cookies().set');\n                        target.set(...args);\n                        return wrappedCookies;\n                    };\n                default:\n                    return _reflect.ReflectAdapter.get(target, prop, receiver);\n            }\n        }\n    });\n    return wrappedCookies;\n}\nfunction areCookiesMutableInCurrentPhase(requestStore) {\n    return requestStore.phase === 'action';\n}\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */ function ensureCookiesAreStillMutable(callingExpression) {\n    const requestStore = (0, _workunitasyncstorageexternal.getExpectedRequestStore)(callingExpression);\n    if (!areCookiesMutableInCurrentPhase(requestStore)) {\n        // TODO: maybe we can give a more precise error message based on callingExpression?\n        throw new ReadonlyRequestCookiesError();\n    }\n}\nfunction responseCookiesToRequestCookies(responseCookies) {\n    const requestCookies = new _cookies.RequestCookies(new Headers());\n    for (const cookie of responseCookies.getAll()){\n        requestCookies.set(cookie);\n    }\n    return requestCookies;\n}\n\n//# sourceMappingURL=request-cookies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZXF1ZXN0LWNvb2tpZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixNQUFNLENBU0w7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLG1CQUFPLENBQUMscUdBQVk7QUFDckMsaUJBQWlCLG1CQUFPLENBQUMsNkdBQVc7QUFDcEMsa0NBQWtDLG1CQUFPLENBQUMsMklBQWlEO0FBQzNGLHNDQUFzQyxtQkFBTyxDQUFDLHFKQUFzRDtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxzZXJ2ZXJcXHdlYlxcc3BlYy1leHRlbnNpb25cXGFkYXB0ZXJzXFxyZXF1ZXN0LWNvb2tpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNdXRhYmxlUmVxdWVzdENvb2tpZXNBZGFwdGVyOiBudWxsLFxuICAgIFJlYWRvbmx5UmVxdWVzdENvb2tpZXNFcnJvcjogbnVsbCxcbiAgICBSZXF1ZXN0Q29va2llc0FkYXB0ZXI6IG51bGwsXG4gICAgYXBwZW5kTXV0YWJsZUNvb2tpZXM6IG51bGwsXG4gICAgYXJlQ29va2llc011dGFibGVJbkN1cnJlbnRQaGFzZTogbnVsbCxcbiAgICBnZXRNb2RpZmllZENvb2tpZVZhbHVlczogbnVsbCxcbiAgICByZXNwb25zZUNvb2tpZXNUb1JlcXVlc3RDb29raWVzOiBudWxsLFxuICAgIHdyYXBXaXRoTXV0YWJsZUFjY2Vzc0NoZWNrOiBudWxsXG59KTtcbmZ1bmN0aW9uIF9leHBvcnQodGFyZ2V0LCBhbGwpIHtcbiAgICBmb3IodmFyIG5hbWUgaW4gYWxsKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBhbGxbbmFtZV1cbiAgICB9KTtcbn1cbl9leHBvcnQoZXhwb3J0cywge1xuICAgIE11dGFibGVSZXF1ZXN0Q29va2llc0FkYXB0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTXV0YWJsZVJlcXVlc3RDb29raWVzQWRhcHRlcjtcbiAgICB9LFxuICAgIFJlYWRvbmx5UmVxdWVzdENvb2tpZXNFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBSZWFkb25seVJlcXVlc3RDb29raWVzRXJyb3I7XG4gICAgfSxcbiAgICBSZXF1ZXN0Q29va2llc0FkYXB0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUmVxdWVzdENvb2tpZXNBZGFwdGVyO1xuICAgIH0sXG4gICAgYXBwZW5kTXV0YWJsZUNvb2tpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYXBwZW5kTXV0YWJsZUNvb2tpZXM7XG4gICAgfSxcbiAgICBhcmVDb29raWVzTXV0YWJsZUluQ3VycmVudFBoYXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2U7XG4gICAgfSxcbiAgICBnZXRNb2RpZmllZENvb2tpZVZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBnZXRNb2RpZmllZENvb2tpZVZhbHVlcztcbiAgICB9LFxuICAgIHJlc3BvbnNlQ29va2llc1RvUmVxdWVzdENvb2tpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VDb29raWVzVG9SZXF1ZXN0Q29va2llcztcbiAgICB9LFxuICAgIHdyYXBXaXRoTXV0YWJsZUFjY2Vzc0NoZWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoTXV0YWJsZUFjY2Vzc0NoZWNrO1xuICAgIH1cbn0pO1xuY29uc3QgX2Nvb2tpZXMgPSByZXF1aXJlKFwiLi4vY29va2llc1wiKTtcbmNvbnN0IF9yZWZsZWN0ID0gcmVxdWlyZShcIi4vcmVmbGVjdFwiKTtcbmNvbnN0IF93b3JrYXN5bmNzdG9yYWdlZXh0ZXJuYWwgPSByZXF1aXJlKFwiLi4vLi4vLi4vYXBwLXJlbmRlci93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWxcIik7XG5jb25zdCBfd29ya3VuaXRhc3luY3N0b3JhZ2VleHRlcm5hbCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsXCIpO1xuY2xhc3MgUmVhZG9ubHlSZXF1ZXN0Q29va2llc0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCdDb29raWVzIGNhbiBvbmx5IGJlIG1vZGlmaWVkIGluIGEgU2VydmVyIEFjdGlvbiBvciBSb3V0ZSBIYW5kbGVyLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwcC9hcGktcmVmZXJlbmNlL2Z1bmN0aW9ucy9jb29raWVzI29wdGlvbnMnKTtcbiAgICB9XG4gICAgc3RhdGljIGNhbGxhYmxlKCkge1xuICAgICAgICB0aHJvdyBuZXcgUmVhZG9ubHlSZXF1ZXN0Q29va2llc0Vycm9yKCk7XG4gICAgfVxufVxuY2xhc3MgUmVxdWVzdENvb2tpZXNBZGFwdGVyIHtcbiAgICBzdGF0aWMgc2VhbChjb29raWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkoY29va2llcywge1xuICAgICAgICAgICAgZ2V0ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHByb3Ape1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjbGVhcic6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVhZG9ubHlSZXF1ZXN0Q29va2llc0Vycm9yLmNhbGxhYmxlO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWZsZWN0LlJlZmxlY3RBZGFwdGVyLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IFNZTUJPTF9NT0RJRllfQ09PS0lFX1ZBTFVFUyA9IFN5bWJvbC5mb3IoJ25leHQubXV0YXRlZC5jb29raWVzJyk7XG5mdW5jdGlvbiBnZXRNb2RpZmllZENvb2tpZVZhbHVlcyhjb29raWVzKSB7XG4gICAgY29uc3QgbW9kaWZpZWQgPSBjb29raWVzW1NZTUJPTF9NT0RJRllfQ09PS0lFX1ZBTFVFU107XG4gICAgaWYgKCFtb2RpZmllZCB8fCAhQXJyYXkuaXNBcnJheShtb2RpZmllZCkgfHwgbW9kaWZpZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkO1xufVxuZnVuY3Rpb24gYXBwZW5kTXV0YWJsZUNvb2tpZXMoaGVhZGVycywgbXV0YWJsZUNvb2tpZXMpIHtcbiAgICBjb25zdCBtb2RpZmllZENvb2tpZVZhbHVlcyA9IGdldE1vZGlmaWVkQ29va2llVmFsdWVzKG11dGFibGVDb29raWVzKTtcbiAgICBpZiAobW9kaWZpZWRDb29raWVWYWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIGEgbmV3IHJlc3BvbnNlIHRoYXQgZXh0ZW5kcyB0aGUgcmVzcG9uc2Ugd2l0aFxuICAgIC8vIHRoZSBtb2RpZmllZCBjb29raWVzIGFzIGZhbGxiYWNrcy4gYHJlc2AgY29va2llc1xuICAgIC8vIHdpbGwgc3RpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICAgIGNvbnN0IHJlc0Nvb2tpZXMgPSBuZXcgX2Nvb2tpZXMuUmVzcG9uc2VDb29raWVzKGhlYWRlcnMpO1xuICAgIGNvbnN0IHJldHVybmVkQ29va2llcyA9IHJlc0Nvb2tpZXMuZ2V0QWxsKCk7XG4gICAgLy8gU2V0IHRoZSBtb2RpZmllZCBjb29raWVzIGFzIGZhbGxiYWNrcy5cbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBtb2RpZmllZENvb2tpZVZhbHVlcyl7XG4gICAgICAgIHJlc0Nvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgfVxuICAgIC8vIFNldCB0aGUgb3JpZ2luYWwgY29va2llcyBhcyB0aGUgZmluYWwgdmFsdWVzLlxuICAgIGZvciAoY29uc3QgY29va2llIG9mIHJldHVybmVkQ29va2llcyl7XG4gICAgICAgIHJlc0Nvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuY2xhc3MgTXV0YWJsZVJlcXVlc3RDb29raWVzQWRhcHRlciB7XG4gICAgc3RhdGljIHdyYXAoY29va2llcywgb25VcGRhdGVDb29raWVzKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ29va2llcyA9IG5ldyBfY29va2llcy5SZXNwb25zZUNvb2tpZXMobmV3IEhlYWRlcnMoKSk7XG4gICAgICAgIGZvciAoY29uc3QgY29va2llIG9mIGNvb2tpZXMuZ2V0QWxsKCkpe1xuICAgICAgICAgICAgcmVzcG9uc2VDb29raWVzLnNldChjb29raWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2RpZmllZFZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCBtb2RpZmllZENvb2tpZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlQ29va2llcyA9ICgpPT57XG4gICAgICAgICAgICAvLyBUT0RPLUFQUDogY2hhbmdlIG1ldGhvZCBvZiBnZXR0aW5nIHdvcmtTdG9yZVxuICAgICAgICAgICAgY29uc3Qgd29ya1N0b3JlID0gX3dvcmthc3luY3N0b3JhZ2VleHRlcm5hbC53b3JrQXN5bmNTdG9yYWdlLmdldFN0b3JlKCk7XG4gICAgICAgICAgICBpZiAod29ya1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgd29ya1N0b3JlLnBhdGhXYXNSZXZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbGxDb29raWVzID0gcmVzcG9uc2VDb29raWVzLmdldEFsbCgpO1xuICAgICAgICAgICAgbW9kaWZpZWRWYWx1ZXMgPSBhbGxDb29raWVzLmZpbHRlcigoYyk9Pm1vZGlmaWVkQ29va2llcy5oYXMoYy5uYW1lKSk7XG4gICAgICAgICAgICBpZiAob25VcGRhdGVDb29raWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZENvb2tpZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBtb2RpZmllZFZhbHVlcyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBDb29raWVzID0gbmV3IF9jb29raWVzLlJlc3BvbnNlQ29va2llcyhuZXcgSGVhZGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcENvb2tpZXMuc2V0KGNvb2tpZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWRDb29raWVzLnB1c2godGVtcENvb2tpZXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uVXBkYXRlQ29va2llcyhzZXJpYWxpemVkQ29va2llcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdyYXBwZWRDb29raWVzID0gbmV3IFByb3h5KHJlc3BvbnNlQ29va2llcywge1xuICAgICAgICAgICAgZ2V0ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHByb3Ape1xuICAgICAgICAgICAgICAgICAgICAvLyBBIHNwZWNpYWwgc3ltYm9sIHRvIGdldCB0aGUgbW9kaWZpZWQgY29va2llIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFNZTUJPTF9NT0RJRllfQ09PS0lFX1ZBTFVFUzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZmllZFZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhyb3cgZXJyb3IgaWYgdHJ5aW5nIHRvIHNldCBhIGNvb2tpZSBhZnRlciB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGVycyBoYXZlIGJlZW4gc2V0LlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZENvb2tpZXMuYWRkKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyA/IGFyZ3NbMF0gOiBhcmdzWzBdLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5kZWxldGUoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQ29va2llcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJlc3BvbnNlQ29va2llcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQ29va2llcy5hZGQodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnID8gYXJnc1swXSA6IGFyZ3NbMF0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRDb29raWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVzcG9uc2VDb29raWVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmbGVjdC5SZWZsZWN0QWRhcHRlci5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRDb29raWVzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyYXBXaXRoTXV0YWJsZUFjY2Vzc0NoZWNrKHJlc3BvbnNlQ29va2llcykge1xuICAgIGNvbnN0IHdyYXBwZWRDb29raWVzID0gbmV3IFByb3h5KHJlc3BvbnNlQ29va2llcywge1xuICAgICAgICBnZXQgKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaChwcm9wKXtcbiAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5zdXJlQ29va2llc0FyZVN0aWxsTXV0YWJsZSgnY29va2llcygpLmRlbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmRlbGV0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQ29va2llcztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlICdzZXQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5zdXJlQ29va2llc0FyZVN0aWxsTXV0YWJsZSgnY29va2llcygpLnNldCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkQ29va2llcztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZmxlY3QuUmVmbGVjdEFkYXB0ZXIuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdyYXBwZWRDb29raWVzO1xufVxuZnVuY3Rpb24gYXJlQ29va2llc011dGFibGVJbkN1cnJlbnRQaGFzZShyZXF1ZXN0U3RvcmUpIHtcbiAgICByZXR1cm4gcmVxdWVzdFN0b3JlLnBoYXNlID09PSAnYWN0aW9uJztcbn1cbi8qKiBFbnN1cmUgdGhhdCBjb29raWVzKCkgc3RhcnRzIHRocm93aW5nIG9uIG11dGF0aW9uXG4gKiBpZiB3ZSBjaGFuZ2VkIHBoYXNlcyBhbmQgY2FuIG5vIGxvbmdlciBtdXRhdGUuXG4gKlxuICogVGhpcyBjYW4gaGFwcGVuIHdoZW4gZ29pbmc6XG4gKiAgICdyZW5kZXInIC0+ICdhZnRlcidcbiAqICAgJ2FjdGlvbicgLT4gJ3JlbmRlcidcbiAqICovIGZ1bmN0aW9uIGVuc3VyZUNvb2tpZXNBcmVTdGlsbE11dGFibGUoY2FsbGluZ0V4cHJlc3Npb24pIHtcbiAgICBjb25zdCByZXF1ZXN0U3RvcmUgPSAoMCwgX3dvcmt1bml0YXN5bmNzdG9yYWdlZXh0ZXJuYWwuZ2V0RXhwZWN0ZWRSZXF1ZXN0U3RvcmUpKGNhbGxpbmdFeHByZXNzaW9uKTtcbiAgICBpZiAoIWFyZUNvb2tpZXNNdXRhYmxlSW5DdXJyZW50UGhhc2UocmVxdWVzdFN0b3JlKSkge1xuICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBjYW4gZ2l2ZSBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGJhc2VkIG9uIGNhbGxpbmdFeHByZXNzaW9uP1xuICAgICAgICB0aHJvdyBuZXcgUmVhZG9ubHlSZXF1ZXN0Q29va2llc0Vycm9yKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzcG9uc2VDb29raWVzVG9SZXF1ZXN0Q29va2llcyhyZXNwb25zZUNvb2tpZXMpIHtcbiAgICBjb25zdCByZXF1ZXN0Q29va2llcyA9IG5ldyBfY29va2llcy5SZXF1ZXN0Q29va2llcyhuZXcgSGVhZGVycygpKTtcbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiByZXNwb25zZUNvb2tpZXMuZ2V0QWxsKCkpe1xuICAgICAgICByZXF1ZXN0Q29va2llcy5zZXQoY29va2llKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcXVlc3RDb29raWVzO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LWNvb2tpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/adapters/request-cookies.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/cookies.js":
/*!*********************************************************************!*\
  !*** ./node_modules/next/dist/server/web/spec-extension/cookies.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    RequestCookies: function() {\n        return _cookies.RequestCookies;\n    },\n    ResponseCookies: function() {\n        return _cookies.ResponseCookies;\n    },\n    stringifyCookie: function() {\n        return _cookies.stringifyCookie;\n    }\n});\nconst _cookies = __webpack_require__(/*! next/dist/compiled/@edge-runtime/cookies */ \"(app-pages-browser)/./node_modules/next/dist/compiled/@edge-runtime/cookies/index.js\");\n\n//# sourceMappingURL=cookies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9jb29raWVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsTUFBTSxDQUlMO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLG1CQUFPLENBQUMsc0lBQTBDOztBQUVuRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcd2ViXFxzcGVjLWV4dGVuc2lvblxcY29va2llcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIFJlcXVlc3RDb29raWVzOiBudWxsLFxuICAgIFJlc3BvbnNlQ29va2llczogbnVsbCxcbiAgICBzdHJpbmdpZnlDb29raWU6IG51bGxcbn0pO1xuZnVuY3Rpb24gX2V4cG9ydCh0YXJnZXQsIGFsbCkge1xuICAgIGZvcih2YXIgbmFtZSBpbiBhbGwpT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGFsbFtuYW1lXVxuICAgIH0pO1xufVxuX2V4cG9ydChleHBvcnRzLCB7XG4gICAgUmVxdWVzdENvb2tpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX2Nvb2tpZXMuUmVxdWVzdENvb2tpZXM7XG4gICAgfSxcbiAgICBSZXNwb25zZUNvb2tpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX2Nvb2tpZXMuUmVzcG9uc2VDb29raWVzO1xuICAgIH0sXG4gICAgc3RyaW5naWZ5Q29va2llOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9jb29raWVzLnN0cmluZ2lmeUNvb2tpZTtcbiAgICB9XG59KTtcbmNvbnN0IF9jb29raWVzID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9AZWRnZS1ydW50aW1lL2Nvb2tpZXNcIik7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb2tpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/server/web/spec-extension/cookies.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/invariant-error.js":
/*!**************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/invariant-error.js ***!
  \**************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"InvariantError\", ({\n    enumerable: true,\n    get: function() {\n        return InvariantError;\n    }\n}));\nclass InvariantError extends Error {\n    constructor(message, options){\n        super(\"Invariant: \" + (message.endsWith('.') ? message : message + '.') + \" This is a bug in Next.js.\", options);\n        this.name = 'InvariantError';\n    }\n} //# sourceMappingURL=invariant-error.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9pbnZhcmlhbnQtZXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztrREFBYUE7OztlQUFBQTs7O0FBQU4sTUFBTUEsdUJBQXVCQztJQUNsQ0MsWUFBWUMsT0FBZSxFQUFFQyxPQUFzQixDQUFFO1FBQ25ELEtBQUssQ0FDRixnQkFBYUQsQ0FBQUEsUUFBUUUsUUFBUSxDQUFDLE9BQU9GLFVBQVVBLFVBQVUsSUFBRSxHQUFFLDhCQUM5REM7UUFFRixJQUFJLENBQUNFLElBQUksR0FBRztJQUNkO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxzaGFyZWRcXGxpYlxcaW52YXJpYW50LWVycm9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBJbnZhcmlhbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBvcHRpb25zPzogRXJyb3JPcHRpb25zKSB7XG4gICAgc3VwZXIoXG4gICAgICBgSW52YXJpYW50OiAke21lc3NhZ2UuZW5kc1dpdGgoJy4nKSA/IG1lc3NhZ2UgOiBtZXNzYWdlICsgJy4nfSBUaGlzIGlzIGEgYnVnIGluIE5leHQuanMuYCxcbiAgICAgIG9wdGlvbnNcbiAgICApXG4gICAgdGhpcy5uYW1lID0gJ0ludmFyaWFudEVycm9yJ1xuICB9XG59XG4iXSwibmFtZXMiOlsiSW52YXJpYW50RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJlbmRzV2l0aCIsIm5hbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/invariant-error.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/format-url.js":
/*!**********************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/router/utils/format-url.js ***!
  \**********************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("// Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    formatUrl: function() {\n        return formatUrl;\n    },\n    formatWithValidation: function() {\n        return formatWithValidation;\n    },\n    urlObjectKeys: function() {\n        return urlObjectKeys;\n    }\n});\nconst _interop_require_wildcard = __webpack_require__(/*! @swc/helpers/_/_interop_require_wildcard */ \"(app-pages-browser)/./node_modules/@swc/helpers/esm/_interop_require_wildcard.js\");\nconst _querystring = /*#__PURE__*/ _interop_require_wildcard._(__webpack_require__(/*! ./querystring */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/querystring.js\"));\nconst slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n    let { auth, hostname } = urlObj;\n    let protocol = urlObj.protocol || '';\n    let pathname = urlObj.pathname || '';\n    let hash = urlObj.hash || '';\n    let query = urlObj.query || '';\n    let host = false;\n    auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n    if (urlObj.host) {\n        host = auth + urlObj.host;\n    } else if (hostname) {\n        host = auth + (~hostname.indexOf(':') ? \"[\" + hostname + \"]\" : hostname);\n        if (urlObj.port) {\n            host += ':' + urlObj.port;\n        }\n    }\n    if (query && typeof query === 'object') {\n        query = String(_querystring.urlQueryToSearchParams(query));\n    }\n    let search = urlObj.search || query && \"?\" + query || '';\n    if (protocol && !protocol.endsWith(':')) protocol += ':';\n    if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n        host = '//' + (host || '');\n        if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n    } else if (!host) {\n        host = '';\n    }\n    if (hash && hash[0] !== '#') hash = '#' + hash;\n    if (search && search[0] !== '?') search = '?' + search;\n    pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n    search = search.replace('#', '%23');\n    return \"\" + protocol + host + pathname + search + hash;\n}\nconst urlObjectKeys = [\n    'auth',\n    'hash',\n    'host',\n    'hostname',\n    'href',\n    'path',\n    'pathname',\n    'port',\n    'protocol',\n    'query',\n    'search',\n    'slashes'\n];\nfunction formatWithValidation(url) {\n    if (true) {\n        if (url !== null && typeof url === 'object') {\n            Object.keys(url).forEach((key)=>{\n                if (!urlObjectKeys.includes(key)) {\n                    console.warn(\"Unknown key passed via urlObject into url.format: \" + key);\n                }\n            });\n        }\n    }\n    return formatUrl(url);\n} //# sourceMappingURL=format-url.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvZm9ybWF0LXVybC5qcyIsIm1hcHBpbmdzIjoiQUFBQSx1Q0FBdUM7QUFDdkMsc0RBQXNEO0FBQ3RELEVBQUU7QUFDRiwwRUFBMEU7QUFDMUUsZ0VBQWdFO0FBQ2hFLHNFQUFzRTtBQUN0RSxzRUFBc0U7QUFDdEUsNEVBQTRFO0FBQzVFLHFFQUFxRTtBQUNyRSx3QkFBd0I7QUFDeEIsRUFBRTtBQUNGLDBFQUEwRTtBQUMxRSx5REFBeUQ7QUFDekQsRUFBRTtBQUNGLDBFQUEwRTtBQUMxRSw2REFBNkQ7QUFDN0QsNEVBQTRFO0FBQzVFLDJFQUEyRTtBQUMzRSx3RUFBd0U7QUFDeEUsNEVBQTRFO0FBQzVFLHlDQUF5Qzs7Ozs7Ozs7Ozs7OztJQVF6QkEsU0FBUztlQUFUQTs7SUE2REFDLG9CQUFvQjtlQUFwQkE7O0lBZkhDLGFBQWE7ZUFBYkE7Ozs7bUZBbERnQjtBQUU3QixNQUFNQyxtQkFBbUI7QUFFbEIsU0FBU0gsVUFBVUksTUFBaUI7SUFDekMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHRjtJQUN6QixJQUFJRyxXQUFXSCxPQUFPRyxRQUFRLElBQUk7SUFDbEMsSUFBSUMsV0FBV0osT0FBT0ksUUFBUSxJQUFJO0lBQ2xDLElBQUlDLE9BQU9MLE9BQU9LLElBQUksSUFBSTtJQUMxQixJQUFJQyxRQUFRTixPQUFPTSxLQUFLLElBQUk7SUFDNUIsSUFBSUMsT0FBdUI7SUFFM0JOLE9BQU9BLE9BQU9PLG1CQUFtQlAsTUFBTVEsT0FBTyxDQUFDLFFBQVEsT0FBTyxNQUFNO0lBRXBFLElBQUlULE9BQU9PLElBQUksRUFBRTtRQUNmQSxPQUFPTixPQUFPRCxPQUFPTyxJQUFJO0lBQzNCLE9BQU8sSUFBSUwsVUFBVTtRQUNuQkssT0FBT04sT0FBUSxFQUFDQyxTQUFTUSxPQUFPLENBQUMsT0FBUSxNQUFHUixXQUFTLE1BQUtBLFFBQUFBLENBQU87UUFDakUsSUFBSUYsT0FBT1csSUFBSSxFQUFFO1lBQ2ZKLFFBQVEsTUFBTVAsT0FBT1csSUFBSTtRQUMzQjtJQUNGO0lBRUEsSUFBSUwsU0FBUyxPQUFPQSxVQUFVLFVBQVU7UUFDdENBLFFBQVFNLE9BQU9DLGFBQVlDLHNCQUFzQixDQUFDUjtJQUNwRDtJQUVBLElBQUlTLFNBQVNmLE9BQU9lLE1BQU0sSUFBS1QsU0FBVSxNQUFHQSxTQUFZO0lBRXhELElBQUlILFlBQVksQ0FBQ0EsU0FBU2EsUUFBUSxDQUFDLE1BQU1iLFlBQVk7SUFFckQsSUFDRUgsT0FBT2lCLE9BQU8sSUFDWixFQUFDZCxZQUFZSixpQkFBaUJtQixJQUFJLENBQUNmLFNBQUFBLENBQVEsSUFBTUksU0FBUyxPQUM1RDtRQUNBQSxPQUFPLE9BQVFBLENBQUFBLFFBQVEsR0FBQztRQUN4QixJQUFJSCxZQUFZQSxRQUFRLENBQUMsRUFBRSxLQUFLLEtBQUtBLFdBQVcsTUFBTUE7SUFDeEQsT0FBTyxJQUFJLENBQUNHLE1BQU07UUFDaEJBLE9BQU87SUFDVDtJQUVBLElBQUlGLFFBQVFBLElBQUksQ0FBQyxFQUFFLEtBQUssS0FBS0EsT0FBTyxNQUFNQTtJQUMxQyxJQUFJVSxVQUFVQSxNQUFNLENBQUMsRUFBRSxLQUFLLEtBQUtBLFNBQVMsTUFBTUE7SUFFaERYLFdBQVdBLFNBQVNLLE9BQU8sQ0FBQyxTQUFTRDtJQUNyQ08sU0FBU0EsT0FBT04sT0FBTyxDQUFDLEtBQUs7SUFFN0IsT0FBUSxLQUFFTixXQUFXSSxPQUFPSCxXQUFXVyxTQUFTVjtBQUNsRDtBQUVPLE1BQU1QLGdCQUFnQjtJQUMzQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVNLFNBQVNELHFCQUFxQnNCLEdBQWM7SUFDakQsSUFBSUMsSUFBb0IsRUFBb0I7UUFDMUMsSUFBSUQsUUFBUSxRQUFRLE9BQU9BLFFBQVEsVUFBVTtZQUMzQ0ksT0FBT0MsSUFBSSxDQUFDTCxLQUFLTSxPQUFPLENBQUMsQ0FBQ0M7Z0JBQ3hCLElBQUksQ0FBQzVCLGNBQWM2QixRQUFRLENBQUNELE1BQU07b0JBQ2hDRSxRQUFRQyxJQUFJLENBQ1QsdURBQW9ESDtnQkFFekQ7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxPQUFPOUIsVUFBVXVCO0FBQ25CIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHNyY1xcc2hhcmVkXFxsaWJcXHJvdXRlclxcdXRpbHNcXGZvcm1hdC11cmwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRm9ybWF0IGZ1bmN0aW9uIG1vZGlmaWVkIGZyb20gbm9kZWpzXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuaW1wb3J0IHR5cGUgeyBVcmxPYmplY3QgfSBmcm9tICd1cmwnXG5pbXBvcnQgdHlwZSB7IFBhcnNlZFVybFF1ZXJ5IH0gZnJvbSAncXVlcnlzdHJpbmcnXG5pbXBvcnQgKiBhcyBxdWVyeXN0cmluZyBmcm9tICcuL3F1ZXJ5c3RyaW5nJ1xuXG5jb25zdCBzbGFzaGVkUHJvdG9jb2xzID0gL2h0dHBzP3xmdHB8Z29waGVyfGZpbGUvXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRVcmwodXJsT2JqOiBVcmxPYmplY3QpIHtcbiAgbGV0IHsgYXV0aCwgaG9zdG5hbWUgfSA9IHVybE9ialxuICBsZXQgcHJvdG9jb2wgPSB1cmxPYmoucHJvdG9jb2wgfHwgJydcbiAgbGV0IHBhdGhuYW1lID0gdXJsT2JqLnBhdGhuYW1lIHx8ICcnXG4gIGxldCBoYXNoID0gdXJsT2JqLmhhc2ggfHwgJydcbiAgbGV0IHF1ZXJ5ID0gdXJsT2JqLnF1ZXJ5IHx8ICcnXG4gIGxldCBob3N0OiBzdHJpbmcgfCBmYWxzZSA9IGZhbHNlXG5cbiAgYXV0aCA9IGF1dGggPyBlbmNvZGVVUklDb21wb25lbnQoYXV0aCkucmVwbGFjZSgvJTNBL2ksICc6JykgKyAnQCcgOiAnJ1xuXG4gIGlmICh1cmxPYmouaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdXJsT2JqLmhvc3RcbiAgfSBlbHNlIGlmIChob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKH5ob3N0bmFtZS5pbmRleE9mKCc6JykgPyBgWyR7aG9zdG5hbWV9XWAgOiBob3N0bmFtZSlcbiAgICBpZiAodXJsT2JqLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdXJsT2JqLnBvcnRcbiAgICB9XG4gIH1cblxuICBpZiAocXVlcnkgJiYgdHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgIHF1ZXJ5ID0gU3RyaW5nKHF1ZXJ5c3RyaW5nLnVybFF1ZXJ5VG9TZWFyY2hQYXJhbXMocXVlcnkgYXMgUGFyc2VkVXJsUXVlcnkpKVxuICB9XG5cbiAgbGV0IHNlYXJjaCA9IHVybE9iai5zZWFyY2ggfHwgKHF1ZXJ5ICYmIGA/JHtxdWVyeX1gKSB8fCAnJ1xuXG4gIGlmIChwcm90b2NvbCAmJiAhcHJvdG9jb2wuZW5kc1dpdGgoJzonKSkgcHJvdG9jb2wgKz0gJzonXG5cbiAgaWYgKFxuICAgIHVybE9iai5zbGFzaGVzIHx8XG4gICAgKCghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29scy50ZXN0KHByb3RvY29sKSkgJiYgaG9zdCAhPT0gZmFsc2UpXG4gICkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpXG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lWzBdICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWVcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJ1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaFswXSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaFxuICBpZiAoc2VhcmNoICYmIHNlYXJjaFswXSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2hcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZW5jb2RlVVJJQ29tcG9uZW50KVxuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKVxuXG4gIHJldHVybiBgJHtwcm90b2NvbH0ke2hvc3R9JHtwYXRobmFtZX0ke3NlYXJjaH0ke2hhc2h9YFxufVxuXG5leHBvcnQgY29uc3QgdXJsT2JqZWN0S2V5cyA9IFtcbiAgJ2F1dGgnLFxuICAnaGFzaCcsXG4gICdob3N0JyxcbiAgJ2hvc3RuYW1lJyxcbiAgJ2hyZWYnLFxuICAncGF0aCcsXG4gICdwYXRobmFtZScsXG4gICdwb3J0JyxcbiAgJ3Byb3RvY29sJyxcbiAgJ3F1ZXJ5JyxcbiAgJ3NlYXJjaCcsXG4gICdzbGFzaGVzJyxcbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFdpdGhWYWxpZGF0aW9uKHVybDogVXJsT2JqZWN0KTogc3RyaW5nIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgaWYgKHVybCAhPT0gbnVsbCAmJiB0eXBlb2YgdXJsID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXModXJsKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCF1cmxPYmplY3RLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgVW5rbm93biBrZXkgcGFzc2VkIHZpYSB1cmxPYmplY3QgaW50byB1cmwuZm9ybWF0OiAke2tleX1gXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmb3JtYXRVcmwodXJsKVxufVxuIl0sIm5hbWVzIjpbImZvcm1hdFVybCIsImZvcm1hdFdpdGhWYWxpZGF0aW9uIiwidXJsT2JqZWN0S2V5cyIsInNsYXNoZWRQcm90b2NvbHMiLCJ1cmxPYmoiLCJhdXRoIiwiaG9zdG5hbWUiLCJwcm90b2NvbCIsInBhdGhuYW1lIiwiaGFzaCIsInF1ZXJ5IiwiaG9zdCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJpbmRleE9mIiwicG9ydCIsIlN0cmluZyIsInF1ZXJ5c3RyaW5nIiwidXJsUXVlcnlUb1NlYXJjaFBhcmFtcyIsInNlYXJjaCIsImVuZHNXaXRoIiwic2xhc2hlcyIsInRlc3QiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImluY2x1ZGVzIiwiY29uc29sZSIsIndhcm4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/format-url.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/is-local-url.js":
/*!************************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/router/utils/is-local-url.js ***!
  \************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"isLocalURL\", ({\n    enumerable: true,\n    get: function() {\n        return isLocalURL;\n    }\n}));\nconst _utils = __webpack_require__(/*! ../../utils */ \"(app-pages-browser)/./node_modules/next/dist/shared/lib/utils.js\");\nconst _hasbasepath = __webpack_require__(/*! ../../../../client/has-base-path */ \"(app-pages-browser)/./node_modules/next/dist/client/has-base-path.js\");\nfunction isLocalURL(url) {\n    // prevent a hydration mismatch on href for url with anchor refs\n    if (!(0, _utils.isAbsoluteUrl)(url)) return true;\n    try {\n        // absolute urls can be local if they are on the same origin\n        const locationOrigin = (0, _utils.getLocationOrigin)();\n        const resolved = new URL(url, locationOrigin);\n        return resolved.origin === locationOrigin && (0, _hasbasepath.hasBasePath)(resolved.pathname);\n    } catch (_) {\n        return false;\n    }\n} //# sourceMappingURL=is-local-url.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvaXMtbG9jYWwtdXJsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OENBTWdCQTs7O2VBQUFBOzs7bUNBTmlDO3lDQUNyQjtBQUtyQixTQUFTQSxXQUFXQyxHQUFXO0lBQ3BDLGdFQUFnRTtJQUNoRSxJQUFJLENBQUNDLENBQUFBLEdBQUFBLE9BQUFBLGFBQUFBLEVBQWNELE1BQU0sT0FBTztJQUNoQyxJQUFJO1FBQ0YsNERBQTREO1FBQzVELE1BQU1FLGlCQUFpQkMsQ0FBQUEsR0FBQUEsT0FBQUEsaUJBQUFBO1FBQ3ZCLE1BQU1DLFdBQVcsSUFBSUMsSUFBSUwsS0FBS0U7UUFDOUIsT0FBT0UsU0FBU0UsTUFBTSxLQUFLSixrQkFBa0JLLENBQUFBLEdBQUFBLGFBQUFBLFdBQUFBLEVBQVlILFNBQVNJLFFBQVE7SUFDNUUsRUFBRSxPQUFPQyxHQUFHO1FBQ1YsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcc3JjXFxzaGFyZWRcXGxpYlxccm91dGVyXFx1dGlsc1xcaXMtbG9jYWwtdXJsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQWJzb2x1dGVVcmwsIGdldExvY2F0aW9uT3JpZ2luIH0gZnJvbSAnLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyBoYXNCYXNlUGF0aCB9IGZyb20gJy4uLy4uLy4uLy4uL2NsaWVudC9oYXMtYmFzZS1wYXRoJ1xuXG4vKipcbiAqIERldGVjdHMgd2hldGhlciBhIGdpdmVuIHVybCBpcyByb3V0YWJsZSBieSB0aGUgTmV4dC5qcyByb3V0ZXIgKGJyb3dzZXIgb25seSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2FsVVJMKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIC8vIHByZXZlbnQgYSBoeWRyYXRpb24gbWlzbWF0Y2ggb24gaHJlZiBmb3IgdXJsIHdpdGggYW5jaG9yIHJlZnNcbiAgaWYgKCFpc0Fic29sdXRlVXJsKHVybCkpIHJldHVybiB0cnVlXG4gIHRyeSB7XG4gICAgLy8gYWJzb2x1dGUgdXJscyBjYW4gYmUgbG9jYWwgaWYgdGhleSBhcmUgb24gdGhlIHNhbWUgb3JpZ2luXG4gICAgY29uc3QgbG9jYXRpb25PcmlnaW4gPSBnZXRMb2NhdGlvbk9yaWdpbigpXG4gICAgY29uc3QgcmVzb2x2ZWQgPSBuZXcgVVJMKHVybCwgbG9jYXRpb25PcmlnaW4pXG4gICAgcmV0dXJuIHJlc29sdmVkLm9yaWdpbiA9PT0gbG9jYXRpb25PcmlnaW4gJiYgaGFzQmFzZVBhdGgocmVzb2x2ZWQucGF0aG5hbWUpXG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuIl0sIm5hbWVzIjpbImlzTG9jYWxVUkwiLCJ1cmwiLCJpc0Fic29sdXRlVXJsIiwibG9jYXRpb25PcmlnaW4iLCJnZXRMb2NhdGlvbk9yaWdpbiIsInJlc29sdmVkIiwiVVJMIiwib3JpZ2luIiwiaGFzQmFzZVBhdGgiLCJwYXRobmFtZSIsIl8iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/is-local-url.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/querystring.js":
/*!***********************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/router/utils/querystring.js ***!
  \***********************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    assign: function() {\n        return assign;\n    },\n    searchParamsToUrlQuery: function() {\n        return searchParamsToUrlQuery;\n    },\n    urlQueryToSearchParams: function() {\n        return urlQueryToSearchParams;\n    }\n});\nfunction searchParamsToUrlQuery(searchParams) {\n    const query = {};\n    for (const [key, value] of searchParams.entries()){\n        const existing = query[key];\n        if (typeof existing === 'undefined') {\n            query[key] = value;\n        } else if (Array.isArray(existing)) {\n            existing.push(value);\n        } else {\n            query[key] = [\n                existing,\n                value\n            ];\n        }\n    }\n    return query;\n}\nfunction stringifyUrlQueryParam(param) {\n    if (typeof param === 'string') {\n        return param;\n    }\n    if (typeof param === 'number' && !isNaN(param) || typeof param === 'boolean') {\n        return String(param);\n    } else {\n        return '';\n    }\n}\nfunction urlQueryToSearchParams(query) {\n    const searchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(query)){\n        if (Array.isArray(value)) {\n            for (const item of value){\n                searchParams.append(key, stringifyUrlQueryParam(item));\n            }\n        } else {\n            searchParams.set(key, stringifyUrlQueryParam(value));\n        }\n    }\n    return searchParams;\n}\nfunction assign(target) {\n    for(var _len = arguments.length, searchParamsList = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n        searchParamsList[_key - 1] = arguments[_key];\n    }\n    for (const searchParams of searchParamsList){\n        for (const key of searchParams.keys()){\n            target.delete(key);\n        }\n        for (const [key, value] of searchParams.entries()){\n            target.append(key, value);\n        }\n    }\n    return target;\n} //# sourceMappingURL=querystring.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcXVlcnlzdHJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0lBZ0RnQkEsTUFBTTtlQUFOQTs7SUE5Q0FDLHNCQUFzQjtlQUF0QkE7O0lBZ0NBQyxzQkFBc0I7ZUFBdEJBOzs7QUFoQ1QsU0FBU0QsdUJBQ2RFLFlBQTZCO0lBRTdCLE1BQU1DLFFBQXdCLENBQUM7SUFDL0IsS0FBSyxNQUFNLENBQUNDLEtBQUtDLE1BQU0sSUFBSUgsYUFBYUksT0FBTyxHQUFJO1FBQ2pELE1BQU1DLFdBQVdKLEtBQUssQ0FBQ0MsSUFBSTtRQUMzQixJQUFJLE9BQU9HLGFBQWEsYUFBYTtZQUNuQ0osS0FBSyxDQUFDQyxJQUFJLEdBQUdDO1FBQ2YsT0FBTyxJQUFJRyxNQUFNQyxPQUFPLENBQUNGLFdBQVc7WUFDbENBLFNBQVNHLElBQUksQ0FBQ0w7UUFDaEIsT0FBTztZQUNMRixLQUFLLENBQUNDLElBQUksR0FBRztnQkFBQ0c7Z0JBQVVGO2FBQU07UUFDaEM7SUFDRjtJQUNBLE9BQU9GO0FBQ1Q7QUFFQSxTQUFTUSx1QkFBdUJDLEtBQWM7SUFDNUMsSUFBSSxPQUFPQSxVQUFVLFVBQVU7UUFDN0IsT0FBT0E7SUFDVDtJQUVBLElBQ0csT0FBT0EsVUFBVSxZQUFZLENBQUNDLE1BQU1ELFVBQ3JDLE9BQU9BLFVBQVUsV0FDakI7UUFDQSxPQUFPRSxPQUFPRjtJQUNoQixPQUFPO1FBQ0wsT0FBTztJQUNUO0FBQ0Y7QUFFTyxTQUFTWCx1QkFBdUJFLEtBQXFCO0lBQzFELE1BQU1ELGVBQWUsSUFBSWE7SUFDekIsS0FBSyxNQUFNLENBQUNYLEtBQUtDLE1BQU0sSUFBSVcsT0FBT1YsT0FBTyxDQUFDSCxPQUFRO1FBQ2hELElBQUlLLE1BQU1DLE9BQU8sQ0FBQ0osUUFBUTtZQUN4QixLQUFLLE1BQU1ZLFFBQVFaLE1BQU87Z0JBQ3hCSCxhQUFhZ0IsTUFBTSxDQUFDZCxLQUFLTyx1QkFBdUJNO1lBQ2xEO1FBQ0YsT0FBTztZQUNMZixhQUFhaUIsR0FBRyxDQUFDZixLQUFLTyx1QkFBdUJOO1FBQy9DO0lBQ0Y7SUFDQSxPQUFPSDtBQUNUO0FBRU8sU0FBU0gsT0FDZHFCLE1BQXVCO0lBQ3ZCLGlDQUFHQyxtQkFBSDtRQUFHQSxnQkFBQUEsQ0FBSCwyQkFBc0M7O0lBRXRDLEtBQUssTUFBTW5CLGdCQUFnQm1CLGlCQUFrQjtRQUMzQyxLQUFLLE1BQU1qQixPQUFPRixhQUFhb0IsSUFBSSxHQUFJO1lBQ3JDRixPQUFPRyxNQUFNLENBQUNuQjtRQUNoQjtRQUVBLEtBQUssTUFBTSxDQUFDQSxLQUFLQyxNQUFNLElBQUlILGFBQWFJLE9BQU8sR0FBSTtZQUNqRGMsT0FBT0YsTUFBTSxDQUFDZCxLQUFLQztRQUNyQjtJQUNGO0lBRUEsT0FBT2U7QUFDVCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxzcmNcXHNoYXJlZFxcbGliXFxyb3V0ZXJcXHV0aWxzXFxxdWVyeXN0cmluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBhcnNlZFVybFF1ZXJ5IH0gZnJvbSAncXVlcnlzdHJpbmcnXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hQYXJhbXNUb1VybFF1ZXJ5KFxuICBzZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtc1xuKTogUGFyc2VkVXJsUXVlcnkge1xuICBjb25zdCBxdWVyeTogUGFyc2VkVXJsUXVlcnkgPSB7fVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBxdWVyeVtrZXldXG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgIGV4aXN0aW5nLnB1c2godmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXJ5W2tleV0gPSBbZXhpc3RpbmcsIHZhbHVlXVxuICAgIH1cbiAgfVxuICByZXR1cm4gcXVlcnlcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5VXJsUXVlcnlQYXJhbShwYXJhbTogdW5rbm93bik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcmFtXG4gIH1cblxuICBpZiAoXG4gICAgKHR5cGVvZiBwYXJhbSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHBhcmFtKSkgfHxcbiAgICB0eXBlb2YgcGFyYW0gPT09ICdib29sZWFuJ1xuICApIHtcbiAgICByZXR1cm4gU3RyaW5nKHBhcmFtKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cmxRdWVyeVRvU2VhcmNoUGFyYW1zKHF1ZXJ5OiBQYXJzZWRVcmxRdWVyeSk6IFVSTFNlYXJjaFBhcmFtcyB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhxdWVyeSkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgc3RyaW5naWZ5VXJsUXVlcnlQYXJhbShpdGVtKSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoUGFyYW1zLnNldChrZXksIHN0cmluZ2lmeVVybFF1ZXJ5UGFyYW0odmFsdWUpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gc2VhcmNoUGFyYW1zXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24oXG4gIHRhcmdldDogVVJMU2VhcmNoUGFyYW1zLFxuICAuLi5zZWFyY2hQYXJhbXNMaXN0OiBVUkxTZWFyY2hQYXJhbXNbXVxuKTogVVJMU2VhcmNoUGFyYW1zIHtcbiAgZm9yIChjb25zdCBzZWFyY2hQYXJhbXMgb2Ygc2VhcmNoUGFyYW1zTGlzdCkge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHNlYXJjaFBhcmFtcy5rZXlzKCkpIHtcbiAgICAgIHRhcmdldC5kZWxldGUoa2V5KVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICAgIHRhcmdldC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0XG59XG4iXSwibmFtZXMiOlsiYXNzaWduIiwic2VhcmNoUGFyYW1zVG9VcmxRdWVyeSIsInVybFF1ZXJ5VG9TZWFyY2hQYXJhbXMiLCJzZWFyY2hQYXJhbXMiLCJxdWVyeSIsImtleSIsInZhbHVlIiwiZW50cmllcyIsImV4aXN0aW5nIiwiQXJyYXkiLCJpc0FycmF5IiwicHVzaCIsInN0cmluZ2lmeVVybFF1ZXJ5UGFyYW0iLCJwYXJhbSIsImlzTmFOIiwiU3RyaW5nIiwiVVJMU2VhcmNoUGFyYW1zIiwiT2JqZWN0IiwiaXRlbSIsImFwcGVuZCIsInNldCIsInRhcmdldCIsInNlYXJjaFBhcmFtc0xpc3QiLCJrZXlzIiwiZGVsZXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/router/utils/querystring.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/utils.js":
/*!****************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/utils.js ***!
  \****************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    DecodeError: function() {\n        return DecodeError;\n    },\n    MiddlewareNotFoundError: function() {\n        return MiddlewareNotFoundError;\n    },\n    MissingStaticPage: function() {\n        return MissingStaticPage;\n    },\n    NormalizeError: function() {\n        return NormalizeError;\n    },\n    PageNotFoundError: function() {\n        return PageNotFoundError;\n    },\n    SP: function() {\n        return SP;\n    },\n    ST: function() {\n        return ST;\n    },\n    WEB_VITALS: function() {\n        return WEB_VITALS;\n    },\n    execOnce: function() {\n        return execOnce;\n    },\n    getDisplayName: function() {\n        return getDisplayName;\n    },\n    getLocationOrigin: function() {\n        return getLocationOrigin;\n    },\n    getURL: function() {\n        return getURL;\n    },\n    isAbsoluteUrl: function() {\n        return isAbsoluteUrl;\n    },\n    isResSent: function() {\n        return isResSent;\n    },\n    loadGetInitialProps: function() {\n        return loadGetInitialProps;\n    },\n    normalizeRepeatedSlashes: function() {\n        return normalizeRepeatedSlashes;\n    },\n    stringifyError: function() {\n        return stringifyError;\n    }\n});\nconst WEB_VITALS = [\n    'CLS',\n    'FCP',\n    'FID',\n    'INP',\n    'LCP',\n    'TTFB'\n];\nfunction execOnce(fn) {\n    let used = false;\n    let result;\n    return function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (!used) {\n            used = true;\n            result = fn(...args);\n        }\n        return result;\n    };\n}\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\nconst isAbsoluteUrl = (url)=>ABSOLUTE_URL_REGEX.test(url);\nfunction getLocationOrigin() {\n    const { protocol, hostname, port } = window.location;\n    return protocol + \"//\" + hostname + (port ? ':' + port : '');\n}\nfunction getURL() {\n    const { href } = window.location;\n    const origin = getLocationOrigin();\n    return href.substring(origin.length);\n}\nfunction getDisplayName(Component) {\n    return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\nfunction isResSent(res) {\n    return res.finished || res.headersSent;\n}\nfunction normalizeRepeatedSlashes(url) {\n    const urlParts = url.split('?');\n    const urlNoQuery = urlParts[0];\n    return urlNoQuery // first we replace any non-encoded backslashes with forward\n    // then normalize repeated forward slashes\n    .replace(/\\\\/g, '/').replace(/\\/\\/+/g, '/') + (urlParts[1] ? \"?\" + urlParts.slice(1).join('?') : '');\n}\nasync function loadGetInitialProps(App, ctx) {\n    if (true) {\n        var _App_prototype;\n        if ((_App_prototype = App.prototype) == null ? void 0 : _App_prototype.getInitialProps) {\n            const message = '\"' + getDisplayName(App) + '.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.';\n            throw Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n                value: \"E394\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n    }\n    // when called from _app `ctx` is nested in `ctx`\n    const res = ctx.res || ctx.ctx && ctx.ctx.res;\n    if (!App.getInitialProps) {\n        if (ctx.ctx && ctx.Component) {\n            // @ts-ignore pageProps default\n            return {\n                pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx)\n            };\n        }\n        return {};\n    }\n    const props = await App.getInitialProps(ctx);\n    if (res && isResSent(res)) {\n        return props;\n    }\n    if (!props) {\n        const message = '\"' + getDisplayName(App) + '.getInitialProps()\" should resolve to an object. But found \"' + props + '\" instead.';\n        throw Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    if (true) {\n        if (Object.keys(props).length === 0 && !ctx.ctx) {\n            console.warn(\"\" + getDisplayName(App) + \" returned an empty object from `getInitialProps`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps\");\n        }\n    }\n    return props;\n}\nconst SP = typeof performance !== 'undefined';\nconst ST = SP && [\n    'mark',\n    'measure',\n    'getEntriesByName'\n].every((method)=>typeof performance[method] === 'function');\nclass DecodeError extends Error {\n}\nclass NormalizeError extends Error {\n}\nclass PageNotFoundError extends Error {\n    constructor(page){\n        super();\n        this.code = 'ENOENT';\n        this.name = 'PageNotFoundError';\n        this.message = \"Cannot find module for page: \" + page;\n    }\n}\nclass MissingStaticPage extends Error {\n    constructor(page, message){\n        super();\n        this.message = \"Failed to load static file for page: \" + page + \" \" + message;\n    }\n}\nclass MiddlewareNotFoundError extends Error {\n    constructor(){\n        super();\n        this.code = 'ENOENT';\n        this.message = \"Cannot find the middleware module\";\n    }\n}\nfunction stringifyError(error) {\n    return JSON.stringify({\n        message: error.message,\n        stack: error.stack\n    });\n} //# sourceMappingURL=utils.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7SUFvYWFBLFdBQVc7ZUFBWEE7O0lBb0JBQyx1QkFBdUI7ZUFBdkJBOztJQVBBQyxpQkFBaUI7ZUFBakJBOztJQVpBQyxjQUFjO2VBQWRBOztJQUNBQyxpQkFBaUI7ZUFBakJBOztJQVRBQyxFQUFFO2VBQUZBOztJQUNBQyxFQUFFO2VBQUZBOztJQWxYQUMsVUFBVTtlQUFWQTs7SUFzUUdDLFFBQVE7ZUFBUkE7O0lBK0JBQyxjQUFjO2VBQWRBOztJQVhBQyxpQkFBaUI7ZUFBakJBOztJQUtBQyxNQUFNO2VBQU5BOztJQVBIQyxhQUFhO2VBQWJBOztJQW1CR0MsU0FBUztlQUFUQTs7SUFrQk1DLG1CQUFtQjtlQUFuQkE7O0lBZE5DLHdCQUF3QjtlQUF4QkE7O0lBK0dBQyxjQUFjO2VBQWRBOzs7QUE5WlQsTUFBTVQsYUFBYTtJQUFDO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztDQUFPO0FBc1E5RCxTQUFTQyxTQUNkUyxFQUFLO0lBRUwsSUFBSUMsT0FBTztJQUNYLElBQUlDO0lBRUosT0FBUTt5Q0FBSUMsT0FBQUEsSUFBQUEsTUFBQUEsT0FBQUEsT0FBQUEsR0FBQUEsT0FBQUEsTUFBQUEsT0FBQUE7WUFBQUEsSUFBQUEsQ0FBQUEsS0FBQUEsR0FBQUEsU0FBQUEsQ0FBQUEsS0FBQUE7O1FBQ1YsSUFBSSxDQUFDRixNQUFNO1lBQ1RBLE9BQU87WUFDUEMsU0FBU0YsTUFBTUc7UUFDakI7UUFDQSxPQUFPRDtJQUNUO0FBQ0Y7QUFFQSwwREFBMEQ7QUFDMUQsZ0VBQWdFO0FBQ2hFLE1BQU1FLHFCQUFxQjtBQUNwQixNQUFNVCxnQkFBZ0IsQ0FBQ1UsTUFBZ0JELG1CQUFtQkUsSUFBSSxDQUFDRDtBQUUvRCxTQUFTWjtJQUNkLE1BQU0sRUFBRWMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRSxH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QUksR0FBRztRQUNaLElBQUksQ0FBQzlCLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ2lCLE9BQU8sR0FBSSxrQ0FBK0JZO0lBQ2pEO0FBQ0Y7QUFFTyxNQUFNOUQsMEJBQTBCbUQ7SUFDckNVLFlBQVlDLElBQVksRUFBRVosT0FBZSxDQUFFO1FBQ3pDLEtBQUs7UUFDTCxJQUFJLENBQUNBLE9BQU8sR0FBSSwwQ0FBdUNZLE9BQUssTUFBR1o7SUFDakU7QUFDRjtBQUVPLE1BQU1uRCxnQ0FBZ0NvRDtJQUUzQ1UsYUFBYztRQUNaLEtBQUs7UUFDTCxJQUFJLENBQUNFLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ2IsT0FBTyxHQUFJO0lBQ2xCO0FBQ0Y7QUFXTyxTQUFTcEMsZUFBZWtELEtBQVk7SUFDekMsT0FBT0MsS0FBS0MsU0FBUyxDQUFDO1FBQUVoQixTQUFTYyxNQUFNZCxPQUFPO1FBQUVpQixPQUFPSCxNQUFNRyxLQUFLO0lBQUM7QUFDckUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxzaGFyZWRcXGxpYlxcdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIdG1sUHJvcHMgfSBmcm9tICcuL2h0bWwtY29udGV4dC5zaGFyZWQtcnVudGltZSdcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50VHlwZSwgSlNYIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdHlwZSB7IERvbWFpbkxvY2FsZSB9IGZyb20gJy4uLy4uL3NlcnZlci9jb25maWcnXG5pbXBvcnQgdHlwZSB7IEVudiB9IGZyb20gJ0BuZXh0L2VudidcbmltcG9ydCB0eXBlIHsgSW5jb21pbmdNZXNzYWdlLCBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnXG5pbXBvcnQgdHlwZSB7IE5leHRSb3V0ZXIgfSBmcm9tICcuL3JvdXRlci9yb3V0ZXInXG5pbXBvcnQgdHlwZSB7IFBhcnNlZFVybFF1ZXJ5IH0gZnJvbSAncXVlcnlzdHJpbmcnXG5pbXBvcnQgdHlwZSB7IFByZXZpZXdEYXRhIH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IENPTVBJTEVSX05BTUVTIH0gZnJvbSAnLi9jb25zdGFudHMnXG5pbXBvcnQgdHlwZSBmcyBmcm9tICdmcydcblxuZXhwb3J0IHR5cGUgTmV4dENvbXBvbmVudFR5cGU8XG4gIENvbnRleHQgZXh0ZW5kcyBCYXNlQ29udGV4dCA9IE5leHRQYWdlQ29udGV4dCxcbiAgSW5pdGlhbFByb3BzID0ge30sXG4gIFByb3BzID0ge30sXG4+ID0gQ29tcG9uZW50VHlwZTxQcm9wcz4gJiB7XG4gIC8qKlxuICAgKiBVc2VkIGZvciBpbml0aWFsIHBhZ2UgbG9hZCBkYXRhIHBvcHVsYXRpb24uIERhdGEgcmV0dXJuZWQgZnJvbSBgZ2V0SW5pdGlhbFByb3BzYCBpcyBzZXJpYWxpemVkIHdoZW4gc2VydmVyIHJlbmRlcmVkLlxuICAgKiBNYWtlIHN1cmUgdG8gcmV0dXJuIHBsYWluIGBPYmplY3RgIHdpdGhvdXQgdXNpbmcgYERhdGVgLCBgTWFwYCwgYFNldGAuXG4gICAqIEBwYXJhbSBjb250ZXh0IENvbnRleHQgb2YgYHBhZ2VgXG4gICAqL1xuICBnZXRJbml0aWFsUHJvcHM/KGNvbnRleHQ6IENvbnRleHQpOiBJbml0aWFsUHJvcHMgfCBQcm9taXNlPEluaXRpYWxQcm9wcz5cbn1cblxuZXhwb3J0IHR5cGUgRG9jdW1lbnRUeXBlID0gTmV4dENvbXBvbmVudFR5cGU8XG4gIERvY3VtZW50Q29udGV4dCxcbiAgRG9jdW1lbnRJbml0aWFsUHJvcHMsXG4gIERvY3VtZW50UHJvcHNcbj5cblxuZXhwb3J0IHR5cGUgQXBwVHlwZTxQID0ge30+ID0gTmV4dENvbXBvbmVudFR5cGU8XG4gIEFwcENvbnRleHRUeXBlLFxuICBQLFxuICBBcHBQcm9wc1R5cGU8YW55LCBQPlxuPlxuXG5leHBvcnQgdHlwZSBBcHBUcmVlVHlwZSA9IENvbXBvbmVudFR5cGU8XG4gIEFwcEluaXRpYWxQcm9wcyAmIHsgW25hbWU6IHN0cmluZ106IGFueSB9XG4+XG5cbi8qKlxuICogV2ViIHZpdGFscyBwcm92aWRlZCB0byBfYXBwLnJlcG9ydFdlYlZpdGFscyBieSBDb3JlIFdlYiBWaXRhbHMgcGx1Z2luIGRldmVsb3BlZCBieSBHb29nbGUgQ2hyb21lIHRlYW0uXG4gKiBodHRwczovL25leHRqcy5vcmcvYmxvZy9uZXh0LTktNCNpbnRlZ3JhdGVkLXdlYi12aXRhbHMtcmVwb3J0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBXRUJfVklUQUxTID0gWydDTFMnLCAnRkNQJywgJ0ZJRCcsICdJTlAnLCAnTENQJywgJ1RURkInXSBhcyBjb25zdFxuZXhwb3J0IHR5cGUgTmV4dFdlYlZpdGFsc01ldHJpYyA9IHtcbiAgaWQ6IHN0cmluZ1xuICBzdGFydFRpbWU6IG51bWJlclxuICB2YWx1ZTogbnVtYmVyXG4gIGF0dHJpYnV0aW9uPzogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH1cbn0gJiAoXG4gIHwge1xuICAgICAgbGFiZWw6ICd3ZWItdml0YWwnXG4gICAgICBuYW1lOiAodHlwZW9mIFdFQl9WSVRBTFMpW251bWJlcl1cbiAgICB9XG4gIHwge1xuICAgICAgbGFiZWw6ICdjdXN0b20nXG4gICAgICBuYW1lOlxuICAgICAgICB8ICdOZXh0LmpzLWh5ZHJhdGlvbidcbiAgICAgICAgfCAnTmV4dC5qcy1yb3V0ZS1jaGFuZ2UtdG8tcmVuZGVyJ1xuICAgICAgICB8ICdOZXh0LmpzLXJlbmRlcidcbiAgICB9XG4pXG5cbmV4cG9ydCB0eXBlIEVuaGFuY2VyPEM+ID0gKENvbXBvbmVudDogQykgPT4gQ1xuXG5leHBvcnQgdHlwZSBDb21wb25lbnRzRW5oYW5jZXIgPVxuICB8IHtcbiAgICAgIGVuaGFuY2VBcHA/OiBFbmhhbmNlcjxBcHBUeXBlPlxuICAgICAgZW5oYW5jZUNvbXBvbmVudD86IEVuaGFuY2VyPE5leHRDb21wb25lbnRUeXBlPlxuICAgIH1cbiAgfCBFbmhhbmNlcjxOZXh0Q29tcG9uZW50VHlwZT5cblxuZXhwb3J0IHR5cGUgUmVuZGVyUGFnZVJlc3VsdCA9IHtcbiAgaHRtbDogc3RyaW5nXG4gIGhlYWQ/OiBBcnJheTxKU1guRWxlbWVudCB8IG51bGw+XG59XG5cbmV4cG9ydCB0eXBlIFJlbmRlclBhZ2UgPSAoXG4gIG9wdGlvbnM/OiBDb21wb25lbnRzRW5oYW5jZXJcbikgPT4gRG9jdW1lbnRJbml0aWFsUHJvcHMgfCBQcm9taXNlPERvY3VtZW50SW5pdGlhbFByb3BzPlxuXG5leHBvcnQgdHlwZSBCYXNlQ29udGV4dCA9IHtcbiAgcmVzPzogU2VydmVyUmVzcG9uc2VcbiAgW2s6IHN0cmluZ106IGFueVxufVxuXG5leHBvcnQgdHlwZSBORVhUX0RBVEEgPSB7XG4gIHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gIHBhZ2U6IHN0cmluZ1xuICBxdWVyeTogUGFyc2VkVXJsUXVlcnlcbiAgYnVpbGRJZDogc3RyaW5nXG4gIGFzc2V0UHJlZml4Pzogc3RyaW5nXG4gIHJ1bnRpbWVDb25maWc/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9XG4gIG5leHRFeHBvcnQ/OiBib29sZWFuXG4gIGF1dG9FeHBvcnQ/OiBib29sZWFuXG4gIGlzRmFsbGJhY2s/OiBib29sZWFuXG4gIGlzRXhwZXJpbWVudGFsQ29tcGlsZT86IGJvb2xlYW5cbiAgZHluYW1pY0lkcz86IChzdHJpbmcgfCBudW1iZXIpW11cbiAgZXJyPzogRXJyb3IgJiB7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlclxuICAgIHNvdXJjZT86IHR5cGVvZiBDT01QSUxFUl9OQU1FUy5zZXJ2ZXIgfCB0eXBlb2YgQ09NUElMRVJfTkFNRVMuZWRnZVNlcnZlclxuICB9XG4gIGdzcD86IGJvb2xlYW5cbiAgZ3NzcD86IGJvb2xlYW5cbiAgY3VzdG9tU2VydmVyPzogYm9vbGVhblxuICBnaXA/OiBib29sZWFuXG4gIGFwcEdpcD86IGJvb2xlYW5cbiAgbG9jYWxlPzogc3RyaW5nXG4gIGxvY2FsZXM/OiByZWFkb25seSBzdHJpbmdbXVxuICBkZWZhdWx0TG9jYWxlPzogc3RyaW5nXG4gIGRvbWFpbkxvY2FsZXM/OiByZWFkb25seSBEb21haW5Mb2NhbGVbXVxuICBzY3JpcHRMb2FkZXI/OiBhbnlbXVxuICBpc1ByZXZpZXc/OiBib29sZWFuXG4gIG5vdEZvdW5kU3JjUGFnZT86IHN0cmluZ1xufVxuXG4vKipcbiAqIGBOZXh0YCBjb250ZXh0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmV4dFBhZ2VDb250ZXh0IHtcbiAgLyoqXG4gICAqIEVycm9yIG9iamVjdCBpZiBlbmNvdW50ZXJlZCBkdXJpbmcgcmVuZGVyaW5nXG4gICAqL1xuICBlcnI/OiAoRXJyb3IgJiB7IHN0YXR1c0NvZGU/OiBudW1iZXIgfSkgfCBudWxsXG4gIC8qKlxuICAgKiBgSFRUUGAgcmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICByZXE/OiBJbmNvbWluZ01lc3NhZ2VcbiAgLyoqXG4gICAqIGBIVFRQYCByZXNwb25zZSBvYmplY3QuXG4gICAqL1xuICByZXM/OiBTZXJ2ZXJSZXNwb25zZVxuICAvKipcbiAgICogUGF0aCBzZWN0aW9uIG9mIGBVUkxgLlxuICAgKi9cbiAgcGF0aG5hbWU6IHN0cmluZ1xuICAvKipcbiAgICogUXVlcnkgc3RyaW5nIHNlY3Rpb24gb2YgYFVSTGAgcGFyc2VkIGFzIGFuIG9iamVjdC5cbiAgICovXG4gIHF1ZXJ5OiBQYXJzZWRVcmxRdWVyeVxuICAvKipcbiAgICogYFN0cmluZ2Agb2YgdGhlIGFjdHVhbCBwYXRoIGluY2x1ZGluZyBxdWVyeS5cbiAgICovXG4gIGFzUGF0aD86IHN0cmluZ1xuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgbG9jYWxlXG4gICAqL1xuICBsb2NhbGU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIEFsbCBjb25maWd1cmVkIGxvY2FsZXNcbiAgICovXG4gIGxvY2FsZXM/OiByZWFkb25seSBzdHJpbmdbXVxuICAvKipcbiAgICogVGhlIGNvbmZpZ3VyZWQgZGVmYXVsdCBsb2NhbGVcbiAgICovXG4gIGRlZmF1bHRMb2NhbGU/OiBzdHJpbmdcbiAgLyoqXG4gICAqIGBDb21wb25lbnRgIHRoZSB0cmVlIG9mIHRoZSBBcHAgdG8gdXNlIGlmIG5lZWRpbmcgdG8gcmVuZGVyIHNlcGFyYXRlbHlcbiAgICovXG4gIEFwcFRyZWU6IEFwcFRyZWVUeXBlXG59XG5cbmV4cG9ydCB0eXBlIEFwcENvbnRleHRUeXBlPFJvdXRlciBleHRlbmRzIE5leHRSb3V0ZXIgPSBOZXh0Um91dGVyPiA9IHtcbiAgQ29tcG9uZW50OiBOZXh0Q29tcG9uZW50VHlwZTxOZXh0UGFnZUNvbnRleHQ+XG4gIEFwcFRyZWU6IEFwcFRyZWVUeXBlXG4gIGN0eDogTmV4dFBhZ2VDb250ZXh0XG4gIHJvdXRlcjogUm91dGVyXG59XG5cbmV4cG9ydCB0eXBlIEFwcEluaXRpYWxQcm9wczxQYWdlUHJvcHMgPSBhbnk+ID0ge1xuICBwYWdlUHJvcHM6IFBhZ2VQcm9wc1xufVxuXG5leHBvcnQgdHlwZSBBcHBQcm9wc1R5cGU8XG4gIFJvdXRlciBleHRlbmRzIE5leHRSb3V0ZXIgPSBOZXh0Um91dGVyLFxuICBQYWdlUHJvcHMgPSB7fSxcbj4gPSBBcHBJbml0aWFsUHJvcHM8UGFnZVByb3BzPiAmIHtcbiAgQ29tcG9uZW50OiBOZXh0Q29tcG9uZW50VHlwZTxOZXh0UGFnZUNvbnRleHQsIGFueSwgYW55PlxuICByb3V0ZXI6IFJvdXRlclxuICBfX05fU1NHPzogYm9vbGVhblxuICBfX05fU1NQPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBEb2N1bWVudENvbnRleHQgPSBOZXh0UGFnZUNvbnRleHQgJiB7XG4gIHJlbmRlclBhZ2U6IFJlbmRlclBhZ2VcbiAgZGVmYXVsdEdldEluaXRpYWxQcm9wcyhcbiAgICBjdHg6IERvY3VtZW50Q29udGV4dCxcbiAgICBvcHRpb25zPzogeyBub25jZT86IHN0cmluZyB9XG4gICk6IFByb21pc2U8RG9jdW1lbnRJbml0aWFsUHJvcHM+XG59XG5cbmV4cG9ydCB0eXBlIERvY3VtZW50SW5pdGlhbFByb3BzID0gUmVuZGVyUGFnZVJlc3VsdCAmIHtcbiAgc3R5bGVzPzogUmVhY3QuUmVhY3RFbGVtZW50W10gfCBJdGVyYWJsZTxSZWFjdC5SZWFjdE5vZGU+IHwgSlNYLkVsZW1lbnRcbn1cblxuZXhwb3J0IHR5cGUgRG9jdW1lbnRQcm9wcyA9IERvY3VtZW50SW5pdGlhbFByb3BzICYgSHRtbFByb3BzXG5cbi8qKlxuICogTmV4dCBgQVBJYCByb3V0ZSByZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmV4dEFwaVJlcXVlc3QgZXh0ZW5kcyBJbmNvbWluZ01lc3NhZ2Uge1xuICAvKipcbiAgICogT2JqZWN0IG9mIGBxdWVyeWAgdmFsdWVzIGZyb20gdXJsXG4gICAqL1xuICBxdWVyeTogUGFydGlhbDx7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW11cbiAgfT5cbiAgLyoqXG4gICAqIE9iamVjdCBvZiBgY29va2llc2AgZnJvbSBoZWFkZXJcbiAgICovXG4gIGNvb2tpZXM6IFBhcnRpYWw8e1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZ1xuICB9PlxuXG4gIGJvZHk6IGFueVxuXG4gIGVudjogRW52XG5cbiAgZHJhZnRNb2RlPzogYm9vbGVhblxuXG4gIHByZXZpZXc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBQcmV2aWV3IGRhdGEgc2V0IG9uIHRoZSByZXF1ZXN0LCBpZiBhbnlcbiAgICogKi9cbiAgcHJldmlld0RhdGE/OiBQcmV2aWV3RGF0YVxufVxuXG4vKipcbiAqIFNlbmQgYm9keSBvZiByZXNwb25zZVxuICovXG50eXBlIFNlbmQ8VD4gPSAoYm9keTogVCkgPT4gdm9pZFxuXG4vKipcbiAqIE5leHQgYEFQSWAgcm91dGUgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IHR5cGUgTmV4dEFwaVJlc3BvbnNlPERhdGEgPSBhbnk+ID0gU2VydmVyUmVzcG9uc2UgJiB7XG4gIC8qKlxuICAgKiBTZW5kIGRhdGEgYGFueWAgZGF0YSBpbiByZXNwb25zZVxuICAgKi9cbiAgc2VuZDogU2VuZDxEYXRhPlxuICAvKipcbiAgICogU2VuZCBkYXRhIGBqc29uYCBkYXRhIGluIHJlc3BvbnNlXG4gICAqL1xuICBqc29uOiBTZW5kPERhdGE+XG4gIHN0YXR1czogKHN0YXR1c0NvZGU6IG51bWJlcikgPT4gTmV4dEFwaVJlc3BvbnNlPERhdGE+XG4gIHJlZGlyZWN0KHVybDogc3RyaW5nKTogTmV4dEFwaVJlc3BvbnNlPERhdGE+XG4gIHJlZGlyZWN0KHN0YXR1czogbnVtYmVyLCB1cmw6IHN0cmluZyk6IE5leHRBcGlSZXNwb25zZTxEYXRhPlxuXG4gIC8qKlxuICAgKiBTZXQgZHJhZnQgbW9kZVxuICAgKi9cbiAgc2V0RHJhZnRNb2RlOiAob3B0aW9uczogeyBlbmFibGU6IGJvb2xlYW4gfSkgPT4gTmV4dEFwaVJlc3BvbnNlPERhdGE+XG5cbiAgLyoqXG4gICAqIFNldCBwcmV2aWV3IGRhdGEgZm9yIE5leHQuanMnIHByZXJlbmRlciBtb2RlXG4gICAqL1xuICBzZXRQcmV2aWV3RGF0YTogKFxuICAgIGRhdGE6IG9iamVjdCB8IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgLyoqXG4gICAgICAgKiBTcGVjaWZpZXMgdGhlIG51bWJlciAoaW4gc2Vjb25kcykgZm9yIHRoZSBwcmV2aWV3IHNlc3Npb24gdG8gbGFzdCBmb3IuXG4gICAgICAgKiBUaGUgZ2l2ZW4gbnVtYmVyIHdpbGwgYmUgY29udmVydGVkIHRvIGFuIGludGVnZXIgYnkgcm91bmRpbmcgZG93bi5cbiAgICAgICAqIEJ5IGRlZmF1bHQsIG5vIG1heGltdW0gYWdlIGlzIHNldCBhbmQgdGhlIHByZXZpZXcgc2Vzc2lvbiBmaW5pc2hlc1xuICAgICAgICogd2hlbiB0aGUgY2xpZW50IHNodXRzIGRvd24gKGJyb3dzZXIgaXMgY2xvc2VkKS5cbiAgICAgICAqL1xuICAgICAgbWF4QWdlPzogbnVtYmVyXG4gICAgICAvKipcbiAgICAgICAqIFNwZWNpZmllcyB0aGUgcGF0aCBmb3IgdGhlIHByZXZpZXcgc2Vzc2lvbiB0byB3b3JrIHVuZGVyLiBCeSBkZWZhdWx0LFxuICAgICAgICogdGhlIHBhdGggaXMgY29uc2lkZXJlZCB0aGUgXCJkZWZhdWx0IHBhdGhcIiwgaS5lLiwgYW55IHBhZ2VzIHVuZGVyIFwiL1wiLlxuICAgICAgICovXG4gICAgICBwYXRoPzogc3RyaW5nXG4gICAgfVxuICApID0+IE5leHRBcGlSZXNwb25zZTxEYXRhPlxuXG4gIC8qKlxuICAgKiBDbGVhciBwcmV2aWV3IGRhdGEgZm9yIE5leHQuanMnIHByZXJlbmRlciBtb2RlXG4gICAqL1xuICBjbGVhclByZXZpZXdEYXRhOiAob3B0aW9ucz86IHsgcGF0aD86IHN0cmluZyB9KSA9PiBOZXh0QXBpUmVzcG9uc2U8RGF0YT5cblxuICAvKipcbiAgICogUmV2YWxpZGF0ZSBhIHNwZWNpZmljIHBhZ2UgYW5kIHJlZ2VuZXJhdGUgaXQgdXNpbmcgT24tRGVtYW5kIEluY3JlbWVudGFsXG4gICAqIFN0YXRpYyBSZWdlbmVyYXRpb24uXG4gICAqIFRoZSBwYXRoIHNob3VsZCBiZSBhbiBhY3R1YWwgcGF0aCwgbm90IGEgcmV3cml0dGVuIHBhdGguIEUuZy4gZm9yXG4gICAqIFwiL2Jsb2cvW3NsdWddXCIgdGhpcyBzaG91bGQgYmUgXCIvYmxvZy9wb3N0LTFcIi5cbiAgICogQGxpbmsgaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vZGF0YS1mZXRjaGluZy9pbmNyZW1lbnRhbC1zdGF0aWMtcmVnZW5lcmF0aW9uI29uLWRlbWFuZC1yZXZhbGlkYXRpb24td2l0aC1yZXZhbGlkYXRlcGF0aFxuICAgKi9cbiAgcmV2YWxpZGF0ZTogKFxuICAgIHVybFBhdGg6IHN0cmluZyxcbiAgICBvcHRzPzoge1xuICAgICAgdW5zdGFibGVfb25seUdlbmVyYXRlZD86IGJvb2xlYW5cbiAgICB9XG4gICkgPT4gUHJvbWlzZTx2b2lkPlxufVxuXG4vKipcbiAqIE5leHQgYEFQSWAgcm91dGUgaGFuZGxlclxuICovXG5leHBvcnQgdHlwZSBOZXh0QXBpSGFuZGxlcjxUID0gYW55PiA9IChcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2U8VD5cbikgPT4gdW5rbm93biB8IFByb21pc2U8dW5rbm93bj5cblxuLyoqXG4gKiBVdGlsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY09uY2U8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gUmV0dXJuVHlwZTxUPj4oXG4gIGZuOiBUXG4pOiBUIHtcbiAgbGV0IHVzZWQgPSBmYWxzZVxuICBsZXQgcmVzdWx0OiBSZXR1cm5UeXBlPFQ+XG5cbiAgcmV0dXJuICgoLi4uYXJnczogYW55W10pID0+IHtcbiAgICBpZiAoIXVzZWQpIHtcbiAgICAgIHVzZWQgPSB0cnVlXG4gICAgICByZXN1bHQgPSBmbiguLi5hcmdzKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0pIGFzIFRcbn1cblxuLy8gU2NoZW1lOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMVxuLy8gQWJzb2x1dGUgVVJMOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTQuM1xuY29uc3QgQUJTT0xVVEVfVVJMX1JFR0VYID0gL15bYS16QS1aXVthLXpBLVpcXGQrXFwtLl0qPzovXG5leHBvcnQgY29uc3QgaXNBYnNvbHV0ZVVybCA9ICh1cmw6IHN0cmluZykgPT4gQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QodXJsKVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYXRpb25PcmlnaW4oKSB7XG4gIGNvbnN0IHsgcHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0IH0gPSB3aW5kb3cubG9jYXRpb25cbiAgcmV0dXJuIGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX0ke3BvcnQgPyAnOicgKyBwb3J0IDogJyd9YFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VVJMKCkge1xuICBjb25zdCB7IGhyZWYgfSA9IHdpbmRvdy5sb2NhdGlvblxuICBjb25zdCBvcmlnaW4gPSBnZXRMb2NhdGlvbk9yaWdpbigpXG4gIHJldHVybiBocmVmLnN1YnN0cmluZyhvcmlnaW4ubGVuZ3RoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWU8UD4oQ29tcG9uZW50OiBDb21wb25lbnRUeXBlPFA+KSB7XG4gIHJldHVybiB0eXBlb2YgQ29tcG9uZW50ID09PSAnc3RyaW5nJ1xuICAgID8gQ29tcG9uZW50XG4gICAgOiBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ1Vua25vd24nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc1NlbnQocmVzOiBTZXJ2ZXJSZXNwb25zZSkge1xuICByZXR1cm4gcmVzLmZpbmlzaGVkIHx8IHJlcy5oZWFkZXJzU2VudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUmVwZWF0ZWRTbGFzaGVzKHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IHVybFBhcnRzID0gdXJsLnNwbGl0KCc/JylcbiAgY29uc3QgdXJsTm9RdWVyeSA9IHVybFBhcnRzWzBdXG5cbiAgcmV0dXJuIChcbiAgICB1cmxOb1F1ZXJ5XG4gICAgICAvLyBmaXJzdCB3ZSByZXBsYWNlIGFueSBub24tZW5jb2RlZCBiYWNrc2xhc2hlcyB3aXRoIGZvcndhcmRcbiAgICAgIC8vIHRoZW4gbm9ybWFsaXplIHJlcGVhdGVkIGZvcndhcmQgc2xhc2hlc1xuICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKVxuICAgICAgLnJlcGxhY2UoL1xcL1xcLysvZywgJy8nKSArXG4gICAgKHVybFBhcnRzWzFdID8gYD8ke3VybFBhcnRzLnNsaWNlKDEpLmpvaW4oJz8nKX1gIDogJycpXG4gIClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRHZXRJbml0aWFsUHJvcHM8XG4gIEMgZXh0ZW5kcyBCYXNlQ29udGV4dCxcbiAgSVAgPSB7fSxcbiAgUCA9IHt9LFxuPihBcHA6IE5leHRDb21wb25lbnRUeXBlPEMsIElQLCBQPiwgY3R4OiBDKTogUHJvbWlzZTxJUD4ge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChBcHAucHJvdG90eXBlPy5nZXRJbml0aWFsUHJvcHMpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgXCIke2dldERpc3BsYXlOYW1lKFxuICAgICAgICBBcHBcbiAgICAgICl9LmdldEluaXRpYWxQcm9wcygpXCIgaXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QgLSB2aXNpdCBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9nZXQtaW5pdGlhbC1wcm9wcy1hcy1hbi1pbnN0YW5jZS1tZXRob2QgZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpXG4gICAgfVxuICB9XG4gIC8vIHdoZW4gY2FsbGVkIGZyb20gX2FwcCBgY3R4YCBpcyBuZXN0ZWQgaW4gYGN0eGBcbiAgY29uc3QgcmVzID0gY3R4LnJlcyB8fCAoY3R4LmN0eCAmJiBjdHguY3R4LnJlcylcblxuICBpZiAoIUFwcC5nZXRJbml0aWFsUHJvcHMpIHtcbiAgICBpZiAoY3R4LmN0eCAmJiBjdHguQ29tcG9uZW50KSB7XG4gICAgICAvLyBAdHMtaWdub3JlIHBhZ2VQcm9wcyBkZWZhdWx0XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWdlUHJvcHM6IGF3YWl0IGxvYWRHZXRJbml0aWFsUHJvcHMoY3R4LkNvbXBvbmVudCwgY3R4LmN0eCksXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7fSBhcyBJUFxuICB9XG5cbiAgY29uc3QgcHJvcHMgPSBhd2FpdCBBcHAuZ2V0SW5pdGlhbFByb3BzKGN0eClcblxuICBpZiAocmVzICYmIGlzUmVzU2VudChyZXMpKSB7XG4gICAgcmV0dXJuIHByb3BzXG4gIH1cblxuICBpZiAoIXByb3BzKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBcIiR7Z2V0RGlzcGxheU5hbWUoXG4gICAgICBBcHBcbiAgICApfS5nZXRJbml0aWFsUHJvcHMoKVwiIHNob3VsZCByZXNvbHZlIHRvIGFuIG9iamVjdC4gQnV0IGZvdW5kIFwiJHtwcm9wc31cIiBpbnN0ZWFkLmBcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSlcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGggPT09IDAgJiYgIWN0eC5jdHgpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYCR7Z2V0RGlzcGxheU5hbWUoXG4gICAgICAgICAgQXBwXG4gICAgICAgICl9IHJldHVybmVkIGFuIGVtcHR5IG9iamVjdCBmcm9tIFxcYGdldEluaXRpYWxQcm9wc1xcYC4gVGhpcyBkZS1vcHRpbWl6ZXMgYW5kIHByZXZlbnRzIGF1dG9tYXRpYyBzdGF0aWMgb3B0aW1pemF0aW9uLiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9lbXB0eS1vYmplY3QtZ2V0SW5pdGlhbFByb3BzYFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcm9wc1xufVxuXG5leHBvcnQgY29uc3QgU1AgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnXG5leHBvcnQgY29uc3QgU1QgPVxuICBTUCAmJlxuICAoWydtYXJrJywgJ21lYXN1cmUnLCAnZ2V0RW50cmllc0J5TmFtZSddIGFzIGNvbnN0KS5ldmVyeShcbiAgICAobWV0aG9kKSA9PiB0eXBlb2YgcGVyZm9ybWFuY2VbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJ1xuICApXG5cbmV4cG9ydCBjbGFzcyBEZWNvZGVFcnJvciBleHRlbmRzIEVycm9yIHt9XG5leHBvcnQgY2xhc3MgTm9ybWFsaXplRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuZXhwb3J0IGNsYXNzIFBhZ2VOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb2RlOiBzdHJpbmdcblxuICBjb25zdHJ1Y3RvcihwYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5jb2RlID0gJ0VOT0VOVCdcbiAgICB0aGlzLm5hbWUgPSAnUGFnZU5vdEZvdW5kRXJyb3InXG4gICAgdGhpcy5tZXNzYWdlID0gYENhbm5vdCBmaW5kIG1vZHVsZSBmb3IgcGFnZTogJHtwYWdlfWBcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWlzc2luZ1N0YXRpY1BhZ2UgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHBhZ2U6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMubWVzc2FnZSA9IGBGYWlsZWQgdG8gbG9hZCBzdGF0aWMgZmlsZSBmb3IgcGFnZTogJHtwYWdlfSAke21lc3NhZ2V9YFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNaWRkbGV3YXJlTm90Rm91bmRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTogc3RyaW5nXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmNvZGUgPSAnRU5PRU5UJ1xuICAgIHRoaXMubWVzc2FnZSA9IGBDYW5ub3QgZmluZCB0aGUgbWlkZGxld2FyZSBtb2R1bGVgXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYWNoZUZzIHtcbiAgZXhpc3RzU3luYzogdHlwZW9mIGZzLmV4aXN0c1N5bmNcbiAgcmVhZEZpbGU6IHR5cGVvZiBmcy5wcm9taXNlcy5yZWFkRmlsZVxuICByZWFkRmlsZVN5bmM6IHR5cGVvZiBmcy5yZWFkRmlsZVN5bmNcbiAgd3JpdGVGaWxlKGY6IHN0cmluZywgZDogYW55KTogUHJvbWlzZTx2b2lkPlxuICBta2RpcihkaXI6IHN0cmluZyk6IFByb21pc2U8dm9pZCB8IHN0cmluZz5cbiAgc3RhdChmOiBzdHJpbmcpOiBQcm9taXNlPHsgbXRpbWU6IERhdGUgfT5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeUVycm9yKGVycm9yOiBFcnJvcikge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLCBzdGFjazogZXJyb3Iuc3RhY2sgfSlcbn1cbiJdLCJuYW1lcyI6WyJEZWNvZGVFcnJvciIsIk1pZGRsZXdhcmVOb3RGb3VuZEVycm9yIiwiTWlzc2luZ1N0YXRpY1BhZ2UiLCJOb3JtYWxpemVFcnJvciIsIlBhZ2VOb3RGb3VuZEVycm9yIiwiU1AiLCJTVCIsIldFQl9WSVRBTFMiLCJleGVjT25jZSIsImdldERpc3BsYXlOYW1lIiwiZ2V0TG9jYXRpb25PcmlnaW4iLCJnZXRVUkwiLCJpc0Fic29sdXRlVXJsIiwiaXNSZXNTZW50IiwibG9hZEdldEluaXRpYWxQcm9wcyIsIm5vcm1hbGl6ZVJlcGVhdGVkU2xhc2hlcyIsInN0cmluZ2lmeUVycm9yIiwiZm4iLCJ1c2VkIiwicmVzdWx0IiwiYXJncyIsIkFCU09MVVRFX1VSTF9SRUdFWCIsInVybCIsInRlc3QiLCJwcm90b2NvbCIsImhvc3RuYW1lIiwicG9ydCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIm9yaWdpbiIsInN1YnN0cmluZyIsImxlbmd0aCIsIkNvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwibmFtZSIsInJlcyIsImZpbmlzaGVkIiwiaGVhZGVyc1NlbnQiLCJ1cmxQYXJ0cyIsInNwbGl0IiwidXJsTm9RdWVyeSIsInJlcGxhY2UiLCJzbGljZSIsImpvaW4iLCJBcHAiLCJjdHgiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJwcm90b3R5cGUiLCJnZXRJbml0aWFsUHJvcHMiLCJtZXNzYWdlIiwiRXJyb3IiLCJwYWdlUHJvcHMiLCJwcm9wcyIsIk9iamVjdCIsImtleXMiLCJjb25zb2xlIiwid2FybiIsInBlcmZvcm1hbmNlIiwiZXZlcnkiLCJtZXRob2QiLCJjb25zdHJ1Y3RvciIsInBhZ2UiLCJjb2RlIiwiZXJyb3IiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhY2siXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/shared/lib/utils/error-once.js":
/*!***************************************************************!*\
  !*** ./node_modules/next/dist/shared/lib/utils/error-once.js ***!
  \***************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"errorOnce\", ({\n    enumerable: true,\n    get: function() {\n        return errorOnce;\n    }\n}));\nlet errorOnce = (_)=>{};\nif (true) {\n    const errors = new Set();\n    errorOnce = (msg)=>{\n        if (!errors.has(msg)) {\n            console.error(msg);\n        }\n        errors.add(msg);\n    };\n} //# sourceMappingURL=error-once.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3Qvc2hhcmVkL2xpYi91dGlscy9lcnJvci1vbmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7NkNBV1NBOzs7ZUFBQUE7OztBQVhULElBQUlBLFlBQVksQ0FBQ0MsS0FBZTtBQUNoQyxJQURpQkEsSUFDTyxFQUFtQjtJQUN6QyxNQUFNSSxTQUFTLElBQUlDO0lBQ25CTixZQUFZLENBQUNPO1FBQ1gsSUFBSSxDQUFDRixPQUFPRyxHQUFHLENBQUNELE1BQU07WUFDcEJFLFFBQVFDLEtBQUssQ0FBQ0g7UUFDaEI7UUFDQUYsT0FBT00sR0FBRyxDQUFDSjtJQUNiO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcc3JjXFxzaGFyZWRcXGxpYlxcdXRpbHNcXGVycm9yLW9uY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGVycm9yT25jZSA9IChfOiBzdHJpbmcpID0+IHt9XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBjb25zdCBlcnJvcnMgPSBuZXcgU2V0PHN0cmluZz4oKVxuICBlcnJvck9uY2UgPSAobXNnOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWVycm9ycy5oYXMobXNnKSkge1xuICAgICAgY29uc29sZS5lcnJvcihtc2cpXG4gICAgfVxuICAgIGVycm9ycy5hZGQobXNnKVxuICB9XG59XG5cbmV4cG9ydCB7IGVycm9yT25jZSB9XG4iXSwibmFtZXMiOlsiZXJyb3JPbmNlIiwiXyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImVycm9ycyIsIlNldCIsIm1zZyIsImhhcyIsImNvbnNvbGUiLCJlcnJvciIsImFkZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/shared/lib/utils/error-once.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/oauth4webapi/build/index.js":
/*!**************************************************!*\
  !*** ./node_modules/oauth4webapi/build/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OperationProcessingError: () => (/* binding */ OperationProcessingError),\n/* harmony export */   UnsupportedOperationError: () => (/* binding */ UnsupportedOperationError),\n/* harmony export */   authorizationCodeGrantRequest: () => (/* binding */ authorizationCodeGrantRequest),\n/* harmony export */   calculatePKCECodeChallenge: () => (/* binding */ calculatePKCECodeChallenge),\n/* harmony export */   clientCredentialsGrantRequest: () => (/* binding */ clientCredentialsGrantRequest),\n/* harmony export */   clockSkew: () => (/* binding */ clockSkew),\n/* harmony export */   clockTolerance: () => (/* binding */ clockTolerance),\n/* harmony export */   customFetch: () => (/* binding */ customFetch),\n/* harmony export */   deviceAuthorizationRequest: () => (/* binding */ deviceAuthorizationRequest),\n/* harmony export */   deviceCodeGrantRequest: () => (/* binding */ deviceCodeGrantRequest),\n/* harmony export */   discoveryRequest: () => (/* binding */ discoveryRequest),\n/* harmony export */   expectNoNonce: () => (/* binding */ expectNoNonce),\n/* harmony export */   expectNoState: () => (/* binding */ expectNoState),\n/* harmony export */   experimentalCustomFetch: () => (/* binding */ experimentalCustomFetch),\n/* harmony export */   experimentalUseMtlsAlias: () => (/* binding */ experimentalUseMtlsAlias),\n/* harmony export */   experimental_customFetch: () => (/* binding */ experimental_customFetch),\n/* harmony export */   experimental_jwksCache: () => (/* binding */ experimental_jwksCache),\n/* harmony export */   experimental_useMtlsAlias: () => (/* binding */ experimental_useMtlsAlias),\n/* harmony export */   experimental_validateDetachedSignatureResponse: () => (/* binding */ experimental_validateDetachedSignatureResponse),\n/* harmony export */   experimental_validateJwtAccessToken: () => (/* binding */ experimental_validateJwtAccessToken),\n/* harmony export */   generateKeyPair: () => (/* binding */ generateKeyPair),\n/* harmony export */   generateRandomCodeVerifier: () => (/* binding */ generateRandomCodeVerifier),\n/* harmony export */   generateRandomNonce: () => (/* binding */ generateRandomNonce),\n/* harmony export */   generateRandomState: () => (/* binding */ generateRandomState),\n/* harmony export */   genericTokenEndpointRequest: () => (/* binding */ genericTokenEndpointRequest),\n/* harmony export */   getValidatedIdTokenClaims: () => (/* binding */ getValidatedIdTokenClaims),\n/* harmony export */   introspectionRequest: () => (/* binding */ introspectionRequest),\n/* harmony export */   isOAuth2Error: () => (/* binding */ isOAuth2Error),\n/* harmony export */   issueRequestObject: () => (/* binding */ issueRequestObject),\n/* harmony export */   jweDecrypt: () => (/* binding */ jweDecrypt),\n/* harmony export */   jwksCache: () => (/* binding */ jwksCache),\n/* harmony export */   modifyAssertion: () => (/* binding */ modifyAssertion),\n/* harmony export */   parseWwwAuthenticateChallenges: () => (/* binding */ parseWwwAuthenticateChallenges),\n/* harmony export */   processAuthorizationCodeOAuth2Response: () => (/* binding */ processAuthorizationCodeOAuth2Response),\n/* harmony export */   processAuthorizationCodeOpenIDResponse: () => (/* binding */ processAuthorizationCodeOpenIDResponse),\n/* harmony export */   processClientCredentialsResponse: () => (/* binding */ processClientCredentialsResponse),\n/* harmony export */   processDeviceAuthorizationResponse: () => (/* binding */ processDeviceAuthorizationResponse),\n/* harmony export */   processDeviceCodeResponse: () => (/* binding */ processDeviceCodeResponse),\n/* harmony export */   processDiscoveryResponse: () => (/* binding */ processDiscoveryResponse),\n/* harmony export */   processIntrospectionResponse: () => (/* binding */ processIntrospectionResponse),\n/* harmony export */   processPushedAuthorizationResponse: () => (/* binding */ processPushedAuthorizationResponse),\n/* harmony export */   processRefreshTokenResponse: () => (/* binding */ processRefreshTokenResponse),\n/* harmony export */   processRevocationResponse: () => (/* binding */ processRevocationResponse),\n/* harmony export */   processUserInfoResponse: () => (/* binding */ processUserInfoResponse),\n/* harmony export */   protectedResourceRequest: () => (/* binding */ protectedResourceRequest),\n/* harmony export */   pushedAuthorizationRequest: () => (/* binding */ pushedAuthorizationRequest),\n/* harmony export */   refreshTokenGrantRequest: () => (/* binding */ refreshTokenGrantRequest),\n/* harmony export */   revocationRequest: () => (/* binding */ revocationRequest),\n/* harmony export */   skipAuthTimeCheck: () => (/* binding */ skipAuthTimeCheck),\n/* harmony export */   skipStateCheck: () => (/* binding */ skipStateCheck),\n/* harmony export */   skipSubjectCheck: () => (/* binding */ skipSubjectCheck),\n/* harmony export */   useMtlsAlias: () => (/* binding */ useMtlsAlias),\n/* harmony export */   userInfoRequest: () => (/* binding */ userInfoRequest),\n/* harmony export */   validateAuthResponse: () => (/* binding */ validateAuthResponse),\n/* harmony export */   validateDetachedSignatureResponse: () => (/* binding */ validateDetachedSignatureResponse),\n/* harmony export */   validateIdTokenSignature: () => (/* binding */ validateIdTokenSignature),\n/* harmony export */   validateJwtAccessToken: () => (/* binding */ validateJwtAccessToken),\n/* harmony export */   validateJwtAuthResponse: () => (/* binding */ validateJwtAuthResponse),\n/* harmony export */   validateJwtIntrospectionSignature: () => (/* binding */ validateJwtIntrospectionSignature),\n/* harmony export */   validateJwtUserInfoSignature: () => (/* binding */ validateJwtUserInfoSignature),\n/* harmony export */   validateJwtUserinfoSignature: () => (/* binding */ validateJwtUserinfoSignature)\n/* harmony export */ });\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'oauth4webapi';\n    const VERSION = 'v2.17.0';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nfunction looseInstanceOf(input, expected) {\n    if (input == null) {\n        return false;\n    }\n    try {\n        return (input instanceof expected ||\n            Object.getPrototypeOf(input)[Symbol.toStringTag] === expected.prototype[Symbol.toStringTag]);\n    }\n    catch {\n        return false;\n    }\n}\nconst clockSkew = Symbol();\nconst clockTolerance = Symbol();\nconst customFetch = Symbol();\nconst modifyAssertion = Symbol();\nconst jweDecrypt = Symbol();\nconst jwksCache = Symbol();\nconst useMtlsAlias = Symbol();\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nfunction buf(input) {\n    if (typeof input === 'string') {\n        return encoder.encode(input);\n    }\n    return decoder.decode(input);\n}\nconst CHUNK_SIZE = 0x8000;\nfunction encodeBase64Url(input) {\n    if (input instanceof ArrayBuffer) {\n        input = new Uint8Array(input);\n    }\n    const arr = [];\n    for (let i = 0; i < input.byteLength; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join('')).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction decodeBase64Url(input) {\n    try {\n        const binary = atob(input.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, ''));\n        const bytes = new Uint8Array(binary.length);\n        for (let i = 0; i < binary.length; i++) {\n            bytes[i] = binary.charCodeAt(i);\n        }\n        return bytes;\n    }\n    catch (cause) {\n        throw new OPE('The input to be decoded is not correctly encoded.', { cause });\n    }\n}\nfunction b64u(input) {\n    if (typeof input === 'string') {\n        return decodeBase64Url(input);\n    }\n    return encodeBase64Url(input);\n}\nclass LRU {\n    constructor(maxSize) {\n        this.cache = new Map();\n        this._cache = new Map();\n        this.maxSize = maxSize;\n    }\n    get(key) {\n        let v = this.cache.get(key);\n        if (v) {\n            return v;\n        }\n        if ((v = this._cache.get(key))) {\n            this.update(key, v);\n            return v;\n        }\n        return undefined;\n    }\n    has(key) {\n        return this.cache.has(key) || this._cache.has(key);\n    }\n    set(key, value) {\n        if (this.cache.has(key)) {\n            this.cache.set(key, value);\n        }\n        else {\n            this.update(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (this.cache.has(key)) {\n            return this.cache.delete(key);\n        }\n        if (this._cache.has(key)) {\n            return this._cache.delete(key);\n        }\n        return false;\n    }\n    update(key, value) {\n        this.cache.set(key, value);\n        if (this.cache.size >= this.maxSize) {\n            this._cache = this.cache;\n            this.cache = new Map();\n        }\n    }\n}\nclass UnsupportedOperationError extends Error {\n    constructor(message) {\n        super(message ?? 'operation not supported');\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nclass OperationProcessingError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst OPE = OperationProcessingError;\nconst dpopNonces = new LRU(100);\nfunction isCryptoKey(key) {\n    return key instanceof CryptoKey;\n}\nfunction isPrivateKey(key) {\n    return isCryptoKey(key) && key.type === 'private';\n}\nfunction isPublicKey(key) {\n    return isCryptoKey(key) && key.type === 'public';\n}\nconst SUPPORTED_JWS_ALGS = [\n    'PS256',\n    'ES256',\n    'RS256',\n    'PS384',\n    'ES384',\n    'RS384',\n    'PS512',\n    'ES512',\n    'RS512',\n    'EdDSA',\n];\nfunction processDpopNonce(response) {\n    try {\n        const nonce = response.headers.get('dpop-nonce');\n        if (nonce) {\n            dpopNonces.set(new URL(response.url).origin, nonce);\n        }\n    }\n    catch { }\n    return response;\n}\nfunction normalizeTyp(value) {\n    return value.toLowerCase().replace(/^application\\//, '');\n}\nfunction isJsonObject(input) {\n    if (input === null || typeof input !== 'object' || Array.isArray(input)) {\n        return false;\n    }\n    return true;\n}\nfunction prepareHeaders(input) {\n    if (looseInstanceOf(input, Headers)) {\n        input = Object.fromEntries(input.entries());\n    }\n    const headers = new Headers(input);\n    if (USER_AGENT && !headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    if (headers.has('authorization')) {\n        throw new TypeError('\"options.headers\" must not include the \"authorization\" header name');\n    }\n    if (headers.has('dpop')) {\n        throw new TypeError('\"options.headers\" must not include the \"dpop\" header name');\n    }\n    return headers;\n}\nfunction signal(value) {\n    if (typeof value === 'function') {\n        value = value();\n    }\n    if (!(value instanceof AbortSignal)) {\n        throw new TypeError('\"options.signal\" must return or be an instance of AbortSignal');\n    }\n    return value;\n}\nasync function discoveryRequest(issuerIdentifier, options) {\n    if (!(issuerIdentifier instanceof URL)) {\n        throw new TypeError('\"issuerIdentifier\" must be an instance of URL');\n    }\n    if (issuerIdentifier.protocol !== 'https:' && issuerIdentifier.protocol !== 'http:') {\n        throw new TypeError('\"issuer.protocol\" must be \"https:\" or \"http:\"');\n    }\n    const url = new URL(issuerIdentifier.href);\n    switch (options?.algorithm) {\n        case undefined:\n        case 'oidc':\n            url.pathname = `${url.pathname}/.well-known/openid-configuration`.replace('//', '/');\n            break;\n        case 'oauth2':\n            if (url.pathname === '/') {\n                url.pathname = '.well-known/oauth-authorization-server';\n            }\n            else {\n                url.pathname = `.well-known/oauth-authorization-server/${url.pathname}`.replace('//', '/');\n            }\n            break;\n        default:\n            throw new TypeError('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"');\n    }\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nfunction validateString(input) {\n    return typeof input === 'string' && input.length !== 0;\n}\nasync function processDiscoveryResponse(expectedIssuerIdentifier, response) {\n    if (!(expectedIssuerIdentifier instanceof URL)) {\n        throw new TypeError('\"expectedIssuer\" must be an instance of URL');\n    }\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform Authorization Server Metadata response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.issuer)) {\n        throw new OPE('\"response\" body \"issuer\" property must be a non-empty string');\n    }\n    if (new URL(json.issuer).href !== expectedIssuerIdentifier.href) {\n        throw new OPE('\"response\" body \"issuer\" does not match \"expectedIssuer\"');\n    }\n    return json;\n}\nfunction randomBytes() {\n    return b64u(crypto.getRandomValues(new Uint8Array(32)));\n}\nfunction generateRandomCodeVerifier() {\n    return randomBytes();\n}\nfunction generateRandomState() {\n    return randomBytes();\n}\nfunction generateRandomNonce() {\n    return randomBytes();\n}\nasync function calculatePKCECodeChallenge(codeVerifier) {\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    return b64u(await crypto.subtle.digest('SHA-256', buf(codeVerifier)));\n}\nfunction getKeyAndKid(input) {\n    if (input instanceof CryptoKey) {\n        return { key: input };\n    }\n    if (!(input?.key instanceof CryptoKey)) {\n        return {};\n    }\n    if (input.kid !== undefined && !validateString(input.kid)) {\n        throw new TypeError('\"kid\" must be a non-empty string');\n    }\n    return {\n        key: input.key,\n        kid: input.kid,\n        modifyAssertion: input[modifyAssertion],\n    };\n}\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/%20/g, '+');\n}\nfunction clientSecretBasic(clientId, clientSecret) {\n    const username = formUrlEncode(clientId);\n    const password = formUrlEncode(clientSecret);\n    const credentials = btoa(`${username}:${password}`);\n    return `Basic ${credentials}`;\n}\nfunction psAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'PS256';\n        case 'SHA-384':\n            return 'PS384';\n        case 'SHA-512':\n            return 'PS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction rsAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'RS256';\n        case 'SHA-384':\n            return 'RS384';\n        case 'SHA-512':\n            return 'RS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction esAlg(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n            return 'ES256';\n        case 'P-384':\n            return 'ES384';\n        case 'P-521':\n            return 'ES512';\n        default:\n            throw new UnsupportedOperationError('unsupported EcKeyAlgorithm namedCurve');\n    }\n}\nfunction keyToJws(key) {\n    switch (key.algorithm.name) {\n        case 'RSA-PSS':\n            return psAlg(key);\n        case 'RSASSA-PKCS1-v1_5':\n            return rsAlg(key);\n        case 'ECDSA':\n            return esAlg(key);\n        case 'Ed25519':\n        case 'Ed448':\n            return 'EdDSA';\n        default:\n            throw new UnsupportedOperationError('unsupported CryptoKey algorithm name');\n    }\n}\nfunction getClockSkew(client) {\n    const skew = client?.[clockSkew];\n    return typeof skew === 'number' && Number.isFinite(skew) ? skew : 0;\n}\nfunction getClockTolerance(client) {\n    const tolerance = client?.[clockTolerance];\n    return typeof tolerance === 'number' && Number.isFinite(tolerance) && Math.sign(tolerance) !== -1\n        ? tolerance\n        : 30;\n}\nfunction epochTime() {\n    return Math.floor(Date.now() / 1000);\n}\nfunction clientAssertion(as, client) {\n    const now = epochTime() + getClockSkew(client);\n    return {\n        jti: randomBytes(),\n        aud: [as.issuer, as.token_endpoint],\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n        sub: client.client_id,\n    };\n}\nasync function privateKeyJwt(as, client, key, kid, modifyAssertion) {\n    const header = { alg: keyToJws(key), kid };\n    const payload = clientAssertion(as, client);\n    modifyAssertion?.(header, payload);\n    return jwt(header, payload, key);\n}\nfunction assertAs(as) {\n    if (typeof as !== 'object' || as === null) {\n        throw new TypeError('\"as\" must be an object');\n    }\n    if (!validateString(as.issuer)) {\n        throw new TypeError('\"as.issuer\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClient(client) {\n    if (typeof client !== 'object' || client === null) {\n        throw new TypeError('\"client\" must be an object');\n    }\n    if (!validateString(client.client_id)) {\n        throw new TypeError('\"client.client_id\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClientSecret(clientSecret) {\n    if (!validateString(clientSecret)) {\n        throw new TypeError('\"client.client_secret\" property must be a non-empty string');\n    }\n    return clientSecret;\n}\nfunction assertNoClientPrivateKey(clientAuthMethod, clientPrivateKey) {\n    if (clientPrivateKey !== undefined) {\n        throw new TypeError(`\"options.clientPrivateKey\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nfunction assertNoClientSecret(clientAuthMethod, clientSecret) {\n    if (clientSecret !== undefined) {\n        throw new TypeError(`\"client.client_secret\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nasync function clientAuthentication(as, client, body, headers, clientPrivateKey) {\n    body.delete('client_secret');\n    body.delete('client_assertion_type');\n    body.delete('client_assertion');\n    switch (client.token_endpoint_auth_method) {\n        case undefined:\n        case 'client_secret_basic': {\n            assertNoClientPrivateKey('client_secret_basic', clientPrivateKey);\n            headers.set('authorization', clientSecretBasic(client.client_id, assertClientSecret(client.client_secret)));\n            break;\n        }\n        case 'client_secret_post': {\n            assertNoClientPrivateKey('client_secret_post', clientPrivateKey);\n            body.set('client_id', client.client_id);\n            body.set('client_secret', assertClientSecret(client.client_secret));\n            break;\n        }\n        case 'private_key_jwt': {\n            assertNoClientSecret('private_key_jwt', client.client_secret);\n            if (clientPrivateKey === undefined) {\n                throw new TypeError('\"options.clientPrivateKey\" must be provided when \"client.token_endpoint_auth_method\" is \"private_key_jwt\"');\n            }\n            const { key, kid, modifyAssertion } = getKeyAndKid(clientPrivateKey);\n            if (!isPrivateKey(key)) {\n                throw new TypeError('\"options.clientPrivateKey.key\" must be a private CryptoKey');\n            }\n            body.set('client_id', client.client_id);\n            body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n            body.set('client_assertion', await privateKeyJwt(as, client, key, kid, modifyAssertion));\n            break;\n        }\n        case 'tls_client_auth':\n        case 'self_signed_tls_client_auth':\n        case 'none': {\n            assertNoClientSecret(client.token_endpoint_auth_method, client.client_secret);\n            assertNoClientPrivateKey(client.token_endpoint_auth_method, clientPrivateKey);\n            body.set('client_id', client.client_id);\n            break;\n        }\n        default:\n            throw new UnsupportedOperationError('unsupported client token_endpoint_auth_method');\n    }\n}\nasync function jwt(header, payload, key) {\n    if (!key.usages.includes('sign')) {\n        throw new TypeError('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');\n    }\n    const input = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(payload)))}`;\n    const signature = b64u(await crypto.subtle.sign(keyToSubtle(key), key, buf(input)));\n    return `${input}.${signature}`;\n}\nasync function issueRequestObject(as, client, parameters, privateKey) {\n    assertAs(as);\n    assertClient(client);\n    parameters = new URLSearchParams(parameters);\n    const { key, kid, modifyAssertion } = getKeyAndKid(privateKey);\n    if (!isPrivateKey(key)) {\n        throw new TypeError('\"privateKey.key\" must be a private CryptoKey');\n    }\n    parameters.set('client_id', client.client_id);\n    const now = epochTime() + getClockSkew(client);\n    const claims = {\n        ...Object.fromEntries(parameters.entries()),\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n    };\n    let resource;\n    if (parameters.has('resource') &&\n        (resource = parameters.getAll('resource')) &&\n        resource.length > 1) {\n        claims.resource = resource;\n    }\n    {\n        let value = parameters.get('max_age');\n        if (value !== null) {\n            claims.max_age = parseInt(value, 10);\n            if (!Number.isFinite(claims.max_age)) {\n                throw new OPE('\"max_age\" parameter must be a number');\n            }\n        }\n    }\n    {\n        let value = parameters.get('claims');\n        if (value !== null) {\n            try {\n                claims.claims = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"claims\" parameter as JSON', { cause });\n            }\n            if (!isJsonObject(claims.claims)) {\n                throw new OPE('\"claims\" parameter must be a JSON with a top level object');\n            }\n        }\n    }\n    {\n        let value = parameters.get('authorization_details');\n        if (value !== null) {\n            try {\n                claims.authorization_details = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"authorization_details\" parameter as JSON', { cause });\n            }\n            if (!Array.isArray(claims.authorization_details)) {\n                throw new OPE('\"authorization_details\" parameter must be a JSON with a top level array');\n            }\n        }\n    }\n    const header = {\n        alg: keyToJws(key),\n        typ: 'oauth-authz-req+jwt',\n        kid,\n    };\n    modifyAssertion?.(header, claims);\n    return jwt(header, claims, key);\n}\nasync function dpopProofJwt(headers, options, url, htm, clockSkew, accessToken) {\n    const { privateKey, publicKey, nonce = dpopNonces.get(url.origin) } = options;\n    if (!isPrivateKey(privateKey)) {\n        throw new TypeError('\"DPoP.privateKey\" must be a private CryptoKey');\n    }\n    if (!isPublicKey(publicKey)) {\n        throw new TypeError('\"DPoP.publicKey\" must be a public CryptoKey');\n    }\n    if (nonce !== undefined && !validateString(nonce)) {\n        throw new TypeError('\"DPoP.nonce\" must be a non-empty string or undefined');\n    }\n    if (!publicKey.extractable) {\n        throw new TypeError('\"DPoP.publicKey.extractable\" must be true');\n    }\n    const now = epochTime() + clockSkew;\n    const header = {\n        alg: keyToJws(privateKey),\n        typ: 'dpop+jwt',\n        jwk: await publicJwk(publicKey),\n    };\n    const payload = {\n        iat: now,\n        jti: randomBytes(),\n        htm,\n        nonce,\n        htu: `${url.origin}${url.pathname}`,\n        ath: accessToken ? b64u(await crypto.subtle.digest('SHA-256', buf(accessToken))) : undefined,\n    };\n    options[modifyAssertion]?.(header, payload);\n    headers.set('dpop', await jwt(header, payload, privateKey));\n}\nlet jwkCache;\nasync function getSetPublicJwkCache(key) {\n    const { kty, e, n, x, y, crv } = await crypto.subtle.exportKey('jwk', key);\n    const jwk = { kty, e, n, x, y, crv };\n    jwkCache.set(key, jwk);\n    return jwk;\n}\nasync function publicJwk(key) {\n    jwkCache || (jwkCache = new WeakMap());\n    return jwkCache.get(key) || getSetPublicJwkCache(key);\n}\nfunction validateEndpoint(value, endpoint, useMtlsAlias) {\n    if (typeof value !== 'string') {\n        if (useMtlsAlias) {\n            throw new TypeError(`\"as.mtls_endpoint_aliases.${endpoint}\" must be a string`);\n        }\n        throw new TypeError(`\"as.${endpoint}\" must be a string`);\n    }\n    return new URL(value);\n}\nfunction resolveEndpoint(as, endpoint, useMtlsAlias = false) {\n    if (useMtlsAlias && as.mtls_endpoint_aliases && endpoint in as.mtls_endpoint_aliases) {\n        return validateEndpoint(as.mtls_endpoint_aliases[endpoint], endpoint, useMtlsAlias);\n    }\n    return validateEndpoint(as[endpoint], endpoint, useMtlsAlias);\n}\nfunction alias(client, options) {\n    if (client.use_mtls_endpoint_aliases || options?.[useMtlsAlias]) {\n        return true;\n    }\n    return false;\n}\nasync function pushedAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'pushed_authorization_request_endpoint', alias(client, options));\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nfunction isOAuth2Error(input) {\n    const value = input;\n    if (typeof value !== 'object' || Array.isArray(value) || value === null) {\n        return false;\n    }\n    return value.error !== undefined;\n}\nfunction unquote(value) {\n    if (value.length >= 2 && value[0] === '\"' && value[value.length - 1] === '\"') {\n        return value.slice(1, -1);\n    }\n    return value;\n}\nconst SPLIT_REGEXP = /((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/;\nconst SCHEMES_REGEXP = /(?:^|, ?)([0-9a-zA-Z!#$%&'*+\\-.^_`|~]+)(?=$|[ ,])/g;\nfunction wwwAuth(scheme, params) {\n    const arr = params.split(SPLIT_REGEXP).slice(1);\n    if (!arr.length) {\n        return { scheme: scheme.toLowerCase(), parameters: {} };\n    }\n    arr[arr.length - 1] = arr[arr.length - 1].replace(/,$/, '');\n    const parameters = {};\n    for (let i = 1; i < arr.length; i += 2) {\n        const idx = i;\n        if (arr[idx][0] === '\"') {\n            while (arr[idx].slice(-1) !== '\"' && ++i < arr.length) {\n                arr[idx] += arr[i];\n            }\n        }\n        const key = arr[idx - 1].replace(/^(?:, ?)|=$/g, '').toLowerCase();\n        parameters[key] = unquote(arr[idx]);\n    }\n    return {\n        scheme: scheme.toLowerCase(),\n        parameters,\n    };\n}\nfunction parseWwwAuthenticateChallenges(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    const header = response.headers.get('www-authenticate');\n    if (header === null) {\n        return undefined;\n    }\n    const result = [];\n    for (const { 1: scheme, index } of header.matchAll(SCHEMES_REGEXP)) {\n        result.push([scheme, index]);\n    }\n    if (!result.length) {\n        return undefined;\n    }\n    const challenges = result.map(([scheme, indexOf], i, others) => {\n        const next = others[i + 1];\n        let parameters;\n        if (next) {\n            parameters = header.slice(indexOf, next[1]);\n        }\n        else {\n            parameters = header.slice(indexOf);\n        }\n        return wwwAuth(scheme, parameters);\n    });\n    return challenges;\n}\nasync function processPushedAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 201) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Pushed Authorization Request Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.request_uri)) {\n        throw new OPE('\"response\" body \"request_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    return json;\n}\nasync function protectedResourceRequest(accessToken, method, url, headers, body, options) {\n    if (!validateString(accessToken)) {\n        throw new TypeError('\"accessToken\" must be a non-empty string');\n    }\n    if (!(url instanceof URL)) {\n        throw new TypeError('\"url\" must be an instance of URL');\n    }\n    headers = prepareHeaders(headers);\n    if (options?.DPoP === undefined) {\n        headers.set('authorization', `Bearer ${accessToken}`);\n    }\n    else {\n        await dpopProofJwt(headers, options.DPoP, url, method.toUpperCase(), getClockSkew({ [clockSkew]: options?.[clockSkew] }), accessToken);\n        headers.set('authorization', `DPoP ${accessToken}`);\n    }\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function userInfoRequest(as, client, accessToken, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'userinfo_endpoint', alias(client, options));\n    const headers = prepareHeaders(options?.headers);\n    if (client.userinfo_signed_response_alg) {\n        headers.set('accept', 'application/jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n        headers.append('accept', 'application/jwt');\n    }\n    return protectedResourceRequest(accessToken, 'GET', url, headers, null, {\n        ...options,\n        [clockSkew]: getClockSkew(client),\n    });\n}\nlet jwksMap;\nfunction setJwksCache(as, jwks, uat, cache) {\n    jwksMap || (jwksMap = new WeakMap());\n    jwksMap.set(as, {\n        jwks,\n        uat,\n        get age() {\n            return epochTime() - this.uat;\n        },\n    });\n    if (cache) {\n        Object.assign(cache, { jwks: structuredClone(jwks), uat });\n    }\n}\nfunction isFreshJwksCache(input) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || epochTime() - input.uat >= 300) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isJsonObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isJsonObject)) {\n        return false;\n    }\n    return true;\n}\nfunction clearJwksCache(as, cache) {\n    jwksMap?.delete(as);\n    delete cache?.jwks;\n    delete cache?.uat;\n}\nasync function getPublicSigKeyFromIssuerJwksUri(as, options, header) {\n    const { alg, kid } = header;\n    checkSupportedJwsAlg(alg);\n    if (!jwksMap?.has(as) && isFreshJwksCache(options?.[jwksCache])) {\n        setJwksCache(as, options?.[jwksCache].jwks, options?.[jwksCache].uat);\n    }\n    let jwks;\n    let age;\n    if (jwksMap?.has(as)) {\n        ;\n        ({ jwks, age } = jwksMap.get(as));\n        if (age >= 300) {\n            clearJwksCache(as, options?.[jwksCache]);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n    }\n    else {\n        jwks = await jwksRequest(as, options).then(processJwksResponse);\n        age = 0;\n        setJwksCache(as, jwks, epochTime(), options?.[jwksCache]);\n    }\n    let kty;\n    switch (alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            kty = 'RSA';\n            break;\n        case 'ES':\n            kty = 'EC';\n            break;\n        case 'Ed':\n            kty = 'OKP';\n            break;\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const candidates = jwks.keys.filter((jwk) => {\n        if (jwk.kty !== kty) {\n            return false;\n        }\n        if (kid !== undefined && kid !== jwk.kid) {\n            return false;\n        }\n        if (jwk.alg !== undefined && alg !== jwk.alg) {\n            return false;\n        }\n        if (jwk.use !== undefined && jwk.use !== 'sig') {\n            return false;\n        }\n        if (jwk.key_ops?.includes('verify') === false) {\n            return false;\n        }\n        switch (true) {\n            case alg === 'ES256' && jwk.crv !== 'P-256':\n            case alg === 'ES384' && jwk.crv !== 'P-384':\n            case alg === 'ES512' && jwk.crv !== 'P-521':\n            case alg === 'EdDSA' && !(jwk.crv === 'Ed25519' || jwk.crv === 'Ed448'):\n                return false;\n        }\n        return true;\n    });\n    const { 0: jwk, length } = candidates;\n    if (!length) {\n        if (age >= 60) {\n            clearJwksCache(as, options?.[jwksCache]);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n        throw new OPE('error when selecting a JWT verification key, no applicable keys found');\n    }\n    if (length !== 1) {\n        throw new OPE('error when selecting a JWT verification key, multiple applicable keys found, a \"kid\" JWT Header Parameter is required');\n    }\n    const key = await importJwk(alg, jwk);\n    if (key.type !== 'public') {\n        throw new OPE('jwks_uri must only contain public keys');\n    }\n    return key;\n}\nconst skipSubjectCheck = Symbol();\nfunction getContentType(response) {\n    return response.headers.get('content-type')?.split(';')[0];\n}\nasync function processUserInfoResponse(as, client, expectedSubject, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform UserInfo Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/jwt') {\n        assertReadableResponse(response);\n        const { claims, jwt } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.userinfo_signed_response_alg, as.userinfo_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n            .then(validateOptionalAudience.bind(undefined, client.client_id))\n            .then(validateOptionalIssuer.bind(undefined, as.issuer));\n        jwtResponseBodies.set(response, jwt);\n        json = claims;\n    }\n    else {\n        if (client.userinfo_signed_response_alg) {\n            throw new OPE('JWT UserInfo Response expected');\n        }\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.sub)) {\n        throw new OPE('\"response\" body \"sub\" property must be a non-empty string');\n    }\n    switch (expectedSubject) {\n        case skipSubjectCheck:\n            break;\n        default:\n            if (!validateString(expectedSubject)) {\n                throw new OPE('\"expectedSubject\" must be a non-empty string');\n            }\n            if (json.sub !== expectedSubject) {\n                throw new OPE('unexpected \"response\" body \"sub\" value');\n            }\n    }\n    return json;\n}\nasync function authenticatedRequest(as, client, method, url, body, headers, options) {\n    await clientAuthentication(as, client, body, headers, options?.clientPrivateKey);\n    headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function tokenEndpointRequest(as, client, grantType, parameters, options) {\n    const url = resolveEndpoint(as, 'token_endpoint', alias(client, options));\n    parameters.set('grant_type', grantType);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, parameters, headers, options);\n}\nasync function refreshTokenGrantRequest(as, client, refreshToken, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(refreshToken)) {\n        throw new TypeError('\"refreshToken\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('refresh_token', refreshToken);\n    return tokenEndpointRequest(as, client, 'refresh_token', parameters, options);\n}\nconst idTokenClaims = new WeakMap();\nconst jwtResponseBodies = new WeakMap();\nfunction getValidatedIdTokenClaims(ref) {\n    if (!ref.id_token) {\n        return undefined;\n    }\n    const claims = idTokenClaims.get(ref);\n    if (!claims) {\n        throw new TypeError('\"ref\" was already garbage collected or did not resolve from the proper sources');\n    }\n    return claims[0];\n}\nasync function validateIdTokenSignature(as, ref, options) {\n    assertAs(as);\n    if (!idTokenClaims.has(ref)) {\n        throw new OPE('\"ref\" does not contain an ID Token to verify the signature of');\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, } = idTokenClaims.get(ref)[1].split('.');\n    const header = JSON.parse(buf(b64u(protectedHeader)));\n    if (header.alg.startsWith('HS')) {\n        throw new UnsupportedOperationError();\n    }\n    let key;\n    key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, b64u(encodedSignature));\n}\nasync function validateJwtResponseSignature(as, ref, options) {\n    assertAs(as);\n    if (!jwtResponseBodies.has(ref)) {\n        throw new OPE('\"ref\" does not contain a processed JWT Response to verify the signature of');\n    }\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, } = jwtResponseBodies.get(ref).split('.');\n    const header = JSON.parse(buf(b64u(protectedHeader)));\n    if (header.alg.startsWith('HS')) {\n        throw new UnsupportedOperationError();\n    }\n    let key;\n    key = await getPublicSigKeyFromIssuerJwksUri(as, options, header);\n    await validateJwsSignature(protectedHeader, payload, key, b64u(encodedSignature));\n}\nfunction validateJwtUserInfoSignature(as, ref, options) {\n    return validateJwtResponseSignature(as, ref, options);\n}\nfunction validateJwtIntrospectionSignature(as, ref, options) {\n    return validateJwtResponseSignature(as, ref, options);\n}\nasync function processGenericAccessTokenResponse(as, client, response, ignoreIdToken = false, ignoreRefreshToken = false) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Token Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.access_token)) {\n        throw new OPE('\"response\" body \"access_token\" property must be a non-empty string');\n    }\n    if (!validateString(json.token_type)) {\n        throw new OPE('\"response\" body \"token_type\" property must be a non-empty string');\n    }\n    json.token_type = json.token_type.toLowerCase();\n    if (json.token_type !== 'dpop' && json.token_type !== 'bearer') {\n        throw new UnsupportedOperationError('unsupported `token_type` value');\n    }\n    if (json.expires_in !== undefined &&\n        (typeof json.expires_in !== 'number' || json.expires_in <= 0)) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (!ignoreRefreshToken &&\n        json.refresh_token !== undefined &&\n        !validateString(json.refresh_token)) {\n        throw new OPE('\"response\" body \"refresh_token\" property must be a non-empty string');\n    }\n    if (json.scope !== undefined && typeof json.scope !== 'string') {\n        throw new OPE('\"response\" body \"scope\" property must be a string');\n    }\n    if (!ignoreIdToken) {\n        if (json.id_token !== undefined && !validateString(json.id_token)) {\n            throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n        }\n        if (json.id_token) {\n            const { claims, jwt } = await validateJwt(json.id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n                .then(validatePresence.bind(undefined, ['aud', 'exp', 'iat', 'iss', 'sub']))\n                .then(validateIssuer.bind(undefined, as.issuer))\n                .then(validateAudience.bind(undefined, client.client_id));\n            if (Array.isArray(claims.aud) && claims.aud.length !== 1) {\n                if (claims.azp === undefined) {\n                    throw new OPE('ID Token \"aud\" (audience) claim includes additional untrusted audiences');\n                }\n                if (claims.azp !== client.client_id) {\n                    throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n                }\n            }\n            if (claims.auth_time !== undefined &&\n                (!Number.isFinite(claims.auth_time) || Math.sign(claims.auth_time) !== 1)) {\n                throw new OPE('ID Token \"auth_time\" (authentication time) must be a positive number');\n            }\n            idTokenClaims.set(json, [claims, jwt]);\n        }\n    }\n    return json;\n}\nasync function processRefreshTokenResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nfunction validateOptionalAudience(expected, result) {\n    if (result.claims.aud !== undefined) {\n        return validateAudience(expected, result);\n    }\n    return result;\n}\nfunction validateAudience(expected, result) {\n    if (Array.isArray(result.claims.aud)) {\n        if (!result.claims.aud.includes(expected)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n        }\n    }\n    else if (result.claims.aud !== expected) {\n        throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n    }\n    return result;\n}\nfunction validateOptionalIssuer(expected, result) {\n    if (result.claims.iss !== undefined) {\n        return validateIssuer(expected, result);\n    }\n    return result;\n}\nfunction validateIssuer(expected, result) {\n    if (result.claims.iss !== expected) {\n        throw new OPE('unexpected JWT \"iss\" (issuer) claim value');\n    }\n    return result;\n}\nconst branded = new WeakSet();\nfunction brand(searchParams) {\n    branded.add(searchParams);\n    return searchParams;\n}\nasync function authorizationCodeGrantRequest(as, client, callbackParameters, redirectUri, codeVerifier, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!branded.has(callbackParameters)) {\n        throw new TypeError('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()');\n    }\n    if (!validateString(redirectUri)) {\n        throw new TypeError('\"redirectUri\" must be a non-empty string');\n    }\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    const code = getURLSearchParameter(callbackParameters, 'code');\n    if (!code) {\n        throw new OPE('no authorization code in \"callbackParameters\"');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('redirect_uri', redirectUri);\n    parameters.set('code_verifier', codeVerifier);\n    parameters.set('code', code);\n    return tokenEndpointRequest(as, client, 'authorization_code', parameters, options);\n}\nconst jwtClaimNames = {\n    aud: 'audience',\n    c_hash: 'code hash',\n    client_id: 'client id',\n    exp: 'expiration time',\n    iat: 'issued at',\n    iss: 'issuer',\n    jti: 'jwt id',\n    nonce: 'nonce',\n    s_hash: 'state hash',\n    sub: 'subject',\n    ath: 'access token hash',\n    htm: 'http method',\n    htu: 'http uri',\n    cnf: 'confirmation',\n};\nfunction validatePresence(required, result) {\n    for (const claim of required) {\n        if (result.claims[claim] === undefined) {\n            throw new OPE(`JWT \"${claim}\" (${jwtClaimNames[claim]}) claim missing`);\n        }\n    }\n    return result;\n}\nconst expectNoNonce = Symbol();\nconst skipAuthTimeCheck = Symbol();\nasync function processAuthorizationCodeOpenIDResponse(as, client, response, expectedNonce, maxAge) {\n    const result = await processGenericAccessTokenResponse(as, client, response);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!validateString(result.id_token)) {\n        throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    const claims = getValidatedIdTokenClaims(result);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"maxAge\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    switch (expectedNonce) {\n        case undefined:\n        case expectNoNonce:\n            if (claims.nonce !== undefined) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n            break;\n        default:\n            if (!validateString(expectedNonce)) {\n                throw new TypeError('\"expectedNonce\" must be a non-empty string');\n            }\n            if (claims.nonce === undefined) {\n                throw new OPE('ID Token \"nonce\" claim missing');\n            }\n            if (claims.nonce !== expectedNonce) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n    }\n    return result;\n}\nasync function processAuthorizationCodeOAuth2Response(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (result.id_token !== undefined) {\n        if (typeof result.id_token === 'string' && result.id_token.length) {\n            throw new OPE('Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing');\n        }\n        delete result.id_token;\n    }\n    return result;\n}\nfunction checkJwtType(expected, result) {\n    if (typeof result.header.typ !== 'string' || normalizeTyp(result.header.typ) !== expected) {\n        throw new OPE('unexpected JWT \"typ\" header parameter value');\n    }\n    return result;\n}\nasync function clientCredentialsGrantRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    return tokenEndpointRequest(as, client, 'client_credentials', new URLSearchParams(parameters), options);\n}\nasync function genericTokenEndpointRequest(as, client, grantType, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(grantType)) {\n        throw new TypeError('\"grantType\" must be a non-empty string');\n    }\n    return tokenEndpointRequest(as, client, grantType, new URLSearchParams(parameters), options);\n}\nasync function processClientCredentialsResponse(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    return result;\n}\nasync function revocationRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'revocation_endpoint', alias(client, options));\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    headers.delete('accept');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nasync function processRevocationResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Revocation Endpoint response');\n    }\n    return undefined;\n}\nfunction assertReadableResponse(response) {\n    if (response.bodyUsed) {\n        throw new TypeError('\"response\" body has been used already');\n    }\n}\nasync function introspectionRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'introspection_endpoint', alias(client, options));\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    if (options?.requestJwtResponse ?? client.introspection_signed_response_alg) {\n        headers.set('accept', 'application/token-introspection+jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nasync function processIntrospectionResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Introspection Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/token-introspection+jwt') {\n        assertReadableResponse(response);\n        const { claims, jwt } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.introspection_signed_response_alg, as.introspection_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n            .then(checkJwtType.bind(undefined, 'token-introspection+jwt'))\n            .then(validatePresence.bind(undefined, ['aud', 'iat', 'iss']))\n            .then(validateIssuer.bind(undefined, as.issuer))\n            .then(validateAudience.bind(undefined, client.client_id));\n        jwtResponseBodies.set(response, jwt);\n        json = claims.token_introspection;\n        if (!isJsonObject(json)) {\n            throw new OPE('JWT \"token_introspection\" claim must be a JSON object');\n        }\n    }\n    else {\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n        if (!isJsonObject(json)) {\n            throw new OPE('\"response\" body must be a top level object');\n        }\n    }\n    if (typeof json.active !== 'boolean') {\n        throw new OPE('\"response\" body \"active\" property must be a boolean');\n    }\n    return json;\n}\nasync function jwksRequest(as, options) {\n    assertAs(as);\n    const url = resolveEndpoint(as, 'jwks_uri');\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.append('accept', 'application/jwk-set+json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function processJwksResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform JSON Web Key Set response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!Array.isArray(json.keys)) {\n        throw new OPE('\"response\" body \"keys\" property must be an array');\n    }\n    if (!Array.prototype.every.call(json.keys, isJsonObject)) {\n        throw new OPE('\"response\" body \"keys\" property members must be JWK formatted objects');\n    }\n    return json;\n}\nasync function handleOAuthBodyError(response) {\n    if (response.status > 399 && response.status < 500) {\n        assertReadableResponse(response);\n        try {\n            const json = await response.json();\n            if (isJsonObject(json) && typeof json.error === 'string' && json.error.length) {\n                if (json.error_description !== undefined && typeof json.error_description !== 'string') {\n                    delete json.error_description;\n                }\n                if (json.error_uri !== undefined && typeof json.error_uri !== 'string') {\n                    delete json.error_uri;\n                }\n                if (json.algs !== undefined && typeof json.algs !== 'string') {\n                    delete json.algs;\n                }\n                if (json.scope !== undefined && typeof json.scope !== 'string') {\n                    delete json.scope;\n                }\n                return json;\n            }\n        }\n        catch { }\n    }\n    return undefined;\n}\nfunction checkSupportedJwsAlg(alg) {\n    if (!SUPPORTED_JWS_ALGS.includes(alg)) {\n        throw new UnsupportedOperationError('unsupported JWS \"alg\" identifier');\n    }\n    return alg;\n}\nfunction checkRsaKeyAlgorithm(algorithm) {\n    if (typeof algorithm.modulusLength !== 'number' || algorithm.modulusLength < 2048) {\n        throw new OPE(`${algorithm.name} modulusLength must be at least 2048 bits`);\n    }\n}\nfunction ecdsaHashName(namedCurve) {\n    switch (namedCurve) {\n        case 'P-256':\n            return 'SHA-256';\n        case 'P-384':\n            return 'SHA-384';\n        case 'P-521':\n            return 'SHA-512';\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nfunction keyToSubtle(key) {\n    switch (key.algorithm.name) {\n        case 'ECDSA':\n            return {\n                name: key.algorithm.name,\n                hash: ecdsaHashName(key.algorithm.namedCurve),\n            };\n        case 'RSA-PSS': {\n            checkRsaKeyAlgorithm(key.algorithm);\n            switch (key.algorithm.hash.name) {\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512':\n                    return {\n                        name: key.algorithm.name,\n                        saltLength: parseInt(key.algorithm.hash.name.slice(-3), 10) >> 3,\n                    };\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        case 'RSASSA-PKCS1-v1_5':\n            checkRsaKeyAlgorithm(key.algorithm);\n            return key.algorithm.name;\n        case 'Ed448':\n        case 'Ed25519':\n            return key.algorithm.name;\n    }\n    throw new UnsupportedOperationError();\n}\nconst noSignatureCheck = Symbol();\nasync function validateJwsSignature(protectedHeader, payload, key, signature) {\n    const input = `${protectedHeader}.${payload}`;\n    const verified = await crypto.subtle.verify(keyToSubtle(key), key, signature, buf(input));\n    if (!verified) {\n        throw new OPE('JWT signature verification failed');\n    }\n}\nasync function validateJwt(jws, checkAlg, getKey, clockSkew, clockTolerance, decryptJwt) {\n    let { 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.');\n    if (length === 5) {\n        if (decryptJwt !== undefined) {\n            jws = await decryptJwt(jws);\n            ({ 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.'));\n        }\n        else {\n            throw new UnsupportedOperationError('JWE structure JWTs are not supported');\n        }\n    }\n    if (length !== 3) {\n        throw new OPE('Invalid JWT');\n    }\n    let header;\n    try {\n        header = JSON.parse(buf(b64u(protectedHeader)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Header body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(header)) {\n        throw new OPE('JWT Header must be a top level object');\n    }\n    checkAlg(header);\n    if (header.crit !== undefined) {\n        throw new OPE('unexpected JWT \"crit\" header parameter');\n    }\n    const signature = b64u(encodedSignature);\n    let key;\n    if (getKey !== noSignatureCheck) {\n        key = await getKey(header);\n        await validateJwsSignature(protectedHeader, payload, key, signature);\n    }\n    let claims;\n    try {\n        claims = JSON.parse(buf(b64u(payload)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Payload body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(claims)) {\n        throw new OPE('JWT Payload must be a top level object');\n    }\n    const now = epochTime() + clockSkew;\n    if (claims.exp !== undefined) {\n        if (typeof claims.exp !== 'number') {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim type');\n        }\n        if (claims.exp <= now - clockTolerance) {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim value, timestamp is <= now()');\n        }\n    }\n    if (claims.iat !== undefined) {\n        if (typeof claims.iat !== 'number') {\n            throw new OPE('unexpected JWT \"iat\" (issued at) claim type');\n        }\n    }\n    if (claims.iss !== undefined) {\n        if (typeof claims.iss !== 'string') {\n            throw new OPE('unexpected JWT \"iss\" (issuer) claim type');\n        }\n    }\n    if (claims.nbf !== undefined) {\n        if (typeof claims.nbf !== 'number') {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim type');\n        }\n        if (claims.nbf > now + clockTolerance) {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim value, timestamp is > now()');\n        }\n    }\n    if (claims.aud !== undefined) {\n        if (typeof claims.aud !== 'string' && !Array.isArray(claims.aud)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim type');\n        }\n    }\n    return { header, claims, signature, key, jwt: jws };\n}\nasync function validateJwtAuthResponse(as, client, parameters, expectedState, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    const response = getURLSearchParameter(parameters, 'response');\n    if (!response) {\n        throw new OPE('\"parameters\" does not contain a JARM response');\n    }\n    const { claims } = await validateJwt(response, checkSigningAlgorithm.bind(undefined, client.authorization_signed_response_alg, as.authorization_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n        .then(validatePresence.bind(undefined, ['aud', 'exp', 'iss']))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const result = new URLSearchParams();\n    for (const [key, value] of Object.entries(claims)) {\n        if (typeof value === 'string' && key !== 'aud') {\n            result.set(key, value);\n        }\n    }\n    return validateAuthResponse(as, client, result, expectedState);\n}\nasync function idTokenHash(alg, data, key) {\n    let algorithm;\n    switch (alg) {\n        case 'RS256':\n        case 'PS256':\n        case 'ES256':\n            algorithm = 'SHA-256';\n            break;\n        case 'RS384':\n        case 'PS384':\n        case 'ES384':\n            algorithm = 'SHA-384';\n            break;\n        case 'RS512':\n        case 'PS512':\n        case 'ES512':\n            algorithm = 'SHA-512';\n            break;\n        case 'EdDSA':\n            if (key.algorithm.name === 'Ed25519') {\n                algorithm = 'SHA-512';\n                break;\n            }\n            throw new UnsupportedOperationError();\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const digest = await crypto.subtle.digest(algorithm, buf(data));\n    return b64u(digest.slice(0, digest.byteLength / 2));\n}\nasync function idTokenHashMatches(data, actual, alg, key) {\n    const expected = await idTokenHash(alg, data, key);\n    return actual === expected;\n}\nasync function validateDetachedSignatureResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        if (!parameters.hash.length) {\n            throw new TypeError('\"parameters\" as an instance of URL must contain a hash (fragment) with the Authorization Response parameters');\n        }\n        parameters = new URLSearchParams(parameters.hash.slice(1));\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams');\n    }\n    parameters = new URLSearchParams(parameters);\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    parameters.delete('id_token');\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new TypeError('\"expectedState\" must be a non-empty string');\n            }\n    }\n    const result = validateAuthResponse({\n        ...as,\n        authorization_response_iss_parameter_supported: false,\n    }, client, parameters, expectedState);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!id_token) {\n        throw new OPE('\"parameters\" does not contain an ID Token');\n    }\n    const code = getURLSearchParameter(parameters, 'code');\n    if (!code) {\n        throw new OPE('\"parameters\" does not contain an Authorization Code');\n    }\n    const requiredClaims = [\n        'aud',\n        'exp',\n        'iat',\n        'iss',\n        'sub',\n        'nonce',\n        'c_hash',\n    ];\n    if (typeof expectedState === 'string') {\n        requiredClaims.push('s_hash');\n    }\n    const { claims, header, key } = await validateJwt(id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client), client[jweDecrypt])\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const clockSkew = getClockSkew(client);\n    const now = epochTime() + clockSkew;\n    if (claims.iat < now - 3600) {\n        throw new OPE('unexpected JWT \"iat\" (issued at) claim value, it is too far in the past');\n    }\n    if (typeof claims.c_hash !== 'string' ||\n        (await idTokenHashMatches(code, claims.c_hash, header.alg, key)) !== true) {\n        throw new OPE('invalid ID Token \"c_hash\" (code hash) claim value');\n    }\n    if (claims.s_hash !== undefined && typeof expectedState !== 'string') {\n        throw new OPE('could not verify ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (typeof expectedState === 'string' &&\n        (typeof claims.s_hash !== 'string' ||\n            (await idTokenHashMatches(expectedState, claims.s_hash, header.alg, key)) !== true)) {\n        throw new OPE('invalid ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (claims.auth_time !== undefined &&\n        (!Number.isFinite(claims.auth_time) || Math.sign(claims.auth_time) !== 1)) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) must be a positive number');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"maxAge\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    if (!validateString(expectedNonce)) {\n        throw new TypeError('\"expectedNonce\" must be a non-empty string');\n    }\n    if (claims.nonce !== expectedNonce) {\n        throw new OPE('unexpected ID Token \"nonce\" claim value');\n    }\n    if (Array.isArray(claims.aud) && claims.aud.length !== 1) {\n        if (claims.azp === undefined) {\n            throw new OPE('ID Token \"aud\" (audience) claim includes additional untrusted audiences');\n        }\n        if (claims.azp !== client.client_id) {\n            throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n        }\n    }\n    return result;\n}\nfunction checkSigningAlgorithm(client, issuer, header) {\n    if (client !== undefined) {\n        if (header.alg !== client) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (Array.isArray(issuer)) {\n        if (!issuer.includes(header.alg)) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (header.alg !== 'RS256') {\n        throw new OPE('unexpected JWT \"alg\" header parameter');\n    }\n}\nfunction getURLSearchParameter(parameters, name) {\n    const { 0: value, length } = parameters.getAll(name);\n    if (length > 1) {\n        throw new OPE(`\"${name}\" parameter must be provided only once`);\n    }\n    return value;\n}\nconst skipStateCheck = Symbol();\nconst expectNoState = Symbol();\nfunction validateAuthResponse(as, client, parameters, expectedState) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    if (getURLSearchParameter(parameters, 'response')) {\n        throw new OPE('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');\n    }\n    const iss = getURLSearchParameter(parameters, 'iss');\n    const state = getURLSearchParameter(parameters, 'state');\n    if (!iss && as.authorization_response_iss_parameter_supported) {\n        throw new OPE('response parameter \"iss\" (issuer) missing');\n    }\n    if (iss && iss !== as.issuer) {\n        throw new OPE('unexpected \"iss\" (issuer) response parameter value');\n    }\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            if (state !== undefined) {\n                throw new OPE('unexpected \"state\" response parameter encountered');\n            }\n            break;\n        case skipStateCheck:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new OPE('\"expectedState\" must be a non-empty string');\n            }\n            if (state === undefined) {\n                throw new OPE('response parameter \"state\" missing');\n            }\n            if (state !== expectedState) {\n                throw new OPE('unexpected \"state\" response parameter value');\n            }\n    }\n    const error = getURLSearchParameter(parameters, 'error');\n    if (error) {\n        return {\n            error,\n            error_description: getURLSearchParameter(parameters, 'error_description'),\n            error_uri: getURLSearchParameter(parameters, 'error_uri'),\n        };\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    const token = getURLSearchParameter(parameters, 'token');\n    if (id_token !== undefined || token !== undefined) {\n        throw new UnsupportedOperationError('implicit and hybrid flows are not supported');\n    }\n    return brand(new URLSearchParams(parameters));\n}\nfunction algToSubtle(alg, crv) {\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n        case 'ES256':\n        case 'ES384':\n            return { name: 'ECDSA', namedCurve: `P-${alg.slice(-3)}` };\n        case 'ES512':\n            return { name: 'ECDSA', namedCurve: 'P-521' };\n        case 'EdDSA': {\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    return crv;\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nasync function importJwk(alg, jwk) {\n    const { ext, key_ops, use, ...key } = jwk;\n    return crypto.subtle.importKey('jwk', key, algToSubtle(alg, jwk.crv), true, ['verify']);\n}\nasync function deviceAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'device_authorization_endpoint', alias(client, options));\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nasync function processDeviceAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Device Authorization Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.device_code)) {\n        throw new OPE('\"response\" body \"device_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.user_code)) {\n        throw new OPE('\"response\" body \"user_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.verification_uri)) {\n        throw new OPE('\"response\" body \"verification_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (json.verification_uri_complete !== undefined &&\n        !validateString(json.verification_uri_complete)) {\n        throw new OPE('\"response\" body \"verification_uri_complete\" property must be a non-empty string');\n    }\n    if (json.interval !== undefined && (typeof json.interval !== 'number' || json.interval <= 0)) {\n        throw new OPE('\"response\" body \"interval\" property must be a positive number');\n    }\n    return json;\n}\nasync function deviceCodeGrantRequest(as, client, deviceCode, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(deviceCode)) {\n        throw new TypeError('\"deviceCode\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('device_code', deviceCode);\n    return tokenEndpointRequest(as, client, 'urn:ietf:params:oauth:grant-type:device_code', parameters, options);\n}\nasync function processDeviceCodeResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nasync function generateKeyPair(alg, options) {\n    if (!validateString(alg)) {\n        throw new TypeError('\"alg\" must be a non-empty string');\n    }\n    const algorithm = algToSubtle(alg, alg === 'EdDSA' ? (options?.crv ?? 'Ed25519') : undefined);\n    if (alg.startsWith('PS') || alg.startsWith('RS')) {\n        Object.assign(algorithm, {\n            modulusLength: options?.modulusLength ?? 2048,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        });\n    }\n    return crypto.subtle.generateKey(algorithm, options?.extractable ?? false, [\n        'sign',\n        'verify',\n    ]);\n}\nfunction normalizeHtu(htu) {\n    const url = new URL(htu);\n    url.search = '';\n    url.hash = '';\n    return url.href;\n}\nasync function validateDPoP(as, request, accessToken, accessTokenClaims, options) {\n    const header = request.headers.get('dpop');\n    if (header === null) {\n        throw new OPE('operation indicated DPoP use but the request has no DPoP HTTP Header');\n    }\n    if (request.headers.get('authorization')?.toLowerCase().startsWith('dpop ') === false) {\n        throw new OPE(`operation indicated DPoP use but the request's Authorization HTTP Header scheme is not DPoP`);\n    }\n    if (typeof accessTokenClaims.cnf?.jkt !== 'string') {\n        throw new OPE('operation indicated DPoP use but the JWT Access Token has no jkt confirmation claim');\n    }\n    const clockSkew = getClockSkew(options);\n    const proof = await validateJwt(header, checkSigningAlgorithm.bind(undefined, undefined, as?.dpop_signing_alg_values_supported || SUPPORTED_JWS_ALGS), async ({ jwk, alg }) => {\n        if (!jwk) {\n            throw new OPE('DPoP Proof is missing the jwk header parameter');\n        }\n        const key = await importJwk(alg, jwk);\n        if (key.type !== 'public') {\n            throw new OPE('DPoP Proof jwk header parameter must contain a public key');\n        }\n        return key;\n    }, clockSkew, getClockTolerance(options), undefined)\n        .then(checkJwtType.bind(undefined, 'dpop+jwt'))\n        .then(validatePresence.bind(undefined, ['iat', 'jti', 'ath', 'htm', 'htu']));\n    const now = epochTime() + clockSkew;\n    const diff = Math.abs(now - proof.claims.iat);\n    if (diff > 300) {\n        throw new OPE('DPoP Proof iat is not recent enough');\n    }\n    if (proof.claims.htm !== request.method) {\n        throw new OPE('DPoP Proof htm mismatch');\n    }\n    if (typeof proof.claims.htu !== 'string' ||\n        normalizeHtu(proof.claims.htu) !== normalizeHtu(request.url)) {\n        throw new OPE('DPoP Proof htu mismatch');\n    }\n    {\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(accessToken)));\n        if (proof.claims.ath !== expected) {\n            throw new OPE('DPoP Proof ath mismatch');\n        }\n    }\n    {\n        let components;\n        switch (proof.header.jwk.kty) {\n            case 'EC':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                    y: proof.header.jwk.y,\n                };\n                break;\n            case 'OKP':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                };\n                break;\n            case 'RSA':\n                components = {\n                    e: proof.header.jwk.e,\n                    kty: proof.header.jwk.kty,\n                    n: proof.header.jwk.n,\n                };\n                break;\n            default:\n                throw new UnsupportedOperationError();\n        }\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(JSON.stringify(components))));\n        if (accessTokenClaims.cnf.jkt !== expected) {\n            throw new OPE('JWT Access Token confirmation mismatch');\n        }\n    }\n}\nasync function validateJwtAccessToken(as, request, expectedAudience, options) {\n    assertAs(as);\n    if (!looseInstanceOf(request, Request)) {\n        throw new TypeError('\"request\" must be an instance of Request');\n    }\n    if (!validateString(expectedAudience)) {\n        throw new OPE('\"expectedAudience\" must be a non-empty string');\n    }\n    const authorization = request.headers.get('authorization');\n    if (authorization === null) {\n        throw new OPE('\"request\" is missing an Authorization HTTP Header');\n    }\n    let { 0: scheme, 1: accessToken, length } = authorization.split(' ');\n    scheme = scheme.toLowerCase();\n    switch (scheme) {\n        case 'dpop':\n        case 'bearer':\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported Authorization HTTP Header scheme');\n    }\n    if (length !== 2) {\n        throw new OPE('invalid Authorization HTTP Header format');\n    }\n    const requiredClaims = [\n        'iss',\n        'exp',\n        'aud',\n        'sub',\n        'iat',\n        'jti',\n        'client_id',\n    ];\n    if (options?.requireDPoP || scheme === 'dpop' || request.headers.has('dpop')) {\n        requiredClaims.push('cnf');\n    }\n    const { claims } = await validateJwt(accessToken, checkSigningAlgorithm.bind(undefined, undefined, SUPPORTED_JWS_ALGS), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(options), getClockTolerance(options), undefined)\n        .then(checkJwtType.bind(undefined, 'at+jwt'))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, expectedAudience));\n    for (const claim of ['client_id', 'jti', 'sub']) {\n        if (typeof claims[claim] !== 'string') {\n            throw new OPE(`unexpected JWT \"${claim}\" claim type`);\n        }\n    }\n    if ('cnf' in claims) {\n        if (!isJsonObject(claims.cnf)) {\n            throw new OPE('unexpected JWT \"cnf\" (confirmation) claim value');\n        }\n        const { 0: cnf, length } = Object.keys(claims.cnf);\n        if (length) {\n            if (length !== 1) {\n                throw new UnsupportedOperationError('multiple confirmation claims are not supported');\n            }\n            if (cnf !== 'jkt') {\n                throw new UnsupportedOperationError('unsupported JWT Confirmation method');\n            }\n        }\n    }\n    if (options?.requireDPoP ||\n        scheme === 'dpop' ||\n        claims.cnf?.jkt !== undefined ||\n        request.headers.has('dpop')) {\n        await validateDPoP(as, request, accessToken, claims, options);\n    }\n    return claims;\n}\nconst experimentalCustomFetch = customFetch;\nconst experimental_customFetch = customFetch;\nconst experimentalUseMtlsAlias = useMtlsAlias;\nconst experimental_useMtlsAlias = useMtlsAlias;\nconst experimental_validateDetachedSignatureResponse = (...args) => validateDetachedSignatureResponse(...args);\nconst experimental_validateJwtAccessToken = (...args) => validateJwtAccessToken(...args);\nconst validateJwtUserinfoSignature = (...args) => validateJwtUserInfoSignature(...args);\nconst experimental_jwksCache = jwksCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9vYXV0aDR3ZWJhcGkvYnVpbGQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEtBQUssR0FBRyxRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLE9BQU87QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixhQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxhQUFhO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLE9BQU87QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxTQUFTLEdBQUcsU0FBUztBQUNyRCxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLGtCQUFrQjtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixrQkFBa0I7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRCQUE0QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0NBQWtDLEdBQUcsbUNBQW1DO0FBQzdGO0FBQ0EsY0FBYyxNQUFNLEdBQUcsVUFBVTtBQUNqQztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLE9BQU87QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsT0FBTztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUE0RDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVcsRUFBRSxhQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELFNBQVM7QUFDdEU7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsT0FBTztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsWUFBWTtBQUMzRDtBQUNBO0FBQ0EsNEZBQTRGLG1DQUFtQztBQUMvSCw2Q0FBNkMsWUFBWTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsK0JBQStCLGtDQUFrQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxPQUFPO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxPQUFPO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxNQUFNLEtBQUsscUJBQXFCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsT0FBTztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxPQUFPO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnQkFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0JBQWdCLEdBQUcsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhEQUE4RDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhEQUE4RDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixPQUFPO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLE9BQU87QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBLDBCQUEwQixLQUFLO0FBQy9CO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOEJBQThCLGNBQWM7QUFDakU7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdDQUF3QyxjQUFjO0FBQzNFO0FBQ0E7QUFDQSxxQkFBcUIsZ0NBQWdDLGNBQWM7QUFDbkU7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLE9BQU87QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvS0FBb0ssVUFBVTtBQUM5SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0NBQW9DO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE1BQU07QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG9hdXRoNHdlYmFwaVxcYnVpbGRcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBVU0VSX0FHRU5UO1xuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IudXNlckFnZW50Py5zdGFydHNXaXRoPy4oJ01vemlsbGEvNS4wICcpKSB7XG4gICAgY29uc3QgTkFNRSA9ICdvYXV0aDR3ZWJhcGknO1xuICAgIGNvbnN0IFZFUlNJT04gPSAndjIuMTcuMCc7XG4gICAgVVNFUl9BR0VOVCA9IGAke05BTUV9LyR7VkVSU0lPTn1gO1xufVxuZnVuY3Rpb24gbG9vc2VJbnN0YW5jZU9mKGlucHV0LCBleHBlY3RlZCkge1xuICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIChpbnB1dCBpbnN0YW5jZW9mIGV4cGVjdGVkIHx8XG4gICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5wdXQpW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09IGV4cGVjdGVkLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGNsb2NrU2tldyA9IFN5bWJvbCgpO1xuZXhwb3J0IGNvbnN0IGNsb2NrVG9sZXJhbmNlID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgY3VzdG9tRmV0Y2ggPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBtb2RpZnlBc3NlcnRpb24gPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBqd2VEZWNyeXB0ID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3Qgandrc0NhY2hlID0gU3ltYm9sKCk7XG5leHBvcnQgY29uc3QgdXNlTXRsc0FsaWFzID0gU3ltYm9sKCk7XG5jb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG5jb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG5mdW5jdGlvbiBidWYoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGUoaW5wdXQpO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGUoaW5wdXQpO1xufVxuY29uc3QgQ0hVTktfU0laRSA9IDB4ODAwMDtcbmZ1bmN0aW9uIGVuY29kZUJhc2U2NFVybChpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoaW5wdXQpO1xuICAgIH1cbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0LmJ5dGVMZW5ndGg7IGkgKz0gQ0hVTktfU0laRSkge1xuICAgICAgICBhcnIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGlucHV0LnN1YmFycmF5KGksIGkgKyBDSFVOS19TSVpFKSkpO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShhcnIuam9pbignJykpLnJlcGxhY2UoLz0vZywgJycpLnJlcGxhY2UoL1xcKy9nLCAnLScpLnJlcGxhY2UoL1xcLy9nLCAnXycpO1xufVxuZnVuY3Rpb24gZGVjb2RlQmFzZTY0VXJsKGlucHV0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmluYXJ5ID0gYXRvYihpbnB1dC5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpLnJlcGxhY2UoL1xccy9nLCAnJykpO1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdUaGUgaW5wdXQgdG8gYmUgZGVjb2RlZCBpcyBub3QgY29ycmVjdGx5IGVuY29kZWQuJywgeyBjYXVzZSB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBiNjR1KGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUJhc2U2NFVybChpbnB1dCk7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVCYXNlNjRVcmwoaW5wdXQpO1xufVxuY2xhc3MgTFJVIHtcbiAgICBjb25zdHJ1Y3RvcihtYXhTaXplKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm1heFNpemUgPSBtYXhTaXplO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGxldCB2ID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgICAgIGlmICgodiA9IHRoaXMuX2NhY2hlLmdldChrZXkpKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoa2V5LCB2KTtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuaGFzKGtleSkgfHwgdGhpcy5fY2FjaGUuaGFzKGtleSk7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5jYWNoZS5zaXplID49IHRoaXMubWF4U2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSB0aGlzLmNhY2hlO1xuICAgICAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSA/PyAnb3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcGVyYXRpb25Qcm9jZXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmNvbnN0IE9QRSA9IE9wZXJhdGlvblByb2Nlc3NpbmdFcnJvcjtcbmNvbnN0IGRwb3BOb25jZXMgPSBuZXcgTFJVKDEwMCk7XG5mdW5jdGlvbiBpc0NyeXB0b0tleShrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluc3RhbmNlb2YgQ3J5cHRvS2V5O1xufVxuZnVuY3Rpb24gaXNQcml2YXRlS2V5KGtleSkge1xuICAgIHJldHVybiBpc0NyeXB0b0tleShrZXkpICYmIGtleS50eXBlID09PSAncHJpdmF0ZSc7XG59XG5mdW5jdGlvbiBpc1B1YmxpY0tleShrZXkpIHtcbiAgICByZXR1cm4gaXNDcnlwdG9LZXkoa2V5KSAmJiBrZXkudHlwZSA9PT0gJ3B1YmxpYyc7XG59XG5jb25zdCBTVVBQT1JURURfSldTX0FMR1MgPSBbXG4gICAgJ1BTMjU2JyxcbiAgICAnRVMyNTYnLFxuICAgICdSUzI1NicsXG4gICAgJ1BTMzg0JyxcbiAgICAnRVMzODQnLFxuICAgICdSUzM4NCcsXG4gICAgJ1BTNTEyJyxcbiAgICAnRVM1MTInLFxuICAgICdSUzUxMicsXG4gICAgJ0VkRFNBJyxcbl07XG5mdW5jdGlvbiBwcm9jZXNzRHBvcE5vbmNlKHJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgbm9uY2UgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnZHBvcC1ub25jZScpO1xuICAgICAgICBpZiAobm9uY2UpIHtcbiAgICAgICAgICAgIGRwb3BOb25jZXMuc2V0KG5ldyBVUkwocmVzcG9uc2UudXJsKS5vcmlnaW4sIG5vbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCB7IH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5mdW5jdGlvbiBub3JtYWxpemVUeXAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eYXBwbGljYXRpb25cXC8vLCAnJyk7XG59XG5mdW5jdGlvbiBpc0pzb25PYmplY3QoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgdHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcHJlcGFyZUhlYWRlcnMoaW5wdXQpIHtcbiAgICBpZiAobG9vc2VJbnN0YW5jZU9mKGlucHV0LCBIZWFkZXJzKSkge1xuICAgICAgICBpbnB1dCA9IE9iamVjdC5mcm9tRW50cmllcyhpbnB1dC5lbnRyaWVzKCkpO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQpO1xuICAgIGlmIChVU0VSX0FHRU5UICYmICFoZWFkZXJzLmhhcygndXNlci1hZ2VudCcpKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCd1c2VyLWFnZW50JywgVVNFUl9BR0VOVCk7XG4gICAgfVxuICAgIGlmIChoZWFkZXJzLmhhcygnYXV0aG9yaXphdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wib3B0aW9ucy5oZWFkZXJzXCIgbXVzdCBub3QgaW5jbHVkZSB0aGUgXCJhdXRob3JpemF0aW9uXCIgaGVhZGVyIG5hbWUnKTtcbiAgICB9XG4gICAgaWYgKGhlYWRlcnMuaGFzKCdkcG9wJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJvcHRpb25zLmhlYWRlcnNcIiBtdXN0IG5vdCBpbmNsdWRlIHRoZSBcImRwb3BcIiBoZWFkZXIgbmFtZScpO1xuICAgIH1cbiAgICByZXR1cm4gaGVhZGVycztcbn1cbmZ1bmN0aW9uIHNpZ25hbCh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSgpO1xuICAgIH1cbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEFib3J0U2lnbmFsKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm9wdGlvbnMuc2lnbmFsXCIgbXVzdCByZXR1cm4gb3IgYmUgYW4gaW5zdGFuY2Ugb2YgQWJvcnRTaWduYWwnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyeVJlcXVlc3QoaXNzdWVySWRlbnRpZmllciwgb3B0aW9ucykge1xuICAgIGlmICghKGlzc3VlcklkZW50aWZpZXIgaW5zdGFuY2VvZiBVUkwpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiaXNzdWVySWRlbnRpZmllclwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVVJMJyk7XG4gICAgfVxuICAgIGlmIChpc3N1ZXJJZGVudGlmaWVyLnByb3RvY29sICE9PSAnaHR0cHM6JyAmJiBpc3N1ZXJJZGVudGlmaWVyLnByb3RvY29sICE9PSAnaHR0cDonKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiaXNzdWVyLnByb3RvY29sXCIgbXVzdCBiZSBcImh0dHBzOlwiIG9yIFwiaHR0cDpcIicpO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGlzc3VlcklkZW50aWZpZXIuaHJlZik7XG4gICAgc3dpdGNoIChvcHRpb25zPy5hbGdvcml0aG0pIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgJ29pZGMnOlxuICAgICAgICAgICAgdXJsLnBhdGhuYW1lID0gYCR7dXJsLnBhdGhuYW1lfS8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbmAucmVwbGFjZSgnLy8nLCAnLycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29hdXRoMic6XG4gICAgICAgICAgICBpZiAodXJsLnBhdGhuYW1lID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICB1cmwucGF0aG5hbWUgPSAnLndlbGwta25vd24vb2F1dGgtYXV0aG9yaXphdGlvbi1zZXJ2ZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXJsLnBhdGhuYW1lID0gYC53ZWxsLWtub3duL29hdXRoLWF1dGhvcml6YXRpb24tc2VydmVyLyR7dXJsLnBhdGhuYW1lfWAucmVwbGFjZSgnLy8nLCAnLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm9wdGlvbnMuYWxnb3JpdGhtXCIgbXVzdCBiZSBcIm9pZGNcIiAoZGVmYXVsdCksIG9yIFwib2F1dGgyXCInKTtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHJldHVybiAob3B0aW9ucz8uW2N1c3RvbUZldGNoXSB8fCBmZXRjaCkodXJsLmhyZWYsIHtcbiAgICAgICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKGhlYWRlcnMuZW50cmllcygpKSxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCA/IHNpZ25hbChvcHRpb25zLnNpZ25hbCkgOiBudWxsLFxuICAgIH0pLnRoZW4ocHJvY2Vzc0Rwb3BOb25jZSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyhpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmIGlucHV0Lmxlbmd0aCAhPT0gMDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGlzY292ZXJ5UmVzcG9uc2UoZXhwZWN0ZWRJc3N1ZXJJZGVudGlmaWVyLCByZXNwb25zZSkge1xuICAgIGlmICghKGV4cGVjdGVkSXNzdWVySWRlbnRpZmllciBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJleHBlY3RlZElzc3VlclwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVVJMJyk7XG4gICAgfVxuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBpcyBub3QgYSBjb25mb3JtIEF1dGhvcml6YXRpb24gU2VydmVyIE1ldGFkYXRhIHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGxldCBqc29uO1xuICAgIHRyeSB7XG4gICAgICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdmYWlsZWQgdG8gcGFyc2UgXCJyZXNwb25zZVwiIGJvZHkgYXMgSlNPTicsIHsgY2F1c2UgfSk7XG4gICAgfVxuICAgIGlmICghaXNKc29uT2JqZWN0KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IG11c3QgYmUgYSB0b3AgbGV2ZWwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoanNvbi5pc3N1ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwiaXNzdWVyXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKG5ldyBVUkwoanNvbi5pc3N1ZXIpLmhyZWYgIT09IGV4cGVjdGVkSXNzdWVySWRlbnRpZmllci5ocmVmKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwiaXNzdWVyXCIgZG9lcyBub3QgbWF0Y2ggXCJleHBlY3RlZElzc3VlclwiJyk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gcmFuZG9tQnl0ZXMoKSB7XG4gICAgcmV0dXJuIGI2NHUoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgzMikpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUNvZGVWZXJpZmllcigpIHtcbiAgICByZXR1cm4gcmFuZG9tQnl0ZXMoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0YXRlKCkge1xuICAgIHJldHVybiByYW5kb21CeXRlcygpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tTm9uY2UoKSB7XG4gICAgcmV0dXJuIHJhbmRvbUJ5dGVzKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlUEtDRUNvZGVDaGFsbGVuZ2UoY29kZVZlcmlmaWVyKSB7XG4gICAgaWYgKCF2YWxpZGF0ZVN0cmluZyhjb2RlVmVyaWZpZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY29kZVZlcmlmaWVyXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGI2NHUoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoJ1NIQS0yNTYnLCBidWYoY29kZVZlcmlmaWVyKSkpO1xufVxuZnVuY3Rpb24gZ2V0S2V5QW5kS2lkKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgQ3J5cHRvS2V5KSB7XG4gICAgICAgIHJldHVybiB7IGtleTogaW5wdXQgfTtcbiAgICB9XG4gICAgaWYgKCEoaW5wdXQ/LmtleSBpbnN0YW5jZW9mIENyeXB0b0tleSkpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAoaW5wdXQua2lkICE9PSB1bmRlZmluZWQgJiYgIXZhbGlkYXRlU3RyaW5nKGlucHV0LmtpZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJraWRcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IGlucHV0LmtleSxcbiAgICAgICAga2lkOiBpbnB1dC5raWQsXG4gICAgICAgIG1vZGlmeUFzc2VydGlvbjogaW5wdXRbbW9kaWZ5QXNzZXJ0aW9uXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZm9ybVVybEVuY29kZSh0b2tlbikge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodG9rZW4pLnJlcGxhY2UoLyUyMC9nLCAnKycpO1xufVxuZnVuY3Rpb24gY2xpZW50U2VjcmV0QmFzaWMoY2xpZW50SWQsIGNsaWVudFNlY3JldCkge1xuICAgIGNvbnN0IHVzZXJuYW1lID0gZm9ybVVybEVuY29kZShjbGllbnRJZCk7XG4gICAgY29uc3QgcGFzc3dvcmQgPSBmb3JtVXJsRW5jb2RlKGNsaWVudFNlY3JldCk7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBidG9hKGAke3VzZXJuYW1lfToke3Bhc3N3b3JkfWApO1xuICAgIHJldHVybiBgQmFzaWMgJHtjcmVkZW50aWFsc31gO1xufVxuZnVuY3Rpb24gcHNBbGcoa2V5KSB7XG4gICAgc3dpdGNoIChrZXkuYWxnb3JpdGhtLmhhc2gubmFtZSkge1xuICAgICAgICBjYXNlICdTSEEtMjU2JzpcbiAgICAgICAgICAgIHJldHVybiAnUFMyNTYnO1xuICAgICAgICBjYXNlICdTSEEtMzg0JzpcbiAgICAgICAgICAgIHJldHVybiAnUFMzODQnO1xuICAgICAgICBjYXNlICdTSEEtNTEyJzpcbiAgICAgICAgICAgIHJldHVybiAnUFM1MTInO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIFJzYUhhc2hlZEtleUFsZ29yaXRobSBoYXNoIG5hbWUnKTtcbiAgICB9XG59XG5mdW5jdGlvbiByc0FsZyhrZXkpIHtcbiAgICBzd2l0Y2ggKGtleS5hbGdvcml0aG0uaGFzaC5uYW1lKSB7XG4gICAgICAgIGNhc2UgJ1NIQS0yNTYnOlxuICAgICAgICAgICAgcmV0dXJuICdSUzI1Nic7XG4gICAgICAgIGNhc2UgJ1NIQS0zODQnOlxuICAgICAgICAgICAgcmV0dXJuICdSUzM4NCc7XG4gICAgICAgIGNhc2UgJ1NIQS01MTInOlxuICAgICAgICAgICAgcmV0dXJuICdSUzUxMic7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgUnNhSGFzaGVkS2V5QWxnb3JpdGhtIGhhc2ggbmFtZScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVzQWxnKGtleSkge1xuICAgIHN3aXRjaCAoa2V5LmFsZ29yaXRobS5uYW1lZEN1cnZlKSB7XG4gICAgICAgIGNhc2UgJ1AtMjU2JzpcbiAgICAgICAgICAgIHJldHVybiAnRVMyNTYnO1xuICAgICAgICBjYXNlICdQLTM4NCc6XG4gICAgICAgICAgICByZXR1cm4gJ0VTMzg0JztcbiAgICAgICAgY2FzZSAnUC01MjEnOlxuICAgICAgICAgICAgcmV0dXJuICdFUzUxMic7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgRWNLZXlBbGdvcml0aG0gbmFtZWRDdXJ2ZScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGtleVRvSndzKGtleSkge1xuICAgIHN3aXRjaCAoa2V5LmFsZ29yaXRobS5uYW1lKSB7XG4gICAgICAgIGNhc2UgJ1JTQS1QU1MnOlxuICAgICAgICAgICAgcmV0dXJuIHBzQWxnKGtleSk7XG4gICAgICAgIGNhc2UgJ1JTQVNTQS1QS0NTMS12MV81JzpcbiAgICAgICAgICAgIHJldHVybiByc0FsZyhrZXkpO1xuICAgICAgICBjYXNlICdFQ0RTQSc6XG4gICAgICAgICAgICByZXR1cm4gZXNBbGcoa2V5KTtcbiAgICAgICAgY2FzZSAnRWQyNTUxOSc6XG4gICAgICAgIGNhc2UgJ0VkNDQ4JzpcbiAgICAgICAgICAgIHJldHVybiAnRWREU0EnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIENyeXB0b0tleSBhbGdvcml0aG0gbmFtZScpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENsb2NrU2tldyhjbGllbnQpIHtcbiAgICBjb25zdCBza2V3ID0gY2xpZW50Py5bY2xvY2tTa2V3XTtcbiAgICByZXR1cm4gdHlwZW9mIHNrZXcgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShza2V3KSA/IHNrZXcgOiAwO1xufVxuZnVuY3Rpb24gZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSB7XG4gICAgY29uc3QgdG9sZXJhbmNlID0gY2xpZW50Py5bY2xvY2tUb2xlcmFuY2VdO1xuICAgIHJldHVybiB0eXBlb2YgdG9sZXJhbmNlID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUodG9sZXJhbmNlKSAmJiBNYXRoLnNpZ24odG9sZXJhbmNlKSAhPT0gLTFcbiAgICAgICAgPyB0b2xlcmFuY2VcbiAgICAgICAgOiAzMDtcbn1cbmZ1bmN0aW9uIGVwb2NoVGltZSgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG59XG5mdW5jdGlvbiBjbGllbnRBc3NlcnRpb24oYXMsIGNsaWVudCkge1xuICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgZ2V0Q2xvY2tTa2V3KGNsaWVudCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAganRpOiByYW5kb21CeXRlcygpLFxuICAgICAgICBhdWQ6IFthcy5pc3N1ZXIsIGFzLnRva2VuX2VuZHBvaW50XSxcbiAgICAgICAgZXhwOiBub3cgKyA2MCxcbiAgICAgICAgaWF0OiBub3csXG4gICAgICAgIG5iZjogbm93LFxuICAgICAgICBpc3M6IGNsaWVudC5jbGllbnRfaWQsXG4gICAgICAgIHN1YjogY2xpZW50LmNsaWVudF9pZCxcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gcHJpdmF0ZUtleUp3dChhcywgY2xpZW50LCBrZXksIGtpZCwgbW9kaWZ5QXNzZXJ0aW9uKSB7XG4gICAgY29uc3QgaGVhZGVyID0geyBhbGc6IGtleVRvSndzKGtleSksIGtpZCB9O1xuICAgIGNvbnN0IHBheWxvYWQgPSBjbGllbnRBc3NlcnRpb24oYXMsIGNsaWVudCk7XG4gICAgbW9kaWZ5QXNzZXJ0aW9uPy4oaGVhZGVyLCBwYXlsb2FkKTtcbiAgICByZXR1cm4gand0KGhlYWRlciwgcGF5bG9hZCwga2V5KTtcbn1cbmZ1bmN0aW9uIGFzc2VydEFzKGFzKSB7XG4gICAgaWYgKHR5cGVvZiBhcyAhPT0gJ29iamVjdCcgfHwgYXMgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJhc1wiIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoYXMuaXNzdWVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImFzLmlzc3VlclwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYXNzZXJ0Q2xpZW50KGNsaWVudCkge1xuICAgIGlmICh0eXBlb2YgY2xpZW50ICE9PSAnb2JqZWN0JyB8fCBjbGllbnQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjbGllbnRcIiBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGNsaWVudC5jbGllbnRfaWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2xpZW50LmNsaWVudF9pZFwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYXNzZXJ0Q2xpZW50U2VjcmV0KGNsaWVudFNlY3JldCkge1xuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoY2xpZW50U2VjcmV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImNsaWVudC5jbGllbnRfc2VjcmV0XCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsaWVudFNlY3JldDtcbn1cbmZ1bmN0aW9uIGFzc2VydE5vQ2xpZW50UHJpdmF0ZUtleShjbGllbnRBdXRoTWV0aG9kLCBjbGllbnRQcml2YXRlS2V5KSB7XG4gICAgaWYgKGNsaWVudFByaXZhdGVLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBcIm9wdGlvbnMuY2xpZW50UHJpdmF0ZUtleVwiIHByb3BlcnR5IG11c3Qgbm90IGJlIHByb3ZpZGVkIHdoZW4gJHtjbGllbnRBdXRoTWV0aG9kfSBjbGllbnQgYXV0aGVudGljYXRpb24gbWV0aG9kIGlzIHVzZWQuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm9DbGllbnRTZWNyZXQoY2xpZW50QXV0aE1ldGhvZCwgY2xpZW50U2VjcmV0KSB7XG4gICAgaWYgKGNsaWVudFNlY3JldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFwiY2xpZW50LmNsaWVudF9zZWNyZXRcIiBwcm9wZXJ0eSBtdXN0IG5vdCBiZSBwcm92aWRlZCB3aGVuICR7Y2xpZW50QXV0aE1ldGhvZH0gY2xpZW50IGF1dGhlbnRpY2F0aW9uIG1ldGhvZCBpcyB1c2VkLmApO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGNsaWVudEF1dGhlbnRpY2F0aW9uKGFzLCBjbGllbnQsIGJvZHksIGhlYWRlcnMsIGNsaWVudFByaXZhdGVLZXkpIHtcbiAgICBib2R5LmRlbGV0ZSgnY2xpZW50X3NlY3JldCcpO1xuICAgIGJvZHkuZGVsZXRlKCdjbGllbnRfYXNzZXJ0aW9uX3R5cGUnKTtcbiAgICBib2R5LmRlbGV0ZSgnY2xpZW50X2Fzc2VydGlvbicpO1xuICAgIHN3aXRjaCAoY2xpZW50LnRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kKSB7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICBjYXNlICdjbGllbnRfc2VjcmV0X2Jhc2ljJzoge1xuICAgICAgICAgICAgYXNzZXJ0Tm9DbGllbnRQcml2YXRlS2V5KCdjbGllbnRfc2VjcmV0X2Jhc2ljJywgY2xpZW50UHJpdmF0ZUtleSk7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnYXV0aG9yaXphdGlvbicsIGNsaWVudFNlY3JldEJhc2ljKGNsaWVudC5jbGllbnRfaWQsIGFzc2VydENsaWVudFNlY3JldChjbGllbnQuY2xpZW50X3NlY3JldCkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NsaWVudF9zZWNyZXRfcG9zdCc6IHtcbiAgICAgICAgICAgIGFzc2VydE5vQ2xpZW50UHJpdmF0ZUtleSgnY2xpZW50X3NlY3JldF9wb3N0JywgY2xpZW50UHJpdmF0ZUtleSk7XG4gICAgICAgICAgICBib2R5LnNldCgnY2xpZW50X2lkJywgY2xpZW50LmNsaWVudF9pZCk7XG4gICAgICAgICAgICBib2R5LnNldCgnY2xpZW50X3NlY3JldCcsIGFzc2VydENsaWVudFNlY3JldChjbGllbnQuY2xpZW50X3NlY3JldCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncHJpdmF0ZV9rZXlfand0Jzoge1xuICAgICAgICAgICAgYXNzZXJ0Tm9DbGllbnRTZWNyZXQoJ3ByaXZhdGVfa2V5X2p3dCcsIGNsaWVudC5jbGllbnRfc2VjcmV0KTtcbiAgICAgICAgICAgIGlmIChjbGllbnRQcml2YXRlS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm9wdGlvbnMuY2xpZW50UHJpdmF0ZUtleVwiIG11c3QgYmUgcHJvdmlkZWQgd2hlbiBcImNsaWVudC50b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZFwiIGlzIFwicHJpdmF0ZV9rZXlfand0XCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCBraWQsIG1vZGlmeUFzc2VydGlvbiB9ID0gZ2V0S2V5QW5kS2lkKGNsaWVudFByaXZhdGVLZXkpO1xuICAgICAgICAgICAgaWYgKCFpc1ByaXZhdGVLZXkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wib3B0aW9ucy5jbGllbnRQcml2YXRlS2V5LmtleVwiIG11c3QgYmUgYSBwcml2YXRlIENyeXB0b0tleScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keS5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudC5jbGllbnRfaWQpO1xuICAgICAgICAgICAgYm9keS5zZXQoJ2NsaWVudF9hc3NlcnRpb25fdHlwZScsICd1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Y2xpZW50LWFzc2VydGlvbi10eXBlOmp3dC1iZWFyZXInKTtcbiAgICAgICAgICAgIGJvZHkuc2V0KCdjbGllbnRfYXNzZXJ0aW9uJywgYXdhaXQgcHJpdmF0ZUtleUp3dChhcywgY2xpZW50LCBrZXksIGtpZCwgbW9kaWZ5QXNzZXJ0aW9uKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0bHNfY2xpZW50X2F1dGgnOlxuICAgICAgICBjYXNlICdzZWxmX3NpZ25lZF90bHNfY2xpZW50X2F1dGgnOlxuICAgICAgICBjYXNlICdub25lJzoge1xuICAgICAgICAgICAgYXNzZXJ0Tm9DbGllbnRTZWNyZXQoY2xpZW50LnRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kLCBjbGllbnQuY2xpZW50X3NlY3JldCk7XG4gICAgICAgICAgICBhc3NlcnROb0NsaWVudFByaXZhdGVLZXkoY2xpZW50LnRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kLCBjbGllbnRQcml2YXRlS2V5KTtcbiAgICAgICAgICAgIGJvZHkuc2V0KCdjbGllbnRfaWQnLCBjbGllbnQuY2xpZW50X2lkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgY2xpZW50IHRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kJyk7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gand0KGhlYWRlciwgcGF5bG9hZCwga2V5KSB7XG4gICAgaWYgKCFrZXkudXNhZ2VzLmluY2x1ZGVzKCdzaWduJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ3J5cHRvS2V5IGluc3RhbmNlcyB1c2VkIGZvciBzaWduaW5nIGFzc2VydGlvbnMgbXVzdCBpbmNsdWRlIFwic2lnblwiIGluIHRoZWlyIFwidXNhZ2VzXCInKTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSBgJHtiNjR1KGJ1ZihKU09OLnN0cmluZ2lmeShoZWFkZXIpKSl9LiR7YjY0dShidWYoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpKX1gO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGI2NHUoYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKGtleVRvU3VidGxlKGtleSksIGtleSwgYnVmKGlucHV0KSkpO1xuICAgIHJldHVybiBgJHtpbnB1dH0uJHtzaWduYXR1cmV9YDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc3N1ZVJlcXVlc3RPYmplY3QoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgcHJpdmF0ZUtleSkge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICBjb25zdCB7IGtleSwga2lkLCBtb2RpZnlBc3NlcnRpb24gfSA9IGdldEtleUFuZEtpZChwcml2YXRlS2V5KTtcbiAgICBpZiAoIWlzUHJpdmF0ZUtleShrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicHJpdmF0ZUtleS5rZXlcIiBtdXN0IGJlIGEgcHJpdmF0ZSBDcnlwdG9LZXknKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycy5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudC5jbGllbnRfaWQpO1xuICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgZ2V0Q2xvY2tTa2V3KGNsaWVudCk7XG4gICAgY29uc3QgY2xhaW1zID0ge1xuICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMocGFyYW1ldGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBqdGk6IHJhbmRvbUJ5dGVzKCksXG4gICAgICAgIGF1ZDogYXMuaXNzdWVyLFxuICAgICAgICBleHA6IG5vdyArIDYwLFxuICAgICAgICBpYXQ6IG5vdyxcbiAgICAgICAgbmJmOiBub3csXG4gICAgICAgIGlzczogY2xpZW50LmNsaWVudF9pZCxcbiAgICB9O1xuICAgIGxldCByZXNvdXJjZTtcbiAgICBpZiAocGFyYW1ldGVycy5oYXMoJ3Jlc291cmNlJykgJiZcbiAgICAgICAgKHJlc291cmNlID0gcGFyYW1ldGVycy5nZXRBbGwoJ3Jlc291cmNlJykpICYmXG4gICAgICAgIHJlc291cmNlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY2xhaW1zLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyYW1ldGVycy5nZXQoJ21heF9hZ2UnKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGFpbXMubWF4X2FnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShjbGFpbXMubWF4X2FnZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdcIm1heF9hZ2VcIiBwYXJhbWV0ZXIgbXVzdCBiZSBhIG51bWJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyYW1ldGVycy5nZXQoJ2NsYWltcycpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2xhaW1zLmNsYWltcyA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnZmFpbGVkIHRvIHBhcnNlIHRoZSBcImNsYWltc1wiIHBhcmFtZXRlciBhcyBKU09OJywgeyBjYXVzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNKc29uT2JqZWN0KGNsYWltcy5jbGFpbXMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJjbGFpbXNcIiBwYXJhbWV0ZXIgbXVzdCBiZSBhIEpTT04gd2l0aCBhIHRvcCBsZXZlbCBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcmFtZXRlcnMuZ2V0KCdhdXRob3JpemF0aW9uX2RldGFpbHMnKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNsYWltcy5hdXRob3JpemF0aW9uX2RldGFpbHMgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ2ZhaWxlZCB0byBwYXJzZSB0aGUgXCJhdXRob3JpemF0aW9uX2RldGFpbHNcIiBwYXJhbWV0ZXIgYXMgSlNPTicsIHsgY2F1c2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2xhaW1zLmF1dGhvcml6YXRpb25fZGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdcImF1dGhvcml6YXRpb25fZGV0YWlsc1wiIHBhcmFtZXRlciBtdXN0IGJlIGEgSlNPTiB3aXRoIGEgdG9wIGxldmVsIGFycmF5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgICBhbGc6IGtleVRvSndzKGtleSksXG4gICAgICAgIHR5cDogJ29hdXRoLWF1dGh6LXJlcStqd3QnLFxuICAgICAgICBraWQsXG4gICAgfTtcbiAgICBtb2RpZnlBc3NlcnRpb24/LihoZWFkZXIsIGNsYWltcyk7XG4gICAgcmV0dXJuIGp3dChoZWFkZXIsIGNsYWltcywga2V5KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRwb3BQcm9vZkp3dChoZWFkZXJzLCBvcHRpb25zLCB1cmwsIGh0bSwgY2xvY2tTa2V3LCBhY2Nlc3NUb2tlbikge1xuICAgIGNvbnN0IHsgcHJpdmF0ZUtleSwgcHVibGljS2V5LCBub25jZSA9IGRwb3BOb25jZXMuZ2V0KHVybC5vcmlnaW4pIH0gPSBvcHRpb25zO1xuICAgIGlmICghaXNQcml2YXRlS2V5KHByaXZhdGVLZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiRFBvUC5wcml2YXRlS2V5XCIgbXVzdCBiZSBhIHByaXZhdGUgQ3J5cHRvS2V5Jyk7XG4gICAgfVxuICAgIGlmICghaXNQdWJsaWNLZXkocHVibGljS2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIkRQb1AucHVibGljS2V5XCIgbXVzdCBiZSBhIHB1YmxpYyBDcnlwdG9LZXknKTtcbiAgICB9XG4gICAgaWYgKG5vbmNlICE9PSB1bmRlZmluZWQgJiYgIXZhbGlkYXRlU3RyaW5nKG5vbmNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIkRQb1Aubm9uY2VcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKCFwdWJsaWNLZXkuZXh0cmFjdGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJEUG9QLnB1YmxpY0tleS5leHRyYWN0YWJsZVwiIG11c3QgYmUgdHJ1ZScpO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBlcG9jaFRpbWUoKSArIGNsb2NrU2tldztcbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICAgIGFsZzoga2V5VG9Kd3MocHJpdmF0ZUtleSksXG4gICAgICAgIHR5cDogJ2Rwb3Arand0JyxcbiAgICAgICAgandrOiBhd2FpdCBwdWJsaWNKd2socHVibGljS2V5KSxcbiAgICB9O1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGlhdDogbm93LFxuICAgICAgICBqdGk6IHJhbmRvbUJ5dGVzKCksXG4gICAgICAgIGh0bSxcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIGh0dTogYCR7dXJsLm9yaWdpbn0ke3VybC5wYXRobmFtZX1gLFxuICAgICAgICBhdGg6IGFjY2Vzc1Rva2VuID8gYjY0dShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGJ1ZihhY2Nlc3NUb2tlbikpKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIG9wdGlvbnNbbW9kaWZ5QXNzZXJ0aW9uXT8uKGhlYWRlciwgcGF5bG9hZCk7XG4gICAgaGVhZGVycy5zZXQoJ2Rwb3AnLCBhd2FpdCBqd3QoaGVhZGVyLCBwYXlsb2FkLCBwcml2YXRlS2V5KSk7XG59XG5sZXQgandrQ2FjaGU7XG5hc3luYyBmdW5jdGlvbiBnZXRTZXRQdWJsaWNKd2tDYWNoZShrZXkpIHtcbiAgICBjb25zdCB7IGt0eSwgZSwgbiwgeCwgeSwgY3J2IH0gPSBhd2FpdCBjcnlwdG8uc3VidGxlLmV4cG9ydEtleSgnandrJywga2V5KTtcbiAgICBjb25zdCBqd2sgPSB7IGt0eSwgZSwgbiwgeCwgeSwgY3J2IH07XG4gICAgandrQ2FjaGUuc2V0KGtleSwgandrKTtcbiAgICByZXR1cm4gandrO1xufVxuYXN5bmMgZnVuY3Rpb24gcHVibGljSndrKGtleSkge1xuICAgIGp3a0NhY2hlIHx8IChqd2tDYWNoZSA9IG5ldyBXZWFrTWFwKCkpO1xuICAgIHJldHVybiBqd2tDYWNoZS5nZXQoa2V5KSB8fCBnZXRTZXRQdWJsaWNKd2tDYWNoZShrZXkpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVFbmRwb2ludCh2YWx1ZSwgZW5kcG9pbnQsIHVzZU10bHNBbGlhcykge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh1c2VNdGxzQWxpYXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFwiYXMubXRsc19lbmRwb2ludF9hbGlhc2VzLiR7ZW5kcG9pbnR9XCIgbXVzdCBiZSBhIHN0cmluZ2ApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFwiYXMuJHtlbmRwb2ludH1cIiBtdXN0IGJlIGEgc3RyaW5nYCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVVJMKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVFbmRwb2ludChhcywgZW5kcG9pbnQsIHVzZU10bHNBbGlhcyA9IGZhbHNlKSB7XG4gICAgaWYgKHVzZU10bHNBbGlhcyAmJiBhcy5tdGxzX2VuZHBvaW50X2FsaWFzZXMgJiYgZW5kcG9pbnQgaW4gYXMubXRsc19lbmRwb2ludF9hbGlhc2VzKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUVuZHBvaW50KGFzLm10bHNfZW5kcG9pbnRfYWxpYXNlc1tlbmRwb2ludF0sIGVuZHBvaW50LCB1c2VNdGxzQWxpYXMpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVFbmRwb2ludChhc1tlbmRwb2ludF0sIGVuZHBvaW50LCB1c2VNdGxzQWxpYXMpO1xufVxuZnVuY3Rpb24gYWxpYXMoY2xpZW50LCBvcHRpb25zKSB7XG4gICAgaWYgKGNsaWVudC51c2VfbXRsc19lbmRwb2ludF9hbGlhc2VzIHx8IG9wdGlvbnM/Llt1c2VNdGxzQWxpYXNdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVzaGVkQXV0aG9yaXphdGlvblJlcXVlc3QoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICdwdXNoZWRfYXV0aG9yaXphdGlvbl9yZXF1ZXN0X2VuZHBvaW50JywgYWxpYXMoY2xpZW50LCBvcHRpb25zKSk7XG4gICAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycyk7XG4gICAgYm9keS5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudC5jbGllbnRfaWQpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBwcmVwYXJlSGVhZGVycyhvcHRpb25zPy5oZWFkZXJzKTtcbiAgICBoZWFkZXJzLnNldCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICBpZiAob3B0aW9ucz8uRFBvUCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGF3YWl0IGRwb3BQcm9vZkp3dChoZWFkZXJzLCBvcHRpb25zLkRQb1AsIHVybCwgJ1BPU1QnLCBnZXRDbG9ja1NrZXcoY2xpZW50KSk7XG4gICAgfVxuICAgIHJldHVybiBhdXRoZW50aWNhdGVkUmVxdWVzdChhcywgY2xpZW50LCAnUE9TVCcsIHVybCwgYm9keSwgaGVhZGVycywgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPQXV0aDJFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUuZXJyb3IgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHVucXVvdGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID49IDIgJiYgdmFsdWVbMF0gPT09ICdcIicgJiYgdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gPT09ICdcIicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgU1BMSVRfUkVHRVhQID0gLygoPzosfCwgKT9bMC05YS16QS1aISMkJSYnKistLl5fYHx+XSs9KS87XG5jb25zdCBTQ0hFTUVTX1JFR0VYUCA9IC8oPzpefCwgPykoWzAtOWEtekEtWiEjJCUmJyorXFwtLl5fYHx+XSspKD89JHxbICxdKS9nO1xuZnVuY3Rpb24gd3d3QXV0aChzY2hlbWUsIHBhcmFtcykge1xuICAgIGNvbnN0IGFyciA9IHBhcmFtcy5zcGxpdChTUExJVF9SRUdFWFApLnNsaWNlKDEpO1xuICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4geyBzY2hlbWU6IHNjaGVtZS50b0xvd2VyQ2FzZSgpLCBwYXJhbWV0ZXJzOiB7fSB9O1xuICAgIH1cbiAgICBhcnJbYXJyLmxlbmd0aCAtIDFdID0gYXJyW2Fyci5sZW5ndGggLSAxXS5yZXBsYWNlKC8sJC8sICcnKTtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gaTtcbiAgICAgICAgaWYgKGFycltpZHhdWzBdID09PSAnXCInKSB7XG4gICAgICAgICAgICB3aGlsZSAoYXJyW2lkeF0uc2xpY2UoLTEpICE9PSAnXCInICYmICsraSA8IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhcnJbaWR4XSArPSBhcnJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gYXJyW2lkeCAtIDFdLnJlcGxhY2UoL14oPzosID8pfD0kL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBwYXJhbWV0ZXJzW2tleV0gPSB1bnF1b3RlKGFycltpZHhdKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NoZW1lOiBzY2hlbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgcGFyYW1ldGVycyxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlV3d3QXV0aGVudGljYXRlQ2hhbGxlbmdlcyhyZXNwb25zZSkge1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3d3dy1hdXRoZW50aWNhdGUnKTtcbiAgICBpZiAoaGVhZGVyID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoY29uc3QgeyAxOiBzY2hlbWUsIGluZGV4IH0gb2YgaGVhZGVyLm1hdGNoQWxsKFNDSEVNRVNfUkVHRVhQKSkge1xuICAgICAgICByZXN1bHQucHVzaChbc2NoZW1lLCBpbmRleF0pO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgY2hhbGxlbmdlcyA9IHJlc3VsdC5tYXAoKFtzY2hlbWUsIGluZGV4T2ZdLCBpLCBvdGhlcnMpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dCA9IG90aGVyc1tpICsgMV07XG4gICAgICAgIGxldCBwYXJhbWV0ZXJzO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgcGFyYW1ldGVycyA9IGhlYWRlci5zbGljZShpbmRleE9mLCBuZXh0WzFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBoZWFkZXIuc2xpY2UoaW5kZXhPZik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHd3d0F1dGgoc2NoZW1lLCBwYXJhbWV0ZXJzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2hhbGxlbmdlcztcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzUHVzaGVkQXV0aG9yaXphdGlvblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgIGxldCBlcnI7XG4gICAgICAgIGlmICgoZXJyID0gYXdhaXQgaGFuZGxlT0F1dGhCb2R5RXJyb3IocmVzcG9uc2UpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgaXMgbm90IGEgY29uZm9ybSBQdXNoZWQgQXV0aG9yaXphdGlvbiBSZXF1ZXN0IEVuZHBvaW50IHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGxldCBqc29uO1xuICAgIHRyeSB7XG4gICAgICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdmYWlsZWQgdG8gcGFyc2UgXCJyZXNwb25zZVwiIGJvZHkgYXMgSlNPTicsIHsgY2F1c2UgfSk7XG4gICAgfVxuICAgIGlmICghaXNKc29uT2JqZWN0KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IG11c3QgYmUgYSB0b3AgbGV2ZWwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoanNvbi5yZXF1ZXN0X3VyaSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJyZXF1ZXN0X3VyaVwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YganNvbi5leHBpcmVzX2luICE9PSAnbnVtYmVyJyB8fCBqc29uLmV4cGlyZXNfaW4gPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBcImV4cGlyZXNfaW5cIiBwcm9wZXJ0eSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb3RlY3RlZFJlc291cmNlUmVxdWVzdChhY2Nlc3NUb2tlbiwgbWV0aG9kLCB1cmwsIGhlYWRlcnMsIGJvZHksIG9wdGlvbnMpIHtcbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGFjY2Vzc1Rva2VuKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImFjY2Vzc1Rva2VuXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCEodXJsIGluc3RhbmNlb2YgVVJMKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInVybFwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVVJMJyk7XG4gICAgfVxuICAgIGhlYWRlcnMgPSBwcmVwYXJlSGVhZGVycyhoZWFkZXJzKTtcbiAgICBpZiAob3B0aW9ucz8uRFBvUCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhdXRob3JpemF0aW9uJywgYEJlYXJlciAke2FjY2Vzc1Rva2VufWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXdhaXQgZHBvcFByb29mSnd0KGhlYWRlcnMsIG9wdGlvbnMuRFBvUCwgdXJsLCBtZXRob2QudG9VcHBlckNhc2UoKSwgZ2V0Q2xvY2tTa2V3KHsgW2Nsb2NrU2tld106IG9wdGlvbnM/LltjbG9ja1NrZXddIH0pLCBhY2Nlc3NUb2tlbik7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhdXRob3JpemF0aW9uJywgYERQb1AgJHthY2Nlc3NUb2tlbn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIChvcHRpb25zPy5bY3VzdG9tRmV0Y2hdIHx8IGZldGNoKSh1cmwuaHJlZiwge1xuICAgICAgICBib2R5LFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHJlZGlyZWN0OiAnbWFudWFsJyxcbiAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwgPyBzaWduYWwob3B0aW9ucy5zaWduYWwpIDogbnVsbCxcbiAgICB9KS50aGVuKHByb2Nlc3NEcG9wTm9uY2UpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVzZXJJbmZvUmVxdWVzdChhcywgY2xpZW50LCBhY2Nlc3NUb2tlbiwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICd1c2VyaW5mb19lbmRwb2ludCcsIGFsaWFzKGNsaWVudCwgb3B0aW9ucykpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBwcmVwYXJlSGVhZGVycyhvcHRpb25zPy5oZWFkZXJzKTtcbiAgICBpZiAoY2xpZW50LnVzZXJpbmZvX3NpZ25lZF9yZXNwb25zZV9hbGcpIHtcbiAgICAgICAgaGVhZGVycy5zZXQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qd3QnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL2p3dCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdGVjdGVkUmVzb3VyY2VSZXF1ZXN0KGFjY2Vzc1Rva2VuLCAnR0VUJywgdXJsLCBoZWFkZXJzLCBudWxsLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIFtjbG9ja1NrZXddOiBnZXRDbG9ja1NrZXcoY2xpZW50KSxcbiAgICB9KTtcbn1cbmxldCBqd2tzTWFwO1xuZnVuY3Rpb24gc2V0Sndrc0NhY2hlKGFzLCBqd2tzLCB1YXQsIGNhY2hlKSB7XG4gICAgandrc01hcCB8fCAoandrc01hcCA9IG5ldyBXZWFrTWFwKCkpO1xuICAgIGp3a3NNYXAuc2V0KGFzLCB7XG4gICAgICAgIGp3a3MsXG4gICAgICAgIHVhdCxcbiAgICAgICAgZ2V0IGFnZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBlcG9jaFRpbWUoKSAtIHRoaXMudWF0O1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGNhY2hlLCB7IGp3a3M6IHN0cnVjdHVyZWRDbG9uZShqd2tzKSwgdWF0IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRnJlc2hKd2tzQ2FjaGUoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghKCd1YXQnIGluIGlucHV0KSB8fCB0eXBlb2YgaW5wdXQudWF0ICE9PSAnbnVtYmVyJyB8fCBlcG9jaFRpbWUoKSAtIGlucHV0LnVhdCA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISgnandrcycgaW4gaW5wdXQpIHx8XG4gICAgICAgICFpc0pzb25PYmplY3QoaW5wdXQuandrcykgfHxcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoaW5wdXQuandrcy5rZXlzKSB8fFxuICAgICAgICAhQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoaW5wdXQuandrcy5rZXlzLCBpc0pzb25PYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBjbGVhckp3a3NDYWNoZShhcywgY2FjaGUpIHtcbiAgICBqd2tzTWFwPy5kZWxldGUoYXMpO1xuICAgIGRlbGV0ZSBjYWNoZT8uandrcztcbiAgICBkZWxldGUgY2FjaGU/LnVhdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFB1YmxpY1NpZ0tleUZyb21Jc3N1ZXJKd2tzVXJpKGFzLCBvcHRpb25zLCBoZWFkZXIpIHtcbiAgICBjb25zdCB7IGFsZywga2lkIH0gPSBoZWFkZXI7XG4gICAgY2hlY2tTdXBwb3J0ZWRKd3NBbGcoYWxnKTtcbiAgICBpZiAoIWp3a3NNYXA/LmhhcyhhcykgJiYgaXNGcmVzaEp3a3NDYWNoZShvcHRpb25zPy5bandrc0NhY2hlXSkpIHtcbiAgICAgICAgc2V0Sndrc0NhY2hlKGFzLCBvcHRpb25zPy5bandrc0NhY2hlXS5qd2tzLCBvcHRpb25zPy5bandrc0NhY2hlXS51YXQpO1xuICAgIH1cbiAgICBsZXQgandrcztcbiAgICBsZXQgYWdlO1xuICAgIGlmIChqd2tzTWFwPy5oYXMoYXMpKSB7XG4gICAgICAgIDtcbiAgICAgICAgKHsgandrcywgYWdlIH0gPSBqd2tzTWFwLmdldChhcykpO1xuICAgICAgICBpZiAoYWdlID49IDMwMCkge1xuICAgICAgICAgICAgY2xlYXJKd2tzQ2FjaGUoYXMsIG9wdGlvbnM/Lltqd2tzQ2FjaGVdKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQdWJsaWNTaWdLZXlGcm9tSXNzdWVySndrc1VyaShhcywgb3B0aW9ucywgaGVhZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgandrcyA9IGF3YWl0IGp3a3NSZXF1ZXN0KGFzLCBvcHRpb25zKS50aGVuKHByb2Nlc3NKd2tzUmVzcG9uc2UpO1xuICAgICAgICBhZ2UgPSAwO1xuICAgICAgICBzZXRKd2tzQ2FjaGUoYXMsIGp3a3MsIGVwb2NoVGltZSgpLCBvcHRpb25zPy5bandrc0NhY2hlXSk7XG4gICAgfVxuICAgIGxldCBrdHk7XG4gICAgc3dpdGNoIChhbGcuc2xpY2UoMCwgMikpIHtcbiAgICAgICAgY2FzZSAnUlMnOlxuICAgICAgICBjYXNlICdQUyc6XG4gICAgICAgICAgICBrdHkgPSAnUlNBJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFUyc6XG4gICAgICAgICAgICBrdHkgPSAnRUMnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0VkJzpcbiAgICAgICAgICAgIGt0eSA9ICdPS1AnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigpO1xuICAgIH1cbiAgICBjb25zdCBjYW5kaWRhdGVzID0gandrcy5rZXlzLmZpbHRlcigoandrKSA9PiB7XG4gICAgICAgIGlmIChqd2sua3R5ICE9PSBrdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2lkICE9PSB1bmRlZmluZWQgJiYga2lkICE9PSBqd2sua2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGp3ay5hbGcgIT09IHVuZGVmaW5lZCAmJiBhbGcgIT09IGp3ay5hbGcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoandrLnVzZSAhPT0gdW5kZWZpbmVkICYmIGp3ay51c2UgIT09ICdzaWcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGp3ay5rZXlfb3BzPy5pbmNsdWRlcygndmVyaWZ5JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIGFsZyA9PT0gJ0VTMjU2JyAmJiBqd2suY3J2ICE9PSAnUC0yNTYnOlxuICAgICAgICAgICAgY2FzZSBhbGcgPT09ICdFUzM4NCcgJiYgandrLmNydiAhPT0gJ1AtMzg0JzpcbiAgICAgICAgICAgIGNhc2UgYWxnID09PSAnRVM1MTInICYmIGp3ay5jcnYgIT09ICdQLTUyMSc6XG4gICAgICAgICAgICBjYXNlIGFsZyA9PT0gJ0VkRFNBJyAmJiAhKGp3ay5jcnYgPT09ICdFZDI1NTE5JyB8fCBqd2suY3J2ID09PSAnRWQ0NDgnKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgeyAwOiBqd2ssIGxlbmd0aCB9ID0gY2FuZGlkYXRlcztcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBpZiAoYWdlID49IDYwKSB7XG4gICAgICAgICAgICBjbGVhckp3a3NDYWNoZShhcywgb3B0aW9ucz8uW2p3a3NDYWNoZV0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldFB1YmxpY1NpZ0tleUZyb21Jc3N1ZXJKd2tzVXJpKGFzLCBvcHRpb25zLCBoZWFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ2Vycm9yIHdoZW4gc2VsZWN0aW5nIGEgSldUIHZlcmlmaWNhdGlvbiBrZXksIG5vIGFwcGxpY2FibGUga2V5cyBmb3VuZCcpO1xuICAgIH1cbiAgICBpZiAobGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ2Vycm9yIHdoZW4gc2VsZWN0aW5nIGEgSldUIHZlcmlmaWNhdGlvbiBrZXksIG11bHRpcGxlIGFwcGxpY2FibGUga2V5cyBmb3VuZCwgYSBcImtpZFwiIEpXVCBIZWFkZXIgUGFyYW1ldGVyIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IGF3YWl0IGltcG9ydEp3ayhhbGcsIGp3ayk7XG4gICAgaWYgKGtleS50eXBlICE9PSAncHVibGljJykge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdqd2tzX3VyaSBtdXN0IG9ubHkgY29udGFpbiBwdWJsaWMga2V5cycpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufVxuZXhwb3J0IGNvbnN0IHNraXBTdWJqZWN0Q2hlY2sgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIGdldENvbnRlbnRUeXBlKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKT8uc3BsaXQoJzsnKVswXTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzVXNlckluZm9SZXNwb25zZShhcywgY2xpZW50LCBleHBlY3RlZFN1YmplY3QsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBpcyBub3QgYSBjb25mb3JtIFVzZXJJbmZvIEVuZHBvaW50IHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGxldCBqc29uO1xuICAgIGlmIChnZXRDb250ZW50VHlwZShyZXNwb25zZSkgPT09ICdhcHBsaWNhdGlvbi9qd3QnKSB7XG4gICAgICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB7IGNsYWltcywgand0IH0gPSBhd2FpdCB2YWxpZGF0ZUp3dChhd2FpdCByZXNwb25zZS50ZXh0KCksIGNoZWNrU2lnbmluZ0FsZ29yaXRobS5iaW5kKHVuZGVmaW5lZCwgY2xpZW50LnVzZXJpbmZvX3NpZ25lZF9yZXNwb25zZV9hbGcsIGFzLnVzZXJpbmZvX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQpLCBub1NpZ25hdHVyZUNoZWNrLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgY2xpZW50W2p3ZURlY3J5cHRdKVxuICAgICAgICAgICAgLnRoZW4odmFsaWRhdGVPcHRpb25hbEF1ZGllbmNlLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuY2xpZW50X2lkKSlcbiAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlT3B0aW9uYWxJc3N1ZXIuYmluZCh1bmRlZmluZWQsIGFzLmlzc3VlcikpO1xuICAgICAgICBqd3RSZXNwb25zZUJvZGllcy5zZXQocmVzcG9uc2UsIGp3dCk7XG4gICAgICAgIGpzb24gPSBjbGFpbXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoY2xpZW50LnVzZXJpbmZvX3NpZ25lZF9yZXNwb25zZV9hbGcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ0pXVCBVc2VySW5mbyBSZXNwb25zZSBleHBlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ2ZhaWxlZCB0byBwYXJzZSBcInJlc3BvbnNlXCIgYm9keSBhcyBKU09OJywgeyBjYXVzZSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzSnNvbk9iamVjdChqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBtdXN0IGJlIGEgdG9wIGxldmVsIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGpzb24uc3ViKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBcInN1YlwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIHN3aXRjaCAoZXhwZWN0ZWRTdWJqZWN0KSB7XG4gICAgICAgIGNhc2Ugc2tpcFN1YmplY3RDaGVjazpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVN0cmluZyhleHBlY3RlZFN1YmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJleHBlY3RlZFN1YmplY3RcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGpzb24uc3ViICE9PSBleHBlY3RlZFN1YmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIFwicmVzcG9uc2VcIiBib2R5IFwic3ViXCIgdmFsdWUnKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5hc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGVkUmVxdWVzdChhcywgY2xpZW50LCBtZXRob2QsIHVybCwgYm9keSwgaGVhZGVycywgb3B0aW9ucykge1xuICAgIGF3YWl0IGNsaWVudEF1dGhlbnRpY2F0aW9uKGFzLCBjbGllbnQsIGJvZHksIGhlYWRlcnMsIG9wdGlvbnM/LmNsaWVudFByaXZhdGVLZXkpO1xuICAgIGhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKTtcbiAgICByZXR1cm4gKG9wdGlvbnM/LltjdXN0b21GZXRjaF0gfHwgZmV0Y2gpKHVybC5ocmVmLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhoZWFkZXJzLmVudHJpZXMoKSksXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCA/IHNpZ25hbChvcHRpb25zLnNpZ25hbCkgOiBudWxsLFxuICAgIH0pLnRoZW4ocHJvY2Vzc0Rwb3BOb25jZSk7XG59XG5hc3luYyBmdW5jdGlvbiB0b2tlbkVuZHBvaW50UmVxdWVzdChhcywgY2xpZW50LCBncmFudFR5cGUsIHBhcmFtZXRlcnMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICd0b2tlbl9lbmRwb2ludCcsIGFsaWFzKGNsaWVudCwgb3B0aW9ucykpO1xuICAgIHBhcmFtZXRlcnMuc2V0KCdncmFudF90eXBlJywgZ3JhbnRUeXBlKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaGVhZGVycy5zZXQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgaWYgKG9wdGlvbnM/LkRQb1AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhd2FpdCBkcG9wUHJvb2ZKd3QoaGVhZGVycywgb3B0aW9ucy5EUG9QLCB1cmwsICdQT1NUJywgZ2V0Q2xvY2tTa2V3KGNsaWVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXV0aGVudGljYXRlZFJlcXVlc3QoYXMsIGNsaWVudCwgJ1BPU1QnLCB1cmwsIHBhcmFtZXRlcnMsIGhlYWRlcnMsIG9wdGlvbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbkdyYW50UmVxdWVzdChhcywgY2xpZW50LCByZWZyZXNoVG9rZW4sIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgaWYgKCF2YWxpZGF0ZVN0cmluZyhyZWZyZXNoVG9rZW4pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicmVmcmVzaFRva2VuXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0aW9ucz8uYWRkaXRpb25hbFBhcmFtZXRlcnMpO1xuICAgIHBhcmFtZXRlcnMuc2V0KCdyZWZyZXNoX3Rva2VuJywgcmVmcmVzaFRva2VuKTtcbiAgICByZXR1cm4gdG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgJ3JlZnJlc2hfdG9rZW4nLCBwYXJhbWV0ZXJzLCBvcHRpb25zKTtcbn1cbmNvbnN0IGlkVG9rZW5DbGFpbXMgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgand0UmVzcG9uc2VCb2RpZXMgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbGlkYXRlZElkVG9rZW5DbGFpbXMocmVmKSB7XG4gICAgaWYgKCFyZWYuaWRfdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgY2xhaW1zID0gaWRUb2tlbkNsYWltcy5nZXQocmVmKTtcbiAgICBpZiAoIWNsYWltcykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInJlZlwiIHdhcyBhbHJlYWR5IGdhcmJhZ2UgY29sbGVjdGVkIG9yIGRpZCBub3QgcmVzb2x2ZSBmcm9tIHRoZSBwcm9wZXIgc291cmNlcycpO1xuICAgIH1cbiAgICByZXR1cm4gY2xhaW1zWzBdO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlSWRUb2tlblNpZ25hdHVyZShhcywgcmVmLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGlmICghaWRUb2tlbkNsYWltcy5oYXMocmVmKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlZlwiIGRvZXMgbm90IGNvbnRhaW4gYW4gSUQgVG9rZW4gdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmUgb2YnKTtcbiAgICB9XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUsIH0gPSBpZFRva2VuQ2xhaW1zLmdldChyZWYpWzFdLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgaGVhZGVyID0gSlNPTi5wYXJzZShidWYoYjY0dShwcm90ZWN0ZWRIZWFkZXIpKSk7XG4gICAgaWYgKGhlYWRlci5hbGcuc3RhcnRzV2l0aCgnSFMnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigpO1xuICAgIH1cbiAgICBsZXQga2V5O1xuICAgIGtleSA9IGF3YWl0IGdldFB1YmxpY1NpZ0tleUZyb21Jc3N1ZXJKd2tzVXJpKGFzLCBvcHRpb25zLCBoZWFkZXIpO1xuICAgIGF3YWl0IHZhbGlkYXRlSndzU2lnbmF0dXJlKHByb3RlY3RlZEhlYWRlciwgcGF5bG9hZCwga2V5LCBiNjR1KGVuY29kZWRTaWduYXR1cmUpKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlSnd0UmVzcG9uc2VTaWduYXR1cmUoYXMsIHJlZiwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBpZiAoIWp3dFJlc3BvbnNlQm9kaWVzLmhhcyhyZWYpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVmXCIgZG9lcyBub3QgY29udGFpbiBhIHByb2Nlc3NlZCBKV1QgUmVzcG9uc2UgdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmUgb2YnKTtcbiAgICB9XG4gICAgY29uc3QgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUsIH0gPSBqd3RSZXNwb25zZUJvZGllcy5nZXQocmVmKS5zcGxpdCgnLicpO1xuICAgIGNvbnN0IGhlYWRlciA9IEpTT04ucGFyc2UoYnVmKGI2NHUocHJvdGVjdGVkSGVhZGVyKSkpO1xuICAgIGlmIChoZWFkZXIuYWxnLnN0YXJ0c1dpdGgoJ0hTJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoKTtcbiAgICB9XG4gICAgbGV0IGtleTtcbiAgICBrZXkgPSBhd2FpdCBnZXRQdWJsaWNTaWdLZXlGcm9tSXNzdWVySndrc1VyaShhcywgb3B0aW9ucywgaGVhZGVyKTtcbiAgICBhd2FpdCB2YWxpZGF0ZUp3c1NpZ25hdHVyZShwcm90ZWN0ZWRIZWFkZXIsIHBheWxvYWQsIGtleSwgYjY0dShlbmNvZGVkU2lnbmF0dXJlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVKd3RVc2VySW5mb1NpZ25hdHVyZShhcywgcmVmLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlSnd0UmVzcG9uc2VTaWduYXR1cmUoYXMsIHJlZiwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVKd3RJbnRyb3NwZWN0aW9uU2lnbmF0dXJlKGFzLCByZWYsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdmFsaWRhdGVKd3RSZXNwb25zZVNpZ25hdHVyZShhcywgcmVmLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgaWdub3JlSWRUb2tlbiA9IGZhbHNlLCBpZ25vcmVSZWZyZXNoVG9rZW4gPSBmYWxzZSkge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIWxvb3NlSW5zdGFuY2VPZihyZXNwb25zZSwgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICBsZXQgZXJyO1xuICAgICAgICBpZiAoKGVyciA9IGF3YWl0IGhhbmRsZU9BdXRoQm9keUVycm9yKHJlc3BvbnNlKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGlzIG5vdCBhIGNvbmZvcm0gVG9rZW4gRW5kcG9pbnQgcmVzcG9uc2UnKTtcbiAgICB9XG4gICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgbGV0IGpzb247XG4gICAgdHJ5IHtcbiAgICAgICAganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ2ZhaWxlZCB0byBwYXJzZSBcInJlc3BvbnNlXCIgYm9keSBhcyBKU09OJywgeyBjYXVzZSB9KTtcbiAgICB9XG4gICAgaWYgKCFpc0pzb25PYmplY3QoanNvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgbXVzdCBiZSBhIHRvcCBsZXZlbCBvYmplY3QnKTtcbiAgICB9XG4gICAgaWYgKCF2YWxpZGF0ZVN0cmluZyhqc29uLmFjY2Vzc190b2tlbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJhY2Nlc3NfdG9rZW5cIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGpzb24udG9rZW5fdHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJ0b2tlbl90eXBlXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAganNvbi50b2tlbl90eXBlID0ganNvbi50b2tlbl90eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGpzb24udG9rZW5fdHlwZSAhPT0gJ2Rwb3AnICYmIGpzb24udG9rZW5fdHlwZSAhPT0gJ2JlYXJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ3Vuc3VwcG9ydGVkIGB0b2tlbl90eXBlYCB2YWx1ZScpO1xuICAgIH1cbiAgICBpZiAoanNvbi5leHBpcmVzX2luICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKHR5cGVvZiBqc29uLmV4cGlyZXNfaW4gIT09ICdudW1iZXInIHx8IGpzb24uZXhwaXJlc19pbiA8PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBcImV4cGlyZXNfaW5cIiBwcm9wZXJ0eSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgfVxuICAgIGlmICghaWdub3JlUmVmcmVzaFRva2VuICYmXG4gICAgICAgIGpzb24ucmVmcmVzaF90b2tlbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICF2YWxpZGF0ZVN0cmluZyhqc29uLnJlZnJlc2hfdG9rZW4pKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwicmVmcmVzaF90b2tlblwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmIChqc29uLnNjb3BlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGpzb24uc2NvcGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwic2NvcGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICghaWdub3JlSWRUb2tlbikge1xuICAgICAgICBpZiAoanNvbi5pZF90b2tlbiAhPT0gdW5kZWZpbmVkICYmICF2YWxpZGF0ZVN0cmluZyhqc29uLmlkX3Rva2VuKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJpZF90b2tlblwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb24uaWRfdG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2xhaW1zLCBqd3QgfSA9IGF3YWl0IHZhbGlkYXRlSnd0KGpzb24uaWRfdG9rZW4sIGNoZWNrU2lnbmluZ0FsZ29yaXRobS5iaW5kKHVuZGVmaW5lZCwgY2xpZW50LmlkX3Rva2VuX3NpZ25lZF9yZXNwb25zZV9hbGcsIGFzLmlkX3Rva2VuX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQpLCBub1NpZ25hdHVyZUNoZWNrLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgY2xpZW50W2p3ZURlY3J5cHRdKVxuICAgICAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlUHJlc2VuY2UuYmluZCh1bmRlZmluZWQsIFsnYXVkJywgJ2V4cCcsICdpYXQnLCAnaXNzJywgJ3N1YiddKSlcbiAgICAgICAgICAgICAgICAudGhlbih2YWxpZGF0ZUlzc3Vlci5iaW5kKHVuZGVmaW5lZCwgYXMuaXNzdWVyKSlcbiAgICAgICAgICAgICAgICAudGhlbih2YWxpZGF0ZUF1ZGllbmNlLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuY2xpZW50X2lkKSk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbGFpbXMuYXVkKSAmJiBjbGFpbXMuYXVkLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChjbGFpbXMuYXpwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnSUQgVG9rZW4gXCJhdWRcIiAoYXVkaWVuY2UpIGNsYWltIGluY2x1ZGVzIGFkZGl0aW9uYWwgdW50cnVzdGVkIGF1ZGllbmNlcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xhaW1zLmF6cCAhPT0gY2xpZW50LmNsaWVudF9pZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIElEIFRva2VuIFwiYXpwXCIgKGF1dGhvcml6ZWQgcGFydHkpIGNsYWltIHZhbHVlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsYWltcy5hdXRoX3RpbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICghTnVtYmVyLmlzRmluaXRlKGNsYWltcy5hdXRoX3RpbWUpIHx8IE1hdGguc2lnbihjbGFpbXMuYXV0aF90aW1lKSAhPT0gMSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdJRCBUb2tlbiBcImF1dGhfdGltZVwiIChhdXRoZW50aWNhdGlvbiB0aW1lKSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zLnNldChqc29uLCBbY2xhaW1zLCBqd3RdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzUmVmcmVzaFRva2VuUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcHJvY2Vzc0dlbmVyaWNBY2Nlc3NUb2tlblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9uYWxBdWRpZW5jZShleHBlY3RlZCwgcmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdC5jbGFpbXMuYXVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlQXVkaWVuY2UoZXhwZWN0ZWQsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUF1ZGllbmNlKGV4cGVjdGVkLCByZXN1bHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuY2xhaW1zLmF1ZCkpIHtcbiAgICAgICAgaWYgKCFyZXN1bHQuY2xhaW1zLmF1ZC5pbmNsdWRlcyhleHBlY3RlZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3VsdC5jbGFpbXMuYXVkICE9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIEpXVCBcImF1ZFwiIChhdWRpZW5jZSkgY2xhaW0gdmFsdWUnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9uYWxJc3N1ZXIoZXhwZWN0ZWQsIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQuY2xhaW1zLmlzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUlzc3VlcihleHBlY3RlZCwgcmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlSXNzdWVyKGV4cGVjdGVkLCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0LmNsYWltcy5pc3MgIT09IGV4cGVjdGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiaXNzXCIgKGlzc3VlcikgY2xhaW0gdmFsdWUnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IGJyYW5kZWQgPSBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gYnJhbmQoc2VhcmNoUGFyYW1zKSB7XG4gICAgYnJhbmRlZC5hZGQoc2VhcmNoUGFyYW1zKTtcbiAgICByZXR1cm4gc2VhcmNoUGFyYW1zO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGNhbGxiYWNrUGFyYW1ldGVycywgcmVkaXJlY3RVcmksIGNvZGVWZXJpZmllciwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIWJyYW5kZWQuaGFzKGNhbGxiYWNrUGFyYW1ldGVycykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1BhcmFtZXRlcnNcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTFNlYXJjaFBhcmFtcyBvYnRhaW5lZCBmcm9tIFwidmFsaWRhdGVBdXRoUmVzcG9uc2UoKVwiLCBvciBcInZhbGlkYXRlSnd0QXV0aFJlc3BvbnNlKCknKTtcbiAgICB9XG4gICAgaWYgKCF2YWxpZGF0ZVN0cmluZyhyZWRpcmVjdFVyaSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZWRpcmVjdFVyaVwiIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoY29kZVZlcmlmaWVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImNvZGVWZXJpZmllclwiIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGNvbnN0IGNvZGUgPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIoY2FsbGJhY2tQYXJhbWV0ZXJzLCAnY29kZScpO1xuICAgIGlmICghY29kZSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdubyBhdXRob3JpemF0aW9uIGNvZGUgaW4gXCJjYWxsYmFja1BhcmFtZXRlcnNcIicpO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRpb25zPy5hZGRpdGlvbmFsUGFyYW1ldGVycyk7XG4gICAgcGFyYW1ldGVycy5zZXQoJ3JlZGlyZWN0X3VyaScsIHJlZGlyZWN0VXJpKTtcbiAgICBwYXJhbWV0ZXJzLnNldCgnY29kZV92ZXJpZmllcicsIGNvZGVWZXJpZmllcik7XG4gICAgcGFyYW1ldGVycy5zZXQoJ2NvZGUnLCBjb2RlKTtcbiAgICByZXR1cm4gdG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgJ2F1dGhvcml6YXRpb25fY29kZScsIHBhcmFtZXRlcnMsIG9wdGlvbnMpO1xufVxuY29uc3Qgand0Q2xhaW1OYW1lcyA9IHtcbiAgICBhdWQ6ICdhdWRpZW5jZScsXG4gICAgY19oYXNoOiAnY29kZSBoYXNoJyxcbiAgICBjbGllbnRfaWQ6ICdjbGllbnQgaWQnLFxuICAgIGV4cDogJ2V4cGlyYXRpb24gdGltZScsXG4gICAgaWF0OiAnaXNzdWVkIGF0JyxcbiAgICBpc3M6ICdpc3N1ZXInLFxuICAgIGp0aTogJ2p3dCBpZCcsXG4gICAgbm9uY2U6ICdub25jZScsXG4gICAgc19oYXNoOiAnc3RhdGUgaGFzaCcsXG4gICAgc3ViOiAnc3ViamVjdCcsXG4gICAgYXRoOiAnYWNjZXNzIHRva2VuIGhhc2gnLFxuICAgIGh0bTogJ2h0dHAgbWV0aG9kJyxcbiAgICBodHU6ICdodHRwIHVyaScsXG4gICAgY25mOiAnY29uZmlybWF0aW9uJyxcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZVByZXNlbmNlKHJlcXVpcmVkLCByZXN1bHQpIHtcbiAgICBmb3IgKGNvbnN0IGNsYWltIG9mIHJlcXVpcmVkKSB7XG4gICAgICAgIGlmIChyZXN1bHQuY2xhaW1zW2NsYWltXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKGBKV1QgXCIke2NsYWltfVwiICgke2p3dENsYWltTmFtZXNbY2xhaW1dfSkgY2xhaW0gbWlzc2luZ2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgZXhwZWN0Tm9Ob25jZSA9IFN5bWJvbCgpO1xuZXhwb3J0IGNvbnN0IHNraXBBdXRoVGltZUNoZWNrID0gU3ltYm9sKCk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT3BlbklEUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzcG9uc2UsIGV4cGVjdGVkTm9uY2UsIG1heEFnZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSk7XG4gICAgaWYgKGlzT0F1dGgyRXJyb3IocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKHJlc3VsdC5pZF90b2tlbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJpZF90b2tlblwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIG1heEFnZSA/PyAobWF4QWdlID0gY2xpZW50LmRlZmF1bHRfbWF4X2FnZSA/PyBza2lwQXV0aFRpbWVDaGVjayk7XG4gICAgY29uc3QgY2xhaW1zID0gZ2V0VmFsaWRhdGVkSWRUb2tlbkNsYWltcyhyZXN1bHQpO1xuICAgIGlmICgoY2xpZW50LnJlcXVpcmVfYXV0aF90aW1lIHx8IG1heEFnZSAhPT0gc2tpcEF1dGhUaW1lQ2hlY2spICYmXG4gICAgICAgIGNsYWltcy5hdXRoX3RpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdJRCBUb2tlbiBcImF1dGhfdGltZVwiIChhdXRoZW50aWNhdGlvbiB0aW1lKSBjbGFpbSBtaXNzaW5nJyk7XG4gICAgfVxuICAgIGlmIChtYXhBZ2UgIT09IHNraXBBdXRoVGltZUNoZWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWF4QWdlICE9PSAnbnVtYmVyJyB8fCBtYXhBZ2UgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm1heEFnZVwiIG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm93ID0gZXBvY2hUaW1lKCkgKyBnZXRDbG9ja1NrZXcoY2xpZW50KTtcbiAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KTtcbiAgICAgICAgaWYgKGNsYWltcy5hdXRoX3RpbWUgKyBtYXhBZ2UgPCBub3cgLSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3RvbyBtdWNoIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgRW5kLVVzZXIgYXV0aGVudGljYXRpb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGV4cGVjdGVkTm9uY2UpIHtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIGNhc2UgZXhwZWN0Tm9Ob25jZTpcbiAgICAgICAgICAgIGlmIChjbGFpbXMubm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSUQgVG9rZW4gXCJub25jZVwiIGNsYWltIHZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVTdHJpbmcoZXhwZWN0ZWROb25jZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4cGVjdGVkTm9uY2VcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsYWltcy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnSUQgVG9rZW4gXCJub25jZVwiIGNsYWltIG1pc3NpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbGFpbXMubm9uY2UgIT09IGV4cGVjdGVkTm9uY2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIElEIFRva2VuIFwibm9uY2VcIiBjbGFpbSB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NBdXRob3JpemF0aW9uQ29kZU9BdXRoMlJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJvY2Vzc0dlbmVyaWNBY2Nlc3NUb2tlblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlLCB0cnVlKTtcbiAgICBpZiAoaXNPQXV0aDJFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuaWRfdG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5pZF90b2tlbiA9PT0gJ3N0cmluZycgJiYgcmVzdWx0LmlkX3Rva2VuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnVW5leHBlY3RlZCBJRCBUb2tlbiByZXR1cm5lZCwgdXNlIHByb2Nlc3NBdXRob3JpemF0aW9uQ29kZU9wZW5JRFJlc3BvbnNlKCkgZm9yIE9wZW5JRCBDb25uZWN0IGNhbGxiYWNrIHByb2Nlc3NpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgcmVzdWx0LmlkX3Rva2VuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2hlY2tKd3RUeXBlKGV4cGVjdGVkLCByZXN1bHQpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdC5oZWFkZXIudHlwICE9PSAnc3RyaW5nJyB8fCBub3JtYWxpemVUeXAocmVzdWx0LmhlYWRlci50eXApICE9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIEpXVCBcInR5cFwiIGhlYWRlciBwYXJhbWV0ZXIgdmFsdWUnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGllbnRDcmVkZW50aWFsc0dyYW50UmVxdWVzdChhcywgY2xpZW50LCBwYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIHJldHVybiB0b2tlbkVuZHBvaW50UmVxdWVzdChhcywgY2xpZW50LCAnY2xpZW50X2NyZWRlbnRpYWxzJywgbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKSwgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJpY1Rva2VuRW5kcG9pbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGdyYW50VHlwZSwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGdyYW50VHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJncmFudFR5cGVcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5FbmRwb2ludFJlcXVlc3QoYXMsIGNsaWVudCwgZ3JhbnRUeXBlLCBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtZXRlcnMpLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2xpZW50Q3JlZGVudGlhbHNSZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgaWYgKGlzT0F1dGgyRXJyb3IocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldm9jYXRpb25SZXF1ZXN0KGFzLCBjbGllbnQsIHRva2VuLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghdmFsaWRhdGVTdHJpbmcodG9rZW4pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widG9rZW5cIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICdyZXZvY2F0aW9uX2VuZHBvaW50JywgYWxpYXMoY2xpZW50LCBvcHRpb25zKSk7XG4gICAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0aW9ucz8uYWRkaXRpb25hbFBhcmFtZXRlcnMpO1xuICAgIGJvZHkuc2V0KCd0b2tlbicsIHRva2VuKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaGVhZGVycy5kZWxldGUoJ2FjY2VwdCcpO1xuICAgIHJldHVybiBhdXRoZW50aWNhdGVkUmVxdWVzdChhcywgY2xpZW50LCAnUE9TVCcsIHVybCwgYm9keSwgaGVhZGVycywgb3B0aW9ucyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1Jldm9jYXRpb25SZXNwb25zZShyZXNwb25zZSkge1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIGxldCBlcnI7XG4gICAgICAgIGlmICgoZXJyID0gYXdhaXQgaGFuZGxlT0F1dGhCb2R5RXJyb3IocmVzcG9uc2UpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgaXMgbm90IGEgY29uZm9ybSBSZXZvY2F0aW9uIEVuZHBvaW50IHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBhc3NlcnRSZWFkYWJsZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBib2R5IGhhcyBiZWVuIHVzZWQgYWxyZWFkeScpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnRyb3NwZWN0aW9uUmVxdWVzdChhcywgY2xpZW50LCB0b2tlbiwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKHRva2VuKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRva2VuXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gcmVzb2x2ZUVuZHBvaW50KGFzLCAnaW50cm9zcGVjdGlvbl9lbmRwb2ludCcsIGFsaWFzKGNsaWVudCwgb3B0aW9ucykpO1xuICAgIGNvbnN0IGJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdGlvbnM/LmFkZGl0aW9uYWxQYXJhbWV0ZXJzKTtcbiAgICBib2R5LnNldCgndG9rZW4nLCB0b2tlbik7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGlmIChvcHRpb25zPy5yZXF1ZXN0Snd0UmVzcG9uc2UgPz8gY2xpZW50LmludHJvc3BlY3Rpb25fc2lnbmVkX3Jlc3BvbnNlX2FsZykge1xuICAgICAgICBoZWFkZXJzLnNldCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL3Rva2VuLWludHJvc3BlY3Rpb24rand0Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBoZWFkZXJzLnNldCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIGF1dGhlbnRpY2F0ZWRSZXF1ZXN0KGFzLCBjbGllbnQsICdQT1NUJywgdXJsLCBib2R5LCBoZWFkZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzSW50cm9zcGVjdGlvblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIGxldCBlcnI7XG4gICAgICAgIGlmICgoZXJyID0gYXdhaXQgaGFuZGxlT0F1dGhCb2R5RXJyb3IocmVzcG9uc2UpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgaXMgbm90IGEgY29uZm9ybSBJbnRyb3NwZWN0aW9uIEVuZHBvaW50IHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGxldCBqc29uO1xuICAgIGlmIChnZXRDb250ZW50VHlwZShyZXNwb25zZSkgPT09ICdhcHBsaWNhdGlvbi90b2tlbi1pbnRyb3NwZWN0aW9uK2p3dCcpIHtcbiAgICAgICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHsgY2xhaW1zLCBqd3QgfSA9IGF3YWl0IHZhbGlkYXRlSnd0KGF3YWl0IHJlc3BvbnNlLnRleHQoKSwgY2hlY2tTaWduaW5nQWxnb3JpdGhtLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuaW50cm9zcGVjdGlvbl9zaWduZWRfcmVzcG9uc2VfYWxnLCBhcy5pbnRyb3NwZWN0aW9uX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQpLCBub1NpZ25hdHVyZUNoZWNrLCBnZXRDbG9ja1NrZXcoY2xpZW50KSwgZ2V0Q2xvY2tUb2xlcmFuY2UoY2xpZW50KSwgY2xpZW50W2p3ZURlY3J5cHRdKVxuICAgICAgICAgICAgLnRoZW4oY2hlY2tKd3RUeXBlLmJpbmQodW5kZWZpbmVkLCAndG9rZW4taW50cm9zcGVjdGlvbitqd3QnKSlcbiAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlUHJlc2VuY2UuYmluZCh1bmRlZmluZWQsIFsnYXVkJywgJ2lhdCcsICdpc3MnXSkpXG4gICAgICAgICAgICAudGhlbih2YWxpZGF0ZUlzc3Vlci5iaW5kKHVuZGVmaW5lZCwgYXMuaXNzdWVyKSlcbiAgICAgICAgICAgIC50aGVuKHZhbGlkYXRlQXVkaWVuY2UuYmluZCh1bmRlZmluZWQsIGNsaWVudC5jbGllbnRfaWQpKTtcbiAgICAgICAgand0UmVzcG9uc2VCb2RpZXMuc2V0KHJlc3BvbnNlLCBqd3QpO1xuICAgICAgICBqc29uID0gY2xhaW1zLnRva2VuX2ludHJvc3BlY3Rpb247XG4gICAgICAgIGlmICghaXNKc29uT2JqZWN0KGpzb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdKV1QgXCJ0b2tlbl9pbnRyb3NwZWN0aW9uXCIgY2xhaW0gbXVzdCBiZSBhIEpTT04gb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ2ZhaWxlZCB0byBwYXJzZSBcInJlc3BvbnNlXCIgYm9keSBhcyBKU09OJywgeyBjYXVzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzSnNvbk9iamVjdChqc29uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgbXVzdCBiZSBhIHRvcCBsZXZlbCBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGpzb24uYWN0aXZlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJhY3RpdmVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbicpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGp3a3NSZXF1ZXN0KGFzLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGNvbnN0IHVybCA9IHJlc29sdmVFbmRwb2ludChhcywgJ2p3a3NfdXJpJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKG9wdGlvbnM/LmhlYWRlcnMpO1xuICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIGhlYWRlcnMuYXBwZW5kKCdhY2NlcHQnLCAnYXBwbGljYXRpb24vandrLXNldCtqc29uJyk7XG4gICAgcmV0dXJuIChvcHRpb25zPy5bY3VzdG9tRmV0Y2hdIHx8IGZldGNoKSh1cmwuaHJlZiwge1xuICAgICAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICByZWRpcmVjdDogJ21hbnVhbCcsXG4gICAgICAgIHNpZ25hbDogb3B0aW9ucz8uc2lnbmFsID8gc2lnbmFsKG9wdGlvbnMuc2lnbmFsKSA6IG51bGwsXG4gICAgfSkudGhlbihwcm9jZXNzRHBvcE5vbmNlKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NKd2tzUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBpZiAoIWxvb3NlSW5zdGFuY2VPZihyZXNwb25zZSwgUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicmVzcG9uc2VcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgaXMgbm90IGEgY29uZm9ybSBKU09OIFdlYiBLZXkgU2V0IHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIGFzc2VydFJlYWRhYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGxldCBqc29uO1xuICAgIHRyeSB7XG4gICAgICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNhdGNoIChjYXVzZSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdmYWlsZWQgdG8gcGFyc2UgXCJyZXNwb25zZVwiIGJvZHkgYXMgSlNPTicsIHsgY2F1c2UgfSk7XG4gICAgfVxuICAgIGlmICghaXNKc29uT2JqZWN0KGpzb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IG11c3QgYmUgYSB0b3AgbGV2ZWwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uLmtleXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwia2V5c1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5wcm90b3R5cGUuZXZlcnkuY2FsbChqc29uLmtleXMsIGlzSnNvbk9iamVjdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJrZXlzXCIgcHJvcGVydHkgbWVtYmVycyBtdXN0IGJlIEpXSyBmb3JtYXR0ZWQgb2JqZWN0cycpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU9BdXRoQm9keUVycm9yKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+IDM5OSAmJiByZXNwb25zZS5zdGF0dXMgPCA1MDApIHtcbiAgICAgICAgYXNzZXJ0UmVhZGFibGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKGlzSnNvbk9iamVjdChqc29uKSAmJiB0eXBlb2YganNvbi5lcnJvciA9PT0gJ3N0cmluZycgJiYganNvbi5lcnJvci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvbi5lcnJvcl9kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBqc29uLmVycm9yX2Rlc2NyaXB0aW9uICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGpzb24uZXJyb3JfdXJpICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGpzb24uZXJyb3JfdXJpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5lcnJvcl91cmk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChqc29uLmFsZ3MgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YganNvbi5hbGdzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5hbGdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoanNvbi5zY29wZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBqc29uLnNjb3BlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5zY29wZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggeyB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBjaGVja1N1cHBvcnRlZEp3c0FsZyhhbGcpIHtcbiAgICBpZiAoIVNVUFBPUlRFRF9KV1NfQUxHUy5pbmNsdWRlcyhhbGcpKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV1MgXCJhbGdcIiBpZGVudGlmaWVyJyk7XG4gICAgfVxuICAgIHJldHVybiBhbGc7XG59XG5mdW5jdGlvbiBjaGVja1JzYUtleUFsZ29yaXRobShhbGdvcml0aG0pIHtcbiAgICBpZiAodHlwZW9mIGFsZ29yaXRobS5tb2R1bHVzTGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBhbGdvcml0aG0ubW9kdWx1c0xlbmd0aCA8IDIwNDgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRShgJHthbGdvcml0aG0ubmFtZX0gbW9kdWx1c0xlbmd0aCBtdXN0IGJlIGF0IGxlYXN0IDIwNDggYml0c2ApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVjZHNhSGFzaE5hbWUobmFtZWRDdXJ2ZSkge1xuICAgIHN3aXRjaCAobmFtZWRDdXJ2ZSkge1xuICAgICAgICBjYXNlICdQLTI1Nic6XG4gICAgICAgICAgICByZXR1cm4gJ1NIQS0yNTYnO1xuICAgICAgICBjYXNlICdQLTM4NCc6XG4gICAgICAgICAgICByZXR1cm4gJ1NIQS0zODQnO1xuICAgICAgICBjYXNlICdQLTUyMSc6XG4gICAgICAgICAgICByZXR1cm4gJ1NIQS01MTInO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBrZXlUb1N1YnRsZShrZXkpIHtcbiAgICBzd2l0Y2ggKGtleS5hbGdvcml0aG0ubmFtZSkge1xuICAgICAgICBjYXNlICdFQ0RTQSc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGtleS5hbGdvcml0aG0ubmFtZSxcbiAgICAgICAgICAgICAgICBoYXNoOiBlY2RzYUhhc2hOYW1lKGtleS5hbGdvcml0aG0ubmFtZWRDdXJ2ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdSU0EtUFNTJzoge1xuICAgICAgICAgICAgY2hlY2tSc2FLZXlBbGdvcml0aG0oa2V5LmFsZ29yaXRobSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleS5hbGdvcml0aG0uaGFzaC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnU0hBLTI1Nic6XG4gICAgICAgICAgICAgICAgY2FzZSAnU0hBLTM4NCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnU0hBLTUxMic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXkuYWxnb3JpdGhtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzYWx0TGVuZ3RoOiBwYXJzZUludChrZXkuYWxnb3JpdGhtLmhhc2gubmFtZS5zbGljZSgtMyksIDEwKSA+PiAzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnUlNBU1NBLVBLQ1MxLXYxXzUnOlxuICAgICAgICAgICAgY2hlY2tSc2FLZXlBbGdvcml0aG0oa2V5LmFsZ29yaXRobSk7XG4gICAgICAgICAgICByZXR1cm4ga2V5LmFsZ29yaXRobS5uYW1lO1xuICAgICAgICBjYXNlICdFZDQ0OCc6XG4gICAgICAgIGNhc2UgJ0VkMjU1MTknOlxuICAgICAgICAgICAgcmV0dXJuIGtleS5hbGdvcml0aG0ubmFtZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoKTtcbn1cbmNvbnN0IG5vU2lnbmF0dXJlQ2hlY2sgPSBTeW1ib2woKTtcbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlSndzU2lnbmF0dXJlKHByb3RlY3RlZEhlYWRlciwgcGF5bG9hZCwga2V5LCBzaWduYXR1cmUpIHtcbiAgICBjb25zdCBpbnB1dCA9IGAke3Byb3RlY3RlZEhlYWRlcn0uJHtwYXlsb2FkfWA7XG4gICAgY29uc3QgdmVyaWZpZWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnZlcmlmeShrZXlUb1N1YnRsZShrZXkpLCBrZXksIHNpZ25hdHVyZSwgYnVmKGlucHV0KSk7XG4gICAgaWYgKCF2ZXJpZmllZCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdKV1Qgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWQnKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUp3dChqd3MsIGNoZWNrQWxnLCBnZXRLZXksIGNsb2NrU2tldywgY2xvY2tUb2xlcmFuY2UsIGRlY3J5cHRKd3QpIHtcbiAgICBsZXQgeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUsIGxlbmd0aCB9ID0gandzLnNwbGl0KCcuJyk7XG4gICAgaWYgKGxlbmd0aCA9PT0gNSkge1xuICAgICAgICBpZiAoZGVjcnlwdEp3dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBqd3MgPSBhd2FpdCBkZWNyeXB0Snd0KGp3cyk7XG4gICAgICAgICAgICAoeyAwOiBwcm90ZWN0ZWRIZWFkZXIsIDE6IHBheWxvYWQsIDI6IGVuY29kZWRTaWduYXR1cmUsIGxlbmd0aCB9ID0gandzLnNwbGl0KCcuJykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoJ0pXRSBzdHJ1Y3R1cmUgSldUcyBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsZW5ndGggIT09IDMpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnSW52YWxpZCBKV1QnKTtcbiAgICB9XG4gICAgbGV0IGhlYWRlcjtcbiAgICB0cnkge1xuICAgICAgICBoZWFkZXIgPSBKU09OLnBhcnNlKGJ1ZihiNjR1KHByb3RlY3RlZEhlYWRlcikpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ2ZhaWxlZCB0byBwYXJzZSBKV1QgSGVhZGVyIGJvZHkgYXMgYmFzZTY0dXJsIGVuY29kZWQgSlNPTicsIHsgY2F1c2UgfSk7XG4gICAgfVxuICAgIGlmICghaXNKc29uT2JqZWN0KGhlYWRlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnSldUIEhlYWRlciBtdXN0IGJlIGEgdG9wIGxldmVsIG9iamVjdCcpO1xuICAgIH1cbiAgICBjaGVja0FsZyhoZWFkZXIpO1xuICAgIGlmIChoZWFkZXIuY3JpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiY3JpdFwiIGhlYWRlciBwYXJhbWV0ZXInKTtcbiAgICB9XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYjY0dShlbmNvZGVkU2lnbmF0dXJlKTtcbiAgICBsZXQga2V5O1xuICAgIGlmIChnZXRLZXkgIT09IG5vU2lnbmF0dXJlQ2hlY2spIHtcbiAgICAgICAga2V5ID0gYXdhaXQgZ2V0S2V5KGhlYWRlcik7XG4gICAgICAgIGF3YWl0IHZhbGlkYXRlSndzU2lnbmF0dXJlKHByb3RlY3RlZEhlYWRlciwgcGF5bG9hZCwga2V5LCBzaWduYXR1cmUpO1xuICAgIH1cbiAgICBsZXQgY2xhaW1zO1xuICAgIHRyeSB7XG4gICAgICAgIGNsYWltcyA9IEpTT04ucGFyc2UoYnVmKGI2NHUocGF5bG9hZCkpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ2ZhaWxlZCB0byBwYXJzZSBKV1QgUGF5bG9hZCBib2R5IGFzIGJhc2U2NHVybCBlbmNvZGVkIEpTT04nLCB7IGNhdXNlIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzSnNvbk9iamVjdChjbGFpbXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ0pXVCBQYXlsb2FkIG11c3QgYmUgYSB0b3AgbGV2ZWwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgY2xvY2tTa2V3O1xuICAgIGlmIChjbGFpbXMuZXhwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFpbXMuZXhwICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgndW5leHBlY3RlZCBKV1QgXCJleHBcIiAoZXhwaXJhdGlvbiB0aW1lKSBjbGFpbSB0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsYWltcy5leHAgPD0gbm93IC0gY2xvY2tUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiZXhwXCIgKGV4cGlyYXRpb24gdGltZSkgY2xhaW0gdmFsdWUsIHRpbWVzdGFtcCBpcyA8PSBub3coKScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjbGFpbXMuaWF0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFpbXMuaWF0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgndW5leHBlY3RlZCBKV1QgXCJpYXRcIiAoaXNzdWVkIGF0KSBjbGFpbSB0eXBlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNsYWltcy5pc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGNsYWltcy5pc3MgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIEpXVCBcImlzc1wiIChpc3N1ZXIpIGNsYWltIHR5cGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xhaW1zLm5iZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhaW1zLm5iZiAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwibmJmXCIgKG5vdCBiZWZvcmUpIGNsYWltIHR5cGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xhaW1zLm5iZiA+IG5vdyArIGNsb2NrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIEpXVCBcIm5iZlwiIChub3QgYmVmb3JlKSBjbGFpbSB2YWx1ZSwgdGltZXN0YW1wIGlzID4gbm93KCknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2xhaW1zLmF1ZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhaW1zLmF1ZCAhPT0gJ3N0cmluZycgJiYgIUFycmF5LmlzQXJyYXkoY2xhaW1zLmF1ZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSB0eXBlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgaGVhZGVyLCBjbGFpbXMsIHNpZ25hdHVyZSwga2V5LCBqd3Q6IGp3cyB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlSnd0QXV0aFJlc3BvbnNlKGFzLCBjbGllbnQsIHBhcmFtZXRlcnMsIGV4cGVjdGVkU3RhdGUsIG9wdGlvbnMpIHtcbiAgICBhc3NlcnRBcyhhcyk7XG4gICAgYXNzZXJ0Q2xpZW50KGNsaWVudCk7XG4gICAgaWYgKHBhcmFtZXRlcnMgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnMuc2VhcmNoUGFyYW1zO1xuICAgIH1cbiAgICBpZiAoIShwYXJhbWV0ZXJzIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInBhcmFtZXRlcnNcIiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFVSTFNlYXJjaFBhcmFtcywgb3IgVVJMJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gZ2V0VVJMU2VhcmNoUGFyYW1ldGVyKHBhcmFtZXRlcnMsICdyZXNwb25zZScpO1xuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJwYXJhbWV0ZXJzXCIgZG9lcyBub3QgY29udGFpbiBhIEpBUk0gcmVzcG9uc2UnKTtcbiAgICB9XG4gICAgY29uc3QgeyBjbGFpbXMgfSA9IGF3YWl0IHZhbGlkYXRlSnd0KHJlc3BvbnNlLCBjaGVja1NpZ25pbmdBbGdvcml0aG0uYmluZCh1bmRlZmluZWQsIGNsaWVudC5hdXRob3JpemF0aW9uX3NpZ25lZF9yZXNwb25zZV9hbGcsIGFzLmF1dGhvcml6YXRpb25fc2lnbmluZ19hbGdfdmFsdWVzX3N1cHBvcnRlZCksIGdldFB1YmxpY1NpZ0tleUZyb21Jc3N1ZXJKd2tzVXJpLmJpbmQodW5kZWZpbmVkLCBhcywgb3B0aW9ucyksIGdldENsb2NrU2tldyhjbGllbnQpLCBnZXRDbG9ja1RvbGVyYW5jZShjbGllbnQpLCBjbGllbnRbandlRGVjcnlwdF0pXG4gICAgICAgIC50aGVuKHZhbGlkYXRlUHJlc2VuY2UuYmluZCh1bmRlZmluZWQsIFsnYXVkJywgJ2V4cCcsICdpc3MnXSkpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlSXNzdWVyLmJpbmQodW5kZWZpbmVkLCBhcy5pc3N1ZXIpKVxuICAgICAgICAudGhlbih2YWxpZGF0ZUF1ZGllbmNlLmJpbmQodW5kZWZpbmVkLCBjbGllbnQuY2xpZW50X2lkKSk7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNsYWltcykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYga2V5ICE9PSAnYXVkJykge1xuICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgcmVzdWx0LCBleHBlY3RlZFN0YXRlKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGlkVG9rZW5IYXNoKGFsZywgZGF0YSwga2V5KSB7XG4gICAgbGV0IGFsZ29yaXRobTtcbiAgICBzd2l0Y2ggKGFsZykge1xuICAgICAgICBjYXNlICdSUzI1Nic6XG4gICAgICAgIGNhc2UgJ1BTMjU2JzpcbiAgICAgICAgY2FzZSAnRVMyNTYnOlxuICAgICAgICAgICAgYWxnb3JpdGhtID0gJ1NIQS0yNTYnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1JTMzg0JzpcbiAgICAgICAgY2FzZSAnUFMzODQnOlxuICAgICAgICBjYXNlICdFUzM4NCc6XG4gICAgICAgICAgICBhbGdvcml0aG0gPSAnU0hBLTM4NCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUlM1MTInOlxuICAgICAgICBjYXNlICdQUzUxMic6XG4gICAgICAgIGNhc2UgJ0VTNTEyJzpcbiAgICAgICAgICAgIGFsZ29yaXRobSA9ICdTSEEtNTEyJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFZERTQSc6XG4gICAgICAgICAgICBpZiAoa2V5LmFsZ29yaXRobS5uYW1lID09PSAnRWQyNTUxOScpIHtcbiAgICAgICAgICAgICAgICBhbGdvcml0aG0gPSAnU0hBLTUxMic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoKTtcbiAgICB9XG4gICAgY29uc3QgZGlnZXN0ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoYWxnb3JpdGhtLCBidWYoZGF0YSkpO1xuICAgIHJldHVybiBiNjR1KGRpZ2VzdC5zbGljZSgwLCBkaWdlc3QuYnl0ZUxlbmd0aCAvIDIpKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGlkVG9rZW5IYXNoTWF0Y2hlcyhkYXRhLCBhY3R1YWwsIGFsZywga2V5KSB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBhd2FpdCBpZFRva2VuSGFzaChhbGcsIGRhdGEsIGtleSk7XG4gICAgcmV0dXJuIGFjdHVhbCA9PT0gZXhwZWN0ZWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVEZXRhY2hlZFNpZ25hdHVyZVJlc3BvbnNlKGFzLCBjbGllbnQsIHBhcmFtZXRlcnMsIGV4cGVjdGVkTm9uY2UsIGV4cGVjdGVkU3RhdGUsIG1heEFnZSwgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAocGFyYW1ldGVycyBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgICBpZiAoIXBhcmFtZXRlcnMuaGFzaC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicGFyYW1ldGVyc1wiIGFzIGFuIGluc3RhbmNlIG9mIFVSTCBtdXN0IGNvbnRhaW4gYSBoYXNoIChmcmFnbWVudCkgd2l0aCB0aGUgQXV0aG9yaXphdGlvbiBSZXNwb25zZSBwYXJhbWV0ZXJzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycy5oYXNoLnNsaWNlKDEpKTtcbiAgICB9XG4gICAgaWYgKCEocGFyYW1ldGVycyBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJwYXJhbWV0ZXJzXCIgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBVUkxTZWFyY2hQYXJhbXMnKTtcbiAgICB9XG4gICAgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1ldGVycyk7XG4gICAgY29uc3QgaWRfdG9rZW4gPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ2lkX3Rva2VuJyk7XG4gICAgcGFyYW1ldGVycy5kZWxldGUoJ2lkX3Rva2VuJyk7XG4gICAgc3dpdGNoIChleHBlY3RlZFN0YXRlKSB7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICBjYXNlIGV4cGVjdE5vU3RhdGU6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVTdHJpbmcoZXhwZWN0ZWRTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4cGVjdGVkU3RhdGVcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUF1dGhSZXNwb25zZSh7XG4gICAgICAgIC4uLmFzLFxuICAgICAgICBhdXRob3JpemF0aW9uX3Jlc3BvbnNlX2lzc19wYXJhbWV0ZXJfc3VwcG9ydGVkOiBmYWxzZSxcbiAgICB9LCBjbGllbnQsIHBhcmFtZXRlcnMsIGV4cGVjdGVkU3RhdGUpO1xuICAgIGlmIChpc09BdXRoMkVycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKCFpZF90b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInBhcmFtZXRlcnNcIiBkb2VzIG5vdCBjb250YWluIGFuIElEIFRva2VuJyk7XG4gICAgfVxuICAgIGNvbnN0IGNvZGUgPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ2NvZGUnKTtcbiAgICBpZiAoIWNvZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJwYXJhbWV0ZXJzXCIgZG9lcyBub3QgY29udGFpbiBhbiBBdXRob3JpemF0aW9uIENvZGUnKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWlyZWRDbGFpbXMgPSBbXG4gICAgICAgICdhdWQnLFxuICAgICAgICAnZXhwJyxcbiAgICAgICAgJ2lhdCcsXG4gICAgICAgICdpc3MnLFxuICAgICAgICAnc3ViJyxcbiAgICAgICAgJ25vbmNlJyxcbiAgICAgICAgJ2NfaGFzaCcsXG4gICAgXTtcbiAgICBpZiAodHlwZW9mIGV4cGVjdGVkU3RhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJlcXVpcmVkQ2xhaW1zLnB1c2goJ3NfaGFzaCcpO1xuICAgIH1cbiAgICBjb25zdCB7IGNsYWltcywgaGVhZGVyLCBrZXkgfSA9IGF3YWl0IHZhbGlkYXRlSnd0KGlkX3Rva2VuLCBjaGVja1NpZ25pbmdBbGdvcml0aG0uYmluZCh1bmRlZmluZWQsIGNsaWVudC5pZF90b2tlbl9zaWduZWRfcmVzcG9uc2VfYWxnLCBhcy5pZF90b2tlbl9zaWduaW5nX2FsZ192YWx1ZXNfc3VwcG9ydGVkKSwgZ2V0UHVibGljU2lnS2V5RnJvbUlzc3Vlckp3a3NVcmkuYmluZCh1bmRlZmluZWQsIGFzLCBvcHRpb25zKSwgZ2V0Q2xvY2tTa2V3KGNsaWVudCksIGdldENsb2NrVG9sZXJhbmNlKGNsaWVudCksIGNsaWVudFtqd2VEZWNyeXB0XSlcbiAgICAgICAgLnRoZW4odmFsaWRhdGVQcmVzZW5jZS5iaW5kKHVuZGVmaW5lZCwgcmVxdWlyZWRDbGFpbXMpKVxuICAgICAgICAudGhlbih2YWxpZGF0ZUlzc3Vlci5iaW5kKHVuZGVmaW5lZCwgYXMuaXNzdWVyKSlcbiAgICAgICAgLnRoZW4odmFsaWRhdGVBdWRpZW5jZS5iaW5kKHVuZGVmaW5lZCwgY2xpZW50LmNsaWVudF9pZCkpO1xuICAgIGNvbnN0IGNsb2NrU2tldyA9IGdldENsb2NrU2tldyhjbGllbnQpO1xuICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgY2xvY2tTa2V3O1xuICAgIGlmIChjbGFpbXMuaWF0IDwgbm93IC0gMzYwMCkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIEpXVCBcImlhdFwiIChpc3N1ZWQgYXQpIGNsYWltIHZhbHVlLCBpdCBpcyB0b28gZmFyIGluIHRoZSBwYXN0Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2xhaW1zLmNfaGFzaCAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKGF3YWl0IGlkVG9rZW5IYXNoTWF0Y2hlcyhjb2RlLCBjbGFpbXMuY19oYXNoLCBoZWFkZXIuYWxnLCBrZXkpKSAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdpbnZhbGlkIElEIFRva2VuIFwiY19oYXNoXCIgKGNvZGUgaGFzaCkgY2xhaW0gdmFsdWUnKTtcbiAgICB9XG4gICAgaWYgKGNsYWltcy5zX2hhc2ggIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZXhwZWN0ZWRTdGF0ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnY291bGQgbm90IHZlcmlmeSBJRCBUb2tlbiBcInNfaGFzaFwiIChzdGF0ZSBoYXNoKSBjbGFpbSB2YWx1ZScpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGV4cGVjdGVkU3RhdGUgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICh0eXBlb2YgY2xhaW1zLnNfaGFzaCAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChhd2FpdCBpZFRva2VuSGFzaE1hdGNoZXMoZXhwZWN0ZWRTdGF0ZSwgY2xhaW1zLnNfaGFzaCwgaGVhZGVyLmFsZywga2V5KSkgIT09IHRydWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ2ludmFsaWQgSUQgVG9rZW4gXCJzX2hhc2hcIiAoc3RhdGUgaGFzaCkgY2xhaW0gdmFsdWUnKTtcbiAgICB9XG4gICAgaWYgKGNsYWltcy5hdXRoX3RpbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAoIU51bWJlci5pc0Zpbml0ZShjbGFpbXMuYXV0aF90aW1lKSB8fCBNYXRoLnNpZ24oY2xhaW1zLmF1dGhfdGltZSkgIT09IDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ0lEIFRva2VuIFwiYXV0aF90aW1lXCIgKGF1dGhlbnRpY2F0aW9uIHRpbWUpIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICB9XG4gICAgbWF4QWdlID8/IChtYXhBZ2UgPSBjbGllbnQuZGVmYXVsdF9tYXhfYWdlID8/IHNraXBBdXRoVGltZUNoZWNrKTtcbiAgICBpZiAoKGNsaWVudC5yZXF1aXJlX2F1dGhfdGltZSB8fCBtYXhBZ2UgIT09IHNraXBBdXRoVGltZUNoZWNrKSAmJlxuICAgICAgICBjbGFpbXMuYXV0aF90aW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnSUQgVG9rZW4gXCJhdXRoX3RpbWVcIiAoYXV0aGVudGljYXRpb24gdGltZSkgY2xhaW0gbWlzc2luZycpO1xuICAgIH1cbiAgICBpZiAobWF4QWdlICE9PSBza2lwQXV0aFRpbWVDaGVjaykge1xuICAgICAgICBpZiAodHlwZW9mIG1heEFnZSAhPT0gJ251bWJlcicgfHwgbWF4QWdlIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJtYXhBZ2VcIiBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vdyA9IGVwb2NoVGltZSgpICsgZ2V0Q2xvY2tTa2V3KGNsaWVudCk7XG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IGdldENsb2NrVG9sZXJhbmNlKGNsaWVudCk7XG4gICAgICAgIGlmIChjbGFpbXMuYXV0aF90aW1lICsgbWF4QWdlIDwgbm93IC0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd0b28gbXVjaCB0aW1lIGhhcyBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IEVuZC1Vc2VyIGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF2YWxpZGF0ZVN0cmluZyhleHBlY3RlZE5vbmNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4cGVjdGVkTm9uY2VcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoY2xhaW1zLm5vbmNlICE9PSBleHBlY3RlZE5vbmNlKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSUQgVG9rZW4gXCJub25jZVwiIGNsYWltIHZhbHVlJyk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNsYWltcy5hdWQpICYmIGNsYWltcy5hdWQubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIGlmIChjbGFpbXMuYXpwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ0lEIFRva2VuIFwiYXVkXCIgKGF1ZGllbmNlKSBjbGFpbSBpbmNsdWRlcyBhZGRpdGlvbmFsIHVudHJ1c3RlZCBhdWRpZW5jZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xhaW1zLmF6cCAhPT0gY2xpZW50LmNsaWVudF9pZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgndW5leHBlY3RlZCBJRCBUb2tlbiBcImF6cFwiIChhdXRob3JpemVkIHBhcnR5KSBjbGFpbSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjaGVja1NpZ25pbmdBbGdvcml0aG0oY2xpZW50LCBpc3N1ZXIsIGhlYWRlcikge1xuICAgIGlmIChjbGllbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaGVhZGVyLmFsZyAhPT0gY2xpZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCd1bmV4cGVjdGVkIEpXVCBcImFsZ1wiIGhlYWRlciBwYXJhbWV0ZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGlzc3VlcikpIHtcbiAgICAgICAgaWYgKCFpc3N1ZXIuaW5jbHVkZXMoaGVhZGVyLmFsZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiYWxnXCIgaGVhZGVyIHBhcmFtZXRlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGhlYWRlci5hbGcgIT09ICdSUzI1NicpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgndW5leHBlY3RlZCBKV1QgXCJhbGdcIiBoZWFkZXIgcGFyYW1ldGVyJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VVJMU2VhcmNoUGFyYW1ldGVyKHBhcmFtZXRlcnMsIG5hbWUpIHtcbiAgICBjb25zdCB7IDA6IHZhbHVlLCBsZW5ndGggfSA9IHBhcmFtZXRlcnMuZ2V0QWxsKG5hbWUpO1xuICAgIGlmIChsZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoYFwiJHtuYW1lfVwiIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9ubHkgb25jZWApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgY29uc3Qgc2tpcFN0YXRlQ2hlY2sgPSBTeW1ib2woKTtcbmV4cG9ydCBjb25zdCBleHBlY3ROb1N0YXRlID0gU3ltYm9sKCk7XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgZXhwZWN0ZWRTdGF0ZSkge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBpZiAocGFyYW1ldGVycyBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVycy5zZWFyY2hQYXJhbXM7XG4gICAgfVxuICAgIGlmICghKHBhcmFtZXRlcnMgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicGFyYW1ldGVyc1wiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgVVJMU2VhcmNoUGFyYW1zLCBvciBVUkwnKTtcbiAgICB9XG4gICAgaWYgKGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAncmVzcG9uc2UnKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInBhcmFtZXRlcnNcIiBjb250YWlucyBhIEpBUk0gcmVzcG9uc2UsIHVzZSB2YWxpZGF0ZUp3dEF1dGhSZXNwb25zZSgpIGluc3RlYWQgb2YgdmFsaWRhdGVBdXRoUmVzcG9uc2UoKScpO1xuICAgIH1cbiAgICBjb25zdCBpc3MgPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ2lzcycpO1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0VVJMU2VhcmNoUGFyYW1ldGVyKHBhcmFtZXRlcnMsICdzdGF0ZScpO1xuICAgIGlmICghaXNzICYmIGFzLmF1dGhvcml6YXRpb25fcmVzcG9uc2VfaXNzX3BhcmFtZXRlcl9zdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgncmVzcG9uc2UgcGFyYW1ldGVyIFwiaXNzXCIgKGlzc3VlcikgbWlzc2luZycpO1xuICAgIH1cbiAgICBpZiAoaXNzICYmIGlzcyAhPT0gYXMuaXNzdWVyKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgXCJpc3NcIiAoaXNzdWVyKSByZXNwb25zZSBwYXJhbWV0ZXIgdmFsdWUnKTtcbiAgICB9XG4gICAgc3dpdGNoIChleHBlY3RlZFN0YXRlKSB7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICBjYXNlIGV4cGVjdE5vU3RhdGU6XG4gICAgICAgICAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgXCJzdGF0ZVwiIHJlc3BvbnNlIHBhcmFtZXRlciBlbmNvdW50ZXJlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2Ugc2tpcFN0YXRlQ2hlY2s6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVTdHJpbmcoZXhwZWN0ZWRTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdcImV4cGVjdGVkU3RhdGVcIiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdyZXNwb25zZSBwYXJhbWV0ZXIgXCJzdGF0ZVwiIG1pc3NpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gZXhwZWN0ZWRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgXCJzdGF0ZVwiIHJlc3BvbnNlIHBhcmFtZXRlciB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlcnJvciA9IGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAnZXJyb3InKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IGdldFVSTFNlYXJjaFBhcmFtZXRlcihwYXJhbWV0ZXJzLCAnZXJyb3JfZGVzY3JpcHRpb24nKSxcbiAgICAgICAgICAgIGVycm9yX3VyaTogZ2V0VVJMU2VhcmNoUGFyYW1ldGVyKHBhcmFtZXRlcnMsICdlcnJvcl91cmknKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaWRfdG9rZW4gPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ2lkX3Rva2VuJyk7XG4gICAgY29uc3QgdG9rZW4gPSBnZXRVUkxTZWFyY2hQYXJhbWV0ZXIocGFyYW1ldGVycywgJ3Rva2VuJyk7XG4gICAgaWYgKGlkX3Rva2VuICE9PSB1bmRlZmluZWQgfHwgdG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcignaW1wbGljaXQgYW5kIGh5YnJpZCBmbG93cyBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gYnJhbmQobmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbWV0ZXJzKSk7XG59XG5mdW5jdGlvbiBhbGdUb1N1YnRsZShhbGcsIGNydikge1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ1BTMjU2JzpcbiAgICAgICAgY2FzZSAnUFMzODQnOlxuICAgICAgICBjYXNlICdQUzUxMic6XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnUlNBLVBTUycsIGhhc2g6IGBTSEEtJHthbGcuc2xpY2UoLTMpfWAgfTtcbiAgICAgICAgY2FzZSAnUlMyNTYnOlxuICAgICAgICBjYXNlICdSUzM4NCc6XG4gICAgICAgIGNhc2UgJ1JTNTEyJzpcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6ICdSU0FTU0EtUEtDUzEtdjFfNScsIGhhc2g6IGBTSEEtJHthbGcuc2xpY2UoLTMpfWAgfTtcbiAgICAgICAgY2FzZSAnRVMyNTYnOlxuICAgICAgICBjYXNlICdFUzM4NCc6XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnRUNEU0EnLCBuYW1lZEN1cnZlOiBgUC0ke2FsZy5zbGljZSgtMyl9YCB9O1xuICAgICAgICBjYXNlICdFUzUxMic6XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiAnRUNEU0EnLCBuYW1lZEN1cnZlOiAnUC01MjEnIH07XG4gICAgICAgIGNhc2UgJ0VkRFNBJzoge1xuICAgICAgICAgICAgc3dpdGNoIChjcnYpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdFZDI1NTE5JzpcbiAgICAgICAgICAgICAgICBjYXNlICdFZDQ0OCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnY7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXJyb3IoKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBpbXBvcnRKd2soYWxnLCBqd2spIHtcbiAgICBjb25zdCB7IGV4dCwga2V5X29wcywgdXNlLCAuLi5rZXkgfSA9IGp3aztcbiAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ2p3aycsIGtleSwgYWxnVG9TdWJ0bGUoYWxnLCBqd2suY3J2KSwgdHJ1ZSwgWyd2ZXJpZnknXSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGV2aWNlQXV0aG9yaXphdGlvblJlcXVlc3QoYXMsIGNsaWVudCwgcGFyYW1ldGVycywgb3B0aW9ucykge1xuICAgIGFzc2VydEFzKGFzKTtcbiAgICBhc3NlcnRDbGllbnQoY2xpZW50KTtcbiAgICBjb25zdCB1cmwgPSByZXNvbHZlRW5kcG9pbnQoYXMsICdkZXZpY2VfYXV0aG9yaXphdGlvbl9lbmRwb2ludCcsIGFsaWFzKGNsaWVudCwgb3B0aW9ucykpO1xuICAgIGNvbnN0IGJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtZXRlcnMpO1xuICAgIGJvZHkuc2V0KCdjbGllbnRfaWQnLCBjbGllbnQuY2xpZW50X2lkKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcHJlcGFyZUhlYWRlcnMob3B0aW9ucz8uaGVhZGVycyk7XG4gICAgaGVhZGVycy5zZXQoJ2FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgcmV0dXJuIGF1dGhlbnRpY2F0ZWRSZXF1ZXN0KGFzLCBjbGllbnQsICdQT1NUJywgdXJsLCBib2R5LCBoZWFkZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGV2aWNlQXV0aG9yaXphdGlvblJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlc3BvbnNlLCBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJyZXNwb25zZVwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVzcG9uc2UnKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIGxldCBlcnI7XG4gICAgICAgIGlmICgoZXJyID0gYXdhaXQgaGFuZGxlT0F1dGhCb2R5RXJyb3IocmVzcG9uc2UpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgaXMgbm90IGEgY29uZm9ybSBEZXZpY2UgQXV0aG9yaXphdGlvbiBFbmRwb2ludCByZXNwb25zZScpO1xuICAgIH1cbiAgICBhc3NlcnRSZWFkYWJsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICBsZXQganNvbjtcbiAgICB0cnkge1xuICAgICAgICBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnZmFpbGVkIHRvIHBhcnNlIFwicmVzcG9uc2VcIiBib2R5IGFzIEpTT04nLCB7IGNhdXNlIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzSnNvbk9iamVjdChqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBtdXN0IGJlIGEgdG9wIGxldmVsIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGpzb24uZGV2aWNlX2NvZGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wicmVzcG9uc2VcIiBib2R5IFwiZGV2aWNlX2NvZGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGpzb24udXNlcl9jb2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBcInVzZXJfY29kZVwiIHByb3BlcnR5IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoanNvbi52ZXJpZmljYXRpb25fdXJpKSkge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdcInJlc3BvbnNlXCIgYm9keSBcInZlcmlmaWNhdGlvbl91cmlcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGpzb24uZXhwaXJlc19pbiAhPT0gJ251bWJlcicgfHwganNvbi5leHBpcmVzX2luIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJleHBpcmVzX2luXCIgcHJvcGVydHkgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICAgIH1cbiAgICBpZiAoanNvbi52ZXJpZmljYXRpb25fdXJpX2NvbXBsZXRlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgIXZhbGlkYXRlU3RyaW5nKGpzb24udmVyaWZpY2F0aW9uX3VyaV9jb21wbGV0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJ2ZXJpZmljYXRpb25fdXJpX2NvbXBsZXRlXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKGpzb24uaW50ZXJ2YWwgIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIGpzb24uaW50ZXJ2YWwgIT09ICdudW1iZXInIHx8IGpzb24uaW50ZXJ2YWwgPD0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXNwb25zZVwiIGJvZHkgXCJpbnRlcnZhbFwiIHByb3BlcnR5IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGV2aWNlQ29kZUdyYW50UmVxdWVzdChhcywgY2xpZW50LCBkZXZpY2VDb2RlLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGFzc2VydENsaWVudChjbGllbnQpO1xuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoZGV2aWNlQ29kZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJkZXZpY2VDb2RlXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0aW9ucz8uYWRkaXRpb25hbFBhcmFtZXRlcnMpO1xuICAgIHBhcmFtZXRlcnMuc2V0KCdkZXZpY2VfY29kZScsIGRldmljZUNvZGUpO1xuICAgIHJldHVybiB0b2tlbkVuZHBvaW50UmVxdWVzdChhcywgY2xpZW50LCAndXJuOmlldGY6cGFyYW1zOm9hdXRoOmdyYW50LXR5cGU6ZGV2aWNlX2NvZGUnLCBwYXJhbWV0ZXJzLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRGV2aWNlQ29kZVJlc3BvbnNlKGFzLCBjbGllbnQsIHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NHZW5lcmljQWNjZXNzVG9rZW5SZXNwb25zZShhcywgY2xpZW50LCByZXNwb25zZSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVLZXlQYWlyKGFsZywgb3B0aW9ucykge1xuICAgIGlmICghdmFsaWRhdGVTdHJpbmcoYWxnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImFsZ1wiIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGNvbnN0IGFsZ29yaXRobSA9IGFsZ1RvU3VidGxlKGFsZywgYWxnID09PSAnRWREU0EnID8gKG9wdGlvbnM/LmNydiA/PyAnRWQyNTUxOScpIDogdW5kZWZpbmVkKTtcbiAgICBpZiAoYWxnLnN0YXJ0c1dpdGgoJ1BTJykgfHwgYWxnLnN0YXJ0c1dpdGgoJ1JTJykpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhbGdvcml0aG0sIHtcbiAgICAgICAgICAgIG1vZHVsdXNMZW5ndGg6IG9wdGlvbnM/Lm1vZHVsdXNMZW5ndGggPz8gMjA0OCxcbiAgICAgICAgICAgIHB1YmxpY0V4cG9uZW50OiBuZXcgVWludDhBcnJheShbMHgwMSwgMHgwMCwgMHgwMV0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoYWxnb3JpdGhtLCBvcHRpb25zPy5leHRyYWN0YWJsZSA/PyBmYWxzZSwgW1xuICAgICAgICAnc2lnbicsXG4gICAgICAgICd2ZXJpZnknLFxuICAgIF0pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSHR1KGh0dSkge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoaHR1KTtcbiAgICB1cmwuc2VhcmNoID0gJyc7XG4gICAgdXJsLmhhc2ggPSAnJztcbiAgICByZXR1cm4gdXJsLmhyZWY7XG59XG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZURQb1AoYXMsIHJlcXVlc3QsIGFjY2Vzc1Rva2VuLCBhY2Nlc3NUb2tlbkNsYWltcywgb3B0aW9ucykge1xuICAgIGNvbnN0IGhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2Rwb3AnKTtcbiAgICBpZiAoaGVhZGVyID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ29wZXJhdGlvbiBpbmRpY2F0ZWQgRFBvUCB1c2UgYnV0IHRoZSByZXF1ZXN0IGhhcyBubyBEUG9QIEhUVFAgSGVhZGVyJyk7XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnZHBvcCAnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRShgb3BlcmF0aW9uIGluZGljYXRlZCBEUG9QIHVzZSBidXQgdGhlIHJlcXVlc3QncyBBdXRob3JpemF0aW9uIEhUVFAgSGVhZGVyIHNjaGVtZSBpcyBub3QgRFBvUGApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFjY2Vzc1Rva2VuQ2xhaW1zLmNuZj8uamt0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdvcGVyYXRpb24gaW5kaWNhdGVkIERQb1AgdXNlIGJ1dCB0aGUgSldUIEFjY2VzcyBUb2tlbiBoYXMgbm8gamt0IGNvbmZpcm1hdGlvbiBjbGFpbScpO1xuICAgIH1cbiAgICBjb25zdCBjbG9ja1NrZXcgPSBnZXRDbG9ja1NrZXcob3B0aW9ucyk7XG4gICAgY29uc3QgcHJvb2YgPSBhd2FpdCB2YWxpZGF0ZUp3dChoZWFkZXIsIGNoZWNrU2lnbmluZ0FsZ29yaXRobS5iaW5kKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcz8uZHBvcF9zaWduaW5nX2FsZ192YWx1ZXNfc3VwcG9ydGVkIHx8IFNVUFBPUlRFRF9KV1NfQUxHUyksIGFzeW5jICh7IGp3aywgYWxnIH0pID0+IHtcbiAgICAgICAgaWYgKCFqd2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ0RQb1AgUHJvb2YgaXMgbWlzc2luZyB0aGUgandrIGhlYWRlciBwYXJhbWV0ZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBpbXBvcnRKd2soYWxnLCBqd2spO1xuICAgICAgICBpZiAoa2V5LnR5cGUgIT09ICdwdWJsaWMnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKCdEUG9QIFByb29mIGp3ayBoZWFkZXIgcGFyYW1ldGVyIG11c3QgY29udGFpbiBhIHB1YmxpYyBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH0sIGNsb2NrU2tldywgZ2V0Q2xvY2tUb2xlcmFuY2Uob3B0aW9ucyksIHVuZGVmaW5lZClcbiAgICAgICAgLnRoZW4oY2hlY2tKd3RUeXBlLmJpbmQodW5kZWZpbmVkLCAnZHBvcCtqd3QnKSlcbiAgICAgICAgLnRoZW4odmFsaWRhdGVQcmVzZW5jZS5iaW5kKHVuZGVmaW5lZCwgWydpYXQnLCAnanRpJywgJ2F0aCcsICdodG0nLCAnaHR1J10pKTtcbiAgICBjb25zdCBub3cgPSBlcG9jaFRpbWUoKSArIGNsb2NrU2tldztcbiAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMobm93IC0gcHJvb2YuY2xhaW1zLmlhdCk7XG4gICAgaWYgKGRpZmYgPiAzMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnRFBvUCBQcm9vZiBpYXQgaXMgbm90IHJlY2VudCBlbm91Z2gnKTtcbiAgICB9XG4gICAgaWYgKHByb29mLmNsYWltcy5odG0gIT09IHJlcXVlc3QubWV0aG9kKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ0RQb1AgUHJvb2YgaHRtIG1pc21hdGNoJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvb2YuY2xhaW1zLmh0dSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgbm9ybWFsaXplSHR1KHByb29mLmNsYWltcy5odHUpICE9PSBub3JtYWxpemVIdHUocmVxdWVzdC51cmwpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ0RQb1AgUHJvb2YgaHR1IG1pc21hdGNoJyk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBiNjR1KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgZW5jb2Rlci5lbmNvZGUoYWNjZXNzVG9rZW4pKSk7XG4gICAgICAgIGlmIChwcm9vZi5jbGFpbXMuYXRoICE9PSBleHBlY3RlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnRFBvUCBQcm9vZiBhdGggbWlzbWF0Y2gnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBjb21wb25lbnRzO1xuICAgICAgICBzd2l0Y2ggKHByb29mLmhlYWRlci5qd2sua3R5KSB7XG4gICAgICAgICAgICBjYXNlICdFQyc6XG4gICAgICAgICAgICAgICAgY29tcG9uZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3J2OiBwcm9vZi5oZWFkZXIuandrLmNydixcbiAgICAgICAgICAgICAgICAgICAga3R5OiBwcm9vZi5oZWFkZXIuandrLmt0eSxcbiAgICAgICAgICAgICAgICAgICAgeDogcHJvb2YuaGVhZGVyLmp3ay54LFxuICAgICAgICAgICAgICAgICAgICB5OiBwcm9vZi5oZWFkZXIuandrLnksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ09LUCc6XG4gICAgICAgICAgICAgICAgY29tcG9uZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3J2OiBwcm9vZi5oZWFkZXIuandrLmNydixcbiAgICAgICAgICAgICAgICAgICAga3R5OiBwcm9vZi5oZWFkZXIuandrLmt0eSxcbiAgICAgICAgICAgICAgICAgICAgeDogcHJvb2YuaGVhZGVyLmp3ay54LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSU0EnOlxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGU6IHByb29mLmhlYWRlci5qd2suZSxcbiAgICAgICAgICAgICAgICAgICAga3R5OiBwcm9vZi5oZWFkZXIuandrLmt0eSxcbiAgICAgICAgICAgICAgICAgICAgbjogcHJvb2YuaGVhZGVyLmp3ay5uLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBiNjR1KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50cykpKSk7XG4gICAgICAgIGlmIChhY2Nlc3NUb2tlbkNsYWltcy5jbmYuamt0ICE9PSBleHBlY3RlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9QRSgnSldUIEFjY2VzcyBUb2tlbiBjb25maXJtYXRpb24gbWlzbWF0Y2gnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUp3dEFjY2Vzc1Rva2VuKGFzLCByZXF1ZXN0LCBleHBlY3RlZEF1ZGllbmNlLCBvcHRpb25zKSB7XG4gICAgYXNzZXJ0QXMoYXMpO1xuICAgIGlmICghbG9vc2VJbnN0YW5jZU9mKHJlcXVlc3QsIFJlcXVlc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wicmVxdWVzdFwiIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVxdWVzdCcpO1xuICAgIH1cbiAgICBpZiAoIXZhbGlkYXRlU3RyaW5nKGV4cGVjdGVkQXVkaWVuY2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBPUEUoJ1wiZXhwZWN0ZWRBdWRpZW5jZVwiIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XG4gICAgaWYgKGF1dGhvcml6YXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9QRSgnXCJyZXF1ZXN0XCIgaXMgbWlzc2luZyBhbiBBdXRob3JpemF0aW9uIEhUVFAgSGVhZGVyJyk7XG4gICAgfVxuICAgIGxldCB7IDA6IHNjaGVtZSwgMTogYWNjZXNzVG9rZW4sIGxlbmd0aCB9ID0gYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpO1xuICAgIHNjaGVtZSA9IHNjaGVtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHN3aXRjaCAoc2NoZW1lKSB7XG4gICAgICAgIGNhc2UgJ2Rwb3AnOlxuICAgICAgICBjYXNlICdiZWFyZXInOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FcnJvcigndW5zdXBwb3J0ZWQgQXV0aG9yaXphdGlvbiBIVFRQIEhlYWRlciBzY2hlbWUnKTtcbiAgICB9XG4gICAgaWYgKGxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgT1BFKCdpbnZhbGlkIEF1dGhvcml6YXRpb24gSFRUUCBIZWFkZXIgZm9ybWF0Jyk7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVpcmVkQ2xhaW1zID0gW1xuICAgICAgICAnaXNzJyxcbiAgICAgICAgJ2V4cCcsXG4gICAgICAgICdhdWQnLFxuICAgICAgICAnc3ViJyxcbiAgICAgICAgJ2lhdCcsXG4gICAgICAgICdqdGknLFxuICAgICAgICAnY2xpZW50X2lkJyxcbiAgICBdO1xuICAgIGlmIChvcHRpb25zPy5yZXF1aXJlRFBvUCB8fCBzY2hlbWUgPT09ICdkcG9wJyB8fCByZXF1ZXN0LmhlYWRlcnMuaGFzKCdkcG9wJykpIHtcbiAgICAgICAgcmVxdWlyZWRDbGFpbXMucHVzaCgnY25mJyk7XG4gICAgfVxuICAgIGNvbnN0IHsgY2xhaW1zIH0gPSBhd2FpdCB2YWxpZGF0ZUp3dChhY2Nlc3NUb2tlbiwgY2hlY2tTaWduaW5nQWxnb3JpdGhtLmJpbmQodW5kZWZpbmVkLCB1bmRlZmluZWQsIFNVUFBPUlRFRF9KV1NfQUxHUyksIGdldFB1YmxpY1NpZ0tleUZyb21Jc3N1ZXJKd2tzVXJpLmJpbmQodW5kZWZpbmVkLCBhcywgb3B0aW9ucyksIGdldENsb2NrU2tldyhvcHRpb25zKSwgZ2V0Q2xvY2tUb2xlcmFuY2Uob3B0aW9ucyksIHVuZGVmaW5lZClcbiAgICAgICAgLnRoZW4oY2hlY2tKd3RUeXBlLmJpbmQodW5kZWZpbmVkLCAnYXQrand0JykpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlUHJlc2VuY2UuYmluZCh1bmRlZmluZWQsIHJlcXVpcmVkQ2xhaW1zKSlcbiAgICAgICAgLnRoZW4odmFsaWRhdGVJc3N1ZXIuYmluZCh1bmRlZmluZWQsIGFzLmlzc3VlcikpXG4gICAgICAgIC50aGVuKHZhbGlkYXRlQXVkaWVuY2UuYmluZCh1bmRlZmluZWQsIGV4cGVjdGVkQXVkaWVuY2UpKTtcbiAgICBmb3IgKGNvbnN0IGNsYWltIG9mIFsnY2xpZW50X2lkJywgJ2p0aScsICdzdWInXSkge1xuICAgICAgICBpZiAodHlwZW9mIGNsYWltc1tjbGFpbV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT1BFKGB1bmV4cGVjdGVkIEpXVCBcIiR7Y2xhaW19XCIgY2xhaW0gdHlwZWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnY25mJyBpbiBjbGFpbXMpIHtcbiAgICAgICAgaWYgKCFpc0pzb25PYmplY3QoY2xhaW1zLmNuZikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPUEUoJ3VuZXhwZWN0ZWQgSldUIFwiY25mXCIgKGNvbmZpcm1hdGlvbikgY2xhaW0gdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IDA6IGNuZiwgbGVuZ3RoIH0gPSBPYmplY3Qua2V5cyhjbGFpbXMuY25mKTtcbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCdtdWx0aXBsZSBjb25maXJtYXRpb24gY2xhaW1zIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY25mICE9PSAnamt0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkVycm9yKCd1bnN1cHBvcnRlZCBKV1QgQ29uZmlybWF0aW9uIG1ldGhvZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5yZXF1aXJlRFBvUCB8fFxuICAgICAgICBzY2hlbWUgPT09ICdkcG9wJyB8fFxuICAgICAgICBjbGFpbXMuY25mPy5qa3QgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuaGFzKCdkcG9wJykpIHtcbiAgICAgICAgYXdhaXQgdmFsaWRhdGVEUG9QKGFzLCByZXF1ZXN0LCBhY2Nlc3NUb2tlbiwgY2xhaW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYWltcztcbn1cbmV4cG9ydCBjb25zdCBleHBlcmltZW50YWxDdXN0b21GZXRjaCA9IGN1c3RvbUZldGNoO1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF9jdXN0b21GZXRjaCA9IGN1c3RvbUZldGNoO1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbFVzZU10bHNBbGlhcyA9IHVzZU10bHNBbGlhcztcbmV4cG9ydCBjb25zdCBleHBlcmltZW50YWxfdXNlTXRsc0FsaWFzID0gdXNlTXRsc0FsaWFzO1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF92YWxpZGF0ZURldGFjaGVkU2lnbmF0dXJlUmVzcG9uc2UgPSAoLi4uYXJncykgPT4gdmFsaWRhdGVEZXRhY2hlZFNpZ25hdHVyZVJlc3BvbnNlKC4uLmFyZ3MpO1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF92YWxpZGF0ZUp3dEFjY2Vzc1Rva2VuID0gKC4uLmFyZ3MpID0+IHZhbGlkYXRlSnd0QWNjZXNzVG9rZW4oLi4uYXJncyk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVKd3RVc2VyaW5mb1NpZ25hdHVyZSA9ICguLi5hcmdzKSA9PiB2YWxpZGF0ZUp3dFVzZXJJbmZvU2lnbmF0dXJlKC4uLmFyZ3MpO1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF9qd2tzQ2FjaGUgPSBqd2tzQ2FjaGU7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/oauth4webapi/build/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/property-expr/index.js":
/*!*********************************************!*\
  !*** ./node_modules/property-expr/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX) || ['']\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9wcm9wZXJ0eS1leHByL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsSUFBSTtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLFdBQVc7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xccHJvcGVydHktZXhwclxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCYXNlZCBvbiBLZW5kbyBVSSBDb3JlIGV4cHJlc3Npb24gY29kZSA8aHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tdWktY29yZSNsaWNlbnNlLWluZm9ybWF0aW9uPlxuICovXG4ndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gQ2FjaGUobWF4U2l6ZSkge1xuICB0aGlzLl9tYXhTaXplID0gbWF4U2l6ZVxuICB0aGlzLmNsZWFyKClcbn1cbkNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fc2l6ZSA9IDBcbiAgdGhpcy5fdmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxufVxuQ2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3ZhbHVlc1trZXldXG59XG5DYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5fc2l6ZSA+PSB0aGlzLl9tYXhTaXplICYmIHRoaXMuY2xlYXIoKVxuICBpZiAoIShrZXkgaW4gdGhpcy5fdmFsdWVzKSkgdGhpcy5fc2l6ZSsrXG5cbiAgcmV0dXJuICh0aGlzLl92YWx1ZXNba2V5XSA9IHZhbHVlKVxufVxuXG52YXIgU1BMSVRfUkVHRVggPSAvW14uXlxcXV5bXSt8KD89XFxbXFxdfFxcLlxcLikvZyxcbiAgRElHSVRfUkVHRVggPSAvXlxcZCskLyxcbiAgTEVBRF9ESUdJVF9SRUdFWCA9IC9eXFxkLyxcbiAgU1BFQ19DSEFSX1JFR0VYID0gL1t+YCEjJCVcXF4mKis9XFwtXFxbXFxdXFxcXCc7LC97fXxcXFxcXCI6PD5cXD9dL2csXG4gIENMRUFOX1FVT1RFU19SRUdFWCA9IC9eXFxzKihbJ1wiXT8pKC4qPykoXFwxKVxccyokLyxcbiAgTUFYX0NBQ0hFX1NJWkUgPSA1MTJcblxudmFyIHBhdGhDYWNoZSA9IG5ldyBDYWNoZShNQVhfQ0FDSEVfU0laRSksXG4gIHNldENhY2hlID0gbmV3IENhY2hlKE1BWF9DQUNIRV9TSVpFKSxcbiAgZ2V0Q2FjaGUgPSBuZXcgQ2FjaGUoTUFYX0NBQ0hFX1NJWkUpXG5cbnZhciBjb25maWdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENhY2hlOiBDYWNoZSxcblxuICBzcGxpdDogc3BsaXQsXG5cbiAgbm9ybWFsaXplUGF0aDogbm9ybWFsaXplUGF0aCxcblxuICBzZXR0ZXI6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgdmFyIHBhcnRzID0gbm9ybWFsaXplUGF0aChwYXRoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIHNldENhY2hlLmdldChwYXRoKSB8fFxuICAgICAgc2V0Q2FjaGUuc2V0KHBhdGgsIGZ1bmN0aW9uIHNldHRlcihvYmosIHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDBcbiAgICAgICAgdmFyIGxlbiA9IHBhcnRzLmxlbmd0aFxuICAgICAgICB2YXIgZGF0YSA9IG9ialxuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IGxlbiAtIDEpIHtcbiAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2luZGV4XVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHBhcnQgPT09ICdfX3Byb3RvX18nIHx8XG4gICAgICAgICAgICBwYXJ0ID09PSAnY29uc3RydWN0b3InIHx8XG4gICAgICAgICAgICBwYXJ0ID09PSAncHJvdG90eXBlJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGEgPSBkYXRhW3BhcnRzW2luZGV4KytdXVxuICAgICAgICB9XG4gICAgICAgIGRhdGFbcGFydHNbaW5kZXhdXSA9IHZhbHVlXG4gICAgICB9KVxuICAgIClcbiAgfSxcblxuICBnZXR0ZXI6IGZ1bmN0aW9uIChwYXRoLCBzYWZlKSB7XG4gICAgdmFyIHBhcnRzID0gbm9ybWFsaXplUGF0aChwYXRoKVxuICAgIHJldHVybiAoXG4gICAgICBnZXRDYWNoZS5nZXQocGF0aCkgfHxcbiAgICAgIGdldENhY2hlLnNldChwYXRoLCBmdW5jdGlvbiBnZXR0ZXIoZGF0YSkge1xuICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbiA9IHBhcnRzLmxlbmd0aFxuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW4pIHtcbiAgICAgICAgICBpZiAoZGF0YSAhPSBudWxsIHx8ICFzYWZlKSBkYXRhID0gZGF0YVtwYXJ0c1tpbmRleCsrXV1cbiAgICAgICAgICBlbHNlIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgICB9KVxuICAgIClcbiAgfSxcblxuICBqb2luOiBmdW5jdGlvbiAoc2VnbWVudHMpIHtcbiAgICByZXR1cm4gc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uIChwYXRoLCBwYXJ0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBwYXRoICtcbiAgICAgICAgKGlzUXVvdGVkKHBhcnQpIHx8IERJR0lUX1JFR0VYLnRlc3QocGFydClcbiAgICAgICAgICA/ICdbJyArIHBhcnQgKyAnXSdcbiAgICAgICAgICA6IChwYXRoID8gJy4nIDogJycpICsgcGFydClcbiAgICAgIClcbiAgICB9LCAnJylcbiAgfSxcblxuICBmb3JFYWNoOiBmdW5jdGlvbiAocGF0aCwgY2IsIHRoaXNBcmcpIHtcbiAgICBmb3JFYWNoKEFycmF5LmlzQXJyYXkocGF0aCkgPyBwYXRoIDogc3BsaXQocGF0aCksIGNiLCB0aGlzQXJnKVxuICB9LFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIChcbiAgICBwYXRoQ2FjaGUuZ2V0KHBhdGgpIHx8XG4gICAgcGF0aENhY2hlLnNldChcbiAgICAgIHBhdGgsXG4gICAgICBzcGxpdChwYXRoKS5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnQucmVwbGFjZShDTEVBTl9RVU9URVNfUkVHRVgsICckMicpXG4gICAgICB9KVxuICAgIClcbiAgKVxufVxuXG5mdW5jdGlvbiBzcGxpdChwYXRoKSB7XG4gIHJldHVybiBwYXRoLm1hdGNoKFNQTElUX1JFR0VYKSB8fCBbJyddXG59XG5cbmZ1bmN0aW9uIGZvckVhY2gocGFydHMsIGl0ZXIsIHRoaXNBcmcpIHtcbiAgdmFyIGxlbiA9IHBhcnRzLmxlbmd0aCxcbiAgICBwYXJ0LFxuICAgIGlkeCxcbiAgICBpc0FycmF5LFxuICAgIGlzQnJhY2tldFxuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgIHBhcnQgPSBwYXJ0c1tpZHhdXG5cbiAgICBpZiAocGFydCkge1xuICAgICAgaWYgKHNob3VsZEJlUXVvdGVkKHBhcnQpKSB7XG4gICAgICAgIHBhcnQgPSAnXCInICsgcGFydCArICdcIidcbiAgICAgIH1cblxuICAgICAgaXNCcmFja2V0ID0gaXNRdW90ZWQocGFydClcbiAgICAgIGlzQXJyYXkgPSAhaXNCcmFja2V0ICYmIC9eXFxkKyQvLnRlc3QocGFydClcblxuICAgICAgaXRlci5jYWxsKHRoaXNBcmcsIHBhcnQsIGlzQnJhY2tldCwgaXNBcnJheSwgaWR4LCBwYXJ0cylcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNRdW90ZWQoc3RyKSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgJiYgc3RyICYmIFtcIidcIiwgJ1wiJ10uaW5kZXhPZihzdHIuY2hhckF0KDApKSAhPT0gLTFcbiAgKVxufVxuXG5mdW5jdGlvbiBoYXNMZWFkaW5nTnVtYmVyKHBhcnQpIHtcbiAgcmV0dXJuIHBhcnQubWF0Y2goTEVBRF9ESUdJVF9SRUdFWCkgJiYgIXBhcnQubWF0Y2goRElHSVRfUkVHRVgpXG59XG5cbmZ1bmN0aW9uIGhhc1NwZWNpYWxDaGFycyhwYXJ0KSB7XG4gIHJldHVybiBTUEVDX0NIQVJfUkVHRVgudGVzdChwYXJ0KVxufVxuXG5mdW5jdGlvbiBzaG91bGRCZVF1b3RlZChwYXJ0KSB7XG4gIHJldHVybiAhaXNRdW90ZWQocGFydCkgJiYgKGhhc0xlYWRpbmdOdW1iZXIocGFydCkgfHwgaGFzU3BlY2lhbENoYXJzKHBhcnQpKVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/property-expr/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/tiny-case/index.js":
/*!*****************************************!*\
  !*** ./node_modules/tiny-case/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("const reWords = /[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*/g\n\nconst words = (str) => str.match(reWords) || []\n\nconst upperFirst = (str) => str[0].toUpperCase() + str.slice(1)\n\nconst join = (str, d) => words(str).join(d).toLowerCase()\n\nconst camelCase = (str) =>\n  words(str).reduce(\n    (acc, next) =>\n      `${acc}${\n        !acc\n          ? next.toLowerCase()\n          : next[0].toUpperCase() + next.slice(1).toLowerCase()\n      }`,\n    '',\n  )\n\nconst pascalCase = (str) => upperFirst(camelCase(str))\n\nconst snakeCase = (str) => join(str, '_')\n\nconst kebabCase = (str) => join(str, '-')\n\nconst sentenceCase = (str) => upperFirst(join(str, ' '))\n\nconst titleCase = (str) => words(str).map(upperFirst).join(' ')\n\nmodule.exports = {\n  words,\n  upperFirst,\n  camelCase,\n  pascalCase,\n  snakeCase,\n  kebabCase,\n  sentenceCase,\n  titleCase,\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aW55LWNhc2UvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsOHJEQUE4ckQsRUFBRSwwS0FBMEssRUFBRTs7QUFFNTJEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcdGlueS1jYXNlXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZVdvcmRzID0gL1tBLVpcXHhjMC1cXHhkNlxceGQ4LVxceGRlXT9bYS16XFx4ZGYtXFx4ZjZcXHhmOC1cXHhmZl0rKD86WyfigJldKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPyg/PVtcXHhhY1xceGIxXFx4ZDdcXHhmN1xceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceGJmXFx1MjAwMC1cXHUyMDZmIFxcdFxceDBiXFxmXFx4YTBcXHVmZWZmXFxuXFxyXFx1MjAyOFxcdTIwMjlcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXXxbQS1aXFx4YzAtXFx4ZDZcXHhkOC1cXHhkZV18JCl8KD86W0EtWlxceGMwLVxceGQ2XFx4ZDgtXFx4ZGVdfFteXFx1ZDgwMC1cXHVkZmZmXFx4YWNcXHhiMVxceGQ3XFx4ZjdcXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHhiZlxcdTIwMDAtXFx1MjA2ZiBcXHRcXHgwYlxcZlxceGEwXFx1ZmVmZlxcblxcclxcdTIwMjhcXHUyMDI5XFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcZCtcXHUyNzAwLVxcdTI3YmZhLXpcXHhkZi1cXHhmNlxceGY4LVxceGZmQS1aXFx4YzAtXFx4ZDZcXHhkOC1cXHhkZV0pKyg/Olsn4oCZXSg/OkR8TEx8TXxSRXxTfFR8VkUpKT8oPz1bXFx4YWNcXHhiMVxceGQ3XFx4ZjdcXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHhiZlxcdTIwMDAtXFx1MjA2ZiBcXHRcXHgwYlxcZlxceGEwXFx1ZmVmZlxcblxcclxcdTIwMjhcXHUyMDI5XFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMF18W0EtWlxceGMwLVxceGQ2XFx4ZDgtXFx4ZGVdKD86W2EtelxceGRmLVxceGY2XFx4ZjgtXFx4ZmZdfFteXFx1ZDgwMC1cXHVkZmZmXFx4YWNcXHhiMVxceGQ3XFx4ZjdcXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHhiZlxcdTIwMDAtXFx1MjA2ZiBcXHRcXHgwYlxcZlxceGEwXFx1ZmVmZlxcblxcclxcdTIwMjhcXHUyMDI5XFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcZCtcXHUyNzAwLVxcdTI3YmZhLXpcXHhkZi1cXHhmNlxceGY4LVxceGZmQS1aXFx4YzAtXFx4ZDZcXHhkOC1cXHhkZV0pfCQpfFtBLVpcXHhjMC1cXHhkNlxceGQ4LVxceGRlXT8oPzpbYS16XFx4ZGYtXFx4ZjZcXHhmOC1cXHhmZl18W15cXHVkODAwLVxcdWRmZmZcXHhhY1xceGIxXFx4ZDdcXHhmN1xceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceGJmXFx1MjAwMC1cXHUyMDZmIFxcdFxceDBiXFxmXFx4YTBcXHVmZWZmXFxuXFxyXFx1MjAyOFxcdTIwMjlcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFxkK1xcdTI3MDAtXFx1MjdiZmEtelxceGRmLVxceGY2XFx4ZjgtXFx4ZmZBLVpcXHhjMC1cXHhkNlxceGQ4LVxceGRlXSkrKD86WyfigJldKD86ZHxsbHxtfHJlfHN8dHx2ZSkpP3xbQS1aXFx4YzAtXFx4ZDZcXHhkOC1cXHhkZV0rKD86WyfigJldKD86RHxMTHxNfFJFfFN8VHxWRSkpP3xcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxkVEgpKD89XFxifFthLXpfXSl8XFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcZHRoKSg/PVxcYnxbQS1aX10pfFxcZCt8KD86W1xcdTI3MDAtXFx1MjdiZl18KD86XFx1ZDgzY1tcXHVkZGU2LVxcdWRkZmZdKXsyfXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKVtcXHVmZTBlXFx1ZmUwZl0/KD86W1xcdTAzMDAtXFx1MDM2ZlxcdWZlMjAtXFx1ZmUyZlxcdTIwZDAtXFx1MjBmZl18XFx1ZDgzY1tcXHVkZmZiLVxcdWRmZmZdKT8oPzpcXHUyMDBkKD86W15cXHVkODAwLVxcdWRmZmZdfCg/OlxcdWQ4M2NbXFx1ZGRlNi1cXHVkZGZmXSl7Mn18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSlbXFx1ZmUwZVxcdWZlMGZdPyg/OltcXHUwMzAwLVxcdTAzNmZcXHVmZTIwLVxcdWZlMmZcXHUyMGQwLVxcdTIwZmZdfFxcdWQ4M2NbXFx1ZGZmYi1cXHVkZmZmXSk/KSovZ1xuXG5jb25zdCB3b3JkcyA9IChzdHIpID0+IHN0ci5tYXRjaChyZVdvcmRzKSB8fCBbXVxuXG5jb25zdCB1cHBlckZpcnN0ID0gKHN0cikgPT4gc3RyWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSlcblxuY29uc3Qgam9pbiA9IChzdHIsIGQpID0+IHdvcmRzKHN0cikuam9pbihkKS50b0xvd2VyQ2FzZSgpXG5cbmNvbnN0IGNhbWVsQ2FzZSA9IChzdHIpID0+XG4gIHdvcmRzKHN0cikucmVkdWNlKFxuICAgIChhY2MsIG5leHQpID0+XG4gICAgICBgJHthY2N9JHtcbiAgICAgICAgIWFjY1xuICAgICAgICAgID8gbmV4dC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgOiBuZXh0WzBdLnRvVXBwZXJDYXNlKCkgKyBuZXh0LnNsaWNlKDEpLnRvTG93ZXJDYXNlKClcbiAgICAgIH1gLFxuICAgICcnLFxuICApXG5cbmNvbnN0IHBhc2NhbENhc2UgPSAoc3RyKSA9PiB1cHBlckZpcnN0KGNhbWVsQ2FzZShzdHIpKVxuXG5jb25zdCBzbmFrZUNhc2UgPSAoc3RyKSA9PiBqb2luKHN0ciwgJ18nKVxuXG5jb25zdCBrZWJhYkNhc2UgPSAoc3RyKSA9PiBqb2luKHN0ciwgJy0nKVxuXG5jb25zdCBzZW50ZW5jZUNhc2UgPSAoc3RyKSA9PiB1cHBlckZpcnN0KGpvaW4oc3RyLCAnICcpKVxuXG5jb25zdCB0aXRsZUNhc2UgPSAoc3RyKSA9PiB3b3JkcyhzdHIpLm1hcCh1cHBlckZpcnN0KS5qb2luKCcgJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHdvcmRzLFxuICB1cHBlckZpcnN0LFxuICBjYW1lbENhc2UsXG4gIHBhc2NhbENhc2UsXG4gIHNuYWtlQ2FzZSxcbiAga2ViYWJDYXNlLFxuICBzZW50ZW5jZUNhc2UsXG4gIHRpdGxlQ2FzZSxcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/tiny-case/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/toposort/index.js":
/*!****************************************!*\
  !*** ./node_modules/toposort/index.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90b3Bvc29ydC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFx0b3Bvc29ydFxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFRvcG9sb2dpY2FsIHNvcnRpbmcgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBlZGdlc1xuICogQHJldHVybnMge0FycmF5fVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZWRnZXMpIHtcbiAgcmV0dXJuIHRvcG9zb3J0KHVuaXF1ZU5vZGVzKGVkZ2VzKSwgZWRnZXMpXG59XG5cbm1vZHVsZS5leHBvcnRzLmFycmF5ID0gdG9wb3NvcnRcblxuZnVuY3Rpb24gdG9wb3NvcnQobm9kZXMsIGVkZ2VzKSB7XG4gIHZhciBjdXJzb3IgPSBub2Rlcy5sZW5ndGhcbiAgICAsIHNvcnRlZCA9IG5ldyBBcnJheShjdXJzb3IpXG4gICAgLCB2aXNpdGVkID0ge31cbiAgICAsIGkgPSBjdXJzb3JcbiAgICAvLyBCZXR0ZXIgZGF0YSBzdHJ1Y3R1cmVzIG1ha2UgYWxnb3JpdGhtIG11Y2ggZmFzdGVyLlxuICAgICwgb3V0Z29pbmdFZGdlcyA9IG1ha2VPdXRnb2luZ0VkZ2VzKGVkZ2VzKVxuICAgICwgbm9kZXNIYXNoID0gbWFrZU5vZGVzSGFzaChub2RlcylcblxuICAvLyBjaGVjayBmb3IgdW5rbm93biBub2Rlc1xuICBlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uKGVkZ2UpIHtcbiAgICBpZiAoIW5vZGVzSGFzaC5oYXMoZWRnZVswXSkgfHwgIW5vZGVzSGFzaC5oYXMoZWRnZVsxXSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBub2RlLiBUaGVyZSBpcyBhbiB1bmtub3duIG5vZGUgaW4gdGhlIHN1cHBsaWVkIGVkZ2VzLicpXG4gICAgfVxuICB9KVxuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBpZiAoIXZpc2l0ZWRbaV0pIHZpc2l0KG5vZGVzW2ldLCBpLCBuZXcgU2V0KCkpXG4gIH1cblxuICByZXR1cm4gc29ydGVkXG5cbiAgZnVuY3Rpb24gdmlzaXQobm9kZSwgaSwgcHJlZGVjZXNzb3JzKSB7XG4gICAgaWYocHJlZGVjZXNzb3JzLmhhcyhub2RlKSkge1xuICAgICAgdmFyIG5vZGVSZXBcbiAgICAgIHRyeSB7XG4gICAgICAgIG5vZGVSZXAgPSBcIiwgbm9kZSB3YXM6XCIgKyBKU09OLnN0cmluZ2lmeShub2RlKVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIG5vZGVSZXAgPSBcIlwiXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N5Y2xpYyBkZXBlbmRlbmN5JyArIG5vZGVSZXApXG4gICAgfVxuXG4gICAgaWYgKCFub2Rlc0hhc2guaGFzKG5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVua25vd24gbm9kZS4gTWFrZSBzdXJlIHRvIHByb3ZpZGVkIGFsbCBpbnZvbHZlZCBub2Rlcy4gVW5rbm93biBub2RlOiAnK0pTT04uc3RyaW5naWZ5KG5vZGUpKVxuICAgIH1cblxuICAgIGlmICh2aXNpdGVkW2ldKSByZXR1cm47XG4gICAgdmlzaXRlZFtpXSA9IHRydWVcblxuICAgIHZhciBvdXRnb2luZyA9IG91dGdvaW5nRWRnZXMuZ2V0KG5vZGUpIHx8IG5ldyBTZXQoKVxuICAgIG91dGdvaW5nID0gQXJyYXkuZnJvbShvdXRnb2luZylcblxuICAgIGlmIChpID0gb3V0Z29pbmcubGVuZ3RoKSB7XG4gICAgICBwcmVkZWNlc3NvcnMuYWRkKG5vZGUpXG4gICAgICBkbyB7XG4gICAgICAgIHZhciBjaGlsZCA9IG91dGdvaW5nWy0taV1cbiAgICAgICAgdmlzaXQoY2hpbGQsIG5vZGVzSGFzaC5nZXQoY2hpbGQpLCBwcmVkZWNlc3NvcnMpXG4gICAgICB9IHdoaWxlIChpKVxuICAgICAgcHJlZGVjZXNzb3JzLmRlbGV0ZShub2RlKVxuICAgIH1cblxuICAgIHNvcnRlZFstLWN1cnNvcl0gPSBub2RlXG4gIH1cbn1cblxuZnVuY3Rpb24gdW5pcXVlTm9kZXMoYXJyKXtcbiAgdmFyIHJlcyA9IG5ldyBTZXQoKVxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGVkZ2UgPSBhcnJbaV1cbiAgICByZXMuYWRkKGVkZ2VbMF0pXG4gICAgcmVzLmFkZChlZGdlWzFdKVxuICB9XG4gIHJldHVybiBBcnJheS5mcm9tKHJlcylcbn1cblxuZnVuY3Rpb24gbWFrZU91dGdvaW5nRWRnZXMoYXJyKXtcbiAgdmFyIGVkZ2VzID0gbmV3IE1hcCgpXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZWRnZSA9IGFycltpXVxuICAgIGlmICghZWRnZXMuaGFzKGVkZ2VbMF0pKSBlZGdlcy5zZXQoZWRnZVswXSwgbmV3IFNldCgpKVxuICAgIGlmICghZWRnZXMuaGFzKGVkZ2VbMV0pKSBlZGdlcy5zZXQoZWRnZVsxXSwgbmV3IFNldCgpKVxuICAgIGVkZ2VzLmdldChlZGdlWzBdKS5hZGQoZWRnZVsxXSlcbiAgfVxuICByZXR1cm4gZWRnZXNcbn1cblxuZnVuY3Rpb24gbWFrZU5vZGVzSGFzaChhcnIpe1xuICB2YXIgcmVzID0gbmV3IE1hcCgpXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXMuc2V0KGFycltpXSwgaSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/toposort/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/yup/index.esm.js":
/*!***************************************!*\
  !*** ./node_modules/yup/index.esm.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArraySchema: () => (/* binding */ ArraySchema),\n/* harmony export */   BooleanSchema: () => (/* binding */ BooleanSchema),\n/* harmony export */   DateSchema: () => (/* binding */ DateSchema),\n/* harmony export */   LazySchema: () => (/* binding */ Lazy),\n/* harmony export */   MixedSchema: () => (/* binding */ MixedSchema),\n/* harmony export */   NumberSchema: () => (/* binding */ NumberSchema),\n/* harmony export */   ObjectSchema: () => (/* binding */ ObjectSchema),\n/* harmony export */   Schema: () => (/* binding */ Schema),\n/* harmony export */   StringSchema: () => (/* binding */ StringSchema),\n/* harmony export */   TupleSchema: () => (/* binding */ TupleSchema),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   addMethod: () => (/* binding */ addMethod),\n/* harmony export */   array: () => (/* binding */ create$2),\n/* harmony export */   bool: () => (/* binding */ create$7),\n/* harmony export */   boolean: () => (/* binding */ create$7),\n/* harmony export */   date: () => (/* binding */ create$4),\n/* harmony export */   defaultLocale: () => (/* binding */ locale),\n/* harmony export */   getIn: () => (/* binding */ getIn),\n/* harmony export */   isSchema: () => (/* binding */ isSchema),\n/* harmony export */   lazy: () => (/* binding */ create),\n/* harmony export */   mixed: () => (/* binding */ create$8),\n/* harmony export */   number: () => (/* binding */ create$5),\n/* harmony export */   object: () => (/* binding */ create$3),\n/* harmony export */   printValue: () => (/* binding */ printValue),\n/* harmony export */   reach: () => (/* binding */ reach),\n/* harmony export */   ref: () => (/* binding */ create$9),\n/* harmony export */   setLocale: () => (/* binding */ setLocale),\n/* harmony export */   string: () => (/* binding */ create$6),\n/* harmony export */   tuple: () => (/* binding */ create$1)\n/* harmony export */ });\n/* harmony import */ var property_expr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! property-expr */ \"(app-pages-browser)/./node_modules/property-expr/index.js\");\n/* harmony import */ var property_expr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(property_expr__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var tiny_case__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-case */ \"(app-pages-browser)/./node_modules/tiny-case/index.js\");\n/* harmony import */ var tiny_case__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tiny_case__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var toposort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! toposort */ \"(app-pages-browser)/./node_modules/toposort/index.js\");\n/* harmony import */ var toposort__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(toposort__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\nfunction printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}\n\nfunction toArray(value) {\n  return value == null ? [] : [].concat(value);\n}\n\nlet _Symbol$toStringTag, _Symbol$hasInstance, _Symbol$toStringTag2;\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\n_Symbol$toStringTag = Symbol.toStringTag;\nclass ValidationErrorNoStack {\n  constructor(errorOrErrors, value, field, type) {\n    this.name = void 0;\n    this.message = void 0;\n    this.value = void 0;\n    this.path = void 0;\n    this.type = void 0;\n    this.params = void 0;\n    this.errors = void 0;\n    this.inner = void 0;\n    this[_Symbol$toStringTag] = 'Error';\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        const innerErrors = err.inner.length ? err.inner : [err];\n        this.inner.push(...innerErrors);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n  }\n}\n_Symbol$hasInstance = Symbol.hasInstance;\n_Symbol$toStringTag2 = Symbol.toStringTag;\nclass ValidationError extends Error {\n  static formatError(message, params) {\n    // Attempt to make the path more friendly for error message interpolation.\n    const path = params.label || params.path || 'this';\n    // Store the original path under `originalPath` so it isn't lost to custom\n    // message functions; e.g., ones provided in `setLocale()` calls.\n    params = Object.assign({}, params, {\n      path,\n      originalPath: params.path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n  constructor(errorOrErrors, value, field, type, disableStack) {\n    const errorNoStack = new ValidationErrorNoStack(errorOrErrors, value, field, type);\n    if (disableStack) {\n      return errorNoStack;\n    }\n    super();\n    this.value = void 0;\n    this.path = void 0;\n    this.type = void 0;\n    this.params = void 0;\n    this.errors = [];\n    this.inner = [];\n    this[_Symbol$toStringTag2] = 'Error';\n    this.name = errorNoStack.name;\n    this.message = errorNoStack.message;\n    this.type = errorNoStack.type;\n    this.value = errorNoStack.value;\n    this.path = errorNoStack.path;\n    this.errors = errorNoStack.errors;\n    this.inner = errorNoStack.inner;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ValidationError);\n    }\n  }\n  static [_Symbol$hasInstance](inst) {\n    return ValidationErrorNoStack[Symbol.hasInstance](inst) || super[Symbol.hasInstance](inst);\n  }\n}\n\nlet mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  defined: '${path} must be defined',\n  notNull: '${path} cannot be null',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    const castMsg = originalValue != null && originalValue !== value ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.';\n    return type !== 'mixed' ? `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + castMsg : `${path} must match the configured type. ` + `The validated value was: \\`${printValue(value, true)}\\`` + castMsg;\n  }\n};\nlet string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  datetime: '${path} must be a valid ISO date-time',\n  datetime_precision: '${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits',\n  datetime_offset: '${path} must be a valid ISO date-time with UTC \"Z\" timezone',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nlet number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nlet date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nlet boolean = {\n  isValue: '${path} field must be ${value}'\n};\nlet object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}',\n  exact: '${path} object contains unknown properties: ${properties}'\n};\nlet array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must have ${length} items'\n};\nlet tuple = {\n  notType: params => {\n    const {\n      path,\n      value,\n      spec\n    } = params;\n    const typeLen = spec.types.length;\n    if (Array.isArray(value)) {\n      if (value.length < typeLen) return `${path} tuple value has too few items, expected a length of ${typeLen} but got ${value.length} for value: \\`${printValue(value, true)}\\``;\n      if (value.length > typeLen) return `${path} tuple value has too many items, expected a length of ${typeLen} but got ${value.length} for value: \\`${printValue(value, true)}\\``;\n    }\n    return ValidationError.formatError(mixed.notType, params);\n  }\n};\nvar locale = Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean,\n  tuple\n});\n\nconst isSchema = obj => obj && obj.__isYupSchema__;\n\nclass Condition {\n  static fromOptions(refs, config) {\n    if (!config.then && !config.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = config;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n    return new Condition(refs, (values, schema) => {\n      var _branch;\n      let branch = check(...values) ? then : otherwise;\n      return (_branch = branch == null ? void 0 : branch(schema)) != null ? _branch : schema;\n    });\n  }\n  constructor(refs, builder) {\n    this.fn = void 0;\n    this.refs = refs;\n    this.refs = refs;\n    this.fn = builder;\n  }\n  resolve(base, options) {\n    let values = this.refs.map(ref =>\n    // TODO: ? operator here?\n    ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn(values, base, options);\n    if (schema === undefined ||\n    // @ts-ignore this can be base\n    schema === base) {\n      return base;\n    }\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n}\n\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nfunction create$9(key, options) {\n  return new Reference(key, options);\n}\nclass Reference {\n  constructor(key, options = {}) {\n    this.key = void 0;\n    this.isContext = void 0;\n    this.isValue = void 0;\n    this.isSibling = void 0;\n    this.path = void 0;\n    this.getter = void 0;\n    this.map = void 0;\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && (0,property_expr__WEBPACK_IMPORTED_MODULE_0__.getter)(this.path, true);\n    this.map = options.map;\n  }\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n  resolve() {\n    return this;\n  }\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n  toString() {\n    return `Ref(${this.key})`;\n  }\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n}\n\n// @ts-ignore\nReference.prototype.__isYupRef = true;\n\nconst isAbsent = value => value == null;\n\nfunction createValidation(config) {\n  function validate({\n    value,\n    path = '',\n    options,\n    originalValue,\n    schema\n  }, panic, next) {\n    const {\n      name,\n      test,\n      params,\n      message,\n      skipAbsent\n    } = config;\n    let {\n      parent,\n      context,\n      abortEarly = schema.spec.abortEarly,\n      disableStackTrace = schema.spec.disableStackTrace\n    } = options;\n    const resolveOptions = {\n      value,\n      parent,\n      context\n    };\n    function createError(overrides = {}) {\n      const nextParams = resolveParams(Object.assign({\n        value,\n        originalValue,\n        label: schema.spec.label,\n        path: overrides.path || path,\n        spec: schema.spec,\n        disableStackTrace: overrides.disableStackTrace || disableStackTrace\n      }, params, overrides.params), resolveOptions);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name, nextParams.disableStackTrace);\n      error.params = nextParams;\n      return error;\n    }\n    const invalid = abortEarly ? panic : next;\n    let ctx = {\n      path,\n      parent,\n      type: name,\n      from: options.from,\n      createError,\n      resolve(item) {\n        return resolveMaybeRef(item, resolveOptions);\n      },\n      options,\n      originalValue,\n      schema\n    };\n    const handleResult = validOrError => {\n      if (ValidationError.isError(validOrError)) invalid(validOrError);else if (!validOrError) invalid(createError());else next(null);\n    };\n    const handleError = err => {\n      if (ValidationError.isError(err)) invalid(err);else panic(err);\n    };\n    const shouldSkip = skipAbsent && isAbsent(value);\n    if (shouldSkip) {\n      return handleResult(true);\n    }\n    let result;\n    try {\n      var _result;\n      result = test.call(ctx, value, ctx);\n      if (typeof ((_result = result) == null ? void 0 : _result.then) === 'function') {\n        if (options.sync) {\n          throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n        }\n        return Promise.resolve(result).then(handleResult, handleError);\n      }\n    } catch (err) {\n      handleError(err);\n      return;\n    }\n    handleResult(result);\n  }\n  validate.OPTIONS = config;\n  return validate;\n}\n\n// Warning: mutates the input\nfunction resolveParams(params, options) {\n  if (!params) return params;\n  for (const key of Object.keys(params)) {\n    params[key] = resolveMaybeRef(params[key], options);\n  }\n  return params;\n}\nfunction resolveMaybeRef(item, options) {\n  return Reference.isRef(item) ? item.getValue(options.value, options.parent, options.context) : item;\n}\n\nfunction getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug;\n\n  // root path: ''\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  (0,property_expr__WEBPACK_IMPORTED_MODULE_0__.forEach)(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? _part.slice(1, _part.length - 1) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n    let isTuple = schema.type === 'tuple';\n    let idx = isArray ? parseInt(part, 10) : 0;\n    if (schema.innerType || isTuple) {\n      if (isTuple && !isArray) throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part \"${lastPartDebug}\" must contain an index to the tuple element, e.g. \"${lastPartDebug}[0]\"`);\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n      parent = value;\n      value = value && value[idx];\n      schema = isTuple ? schema.spec.types[idx] : schema.innerType;\n    }\n\n    // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema.type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\nfunction reach(obj, path, value, context) {\n  return getIn(obj, path, value, context).schema;\n}\n\nclass ReferenceSet extends Set {\n  describe() {\n    const description = [];\n    for (const item of this.values()) {\n      description.push(Reference.isRef(item) ? item.describe() : item);\n    }\n    return description;\n  }\n  resolveAll(resolve) {\n    let result = [];\n    for (const item of this.values()) {\n      result.push(resolve(item));\n    }\n    return result;\n  }\n  clone() {\n    return new ReferenceSet(this.values());\n  }\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.forEach(value => next.add(value));\n    removeItems.forEach(value => next.delete(value));\n    return next;\n  }\n}\n\n// tweaked from https://github.com/Kelin2025/nanoclone/blob/0abeb7635bda9b68ef2277093f76dbe3bf3948e1/src/index.js\nfunction clone(src, seen = new Map()) {\n  if (isSchema(src) || !src || typeof src !== 'object') return src;\n  if (seen.has(src)) return seen.get(src);\n  let copy;\n  if (src instanceof Date) {\n    // Date\n    copy = new Date(src.getTime());\n    seen.set(src, copy);\n  } else if (src instanceof RegExp) {\n    // RegExp\n    copy = new RegExp(src);\n    seen.set(src, copy);\n  } else if (Array.isArray(src)) {\n    // Array\n    copy = new Array(src.length);\n    seen.set(src, copy);\n    for (let i = 0; i < src.length; i++) copy[i] = clone(src[i], seen);\n  } else if (src instanceof Map) {\n    // Map\n    copy = new Map();\n    seen.set(src, copy);\n    for (const [k, v] of src.entries()) copy.set(k, clone(v, seen));\n  } else if (src instanceof Set) {\n    // Set\n    copy = new Set();\n    seen.set(src, copy);\n    for (const v of src) copy.add(clone(v, seen));\n  } else if (src instanceof Object) {\n    // Object\n    copy = {};\n    seen.set(src, copy);\n    for (const [k, v] of Object.entries(src)) copy[k] = clone(v, seen);\n  } else {\n    throw Error(`Unable to clone ${src}`);\n  }\n  return copy;\n}\n\n/**\n * Copied from @standard-schema/spec to avoid having a dependency on it.\n * https://github.com/standard-schema/standard-schema/blob/main/packages/spec/src/index.ts\n */\n\nfunction createStandardPath(path) {\n  if (!(path != null && path.length)) {\n    return undefined;\n  }\n\n  // Array to store the final path segments\n  const segments = [];\n  // Buffer for building the current segment\n  let currentSegment = '';\n  // Track if we're inside square brackets (array/property access)\n  let inBrackets = false;\n  // Track if we're inside quotes (for property names with special chars)\n  let inQuotes = false;\n  for (let i = 0; i < path.length; i++) {\n    const char = path[i];\n    if (char === '[' && !inQuotes) {\n      // When entering brackets, push any accumulated segment after splitting on dots\n      if (currentSegment) {\n        segments.push(...currentSegment.split('.').filter(Boolean));\n        currentSegment = '';\n      }\n      inBrackets = true;\n      continue;\n    }\n    if (char === ']' && !inQuotes) {\n      if (currentSegment) {\n        // Handle numeric indices (e.g. arr[0])\n        if (/^\\d+$/.test(currentSegment)) {\n          segments.push(currentSegment);\n        } else {\n          // Handle quoted property names (e.g. obj[\"foo.bar\"])\n          segments.push(currentSegment.replace(/^\"|\"$/g, ''));\n        }\n        currentSegment = '';\n      }\n      inBrackets = false;\n      continue;\n    }\n    if (char === '\"') {\n      // Toggle quote state for handling quoted property names\n      inQuotes = !inQuotes;\n      continue;\n    }\n    if (char === '.' && !inBrackets && !inQuotes) {\n      // On dots outside brackets/quotes, push current segment\n      if (currentSegment) {\n        segments.push(currentSegment);\n        currentSegment = '';\n      }\n      continue;\n    }\n    currentSegment += char;\n  }\n\n  // Push any remaining segment after splitting on dots\n  if (currentSegment) {\n    segments.push(...currentSegment.split('.').filter(Boolean));\n  }\n  return segments;\n}\nfunction createStandardIssues(error, parentPath) {\n  const path = parentPath ? `${parentPath}.${error.path}` : error.path;\n  return error.errors.map(err => ({\n    message: err,\n    path: createStandardPath(path)\n  }));\n}\nfunction issuesFromValidationError(error, parentPath) {\n  var _error$inner;\n  if (!((_error$inner = error.inner) != null && _error$inner.length) && error.errors.length) {\n    return createStandardIssues(error, parentPath);\n  }\n  const path = parentPath ? `${parentPath}.${error.path}` : error.path;\n  return error.inner.flatMap(err => issuesFromValidationError(err, path));\n}\n\n// If `CustomSchemaMeta` isn't extended with any keys, we'll fall back to a\n// loose Record definition allowing free form usage.\nclass Schema {\n  constructor(options) {\n    this.type = void 0;\n    this.deps = [];\n    this.tests = void 0;\n    this.transforms = void 0;\n    this.conditions = [];\n    this._mutate = void 0;\n    this.internalTests = {};\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this._typeCheck = void 0;\n    this.spec = void 0;\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(mixed.notType);\n    });\n    this.type = options.type;\n    this._typeCheck = options.check;\n    this.spec = Object.assign({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      disableStackTrace: false,\n      nullable: false,\n      optional: true,\n      coerce: true\n    }, options == null ? void 0 : options.spec);\n    this.withMutation(s => {\n      s.nonNullable();\n    });\n  }\n\n  // TODO: remove\n  get _type() {\n    return this.type;\n  }\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    }\n\n    // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n    const next = Object.create(Object.getPrototypeOf(this));\n\n    // @ts-expect-error this is readonly\n    next.type = this.type;\n    next._typeCheck = this._typeCheck;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.internalTests = Object.assign({}, this.internalTests);\n    next.exclusiveTests = Object.assign({}, this.exclusiveTests);\n\n    // @ts-expect-error this is readonly\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = clone(Object.assign({}, this.spec, spec));\n    return next;\n  }\n  label(label) {\n    let next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  }\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n    const mergedSpec = Object.assign({}, base.spec, combined.spec);\n    combined.spec = mergedSpec;\n    combined.internalTests = Object.assign({}, base.internalTests, combined.internalTests);\n\n    // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist);\n\n    // start with the current tests\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests;\n\n    // manually add the new tests to ensure\n    // the deduping logic is consistent\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    combined.transforms = [...base.transforms, ...combined.transforms];\n    return combined;\n  }\n  isType(v) {\n    if (v == null) {\n      if (this.spec.nullable && v === null) return true;\n      if (this.spec.optional && v === undefined) return true;\n      return false;\n    }\n    return this._typeCheck(v);\n  }\n  resolve(options) {\n    let schema = this;\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((prevSchema, condition) => condition.resolve(prevSchema, options), schema);\n      schema = schema.resolve(options);\n    }\n    return schema;\n  }\n  resolveOptions(options) {\n    var _options$strict, _options$abortEarly, _options$recursive, _options$disableStack;\n    return Object.assign({}, options, {\n      from: options.from || [],\n      strict: (_options$strict = options.strict) != null ? _options$strict : this.spec.strict,\n      abortEarly: (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly,\n      recursive: (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive,\n      disableStackTrace: (_options$disableStack = options.disableStackTrace) != null ? _options$disableStack : this.spec.disableStackTrace\n    });\n  }\n\n  /**\n   * Run the configured transform pipeline over an input value.\n   */\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(Object.assign({}, options, {\n      value\n      // parent: options.parent,\n      // context: options.context,\n    }));\n\n    let allowOptionality = options.assert === 'ignore-optionality';\n    let result = resolvedSchema._cast(value, options);\n    if (options.assert !== false && !resolvedSchema.isType(result)) {\n      if (allowOptionality && isAbsent(result)) {\n        return result;\n      }\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema.type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n    return result;\n  }\n  _cast(rawValue, options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((prevValue, fn) => fn.call(this, prevValue, rawValue, this, options), rawValue);\n    if (value === undefined) {\n      value = this.getDefault(options);\n    }\n    return value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    let {\n      path,\n      originalValue = _value,\n      strict = this.spec.strict\n    } = options;\n    let value = _value;\n    if (!strict) {\n      value = this._cast(value, Object.assign({\n        assert: false\n      }, options));\n    }\n    let initialTests = [];\n    for (let test of Object.values(this.internalTests)) {\n      if (test) initialTests.push(test);\n    }\n    this.runTests({\n      path,\n      value,\n      originalValue,\n      options,\n      tests: initialTests\n    }, panic, initialErrors => {\n      // even if we aren't ending early we can't proceed further if the types aren't correct\n      if (initialErrors.length) {\n        return next(initialErrors, value);\n      }\n      this.runTests({\n        path,\n        value,\n        originalValue,\n        options,\n        tests: this.tests\n      }, panic, next);\n    });\n  }\n\n  /**\n   * Executes a set of validations, either schema, produced Tests or a nested\n   * schema validate result.\n   */\n  runTests(runOptions, panic, next) {\n    let fired = false;\n    let {\n      tests,\n      value,\n      originalValue,\n      path,\n      options\n    } = runOptions;\n    let panicOnce = arg => {\n      if (fired) return;\n      fired = true;\n      panic(arg, value);\n    };\n    let nextOnce = arg => {\n      if (fired) return;\n      fired = true;\n      next(arg, value);\n    };\n    let count = tests.length;\n    let nestedErrors = [];\n    if (!count) return nextOnce([]);\n    let args = {\n      value,\n      originalValue,\n      path,\n      options,\n      schema: this\n    };\n    for (let i = 0; i < tests.length; i++) {\n      const test = tests[i];\n      test(args, panicOnce, function finishTestRun(err) {\n        if (err) {\n          Array.isArray(err) ? nestedErrors.push(...err) : nestedErrors.push(err);\n        }\n        if (--count <= 0) {\n          nextOnce(nestedErrors);\n        }\n      });\n    }\n  }\n  asNestedTest({\n    key,\n    index,\n    parent,\n    parentPath,\n    originalParent,\n    options\n  }) {\n    const k = key != null ? key : index;\n    if (k == null) {\n      throw TypeError('Must include `key` or `index` for nested validations');\n    }\n    const isIndex = typeof k === 'number';\n    let value = parent[k];\n    const testOptions = Object.assign({}, options, {\n      // Nested validations fields are always strict:\n      //    1. parent isn't strict so the casting will also have cast inner values\n      //    2. parent is strict in which case the nested values weren't cast either\n      strict: true,\n      parent,\n      value,\n      originalValue: originalParent[k],\n      // FIXME: tests depend on `index` being passed around deeply,\n      //   we should not let the options.key/index bleed through\n      key: undefined,\n      // index: undefined,\n      [isIndex ? 'index' : 'key']: k,\n      path: isIndex || k.includes('.') ? `${parentPath || ''}[${isIndex ? k : `\"${k}\"`}]` : (parentPath ? `${parentPath}.` : '') + key\n    });\n    return (_, panic, next) => this.resolve(testOptions)._validate(value, testOptions, panic, next);\n  }\n  validate(value, options) {\n    var _options$disableStack2;\n    let schema = this.resolve(Object.assign({}, options, {\n      value\n    }));\n    let disableStackTrace = (_options$disableStack2 = options == null ? void 0 : options.disableStackTrace) != null ? _options$disableStack2 : schema.spec.disableStackTrace;\n    return new Promise((resolve, reject) => schema._validate(value, options, (error, parsed) => {\n      if (ValidationError.isError(error)) error.value = parsed;\n      reject(error);\n    }, (errors, validated) => {\n      if (errors.length) reject(new ValidationError(errors, validated, undefined, undefined, disableStackTrace));else resolve(validated);\n    }));\n  }\n  validateSync(value, options) {\n    var _options$disableStack3;\n    let schema = this.resolve(Object.assign({}, options, {\n      value\n    }));\n    let result;\n    let disableStackTrace = (_options$disableStack3 = options == null ? void 0 : options.disableStackTrace) != null ? _options$disableStack3 : schema.spec.disableStackTrace;\n    schema._validate(value, Object.assign({}, options, {\n      sync: true\n    }), (error, parsed) => {\n      if (ValidationError.isError(error)) error.value = parsed;\n      throw error;\n    }, (errors, validated) => {\n      if (errors.length) throw new ValidationError(errors, value, undefined, undefined, disableStackTrace);\n      result = validated;\n    });\n    return result;\n  }\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n  _getDefault(options) {\n    let defaultValue = this.spec.default;\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n    return typeof defaultValue === 'function' ? defaultValue.call(this, options) : clone(defaultValue);\n  }\n  getDefault(options\n  // If schema is defaulted we know it's at least not undefined\n  ) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault(options);\n  }\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n  strict(isStrict = true) {\n    return this.clone({\n      strict: isStrict\n    });\n  }\n  nullability(nullable, message) {\n    const next = this.clone({\n      nullable\n    });\n    next.internalTests.nullable = createValidation({\n      message,\n      name: 'nullable',\n      test(value) {\n        return value === null ? this.schema.spec.nullable : true;\n      }\n    });\n    return next;\n  }\n  optionality(optional, message) {\n    const next = this.clone({\n      optional\n    });\n    next.internalTests.optionality = createValidation({\n      message,\n      name: 'optionality',\n      test(value) {\n        return value === undefined ? this.schema.spec.optional : true;\n      }\n    });\n    return next;\n  }\n  optional() {\n    return this.optionality(true);\n  }\n  defined(message = mixed.defined) {\n    return this.optionality(false, message);\n  }\n  nullable() {\n    return this.nullability(true);\n  }\n  nonNullable(message = mixed.notNull) {\n    return this.nullability(false, message);\n  }\n  required(message = mixed.required) {\n    return this.clone().withMutation(next => next.nonNullable(message).defined(message));\n  }\n  notRequired() {\n    return this.clone().withMutation(next => next.nullable().optional());\n  }\n  transform(fn) {\n    let next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n  test(...args) {\n    let opts;\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n    if (opts.message === undefined) opts.message = mixed.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Reference(key));\n    deps.forEach(dep => {\n      // @ts-ignore readonly array\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(typeof options === 'function' ? new Condition(deps, options) : Condition.fromOptions(deps, options));\n    return next;\n  }\n  typeError(message) {\n    let next = this.clone();\n    next.internalTests.typeError = createValidation({\n      message,\n      name: 'typeError',\n      skipAbsent: true,\n      test(value) {\n        if (!this.schema._typeCheck(value)) return this.createError({\n          params: {\n            type: this.schema.type\n          }\n        });\n        return true;\n      }\n    });\n    return next;\n  }\n  oneOf(enums, message = mixed.oneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n      next._blacklist.delete(val);\n    });\n    next.internalTests.whiteList = createValidation({\n      message,\n      name: 'oneOf',\n      skipAbsent: true,\n      test(value) {\n        let valids = this.schema._whitelist;\n        let resolved = valids.resolveAll(this.resolve);\n        return resolved.includes(value) ? true : this.createError({\n          params: {\n            values: Array.from(valids).join(', '),\n            resolved\n          }\n        });\n      }\n    });\n    return next;\n  }\n  notOneOf(enums, message = mixed.notOneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n      next._whitelist.delete(val);\n    });\n    next.internalTests.blacklist = createValidation({\n      message,\n      name: 'notOneOf',\n      test(value) {\n        let invalids = this.schema._blacklist;\n        let resolved = invalids.resolveAll(this.resolve);\n        if (resolved.includes(value)) return this.createError({\n          params: {\n            values: Array.from(invalids).join(', '),\n            resolved\n          }\n        });\n        return true;\n      }\n    });\n    return next;\n  }\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  /**\n   * Return a serialized description of the schema including validations, flags, types etc.\n   *\n   * @param options Provide any needed context for resolving runtime schema alterations (lazy, when conditions, etc).\n   */\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const {\n      label,\n      meta,\n      optional,\n      nullable\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      optional,\n      nullable,\n      default: next.getDefault(options),\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.filter((n, idx, list) => list.findIndex(c => c.OPTIONS.name === n.OPTIONS.name) === idx).map(fn => {\n        const params = fn.OPTIONS.params && options ? resolveParams(Object.assign({}, fn.OPTIONS.params), options) : fn.OPTIONS.params;\n        return {\n          name: fn.OPTIONS.name,\n          params\n        };\n      })\n    };\n    return description;\n  }\n  get ['~standard']() {\n    const schema = this;\n    const standard = {\n      version: 1,\n      vendor: 'yup',\n      async validate(value) {\n        try {\n          const result = await schema.validate(value, {\n            abortEarly: false\n          });\n          return {\n            value: result\n          };\n        } catch (err) {\n          if (err instanceof ValidationError) {\n            return {\n              issues: issuesFromValidationError(err)\n            };\n          }\n          throw err;\n        }\n      }\n    };\n    return standard;\n  }\n}\n// @ts-expect-error\nSchema.prototype.__isYupSchema__ = true;\nfor (const method of ['validate', 'validateSync']) Schema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], Object.assign({}, options, {\n    parent,\n    path\n  }));\n};\nfor (const alias of ['equals', 'is']) Schema.prototype[alias] = Schema.prototype.oneOf;\nfor (const alias of ['not', 'nope']) Schema.prototype[alias] = Schema.prototype.notOneOf;\n\nconst returnsTrue = () => true;\nfunction create$8(spec) {\n  return new MixedSchema(spec);\n}\nclass MixedSchema extends Schema {\n  constructor(spec) {\n    super(typeof spec === 'function' ? {\n      type: 'mixed',\n      check: spec\n    } : Object.assign({\n      type: 'mixed',\n      check: returnsTrue\n    }, spec));\n  }\n}\ncreate$8.prototype = MixedSchema.prototype;\n\nfunction create$7() {\n  return new BooleanSchema();\n}\nclass BooleanSchema extends Schema {\n  constructor() {\n    super({\n      type: 'boolean',\n      check(v) {\n        if (v instanceof Boolean) v = v.valueOf();\n        return typeof v === 'boolean';\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw) => {\n        if (this.spec.coerce && !this.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n        return value;\n      });\n    });\n  }\n  isTrue(message = boolean.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n    });\n  }\n  isFalse(message = boolean.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n    });\n  }\n  default(def) {\n    return super.default(def);\n  }\n  defined(msg) {\n    return super.defined(msg);\n  }\n  optional() {\n    return super.optional();\n  }\n  required(msg) {\n    return super.required(msg);\n  }\n  notRequired() {\n    return super.notRequired();\n  }\n  nullable() {\n    return super.nullable();\n  }\n  nonNullable(msg) {\n    return super.nonNullable(msg);\n  }\n  strip(v) {\n    return super.strip(v);\n  }\n}\ncreate$7.prototype = BooleanSchema.prototype;\n\n/**\n * This file is a modified version of the file from the following repository:\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n * © 2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n\n// prettier-ignore\n//                1 YYYY                2 MM        3 DD              4 HH     5 mm        6 ss           7 msec         8 Z 9 ±   10 tzHH    11 tzmm\nconst isoReg = /^(\\d{4}|[+-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,.](\\d{1,}))?)?(?:(Z)|([+-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nfunction parseIsoDate(date) {\n  const struct = parseDateStruct(date);\n  if (!struct) return Date.parse ? Date.parse(date) : Number.NaN;\n\n  // timestamps without timezone identifiers should be considered local time\n  if (struct.z === undefined && struct.plusMinus === undefined) {\n    return new Date(struct.year, struct.month, struct.day, struct.hour, struct.minute, struct.second, struct.millisecond).valueOf();\n  }\n  let totalMinutesOffset = 0;\n  if (struct.z !== 'Z' && struct.plusMinus !== undefined) {\n    totalMinutesOffset = struct.hourOffset * 60 + struct.minuteOffset;\n    if (struct.plusMinus === '+') totalMinutesOffset = 0 - totalMinutesOffset;\n  }\n  return Date.UTC(struct.year, struct.month, struct.day, struct.hour, struct.minute + totalMinutesOffset, struct.second, struct.millisecond);\n}\nfunction parseDateStruct(date) {\n  var _regexResult$7$length, _regexResult$;\n  const regexResult = isoReg.exec(date);\n  if (!regexResult) return null;\n\n  // use of toNumber() avoids NaN timestamps caused by “undefined”\n  // values being passed to Date constructor\n  return {\n    year: toNumber(regexResult[1]),\n    month: toNumber(regexResult[2], 1) - 1,\n    day: toNumber(regexResult[3], 1),\n    hour: toNumber(regexResult[4]),\n    minute: toNumber(regexResult[5]),\n    second: toNumber(regexResult[6]),\n    millisecond: regexResult[7] ?\n    // allow arbitrary sub-second precision beyond milliseconds\n    toNumber(regexResult[7].substring(0, 3)) : 0,\n    precision: (_regexResult$7$length = (_regexResult$ = regexResult[7]) == null ? void 0 : _regexResult$.length) != null ? _regexResult$7$length : undefined,\n    z: regexResult[8] || undefined,\n    plusMinus: regexResult[9] || undefined,\n    hourOffset: toNumber(regexResult[10]),\n    minuteOffset: toNumber(regexResult[11])\n  };\n}\nfunction toNumber(str, defaultValue = 0) {\n  return Number(str) || defaultValue;\n}\n\n// Taken from HTML spec: https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address\nlet rEmail =\n// eslint-disable-next-line\n/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nlet rUrl =\n// eslint-disable-next-line\n/^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i;\n\n// eslint-disable-next-line\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nlet yearMonthDay = '^\\\\d{4}-\\\\d{2}-\\\\d{2}';\nlet hourMinuteSecond = '\\\\d{2}:\\\\d{2}:\\\\d{2}';\nlet zOrOffset = '(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)';\nlet rIsoDateTime = new RegExp(`${yearMonthDay}T${hourMinuteSecond}(\\\\.\\\\d+)?${zOrOffset}$`);\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\nlet objStringTag = {}.toString();\nfunction create$6() {\n  return new StringSchema();\n}\nclass StringSchema extends Schema {\n  constructor() {\n    super({\n      type: 'string',\n      check(value) {\n        if (value instanceof String) value = value.valueOf();\n        return typeof value === 'string';\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw) => {\n        if (!this.spec.coerce || this.isType(value)) return value;\n\n        // don't ever convert arrays\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n\n        // no one wants plain objects converted to [Object object]\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n  required(message) {\n    return super.required(message).withMutation(schema => schema.test({\n      message: message || mixed.required,\n      name: 'required',\n      skipAbsent: true,\n      test: value => !!value.length\n    }));\n  }\n  notRequired() {\n    return super.notRequired().withMutation(schema => {\n      schema.tests = schema.tests.filter(t => t.OPTIONS.name !== 'required');\n      return schema;\n    });\n  }\n  length(length, message = string.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length === this.resolve(length);\n      }\n    });\n  }\n  min(min, message = string.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length >= this.resolve(min);\n      }\n    });\n  }\n  max(max, message = string.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length <= this.resolve(max);\n      }\n    });\n  }\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n    return this.test({\n      name: name || 'matches',\n      message: message || string.matches,\n      params: {\n        regex\n      },\n      skipAbsent: true,\n      test: value => value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n  email(message = string.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n  url(message = string.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n  uuid(message = string.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  }\n  datetime(options) {\n    let message = '';\n    let allowOffset;\n    let precision;\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          message = '',\n          allowOffset = false,\n          precision = undefined\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n    return this.matches(rIsoDateTime, {\n      name: 'datetime',\n      message: message || string.datetime,\n      excludeEmptyString: true\n    }).test({\n      name: 'datetime_offset',\n      message: message || string.datetime_offset,\n      params: {\n        allowOffset\n      },\n      skipAbsent: true,\n      test: value => {\n        if (!value || allowOffset) return true;\n        const struct = parseDateStruct(value);\n        if (!struct) return false;\n        return !!struct.z;\n      }\n    }).test({\n      name: 'datetime_precision',\n      message: message || string.datetime_precision,\n      params: {\n        precision\n      },\n      skipAbsent: true,\n      test: value => {\n        if (!value || precision == undefined) return true;\n        const struct = parseDateStruct(value);\n        if (!struct) return false;\n        return struct.precision === precision;\n      }\n    });\n  }\n\n  //-- transforms --\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n  trim(message = string.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n  lowercase(message = string.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      skipAbsent: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n  uppercase(message = string.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      skipAbsent: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n}\ncreate$6.prototype = StringSchema.prototype;\n\n//\n// String Interfaces\n//\n\nlet isNaN$1 = value => value != +value;\nfunction create$5() {\n  return new NumberSchema();\n}\nclass NumberSchema extends Schema {\n  constructor() {\n    super({\n      type: 'number',\n      check(value) {\n        if (value instanceof Number) value = value.valueOf();\n        return typeof value === 'number' && !isNaN$1(value);\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw) => {\n        if (!this.spec.coerce) return value;\n        let parsed = value;\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN;\n          // don't use parseFloat to avoid positives on alpha-numeric strings\n          parsed = +parsed;\n        }\n\n        // null -> NaN isn't useful; treat all nulls as null and let it fail on\n        // nullability check vs TypeErrors\n        if (this.isType(parsed) || parsed === null) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n  min(min, message = number.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      test(value) {\n        return value >= this.resolve(min);\n      }\n    });\n  }\n  max(max, message = number.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value <= this.resolve(max);\n      }\n    });\n  }\n  lessThan(less, message = number.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n      skipAbsent: true,\n      test(value) {\n        return value < this.resolve(less);\n      }\n    });\n  }\n  moreThan(more, message = number.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n      skipAbsent: true,\n      test(value) {\n        return value > this.resolve(more);\n      }\n    });\n  }\n  positive(msg = number.positive) {\n    return this.moreThan(0, msg);\n  }\n  negative(msg = number.negative) {\n    return this.lessThan(0, msg);\n  }\n  integer(message = number.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      skipAbsent: true,\n      test: val => Number.isInteger(val)\n    });\n  }\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n  round(method) {\n    var _method;\n    let avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round';\n\n    // this exists for symemtry with the new Math.trunc\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n}\ncreate$5.prototype = NumberSchema.prototype;\n\n//\n// Number Interfaces\n//\n\nlet invalidDate = new Date('');\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\nfunction create$4() {\n  return new DateSchema();\n}\nclass DateSchema extends Schema {\n  constructor() {\n    super({\n      type: 'date',\n      check(v) {\n        return isDate(v) && !isNaN(v.getTime());\n      }\n    });\n    this.withMutation(() => {\n      this.transform((value, _raw) => {\n        // null -> InvalidDate isn't useful; treat all nulls as null and let it fail on\n        // nullability check vs TypeErrors\n        if (!this.spec.coerce || this.isType(value) || value === null) return value;\n        value = parseIsoDate(value);\n\n        // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n        return !isNaN(value) ? new Date(value) : DateSchema.INVALID_DATE;\n      });\n    });\n  }\n  prepareParam(ref, name) {\n    let param;\n    if (!Reference.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n    return param;\n  }\n  min(min, message = date.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      test(value) {\n        return value >= this.resolve(limit);\n      }\n    });\n  }\n  max(max, message = date.max) {\n    let limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value <= this.resolve(limit);\n      }\n    });\n  }\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate$4.prototype = DateSchema.prototype;\ncreate$4.INVALID_DATE = invalidDate;\n\n// @ts-expect-error\nfunction sortFields(fields, excludedEdges = []) {\n  let edges = [];\n  let nodes = new Set();\n  let excludes = new Set(excludedEdges.map(([a, b]) => `${a}-${b}`));\n  function addNode(depPath, key) {\n    let node = (0,property_expr__WEBPACK_IMPORTED_MODULE_0__.split)(depPath)[0];\n    nodes.add(node);\n    if (!excludes.has(`${key}-${node}`)) edges.push([key, node]);\n  }\n  for (const key of Object.keys(fields)) {\n    let value = fields[key];\n    nodes.add(key);\n    if (Reference.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n  return toposort__WEBPACK_IMPORTED_MODULE_2___default().array(Array.from(nodes), edges).reverse();\n}\n\nfunction findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n    if ((_err$path = err.path) != null && _err$path.includes(key)) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\nfunction sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}\n\nconst parseJson = (value, _, schema) => {\n  if (typeof value !== 'string') {\n    return value;\n  }\n  let parsed = value;\n  try {\n    parsed = JSON.parse(value);\n  } catch (err) {\n    /* */\n  }\n  return schema.isType(parsed) ? parsed : value;\n};\n\n// @ts-ignore\nfunction deepPartial(schema) {\n  if ('fields' in schema) {\n    const partial = {};\n    for (const [key, fieldSchema] of Object.entries(schema.fields)) {\n      partial[key] = deepPartial(fieldSchema);\n    }\n    return schema.setFields(partial);\n  }\n  if (schema.type === 'array') {\n    const nextArray = schema.optional();\n    if (nextArray.innerType) nextArray.innerType = deepPartial(nextArray.innerType);\n    return nextArray;\n  }\n  if (schema.type === 'tuple') {\n    return schema.optional().clone({\n      types: schema.spec.types.map(deepPartial)\n    });\n  }\n  if ('optional' in schema) {\n    return schema.optional();\n  }\n  return schema;\n}\nconst deepHas = (obj, p) => {\n  const path = [...(0,property_expr__WEBPACK_IMPORTED_MODULE_0__.normalizePath)(p)];\n  if (path.length === 1) return path[0] in obj;\n  let last = path.pop();\n  let parent = (0,property_expr__WEBPACK_IMPORTED_MODULE_0__.getter)((0,property_expr__WEBPACK_IMPORTED_MODULE_0__.join)(path), true)(obj);\n  return !!(parent && last in parent);\n};\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\nconst defaultSort = sortByKeyOrder([]);\nfunction create$3(spec) {\n  return new ObjectSchema(spec);\n}\nclass ObjectSchema extends Schema {\n  constructor(spec) {\n    super({\n      type: 'object',\n      check(value) {\n        return isObject(value) || typeof value === 'function';\n      }\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n    let value = super._cast(_value, options);\n\n    //should ignore nulls here\n    if (value === undefined) return this.getDefault(options);\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n    let props = [].concat(this._nodes, Object.keys(value).filter(v => !this._nodes.includes(v)));\n    let intermediateValue = {}; // is filled during the transform below\n    let innerOptions = Object.assign({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n    let isChanged = false;\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = (prop in value);\n      let inputValue = value[prop];\n      if (field) {\n        let fieldValue;\n\n        // safe to mutate since this is fired in sequence\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop;\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = field instanceof Schema ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n        if (fieldSpec != null && fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n        fieldValue = !options.__validating || !strict ? field.cast(inputValue, innerOptions) : inputValue;\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = inputValue;\n      }\n      if (exists !== prop in intermediateValue || intermediateValue[prop] !== inputValue) {\n        isChanged = true;\n      }\n    }\n    return isChanged ? intermediateValue : value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    let {\n      from = [],\n      originalValue = _value,\n      recursive = this.spec.recursive\n    } = options;\n    options.from = [{\n      schema: this,\n      value: originalValue\n    }, ...from];\n    // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n    options.__validating = true;\n    options.originalValue = originalValue;\n    super._validate(_value, options, panic, (objectErrors, value) => {\n      if (!recursive || !isObject(value)) {\n        next(objectErrors, value);\n        return;\n      }\n      originalValue = originalValue || value;\n      let tests = [];\n      for (let key of this._nodes) {\n        let field = this.fields[key];\n        if (!field || Reference.isRef(field)) {\n          continue;\n        }\n        tests.push(field.asNestedTest({\n          options,\n          key,\n          parent: value,\n          parentPath: options.path,\n          originalParent: originalValue\n        }));\n      }\n      this.runTests({\n        tests,\n        value,\n        originalValue,\n        options\n      }, panic, fieldErrors => {\n        next(fieldErrors.sort(this._sortErrors).concat(objectErrors), value);\n      });\n    });\n  }\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = Object.assign({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n      nextFields[field] = target === undefined ? schemaOrRef : target;\n    }\n    return next.withMutation(s =>\n    // XXX: excludes here is wrong\n    s.setFields(nextFields, [...this._excludedEdges, ...schema._excludedEdges]));\n  }\n  _getDefault(options) {\n    if ('default' in this.spec) {\n      return super._getDefault(options);\n    }\n\n    // if there is no default set invent one\n    if (!this._nodes.length) {\n      return undefined;\n    }\n    let dft = {};\n    this._nodes.forEach(key => {\n      var _innerOptions;\n      const field = this.fields[key];\n      let innerOptions = options;\n      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[key]\n        });\n      }\n      dft[key] = field && 'getDefault' in field ? field.getDefault(innerOptions) : undefined;\n    });\n    return dft;\n  }\n  setFields(shape, excludedEdges) {\n    let next = this.clone();\n    next.fields = shape;\n    next._nodes = sortFields(shape, excludedEdges);\n    next._sortErrors = sortByKeyOrder(Object.keys(shape));\n    // XXX: this carries over edges which may not be what you want\n    if (excludedEdges) next._excludedEdges = excludedEdges;\n    return next;\n  }\n  shape(additions, excludes = []) {\n    return this.clone().withMutation(next => {\n      let edges = next._excludedEdges;\n      if (excludes.length) {\n        if (!Array.isArray(excludes[0])) excludes = [excludes];\n        edges = [...next._excludedEdges, ...excludes];\n      }\n\n      // XXX: excludes here is wrong\n      return next.setFields(Object.assign(next.fields, additions), edges);\n    });\n  }\n  partial() {\n    const partial = {};\n    for (const [key, schema] of Object.entries(this.fields)) {\n      partial[key] = 'optional' in schema && schema.optional instanceof Function ? schema.optional() : schema;\n    }\n    return this.setFields(partial);\n  }\n  deepPartial() {\n    const next = deepPartial(this);\n    return next;\n  }\n  pick(keys) {\n    const picked = {};\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n    return this.setFields(picked, this._excludedEdges.filter(([a, b]) => keys.includes(a) && keys.includes(b)));\n  }\n  omit(keys) {\n    const remaining = [];\n    for (const key of Object.keys(this.fields)) {\n      if (keys.includes(key)) continue;\n      remaining.push(key);\n    }\n    return this.pick(remaining);\n  }\n  from(from, to, alias) {\n    let fromGetter = (0,property_expr__WEBPACK_IMPORTED_MODULE_0__.getter)(from, true);\n    return this.transform(obj => {\n      if (!obj) return obj;\n      let newObj = obj;\n      if (deepHas(obj, from)) {\n        newObj = Object.assign({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n      return newObj;\n    });\n  }\n\n  /** Parse an input JSON string to an object */\n  json() {\n    return this.transform(parseJson);\n  }\n\n  /**\n   * Similar to `noUnknown` but only validates that an object is the right shape without stripping the unknown keys\n   */\n  exact(message) {\n    return this.test({\n      name: 'exact',\n      exclusive: true,\n      message: message || object.exact,\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return unknownKeys.length === 0 || this.createError({\n          params: {\n            properties: unknownKeys.join(', ')\n          }\n        });\n      }\n    });\n  }\n  stripUnknown() {\n    return this.clone({\n      noUnknown: true\n    });\n  }\n  noUnknown(noAllow = true, message = object.noUnknown) {\n    if (typeof noAllow !== 'boolean') {\n      message = noAllow;\n      noAllow = true;\n    }\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n  unknown(allow = true, message = object.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n  transformKeys(fn) {\n    return this.transform(obj => {\n      if (!obj) return obj;\n      const result = {};\n      for (const key of Object.keys(obj)) result[fn(key)] = obj[key];\n      return result;\n    });\n  }\n  camelCase() {\n    return this.transformKeys(tiny_case__WEBPACK_IMPORTED_MODULE_1__.camelCase);\n  }\n  snakeCase() {\n    return this.transformKeys(tiny_case__WEBPACK_IMPORTED_MODULE_1__.snakeCase);\n  }\n  constantCase() {\n    return this.transformKeys(key => (0,tiny_case__WEBPACK_IMPORTED_MODULE_1__.snakeCase)(key).toUpperCase());\n  }\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const base = super.describe(options);\n    base.fields = {};\n    for (const [key, value] of Object.entries(next.fields)) {\n      var _innerOptions2;\n      let innerOptions = options;\n      if ((_innerOptions2 = innerOptions) != null && _innerOptions2.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[key]\n        });\n      }\n      base.fields[key] = value.describe(innerOptions);\n    }\n    return base;\n  }\n}\ncreate$3.prototype = ObjectSchema.prototype;\n\nfunction create$2(type) {\n  return new ArraySchema(type);\n}\nclass ArraySchema extends Schema {\n  constructor(type) {\n    super({\n      type: 'array',\n      spec: {\n        types: type\n      },\n      check(v) {\n        return Array.isArray(v);\n      }\n    });\n\n    // `undefined` specifically means uninitialized, as opposed to \"no subtype\"\n    this.innerType = void 0;\n    this.innerType = type;\n  }\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts);\n\n    // should ignore nulls here\n    if (!this._typeCheck(value) || !this.innerType) {\n      return value;\n    }\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, Object.assign({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`,\n        parent: value,\n        originalValue: v,\n        value: v,\n        index: idx\n      }));\n      if (castElement !== v) {\n        isChanged = true;\n      }\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    var _options$recursive;\n    // let sync = options.sync;\n    // let path = options.path;\n    let innerType = this.innerType;\n    // let endEarly = options.abortEarly ?? this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    options.originalValue != null ? options.originalValue : _value;\n    super._validate(_value, options, panic, (arrayErrors, value) => {\n      var _options$originalValu2;\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        next(arrayErrors, value);\n        return;\n      }\n\n      // #950 Ensure that sparse array empty slots are validated\n      let tests = new Array(value.length);\n      for (let index = 0; index < value.length; index++) {\n        var _options$originalValu;\n        tests[index] = innerType.asNestedTest({\n          options,\n          index,\n          parent: value,\n          parentPath: options.path,\n          originalParent: (_options$originalValu = options.originalValue) != null ? _options$originalValu : _value\n        });\n      }\n      this.runTests({\n        value,\n        tests,\n        originalValue: (_options$originalValu2 = options.originalValue) != null ? _options$originalValu2 : _value,\n        options\n      }, panic, innerTypeErrors => next(innerTypeErrors.concat(arrayErrors), value));\n    });\n  }\n  clone(spec) {\n    const next = super.clone(spec);\n    // @ts-expect-error readonly\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  /** Parse an input JSON string to an object */\n  json() {\n    return this.transform(parseJson);\n  }\n  concat(schema) {\n    let next = super.concat(schema);\n\n    // @ts-expect-error readonly\n    next.innerType = this.innerType;\n    if (schema.innerType)\n      // @ts-expect-error readonly\n      next.innerType = next.innerType ?\n      // @ts-expect-error Lazy doesn't have concat and will break\n      next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema));\n\n    // @ts-expect-error readonly\n    next.innerType = schema;\n    next.spec = Object.assign({}, next.spec, {\n      types: schema\n    });\n    return next;\n  }\n  length(length, message = array.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length === this.resolve(length);\n      }\n    });\n  }\n  min(min, message) {\n    message = message || array.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n      skipAbsent: true,\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return value.length >= this.resolve(min);\n      }\n    });\n  }\n  max(max, message) {\n    message = message || array.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n      skipAbsent: true,\n      test(value) {\n        return value.length <= this.resolve(max);\n      }\n    });\n  }\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const base = super.describe(options);\n    if (next.innerType) {\n      var _innerOptions;\n      let innerOptions = options;\n      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[0]\n        });\n      }\n      base.innerType = next.innerType.describe(innerOptions);\n    }\n    return base;\n  }\n}\ncreate$2.prototype = ArraySchema.prototype;\n\n// @ts-ignore\nfunction create$1(schemas) {\n  return new TupleSchema(schemas);\n}\nclass TupleSchema extends Schema {\n  constructor(schemas) {\n    super({\n      type: 'tuple',\n      spec: {\n        types: schemas\n      },\n      check(v) {\n        const types = this.spec.types;\n        return Array.isArray(v) && v.length === types.length;\n      }\n    });\n    this.withMutation(() => {\n      this.typeError(tuple.notType);\n    });\n  }\n  _cast(inputValue, options) {\n    const {\n      types\n    } = this.spec;\n    const value = super._cast(inputValue, options);\n    if (!this._typeCheck(value)) {\n      return value;\n    }\n    let isChanged = false;\n    const castArray = types.map((type, idx) => {\n      const castElement = type.cast(value[idx], Object.assign({}, options, {\n        path: `${options.path || ''}[${idx}]`,\n        parent: value,\n        originalValue: value[idx],\n        value: value[idx],\n        index: idx\n      }));\n      if (castElement !== value[idx]) isChanged = true;\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n  _validate(_value, options = {}, panic, next) {\n    let itemTypes = this.spec.types;\n    super._validate(_value, options, panic, (tupleErrors, value) => {\n      var _options$originalValu2;\n      // intentionally not respecting recursive\n      if (!this._typeCheck(value)) {\n        next(tupleErrors, value);\n        return;\n      }\n      let tests = [];\n      for (let [index, itemSchema] of itemTypes.entries()) {\n        var _options$originalValu;\n        tests[index] = itemSchema.asNestedTest({\n          options,\n          index,\n          parent: value,\n          parentPath: options.path,\n          originalParent: (_options$originalValu = options.originalValue) != null ? _options$originalValu : _value\n        });\n      }\n      this.runTests({\n        value,\n        tests,\n        originalValue: (_options$originalValu2 = options.originalValue) != null ? _options$originalValu2 : _value,\n        options\n      }, panic, innerTypeErrors => next(innerTypeErrors.concat(tupleErrors), value));\n    });\n  }\n  describe(options) {\n    const next = (options ? this.resolve(options) : this).clone();\n    const base = super.describe(options);\n    base.innerType = next.spec.types.map((schema, index) => {\n      var _innerOptions;\n      let innerOptions = options;\n      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {\n        innerOptions = Object.assign({}, innerOptions, {\n          parent: innerOptions.value,\n          value: innerOptions.value[index]\n        });\n      }\n      return schema.describe(innerOptions);\n    });\n    return base;\n  }\n}\ncreate$1.prototype = TupleSchema.prototype;\n\nfunction create(builder) {\n  return new Lazy(builder);\n}\nfunction catchValidationError(fn) {\n  try {\n    return fn();\n  } catch (err) {\n    if (ValidationError.isError(err)) return Promise.reject(err);\n    throw err;\n  }\n}\nclass Lazy {\n  constructor(builder) {\n    this.type = 'lazy';\n    this.__isYupSchema__ = true;\n    this.spec = void 0;\n    this._resolve = (value, options = {}) => {\n      let schema = this.builder(value, options);\n      if (!isSchema(schema)) throw new TypeError('lazy() functions must return a valid schema');\n      if (this.spec.optional) schema = schema.optional();\n      return schema.resolve(options);\n    };\n    this.builder = builder;\n    this.spec = {\n      meta: undefined,\n      optional: false\n    };\n  }\n  clone(spec) {\n    const next = new Lazy(this.builder);\n    next.spec = Object.assign({}, this.spec, spec);\n    return next;\n  }\n  optionality(optional) {\n    const next = this.clone({\n      optional\n    });\n    return next;\n  }\n  optional() {\n    return this.optionality(true);\n  }\n  resolve(options) {\n    return this._resolve(options.value, options);\n  }\n  cast(value, options) {\n    return this._resolve(value, options).cast(value, options);\n  }\n  asNestedTest(config) {\n    let {\n      key,\n      index,\n      parent,\n      options\n    } = config;\n    let value = parent[index != null ? index : key];\n    return this._resolve(value, Object.assign({}, options, {\n      value,\n      parent\n    })).asNestedTest(config);\n  }\n  validate(value, options) {\n    return catchValidationError(() => this._resolve(value, options).validate(value, options));\n  }\n  validateSync(value, options) {\n    return this._resolve(value, options).validateSync(value, options);\n  }\n  validateAt(path, value, options) {\n    return catchValidationError(() => this._resolve(value, options).validateAt(path, value, options));\n  }\n  validateSyncAt(path, value, options) {\n    return this._resolve(value, options).validateSyncAt(path, value, options);\n  }\n  isValid(value, options) {\n    try {\n      return this._resolve(value, options).isValid(value, options);\n    } catch (err) {\n      if (ValidationError.isError(err)) {\n        return Promise.resolve(false);\n      }\n      throw err;\n    }\n  }\n  isValidSync(value, options) {\n    return this._resolve(value, options).isValidSync(value, options);\n  }\n  describe(options) {\n    return options ? this.resolve(options).describe(options) : {\n      type: 'lazy',\n      meta: this.spec.meta,\n      label: undefined\n    };\n  }\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  }\n  get ['~standard']() {\n    const schema = this;\n    const standard = {\n      version: 1,\n      vendor: 'yup',\n      async validate(value) {\n        try {\n          const result = await schema.validate(value, {\n            abortEarly: false\n          });\n          return {\n            value: result\n          };\n        } catch (err) {\n          if (ValidationError.isError(err)) {\n            return {\n              issues: issuesFromValidationError(err)\n            };\n          }\n          throw err;\n        }\n      }\n    };\n    return standard;\n  }\n}\n\nfunction setLocale(custom) {\n  Object.keys(custom).forEach(type => {\n    // @ts-ignore\n    Object.keys(custom[type]).forEach(method => {\n      // @ts-ignore\n      locale[type][method] = custom[type][method];\n    });\n  });\n}\n\nfunction addMethod(schemaType, name, fn) {\n  if (!schemaType || !isSchema(schemaType.prototype)) throw new TypeError('You must provide a yup schema constructor function');\n  if (typeof name !== 'string') throw new TypeError('A Method name must be provided');\n  if (typeof fn !== 'function') throw new TypeError('Method function must be provided');\n  schemaType.prototype[name] = fn;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy95dXAvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRFO0FBQzNCO0FBQ2pCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELElBQUk7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCwrQ0FBK0Msb0JBQW9CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCLGVBQWUsTUFBTTtBQUNyQixjQUFjLE1BQU07QUFDcEIsY0FBYyxNQUFNO0FBQ3BCLFlBQVksTUFBTSx1Q0FBdUMsT0FBTztBQUNoRSxlQUFl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QTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxPQUFPLDBDQUEwQztBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixzRUFBc0U7QUFDdEU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNB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QUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNB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QSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxREFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcWMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFx5dXBcXGluZGV4LmVzbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXR0ZXIsIGZvckVhY2gsIHNwbGl0LCBub3JtYWxpemVQYXRoLCBqb2luIH0gZnJvbSAncHJvcGVydHktZXhwcic7XG5pbXBvcnQgeyBjYW1lbENhc2UsIHNuYWtlQ2FzZSB9IGZyb20gJ3RpbnktY2FzZSc7XG5pbXBvcnQgdG9wb3NvcnQgZnJvbSAndG9wb3NvcnQnO1xuXG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBlcnJvclRvU3RyaW5nID0gRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgcmVnRXhwVG9TdHJpbmcgPSBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3Qgc3ltYm9sVG9TdHJpbmcgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgOiAoKSA9PiAnJztcbmNvbnN0IFNZTUJPTF9SRUdFWFAgPSAvXlN5bWJvbFxcKCguKilcXCkoLiopJC87XG5mdW5jdGlvbiBwcmludE51bWJlcih2YWwpIHtcbiAgaWYgKHZhbCAhPSArdmFsKSByZXR1cm4gJ05hTic7XG4gIGNvbnN0IGlzTmVnYXRpdmVaZXJvID0gdmFsID09PSAwICYmIDEgLyB2YWwgPCAwO1xuICByZXR1cm4gaXNOZWdhdGl2ZVplcm8gPyAnLTAnIDogJycgKyB2YWw7XG59XG5mdW5jdGlvbiBwcmludFNpbXBsZVZhbHVlKHZhbCwgcXVvdGVTdHJpbmdzID0gZmFsc2UpIHtcbiAgaWYgKHZhbCA9PSBudWxsIHx8IHZhbCA9PT0gdHJ1ZSB8fCB2YWwgPT09IGZhbHNlKSByZXR1cm4gJycgKyB2YWw7XG4gIGNvbnN0IHR5cGVPZiA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlT2YgPT09ICdudW1iZXInKSByZXR1cm4gcHJpbnROdW1iZXIodmFsKTtcbiAgaWYgKHR5cGVPZiA9PT0gJ3N0cmluZycpIHJldHVybiBxdW90ZVN0cmluZ3MgPyBgXCIke3ZhbH1cImAgOiB2YWw7XG4gIGlmICh0eXBlT2YgPT09ICdmdW5jdGlvbicpIHJldHVybiAnW0Z1bmN0aW9uICcgKyAodmFsLm5hbWUgfHwgJ2Fub255bW91cycpICsgJ10nO1xuICBpZiAodHlwZU9mID09PSAnc3ltYm9sJykgcmV0dXJuIHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsKS5yZXBsYWNlKFNZTUJPTF9SRUdFWFAsICdTeW1ib2woJDEpJyk7XG4gIGNvbnN0IHRhZyA9IHRvU3RyaW5nLmNhbGwodmFsKS5zbGljZSg4LCAtMSk7XG4gIGlmICh0YWcgPT09ICdEYXRlJykgcmV0dXJuIGlzTmFOKHZhbC5nZXRUaW1lKCkpID8gJycgKyB2YWwgOiB2YWwudG9JU09TdHJpbmcodmFsKTtcbiAgaWYgKHRhZyA9PT0gJ0Vycm9yJyB8fCB2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuICdbJyArIGVycm9yVG9TdHJpbmcuY2FsbCh2YWwpICsgJ10nO1xuICBpZiAodGFnID09PSAnUmVnRXhwJykgcmV0dXJuIHJlZ0V4cFRvU3RyaW5nLmNhbGwodmFsKTtcbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBwcmludFZhbHVlKHZhbHVlLCBxdW90ZVN0cmluZ3MpIHtcbiAgbGV0IHJlc3VsdCA9IHByaW50U2ltcGxlVmFsdWUodmFsdWUsIHF1b3RlU3RyaW5ncyk7XG4gIGlmIChyZXN1bHQgIT09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0ID0gcHJpbnRTaW1wbGVWYWx1ZSh0aGlzW2tleV0sIHF1b3RlU3RyaW5ncyk7XG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sIDIpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gW10gOiBbXS5jb25jYXQodmFsdWUpO1xufVxuXG5sZXQgX1N5bWJvbCR0b1N0cmluZ1RhZywgX1N5bWJvbCRoYXNJbnN0YW5jZSwgX1N5bWJvbCR0b1N0cmluZ1RhZzI7XG5sZXQgc3RyUmVnID0gL1xcJFxce1xccyooXFx3KylcXHMqXFx9L2c7XG5fU3ltYm9sJHRvU3RyaW5nVGFnID0gU3ltYm9sLnRvU3RyaW5nVGFnO1xuY2xhc3MgVmFsaWRhdGlvbkVycm9yTm9TdGFjayB7XG4gIGNvbnN0cnVjdG9yKGVycm9yT3JFcnJvcnMsIHZhbHVlLCBmaWVsZCwgdHlwZSkge1xuICAgIHRoaXMubmFtZSA9IHZvaWQgMDtcbiAgICB0aGlzLm1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgdGhpcy52YWx1ZSA9IHZvaWQgMDtcbiAgICB0aGlzLnBhdGggPSB2b2lkIDA7XG4gICAgdGhpcy50eXBlID0gdm9pZCAwO1xuICAgIHRoaXMucGFyYW1zID0gdm9pZCAwO1xuICAgIHRoaXMuZXJyb3JzID0gdm9pZCAwO1xuICAgIHRoaXMuaW5uZXIgPSB2b2lkIDA7XG4gICAgdGhpc1tfU3ltYm9sJHRvU3RyaW5nVGFnXSA9ICdFcnJvcic7XG4gICAgdGhpcy5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMucGF0aCA9IGZpZWxkO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICB0aGlzLmlubmVyID0gW107XG4gICAgdG9BcnJheShlcnJvck9yRXJyb3JzKS5mb3JFYWNoKGVyciA9PiB7XG4gICAgICBpZiAoVmFsaWRhdGlvbkVycm9yLmlzRXJyb3IoZXJyKSkge1xuICAgICAgICB0aGlzLmVycm9ycy5wdXNoKC4uLmVyci5lcnJvcnMpO1xuICAgICAgICBjb25zdCBpbm5lckVycm9ycyA9IGVyci5pbm5lci5sZW5ndGggPyBlcnIuaW5uZXIgOiBbZXJyXTtcbiAgICAgICAgdGhpcy5pbm5lci5wdXNoKC4uLmlubmVyRXJyb3JzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmVycm9ycy5sZW5ndGggPiAxID8gYCR7dGhpcy5lcnJvcnMubGVuZ3RofSBlcnJvcnMgb2NjdXJyZWRgIDogdGhpcy5lcnJvcnNbMF07XG4gIH1cbn1cbl9TeW1ib2wkaGFzSW5zdGFuY2UgPSBTeW1ib2wuaGFzSW5zdGFuY2U7XG5fU3ltYm9sJHRvU3RyaW5nVGFnMiA9IFN5bWJvbC50b1N0cmluZ1RhZztcbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgc3RhdGljIGZvcm1hdEVycm9yKG1lc3NhZ2UsIHBhcmFtcykge1xuICAgIC8vIEF0dGVtcHQgdG8gbWFrZSB0aGUgcGF0aCBtb3JlIGZyaWVuZGx5IGZvciBlcnJvciBtZXNzYWdlIGludGVycG9sYXRpb24uXG4gICAgY29uc3QgcGF0aCA9IHBhcmFtcy5sYWJlbCB8fCBwYXJhbXMucGF0aCB8fCAndGhpcyc7XG4gICAgLy8gU3RvcmUgdGhlIG9yaWdpbmFsIHBhdGggdW5kZXIgYG9yaWdpbmFsUGF0aGAgc28gaXQgaXNuJ3QgbG9zdCB0byBjdXN0b21cbiAgICAvLyBtZXNzYWdlIGZ1bmN0aW9uczsgZS5nLiwgb25lcyBwcm92aWRlZCBpbiBgc2V0TG9jYWxlKClgIGNhbGxzLlxuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcywge1xuICAgICAgcGF0aCxcbiAgICAgIG9yaWdpbmFsUGF0aDogcGFyYW1zLnBhdGhcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSByZXR1cm4gbWVzc2FnZS5yZXBsYWNlKHN0clJlZywgKF8sIGtleSkgPT4gcHJpbnRWYWx1ZShwYXJhbXNba2V5XSkpO1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIG1lc3NhZ2UocGFyYW1zKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBzdGF0aWMgaXNFcnJvcihlcnIpIHtcbiAgICByZXR1cm4gZXJyICYmIGVyci5uYW1lID09PSAnVmFsaWRhdGlvbkVycm9yJztcbiAgfVxuICBjb25zdHJ1Y3RvcihlcnJvck9yRXJyb3JzLCB2YWx1ZSwgZmllbGQsIHR5cGUsIGRpc2FibGVTdGFjaykge1xuICAgIGNvbnN0IGVycm9yTm9TdGFjayA9IG5ldyBWYWxpZGF0aW9uRXJyb3JOb1N0YWNrKGVycm9yT3JFcnJvcnMsIHZhbHVlLCBmaWVsZCwgdHlwZSk7XG4gICAgaWYgKGRpc2FibGVTdGFjaykge1xuICAgICAgcmV0dXJuIGVycm9yTm9TdGFjaztcbiAgICB9XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhbHVlID0gdm9pZCAwO1xuICAgIHRoaXMucGF0aCA9IHZvaWQgMDtcbiAgICB0aGlzLnR5cGUgPSB2b2lkIDA7XG4gICAgdGhpcy5wYXJhbXMgPSB2b2lkIDA7XG4gICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICB0aGlzLmlubmVyID0gW107XG4gICAgdGhpc1tfU3ltYm9sJHRvU3RyaW5nVGFnMl0gPSAnRXJyb3InO1xuICAgIHRoaXMubmFtZSA9IGVycm9yTm9TdGFjay5uYW1lO1xuICAgIHRoaXMubWVzc2FnZSA9IGVycm9yTm9TdGFjay5tZXNzYWdlO1xuICAgIHRoaXMudHlwZSA9IGVycm9yTm9TdGFjay50eXBlO1xuICAgIHRoaXMudmFsdWUgPSBlcnJvck5vU3RhY2sudmFsdWU7XG4gICAgdGhpcy5wYXRoID0gZXJyb3JOb1N0YWNrLnBhdGg7XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvck5vU3RhY2suZXJyb3JzO1xuICAgIHRoaXMuaW5uZXIgPSBlcnJvck5vU3RhY2suaW5uZXI7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBWYWxpZGF0aW9uRXJyb3IpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgW19TeW1ib2wkaGFzSW5zdGFuY2VdKGluc3QpIHtcbiAgICByZXR1cm4gVmFsaWRhdGlvbkVycm9yTm9TdGFja1tTeW1ib2wuaGFzSW5zdGFuY2VdKGluc3QpIHx8IHN1cGVyW1N5bWJvbC5oYXNJbnN0YW5jZV0oaW5zdCk7XG4gIH1cbn1cblxubGV0IG1peGVkID0ge1xuICBkZWZhdWx0OiAnJHtwYXRofSBpcyBpbnZhbGlkJyxcbiAgcmVxdWlyZWQ6ICcke3BhdGh9IGlzIGEgcmVxdWlyZWQgZmllbGQnLFxuICBkZWZpbmVkOiAnJHtwYXRofSBtdXN0IGJlIGRlZmluZWQnLFxuICBub3ROdWxsOiAnJHtwYXRofSBjYW5ub3QgYmUgbnVsbCcsXG4gIG9uZU9mOiAnJHtwYXRofSBtdXN0IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHZhbHVlczogJHt2YWx1ZXN9JyxcbiAgbm90T25lT2Y6ICcke3BhdGh9IG11c3Qgbm90IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHZhbHVlczogJHt2YWx1ZXN9JyxcbiAgbm90VHlwZTogKHtcbiAgICBwYXRoLFxuICAgIHR5cGUsXG4gICAgdmFsdWUsXG4gICAgb3JpZ2luYWxWYWx1ZVxuICB9KSA9PiB7XG4gICAgY29uc3QgY2FzdE1zZyA9IG9yaWdpbmFsVmFsdWUgIT0gbnVsbCAmJiBvcmlnaW5hbFZhbHVlICE9PSB2YWx1ZSA/IGAgKGNhc3QgZnJvbSB0aGUgdmFsdWUgXFxgJHtwcmludFZhbHVlKG9yaWdpbmFsVmFsdWUsIHRydWUpfVxcYCkuYCA6ICcuJztcbiAgICByZXR1cm4gdHlwZSAhPT0gJ21peGVkJyA/IGAke3BhdGh9IG11c3QgYmUgYSBcXGAke3R5cGV9XFxgIHR5cGUsIGAgKyBgYnV0IHRoZSBmaW5hbCB2YWx1ZSB3YXM6IFxcYCR7cHJpbnRWYWx1ZSh2YWx1ZSwgdHJ1ZSl9XFxgYCArIGNhc3RNc2cgOiBgJHtwYXRofSBtdXN0IG1hdGNoIHRoZSBjb25maWd1cmVkIHR5cGUuIGAgKyBgVGhlIHZhbGlkYXRlZCB2YWx1ZSB3YXM6IFxcYCR7cHJpbnRWYWx1ZSh2YWx1ZSwgdHJ1ZSl9XFxgYCArIGNhc3RNc2c7XG4gIH1cbn07XG5sZXQgc3RyaW5nID0ge1xuICBsZW5ndGg6ICcke3BhdGh9IG11c3QgYmUgZXhhY3RseSAke2xlbmd0aH0gY2hhcmFjdGVycycsXG4gIG1pbjogJyR7cGF0aH0gbXVzdCBiZSBhdCBsZWFzdCAke21pbn0gY2hhcmFjdGVycycsXG4gIG1heDogJyR7cGF0aH0gbXVzdCBiZSBhdCBtb3N0ICR7bWF4fSBjaGFyYWN0ZXJzJyxcbiAgbWF0Y2hlczogJyR7cGF0aH0gbXVzdCBtYXRjaCB0aGUgZm9sbG93aW5nOiBcIiR7cmVnZXh9XCInLFxuICBlbWFpbDogJyR7cGF0aH0gbXVzdCBiZSBhIHZhbGlkIGVtYWlsJyxcbiAgdXJsOiAnJHtwYXRofSBtdXN0IGJlIGEgdmFsaWQgVVJMJyxcbiAgdXVpZDogJyR7cGF0aH0gbXVzdCBiZSBhIHZhbGlkIFVVSUQnLFxuICBkYXRldGltZTogJyR7cGF0aH0gbXVzdCBiZSBhIHZhbGlkIElTTyBkYXRlLXRpbWUnLFxuICBkYXRldGltZV9wcmVjaXNpb246ICcke3BhdGh9IG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZS10aW1lIHdpdGggYSBzdWItc2Vjb25kIHByZWNpc2lvbiBvZiBleGFjdGx5ICR7cHJlY2lzaW9ufSBkaWdpdHMnLFxuICBkYXRldGltZV9vZmZzZXQ6ICcke3BhdGh9IG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZS10aW1lIHdpdGggVVRDIFwiWlwiIHRpbWV6b25lJyxcbiAgdHJpbTogJyR7cGF0aH0gbXVzdCBiZSBhIHRyaW1tZWQgc3RyaW5nJyxcbiAgbG93ZXJjYXNlOiAnJHtwYXRofSBtdXN0IGJlIGEgbG93ZXJjYXNlIHN0cmluZycsXG4gIHVwcGVyY2FzZTogJyR7cGF0aH0gbXVzdCBiZSBhIHVwcGVyIGNhc2Ugc3RyaW5nJ1xufTtcbmxldCBudW1iZXIgPSB7XG4gIG1pbjogJyR7cGF0aH0gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHttaW59JyxcbiAgbWF4OiAnJHtwYXRofSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAke21heH0nLFxuICBsZXNzVGhhbjogJyR7cGF0aH0gbXVzdCBiZSBsZXNzIHRoYW4gJHtsZXNzfScsXG4gIG1vcmVUaGFuOiAnJHtwYXRofSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAke21vcmV9JyxcbiAgcG9zaXRpdmU6ICcke3BhdGh9IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInLFxuICBuZWdhdGl2ZTogJyR7cGF0aH0gbXVzdCBiZSBhIG5lZ2F0aXZlIG51bWJlcicsXG4gIGludGVnZXI6ICcke3BhdGh9IG11c3QgYmUgYW4gaW50ZWdlcidcbn07XG5sZXQgZGF0ZSA9IHtcbiAgbWluOiAnJHtwYXRofSBmaWVsZCBtdXN0IGJlIGxhdGVyIHRoYW4gJHttaW59JyxcbiAgbWF4OiAnJHtwYXRofSBmaWVsZCBtdXN0IGJlIGF0IGVhcmxpZXIgdGhhbiAke21heH0nXG59O1xubGV0IGJvb2xlYW4gPSB7XG4gIGlzVmFsdWU6ICcke3BhdGh9IGZpZWxkIG11c3QgYmUgJHt2YWx1ZX0nXG59O1xubGV0IG9iamVjdCA9IHtcbiAgbm9Vbmtub3duOiAnJHtwYXRofSBmaWVsZCBoYXMgdW5zcGVjaWZpZWQga2V5czogJHt1bmtub3dufScsXG4gIGV4YWN0OiAnJHtwYXRofSBvYmplY3QgY29udGFpbnMgdW5rbm93biBwcm9wZXJ0aWVzOiAke3Byb3BlcnRpZXN9J1xufTtcbmxldCBhcnJheSA9IHtcbiAgbWluOiAnJHtwYXRofSBmaWVsZCBtdXN0IGhhdmUgYXQgbGVhc3QgJHttaW59IGl0ZW1zJyxcbiAgbWF4OiAnJHtwYXRofSBmaWVsZCBtdXN0IGhhdmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvICR7bWF4fSBpdGVtcycsXG4gIGxlbmd0aDogJyR7cGF0aH0gbXVzdCBoYXZlICR7bGVuZ3RofSBpdGVtcydcbn07XG5sZXQgdHVwbGUgPSB7XG4gIG5vdFR5cGU6IHBhcmFtcyA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcGF0aCxcbiAgICAgIHZhbHVlLFxuICAgICAgc3BlY1xuICAgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgdHlwZUxlbiA9IHNwZWMudHlwZXMubGVuZ3RoO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IHR5cGVMZW4pIHJldHVybiBgJHtwYXRofSB0dXBsZSB2YWx1ZSBoYXMgdG9vIGZldyBpdGVtcywgZXhwZWN0ZWQgYSBsZW5ndGggb2YgJHt0eXBlTGVufSBidXQgZ290ICR7dmFsdWUubGVuZ3RofSBmb3IgdmFsdWU6IFxcYCR7cHJpbnRWYWx1ZSh2YWx1ZSwgdHJ1ZSl9XFxgYDtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiB0eXBlTGVuKSByZXR1cm4gYCR7cGF0aH0gdHVwbGUgdmFsdWUgaGFzIHRvbyBtYW55IGl0ZW1zLCBleHBlY3RlZCBhIGxlbmd0aCBvZiAke3R5cGVMZW59IGJ1dCBnb3QgJHt2YWx1ZS5sZW5ndGh9IGZvciB2YWx1ZTogXFxgJHtwcmludFZhbHVlKHZhbHVlLCB0cnVlKX1cXGBgO1xuICAgIH1cbiAgICByZXR1cm4gVmFsaWRhdGlvbkVycm9yLmZvcm1hdEVycm9yKG1peGVkLm5vdFR5cGUsIHBhcmFtcyk7XG4gIH1cbn07XG52YXIgbG9jYWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gIG1peGVkLFxuICBzdHJpbmcsXG4gIG51bWJlcixcbiAgZGF0ZSxcbiAgb2JqZWN0LFxuICBhcnJheSxcbiAgYm9vbGVhbixcbiAgdHVwbGVcbn0pO1xuXG5jb25zdCBpc1NjaGVtYSA9IG9iaiA9PiBvYmogJiYgb2JqLl9faXNZdXBTY2hlbWFfXztcblxuY2xhc3MgQ29uZGl0aW9uIHtcbiAgc3RhdGljIGZyb21PcHRpb25zKHJlZnMsIGNvbmZpZykge1xuICAgIGlmICghY29uZmlnLnRoZW4gJiYgIWNvbmZpZy5vdGhlcndpc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VpdGhlciBgdGhlbjpgIG9yIGBvdGhlcndpc2U6YCBpcyByZXF1aXJlZCBmb3IgYHdoZW4oKWAgY29uZGl0aW9ucycpO1xuICAgIGxldCB7XG4gICAgICBpcyxcbiAgICAgIHRoZW4sXG4gICAgICBvdGhlcndpc2VcbiAgICB9ID0gY29uZmlnO1xuICAgIGxldCBjaGVjayA9IHR5cGVvZiBpcyA9PT0gJ2Z1bmN0aW9uJyA/IGlzIDogKC4uLnZhbHVlcykgPT4gdmFsdWVzLmV2ZXJ5KHZhbHVlID0+IHZhbHVlID09PSBpcyk7XG4gICAgcmV0dXJuIG5ldyBDb25kaXRpb24ocmVmcywgKHZhbHVlcywgc2NoZW1hKSA9PiB7XG4gICAgICB2YXIgX2JyYW5jaDtcbiAgICAgIGxldCBicmFuY2ggPSBjaGVjayguLi52YWx1ZXMpID8gdGhlbiA6IG90aGVyd2lzZTtcbiAgICAgIHJldHVybiAoX2JyYW5jaCA9IGJyYW5jaCA9PSBudWxsID8gdm9pZCAwIDogYnJhbmNoKHNjaGVtYSkpICE9IG51bGwgPyBfYnJhbmNoIDogc2NoZW1hO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0cnVjdG9yKHJlZnMsIGJ1aWxkZXIpIHtcbiAgICB0aGlzLmZuID0gdm9pZCAwO1xuICAgIHRoaXMucmVmcyA9IHJlZnM7XG4gICAgdGhpcy5yZWZzID0gcmVmcztcbiAgICB0aGlzLmZuID0gYnVpbGRlcjtcbiAgfVxuICByZXNvbHZlKGJhc2UsIG9wdGlvbnMpIHtcbiAgICBsZXQgdmFsdWVzID0gdGhpcy5yZWZzLm1hcChyZWYgPT5cbiAgICAvLyBUT0RPOiA/IG9wZXJhdG9yIGhlcmU/XG4gICAgcmVmLmdldFZhbHVlKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudmFsdWUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyZW50LCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNvbnRleHQpKTtcbiAgICBsZXQgc2NoZW1hID0gdGhpcy5mbih2YWx1ZXMsIGJhc2UsIG9wdGlvbnMpO1xuICAgIGlmIChzY2hlbWEgPT09IHVuZGVmaW5lZCB8fFxuICAgIC8vIEB0cy1pZ25vcmUgdGhpcyBjYW4gYmUgYmFzZVxuICAgIHNjaGVtYSA9PT0gYmFzZSkge1xuICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxuICAgIGlmICghaXNTY2hlbWEoc2NoZW1hKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignY29uZGl0aW9ucyBtdXN0IHJldHVybiBhIHNjaGVtYSBvYmplY3QnKTtcbiAgICByZXR1cm4gc2NoZW1hLnJlc29sdmUob3B0aW9ucyk7XG4gIH1cbn1cblxuY29uc3QgcHJlZml4ZXMgPSB7XG4gIGNvbnRleHQ6ICckJyxcbiAgdmFsdWU6ICcuJ1xufTtcbmZ1bmN0aW9uIGNyZWF0ZSQ5KGtleSwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFJlZmVyZW5jZShrZXksIG9wdGlvbnMpO1xufVxuY2xhc3MgUmVmZXJlbmNlIHtcbiAgY29uc3RydWN0b3Ioa2V5LCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICB0aGlzLmlzQ29udGV4dCA9IHZvaWQgMDtcbiAgICB0aGlzLmlzVmFsdWUgPSB2b2lkIDA7XG4gICAgdGhpcy5pc1NpYmxpbmcgPSB2b2lkIDA7XG4gICAgdGhpcy5wYXRoID0gdm9pZCAwO1xuICAgIHRoaXMuZ2V0dGVyID0gdm9pZCAwO1xuICAgIHRoaXMubWFwID0gdm9pZCAwO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcigncmVmIG11c3QgYmUgYSBzdHJpbmcsIGdvdDogJyArIGtleSk7XG4gICAgdGhpcy5rZXkgPSBrZXkudHJpbSgpO1xuICAgIGlmIChrZXkgPT09ICcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZWYgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICB0aGlzLmlzQ29udGV4dCA9IHRoaXMua2V5WzBdID09PSBwcmVmaXhlcy5jb250ZXh0O1xuICAgIHRoaXMuaXNWYWx1ZSA9IHRoaXMua2V5WzBdID09PSBwcmVmaXhlcy52YWx1ZTtcbiAgICB0aGlzLmlzU2libGluZyA9ICF0aGlzLmlzQ29udGV4dCAmJiAhdGhpcy5pc1ZhbHVlO1xuICAgIGxldCBwcmVmaXggPSB0aGlzLmlzQ29udGV4dCA/IHByZWZpeGVzLmNvbnRleHQgOiB0aGlzLmlzVmFsdWUgPyBwcmVmaXhlcy52YWx1ZSA6ICcnO1xuICAgIHRoaXMucGF0aCA9IHRoaXMua2V5LnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIHRoaXMuZ2V0dGVyID0gdGhpcy5wYXRoICYmIGdldHRlcih0aGlzLnBhdGgsIHRydWUpO1xuICAgIHRoaXMubWFwID0gb3B0aW9ucy5tYXA7XG4gIH1cbiAgZ2V0VmFsdWUodmFsdWUsIHBhcmVudCwgY29udGV4dCkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLmlzQ29udGV4dCA/IGNvbnRleHQgOiB0aGlzLmlzVmFsdWUgPyB2YWx1ZSA6IHBhcmVudDtcbiAgICBpZiAodGhpcy5nZXR0ZXIpIHJlc3VsdCA9IHRoaXMuZ2V0dGVyKHJlc3VsdCB8fCB7fSk7XG4gICAgaWYgKHRoaXMubWFwKSByZXN1bHQgPSB0aGlzLm1hcChyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMuY29udGV4dFxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMucGFyZW50XG4gICAqL1xuICBjYXN0KHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUodmFsdWUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyZW50LCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNvbnRleHQpO1xuICB9XG4gIHJlc29sdmUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVzY3JpYmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdyZWYnLFxuICAgICAga2V5OiB0aGlzLmtleVxuICAgIH07XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBSZWYoJHt0aGlzLmtleX0pYDtcbiAgfVxuICBzdGF0aWMgaXNSZWYodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19pc1l1cFJlZjtcbiAgfVxufVxuXG4vLyBAdHMtaWdub3JlXG5SZWZlcmVuY2UucHJvdG90eXBlLl9faXNZdXBSZWYgPSB0cnVlO1xuXG5jb25zdCBpc0Fic2VudCA9IHZhbHVlID0+IHZhbHVlID09IG51bGw7XG5cbmZ1bmN0aW9uIGNyZWF0ZVZhbGlkYXRpb24oY29uZmlnKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHtcbiAgICB2YWx1ZSxcbiAgICBwYXRoID0gJycsXG4gICAgb3B0aW9ucyxcbiAgICBvcmlnaW5hbFZhbHVlLFxuICAgIHNjaGVtYVxuICB9LCBwYW5pYywgbmV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICB0ZXN0LFxuICAgICAgcGFyYW1zLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNraXBBYnNlbnRcbiAgICB9ID0gY29uZmlnO1xuICAgIGxldCB7XG4gICAgICBwYXJlbnQsXG4gICAgICBjb250ZXh0LFxuICAgICAgYWJvcnRFYXJseSA9IHNjaGVtYS5zcGVjLmFib3J0RWFybHksXG4gICAgICBkaXNhYmxlU3RhY2tUcmFjZSA9IHNjaGVtYS5zcGVjLmRpc2FibGVTdGFja1RyYWNlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVzb2x2ZU9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZSxcbiAgICAgIHBhcmVudCxcbiAgICAgIGNvbnRleHRcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG92ZXJyaWRlcyA9IHt9KSB7XG4gICAgICBjb25zdCBuZXh0UGFyYW1zID0gcmVzb2x2ZVBhcmFtcyhPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIGxhYmVsOiBzY2hlbWEuc3BlYy5sYWJlbCxcbiAgICAgICAgcGF0aDogb3ZlcnJpZGVzLnBhdGggfHwgcGF0aCxcbiAgICAgICAgc3BlYzogc2NoZW1hLnNwZWMsXG4gICAgICAgIGRpc2FibGVTdGFja1RyYWNlOiBvdmVycmlkZXMuZGlzYWJsZVN0YWNrVHJhY2UgfHwgZGlzYWJsZVN0YWNrVHJhY2VcbiAgICAgIH0sIHBhcmFtcywgb3ZlcnJpZGVzLnBhcmFtcyksIHJlc29sdmVPcHRpb25zKTtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihWYWxpZGF0aW9uRXJyb3IuZm9ybWF0RXJyb3Iob3ZlcnJpZGVzLm1lc3NhZ2UgfHwgbWVzc2FnZSwgbmV4dFBhcmFtcyksIHZhbHVlLCBuZXh0UGFyYW1zLnBhdGgsIG92ZXJyaWRlcy50eXBlIHx8IG5hbWUsIG5leHRQYXJhbXMuZGlzYWJsZVN0YWNrVHJhY2UpO1xuICAgICAgZXJyb3IucGFyYW1zID0gbmV4dFBhcmFtcztcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QgaW52YWxpZCA9IGFib3J0RWFybHkgPyBwYW5pYyA6IG5leHQ7XG4gICAgbGV0IGN0eCA9IHtcbiAgICAgIHBhdGgsXG4gICAgICBwYXJlbnQsXG4gICAgICB0eXBlOiBuYW1lLFxuICAgICAgZnJvbTogb3B0aW9ucy5mcm9tLFxuICAgICAgY3JlYXRlRXJyb3IsXG4gICAgICByZXNvbHZlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVNYXliZVJlZihpdGVtLCByZXNvbHZlT3B0aW9ucyk7XG4gICAgICB9LFxuICAgICAgb3B0aW9ucyxcbiAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICBzY2hlbWFcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVJlc3VsdCA9IHZhbGlkT3JFcnJvciA9PiB7XG4gICAgICBpZiAoVmFsaWRhdGlvbkVycm9yLmlzRXJyb3IodmFsaWRPckVycm9yKSkgaW52YWxpZCh2YWxpZE9yRXJyb3IpO2Vsc2UgaWYgKCF2YWxpZE9yRXJyb3IpIGludmFsaWQoY3JlYXRlRXJyb3IoKSk7ZWxzZSBuZXh0KG51bGwpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSBlcnIgPT4ge1xuICAgICAgaWYgKFZhbGlkYXRpb25FcnJvci5pc0Vycm9yKGVycikpIGludmFsaWQoZXJyKTtlbHNlIHBhbmljKGVycik7XG4gICAgfTtcbiAgICBjb25zdCBzaG91bGRTa2lwID0gc2tpcEFic2VudCAmJiBpc0Fic2VudCh2YWx1ZSk7XG4gICAgaWYgKHNob3VsZFNraXApIHtcbiAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBfcmVzdWx0O1xuICAgICAgcmVzdWx0ID0gdGVzdC5jYWxsKGN0eCwgdmFsdWUsIGN0eCk7XG4gICAgICBpZiAodHlwZW9mICgoX3Jlc3VsdCA9IHJlc3VsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZXN1bHQudGhlbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3luYykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsaWRhdGlvbiB0ZXN0IG9mIHR5cGU6IFwiJHtjdHgudHlwZX1cIiByZXR1cm5lZCBhIFByb21pc2UgZHVyaW5nIGEgc3luY2hyb25vdXMgdmFsaWRhdGUuIGAgKyBgVGhpcyB0ZXN0IHdpbGwgZmluaXNoIGFmdGVyIHRoZSB2YWxpZGF0ZSBjYWxsIGhhcyByZXR1cm5lZGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKGhhbmRsZVJlc3VsdCwgaGFuZGxlRXJyb3IpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFuZGxlUmVzdWx0KHJlc3VsdCk7XG4gIH1cbiAgdmFsaWRhdGUuT1BUSU9OUyA9IGNvbmZpZztcbiAgcmV0dXJuIHZhbGlkYXRlO1xufVxuXG4vLyBXYXJuaW5nOiBtdXRhdGVzIHRoZSBpbnB1dFxuZnVuY3Rpb24gcmVzb2x2ZVBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJhbXMpIHJldHVybiBwYXJhbXM7XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHBhcmFtcykpIHtcbiAgICBwYXJhbXNba2V5XSA9IHJlc29sdmVNYXliZVJlZihwYXJhbXNba2V5XSwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn1cbmZ1bmN0aW9uIHJlc29sdmVNYXliZVJlZihpdGVtLCBvcHRpb25zKSB7XG4gIHJldHVybiBSZWZlcmVuY2UuaXNSZWYoaXRlbSkgPyBpdGVtLmdldFZhbHVlKG9wdGlvbnMudmFsdWUsIG9wdGlvbnMucGFyZW50LCBvcHRpb25zLmNvbnRleHQpIDogaXRlbTtcbn1cblxuZnVuY3Rpb24gZ2V0SW4oc2NoZW1hLCBwYXRoLCB2YWx1ZSwgY29udGV4dCA9IHZhbHVlKSB7XG4gIGxldCBwYXJlbnQsIGxhc3RQYXJ0LCBsYXN0UGFydERlYnVnO1xuXG4gIC8vIHJvb3QgcGF0aDogJydcbiAgaWYgKCFwYXRoKSByZXR1cm4ge1xuICAgIHBhcmVudCxcbiAgICBwYXJlbnRQYXRoOiBwYXRoLFxuICAgIHNjaGVtYVxuICB9O1xuICBmb3JFYWNoKHBhdGgsIChfcGFydCwgaXNCcmFja2V0LCBpc0FycmF5KSA9PiB7XG4gICAgbGV0IHBhcnQgPSBpc0JyYWNrZXQgPyBfcGFydC5zbGljZSgxLCBfcGFydC5sZW5ndGggLSAxKSA6IF9wYXJ0O1xuICAgIHNjaGVtYSA9IHNjaGVtYS5yZXNvbHZlKHtcbiAgICAgIGNvbnRleHQsXG4gICAgICBwYXJlbnQsXG4gICAgICB2YWx1ZVxuICAgIH0pO1xuICAgIGxldCBpc1R1cGxlID0gc2NoZW1hLnR5cGUgPT09ICd0dXBsZSc7XG4gICAgbGV0IGlkeCA9IGlzQXJyYXkgPyBwYXJzZUludChwYXJ0LCAxMCkgOiAwO1xuICAgIGlmIChzY2hlbWEuaW5uZXJUeXBlIHx8IGlzVHVwbGUpIHtcbiAgICAgIGlmIChpc1R1cGxlICYmICFpc0FycmF5KSB0aHJvdyBuZXcgRXJyb3IoYFl1cC5yZWFjaCBjYW5ub3QgaW1wbGljaXRseSBpbmRleCBpbnRvIGEgdHVwbGUgdHlwZS4gdGhlIHBhdGggcGFydCBcIiR7bGFzdFBhcnREZWJ1Z31cIiBtdXN0IGNvbnRhaW4gYW4gaW5kZXggdG8gdGhlIHR1cGxlIGVsZW1lbnQsIGUuZy4gXCIke2xhc3RQYXJ0RGVidWd9WzBdXCJgKTtcbiAgICAgIGlmICh2YWx1ZSAmJiBpZHggPj0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgWXVwLnJlYWNoIGNhbm5vdCByZXNvbHZlIGFuIGFycmF5IGl0ZW0gYXQgaW5kZXg6ICR7X3BhcnR9LCBpbiB0aGUgcGF0aDogJHtwYXRofS4gYCArIGBiZWNhdXNlIHRoZXJlIGlzIG5vIHZhbHVlIGF0IHRoYXQgaW5kZXguIGApO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gdmFsdWU7XG4gICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlW2lkeF07XG4gICAgICBzY2hlbWEgPSBpc1R1cGxlID8gc2NoZW1hLnNwZWMudHlwZXNbaWR4XSA6IHNjaGVtYS5pbm5lclR5cGU7XG4gICAgfVxuXG4gICAgLy8gc29tZXRpbWVzIHRoZSBhcnJheSBpbmRleCBwYXJ0IG9mIGEgcGF0aCBkb2Vzbid0IGV4aXN0OiBcIm5lc3RlZC5hcnIuY2hpbGRcIlxuICAgIC8vIGluIHRoZXNlIGNhc2VzIHRoZSBjdXJyZW50IHBhcnQgaXMgdGhlIG5leHQgc2NoZW1hIGFuZCBzaG91bGQgYmUgcHJvY2Vzc2VkXG4gICAgLy8gaW4gdGhpcyBpdGVyYXRpb24uIEZvciBjYXNlcyB3aGVyZSB0aGUgaW5kZXggc2lnbmF0dXJlIGlzIGluY2x1ZGVkIHRoaXNcbiAgICAvLyBjaGVjayB3aWxsIGZhaWwgYW5kIHdlJ2xsIGhhbmRsZSB0aGUgYGNoaWxkYCBwYXJ0IG9uIHRoZSBuZXh0IGl0ZXJhdGlvbiBsaWtlIG5vcm1hbFxuICAgIGlmICghaXNBcnJheSkge1xuICAgICAgaWYgKCFzY2hlbWEuZmllbGRzIHx8ICFzY2hlbWEuZmllbGRzW3BhcnRdKSB0aHJvdyBuZXcgRXJyb3IoYFRoZSBzY2hlbWEgZG9lcyBub3QgY29udGFpbiB0aGUgcGF0aDogJHtwYXRofS4gYCArIGAoZmFpbGVkIGF0OiAke2xhc3RQYXJ0RGVidWd9IHdoaWNoIGlzIGEgdHlwZTogXCIke3NjaGVtYS50eXBlfVwiKWApO1xuICAgICAgcGFyZW50ID0gdmFsdWU7XG4gICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlW3BhcnRdO1xuICAgICAgc2NoZW1hID0gc2NoZW1hLmZpZWxkc1twYXJ0XTtcbiAgICB9XG4gICAgbGFzdFBhcnQgPSBwYXJ0O1xuICAgIGxhc3RQYXJ0RGVidWcgPSBpc0JyYWNrZXQgPyAnWycgKyBfcGFydCArICddJyA6ICcuJyArIF9wYXJ0O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBzY2hlbWEsXG4gICAgcGFyZW50LFxuICAgIHBhcmVudFBhdGg6IGxhc3RQYXJ0XG4gIH07XG59XG5mdW5jdGlvbiByZWFjaChvYmosIHBhdGgsIHZhbHVlLCBjb250ZXh0KSB7XG4gIHJldHVybiBnZXRJbihvYmosIHBhdGgsIHZhbHVlLCBjb250ZXh0KS5zY2hlbWE7XG59XG5cbmNsYXNzIFJlZmVyZW5jZVNldCBleHRlbmRzIFNldCB7XG4gIGRlc2NyaWJlKCkge1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgIGRlc2NyaXB0aW9uLnB1c2goUmVmZXJlbmNlLmlzUmVmKGl0ZW0pID8gaXRlbS5kZXNjcmliZSgpIDogaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgfVxuICByZXNvbHZlQWxsKHJlc29sdmUpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHJlc29sdmUoaXRlbSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUmVmZXJlbmNlU2V0KHRoaXMudmFsdWVzKCkpO1xuICB9XG4gIG1lcmdlKG5ld0l0ZW1zLCByZW1vdmVJdGVtcykge1xuICAgIGNvbnN0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV3SXRlbXMuZm9yRWFjaCh2YWx1ZSA9PiBuZXh0LmFkZCh2YWx1ZSkpO1xuICAgIHJlbW92ZUl0ZW1zLmZvckVhY2godmFsdWUgPT4gbmV4dC5kZWxldGUodmFsdWUpKTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxufVxuXG4vLyB0d2Vha2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0tlbGluMjAyNS9uYW5vY2xvbmUvYmxvYi8wYWJlYjc2MzViZGE5YjY4ZWYyMjc3MDkzZjc2ZGJlM2JmMzk0OGUxL3NyYy9pbmRleC5qc1xuZnVuY3Rpb24gY2xvbmUoc3JjLCBzZWVuID0gbmV3IE1hcCgpKSB7XG4gIGlmIChpc1NjaGVtYShzcmMpIHx8ICFzcmMgfHwgdHlwZW9mIHNyYyAhPT0gJ29iamVjdCcpIHJldHVybiBzcmM7XG4gIGlmIChzZWVuLmhhcyhzcmMpKSByZXR1cm4gc2Vlbi5nZXQoc3JjKTtcbiAgbGV0IGNvcHk7XG4gIGlmIChzcmMgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgLy8gRGF0ZVxuICAgIGNvcHkgPSBuZXcgRGF0ZShzcmMuZ2V0VGltZSgpKTtcbiAgICBzZWVuLnNldChzcmMsIGNvcHkpO1xuICB9IGVsc2UgaWYgKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIC8vIFJlZ0V4cFxuICAgIGNvcHkgPSBuZXcgUmVnRXhwKHNyYyk7XG4gICAgc2Vlbi5zZXQoc3JjLCBjb3B5KTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNyYykpIHtcbiAgICAvLyBBcnJheVxuICAgIGNvcHkgPSBuZXcgQXJyYXkoc3JjLmxlbmd0aCk7XG4gICAgc2Vlbi5zZXQoc3JjLCBjb3B5KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykgY29weVtpXSA9IGNsb25lKHNyY1tpXSwgc2Vlbik7XG4gIH0gZWxzZSBpZiAoc3JjIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgLy8gTWFwXG4gICAgY29weSA9IG5ldyBNYXAoKTtcbiAgICBzZWVuLnNldChzcmMsIGNvcHkpO1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHNyYy5lbnRyaWVzKCkpIGNvcHkuc2V0KGssIGNsb25lKHYsIHNlZW4pKTtcbiAgfSBlbHNlIGlmIChzcmMgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAvLyBTZXRcbiAgICBjb3B5ID0gbmV3IFNldCgpO1xuICAgIHNlZW4uc2V0KHNyYywgY29weSk7XG4gICAgZm9yIChjb25zdCB2IG9mIHNyYykgY29weS5hZGQoY2xvbmUodiwgc2VlbikpO1xuICB9IGVsc2UgaWYgKHNyYyBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIC8vIE9iamVjdFxuICAgIGNvcHkgPSB7fTtcbiAgICBzZWVuLnNldChzcmMsIGNvcHkpO1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHNyYykpIGNvcHlba10gPSBjbG9uZSh2LCBzZWVuKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGNsb25lICR7c3JjfWApO1xuICB9XG4gIHJldHVybiBjb3B5O1xufVxuXG4vKipcbiAqIENvcGllZCBmcm9tIEBzdGFuZGFyZC1zY2hlbWEvc3BlYyB0byBhdm9pZCBoYXZpbmcgYSBkZXBlbmRlbmN5IG9uIGl0LlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N0YW5kYXJkLXNjaGVtYS9zdGFuZGFyZC1zY2hlbWEvYmxvYi9tYWluL3BhY2thZ2VzL3NwZWMvc3JjL2luZGV4LnRzXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RhbmRhcmRQYXRoKHBhdGgpIHtcbiAgaWYgKCEocGF0aCAhPSBudWxsICYmIHBhdGgubGVuZ3RoKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyBBcnJheSB0byBzdG9yZSB0aGUgZmluYWwgcGF0aCBzZWdtZW50c1xuICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICAvLyBCdWZmZXIgZm9yIGJ1aWxkaW5nIHRoZSBjdXJyZW50IHNlZ21lbnRcbiAgbGV0IGN1cnJlbnRTZWdtZW50ID0gJyc7XG4gIC8vIFRyYWNrIGlmIHdlJ3JlIGluc2lkZSBzcXVhcmUgYnJhY2tldHMgKGFycmF5L3Byb3BlcnR5IGFjY2VzcylcbiAgbGV0IGluQnJhY2tldHMgPSBmYWxzZTtcbiAgLy8gVHJhY2sgaWYgd2UncmUgaW5zaWRlIHF1b3RlcyAoZm9yIHByb3BlcnR5IG5hbWVzIHdpdGggc3BlY2lhbCBjaGFycylcbiAgbGV0IGluUXVvdGVzID0gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBwYXRoW2ldO1xuICAgIGlmIChjaGFyID09PSAnWycgJiYgIWluUXVvdGVzKSB7XG4gICAgICAvLyBXaGVuIGVudGVyaW5nIGJyYWNrZXRzLCBwdXNoIGFueSBhY2N1bXVsYXRlZCBzZWdtZW50IGFmdGVyIHNwbGl0dGluZyBvbiBkb3RzXG4gICAgICBpZiAoY3VycmVudFNlZ21lbnQpIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCguLi5jdXJyZW50U2VnbWVudC5zcGxpdCgnLicpLmZpbHRlcihCb29sZWFuKSk7XG4gICAgICAgIGN1cnJlbnRTZWdtZW50ID0gJyc7XG4gICAgICB9XG4gICAgICBpbkJyYWNrZXRzID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hhciA9PT0gJ10nICYmICFpblF1b3Rlcykge1xuICAgICAgaWYgKGN1cnJlbnRTZWdtZW50KSB7XG4gICAgICAgIC8vIEhhbmRsZSBudW1lcmljIGluZGljZXMgKGUuZy4gYXJyWzBdKVxuICAgICAgICBpZiAoL15cXGQrJC8udGVzdChjdXJyZW50U2VnbWVudCkpIHtcbiAgICAgICAgICBzZWdtZW50cy5wdXNoKGN1cnJlbnRTZWdtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBIYW5kbGUgcXVvdGVkIHByb3BlcnR5IG5hbWVzIChlLmcuIG9ialtcImZvby5iYXJcIl0pXG4gICAgICAgICAgc2VnbWVudHMucHVzaChjdXJyZW50U2VnbWVudC5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFNlZ21lbnQgPSAnJztcbiAgICAgIH1cbiAgICAgIGluQnJhY2tldHMgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hhciA9PT0gJ1wiJykge1xuICAgICAgLy8gVG9nZ2xlIHF1b3RlIHN0YXRlIGZvciBoYW5kbGluZyBxdW90ZWQgcHJvcGVydHkgbmFtZXNcbiAgICAgIGluUXVvdGVzID0gIWluUXVvdGVzO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGFyID09PSAnLicgJiYgIWluQnJhY2tldHMgJiYgIWluUXVvdGVzKSB7XG4gICAgICAvLyBPbiBkb3RzIG91dHNpZGUgYnJhY2tldHMvcXVvdGVzLCBwdXNoIGN1cnJlbnQgc2VnbWVudFxuICAgICAgaWYgKGN1cnJlbnRTZWdtZW50KSB7XG4gICAgICAgIHNlZ21lbnRzLnB1c2goY3VycmVudFNlZ21lbnQpO1xuICAgICAgICBjdXJyZW50U2VnbWVudCA9ICcnO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGN1cnJlbnRTZWdtZW50ICs9IGNoYXI7XG4gIH1cblxuICAvLyBQdXNoIGFueSByZW1haW5pbmcgc2VnbWVudCBhZnRlciBzcGxpdHRpbmcgb24gZG90c1xuICBpZiAoY3VycmVudFNlZ21lbnQpIHtcbiAgICBzZWdtZW50cy5wdXNoKC4uLmN1cnJlbnRTZWdtZW50LnNwbGl0KCcuJykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgfVxuICByZXR1cm4gc2VnbWVudHM7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGFuZGFyZElzc3VlcyhlcnJvciwgcGFyZW50UGF0aCkge1xuICBjb25zdCBwYXRoID0gcGFyZW50UGF0aCA/IGAke3BhcmVudFBhdGh9LiR7ZXJyb3IucGF0aH1gIDogZXJyb3IucGF0aDtcbiAgcmV0dXJuIGVycm9yLmVycm9ycy5tYXAoZXJyID0+ICh7XG4gICAgbWVzc2FnZTogZXJyLFxuICAgIHBhdGg6IGNyZWF0ZVN0YW5kYXJkUGF0aChwYXRoKVxuICB9KSk7XG59XG5mdW5jdGlvbiBpc3N1ZXNGcm9tVmFsaWRhdGlvbkVycm9yKGVycm9yLCBwYXJlbnRQYXRoKSB7XG4gIHZhciBfZXJyb3IkaW5uZXI7XG4gIGlmICghKChfZXJyb3IkaW5uZXIgPSBlcnJvci5pbm5lcikgIT0gbnVsbCAmJiBfZXJyb3IkaW5uZXIubGVuZ3RoKSAmJiBlcnJvci5lcnJvcnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN0YW5kYXJkSXNzdWVzKGVycm9yLCBwYXJlbnRQYXRoKTtcbiAgfVxuICBjb25zdCBwYXRoID0gcGFyZW50UGF0aCA/IGAke3BhcmVudFBhdGh9LiR7ZXJyb3IucGF0aH1gIDogZXJyb3IucGF0aDtcbiAgcmV0dXJuIGVycm9yLmlubmVyLmZsYXRNYXAoZXJyID0+IGlzc3Vlc0Zyb21WYWxpZGF0aW9uRXJyb3IoZXJyLCBwYXRoKSk7XG59XG5cbi8vIElmIGBDdXN0b21TY2hlbWFNZXRhYCBpc24ndCBleHRlbmRlZCB3aXRoIGFueSBrZXlzLCB3ZSdsbCBmYWxsIGJhY2sgdG8gYVxuLy8gbG9vc2UgUmVjb3JkIGRlZmluaXRpb24gYWxsb3dpbmcgZnJlZSBmb3JtIHVzYWdlLlxuY2xhc3MgU2NoZW1hIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9IHZvaWQgMDtcbiAgICB0aGlzLmRlcHMgPSBbXTtcbiAgICB0aGlzLnRlc3RzID0gdm9pZCAwO1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IHZvaWQgMDtcbiAgICB0aGlzLmNvbmRpdGlvbnMgPSBbXTtcbiAgICB0aGlzLl9tdXRhdGUgPSB2b2lkIDA7XG4gICAgdGhpcy5pbnRlcm5hbFRlc3RzID0ge307XG4gICAgdGhpcy5fd2hpdGVsaXN0ID0gbmV3IFJlZmVyZW5jZVNldCgpO1xuICAgIHRoaXMuX2JsYWNrbGlzdCA9IG5ldyBSZWZlcmVuY2VTZXQoKTtcbiAgICB0aGlzLmV4Y2x1c2l2ZVRlc3RzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl90eXBlQ2hlY2sgPSB2b2lkIDA7XG4gICAgdGhpcy5zcGVjID0gdm9pZCAwO1xuICAgIHRoaXMudGVzdHMgPSBbXTtcbiAgICB0aGlzLnRyYW5zZm9ybXMgPSBbXTtcbiAgICB0aGlzLndpdGhNdXRhdGlvbigoKSA9PiB7XG4gICAgICB0aGlzLnR5cGVFcnJvcihtaXhlZC5ub3RUeXBlKTtcbiAgICB9KTtcbiAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgdGhpcy5fdHlwZUNoZWNrID0gb3B0aW9ucy5jaGVjaztcbiAgICB0aGlzLnNwZWMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHN0cmlwOiBmYWxzZSxcbiAgICAgIHN0cmljdDogZmFsc2UsXG4gICAgICBhYm9ydEVhcmx5OiB0cnVlLFxuICAgICAgcmVjdXJzaXZlOiB0cnVlLFxuICAgICAgZGlzYWJsZVN0YWNrVHJhY2U6IGZhbHNlLFxuICAgICAgbnVsbGFibGU6IGZhbHNlLFxuICAgICAgb3B0aW9uYWw6IHRydWUsXG4gICAgICBjb2VyY2U6IHRydWVcbiAgICB9LCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnNwZWMpO1xuICAgIHRoaXMud2l0aE11dGF0aW9uKHMgPT4ge1xuICAgICAgcy5ub25OdWxsYWJsZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETzogcmVtb3ZlXG4gIGdldCBfdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlO1xuICB9XG4gIGNsb25lKHNwZWMpIHtcbiAgICBpZiAodGhpcy5fbXV0YXRlKSB7XG4gICAgICBpZiAoc3BlYykgT2JqZWN0LmFzc2lnbih0aGlzLnNwZWMsIHNwZWMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIG5lc3RlZCB2YWx1ZSBpcyBhIHNjaGVtYSB3ZSBjYW4gc2tpcCBjbG9uaW5nLCBzaW5jZVxuICAgIC8vIHRoZXkgYXJlIGFscmVhZHkgaW1tdXRhYmxlXG4gICAgY29uc3QgbmV4dCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdGhpcyBpcyByZWFkb25seVxuICAgIG5leHQudHlwZSA9IHRoaXMudHlwZTtcbiAgICBuZXh0Ll90eXBlQ2hlY2sgPSB0aGlzLl90eXBlQ2hlY2s7XG4gICAgbmV4dC5fd2hpdGVsaXN0ID0gdGhpcy5fd2hpdGVsaXN0LmNsb25lKCk7XG4gICAgbmV4dC5fYmxhY2tsaXN0ID0gdGhpcy5fYmxhY2tsaXN0LmNsb25lKCk7XG4gICAgbmV4dC5pbnRlcm5hbFRlc3RzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbnRlcm5hbFRlc3RzKTtcbiAgICBuZXh0LmV4Y2x1c2l2ZVRlc3RzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5leGNsdXNpdmVUZXN0cyk7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRoaXMgaXMgcmVhZG9ubHlcbiAgICBuZXh0LmRlcHMgPSBbLi4udGhpcy5kZXBzXTtcbiAgICBuZXh0LmNvbmRpdGlvbnMgPSBbLi4udGhpcy5jb25kaXRpb25zXTtcbiAgICBuZXh0LnRlc3RzID0gWy4uLnRoaXMudGVzdHNdO1xuICAgIG5leHQudHJhbnNmb3JtcyA9IFsuLi50aGlzLnRyYW5zZm9ybXNdO1xuICAgIG5leHQuc3BlYyA9IGNsb25lKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3BlYywgc3BlYykpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIGxhYmVsKGxhYmVsKSB7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV4dC5zcGVjLmxhYmVsID0gbGFiZWw7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgbWV0YSguLi5hcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gdGhpcy5zcGVjLm1ldGE7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV4dC5zcGVjLm1ldGEgPSBPYmplY3QuYXNzaWduKG5leHQuc3BlYy5tZXRhIHx8IHt9LCBhcmdzWzBdKTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuICB3aXRoTXV0YXRpb24oZm4pIHtcbiAgICBsZXQgYmVmb3JlID0gdGhpcy5fbXV0YXRlO1xuICAgIHRoaXMuX211dGF0ZSA9IHRydWU7XG4gICAgbGV0IHJlc3VsdCA9IGZuKHRoaXMpO1xuICAgIHRoaXMuX211dGF0ZSA9IGJlZm9yZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGNvbmNhdChzY2hlbWEpIHtcbiAgICBpZiAoIXNjaGVtYSB8fCBzY2hlbWEgPT09IHRoaXMpIHJldHVybiB0aGlzO1xuICAgIGlmIChzY2hlbWEudHlwZSAhPT0gdGhpcy50eXBlICYmIHRoaXMudHlwZSAhPT0gJ21peGVkJykgdGhyb3cgbmV3IFR5cGVFcnJvcihgWW91IGNhbm5vdCBcXGBjb25jYXQoKVxcYCBzY2hlbWEncyBvZiBkaWZmZXJlbnQgdHlwZXM6ICR7dGhpcy50eXBlfSBhbmQgJHtzY2hlbWEudHlwZX1gKTtcbiAgICBsZXQgYmFzZSA9IHRoaXM7XG4gICAgbGV0IGNvbWJpbmVkID0gc2NoZW1hLmNsb25lKCk7XG4gICAgY29uc3QgbWVyZ2VkU3BlYyA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2Uuc3BlYywgY29tYmluZWQuc3BlYyk7XG4gICAgY29tYmluZWQuc3BlYyA9IG1lcmdlZFNwZWM7XG4gICAgY29tYmluZWQuaW50ZXJuYWxUZXN0cyA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2UuaW50ZXJuYWxUZXN0cywgY29tYmluZWQuaW50ZXJuYWxUZXN0cyk7XG5cbiAgICAvLyBtYW51YWxseSBtZXJnZSB0aGUgYmxhY2tsaXN0L3doaXRlbGlzdCAodGhlIG90aGVyIGBzY2hlbWFgIHRha2VzXG4gICAgLy8gcHJlY2VkZW5jZSBpbiBjYXNlIG9mIGNvbmZsaWN0cylcbiAgICBjb21iaW5lZC5fd2hpdGVsaXN0ID0gYmFzZS5fd2hpdGVsaXN0Lm1lcmdlKHNjaGVtYS5fd2hpdGVsaXN0LCBzY2hlbWEuX2JsYWNrbGlzdCk7XG4gICAgY29tYmluZWQuX2JsYWNrbGlzdCA9IGJhc2UuX2JsYWNrbGlzdC5tZXJnZShzY2hlbWEuX2JsYWNrbGlzdCwgc2NoZW1hLl93aGl0ZWxpc3QpO1xuXG4gICAgLy8gc3RhcnQgd2l0aCB0aGUgY3VycmVudCB0ZXN0c1xuICAgIGNvbWJpbmVkLnRlc3RzID0gYmFzZS50ZXN0cztcbiAgICBjb21iaW5lZC5leGNsdXNpdmVUZXN0cyA9IGJhc2UuZXhjbHVzaXZlVGVzdHM7XG5cbiAgICAvLyBtYW51YWxseSBhZGQgdGhlIG5ldyB0ZXN0cyB0byBlbnN1cmVcbiAgICAvLyB0aGUgZGVkdXBpbmcgbG9naWMgaXMgY29uc2lzdGVudFxuICAgIGNvbWJpbmVkLndpdGhNdXRhdGlvbihuZXh0ID0+IHtcbiAgICAgIHNjaGVtYS50ZXN0cy5mb3JFYWNoKGZuID0+IHtcbiAgICAgICAgbmV4dC50ZXN0KGZuLk9QVElPTlMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29tYmluZWQudHJhbnNmb3JtcyA9IFsuLi5iYXNlLnRyYW5zZm9ybXMsIC4uLmNvbWJpbmVkLnRyYW5zZm9ybXNdO1xuICAgIHJldHVybiBjb21iaW5lZDtcbiAgfVxuICBpc1R5cGUodikge1xuICAgIGlmICh2ID09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLnNwZWMubnVsbGFibGUgJiYgdiA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcy5zcGVjLm9wdGlvbmFsICYmIHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl90eXBlQ2hlY2sodik7XG4gIH1cbiAgcmVzb2x2ZShvcHRpb25zKSB7XG4gICAgbGV0IHNjaGVtYSA9IHRoaXM7XG4gICAgaWYgKHNjaGVtYS5jb25kaXRpb25zLmxlbmd0aCkge1xuICAgICAgbGV0IGNvbmRpdGlvbnMgPSBzY2hlbWEuY29uZGl0aW9ucztcbiAgICAgIHNjaGVtYSA9IHNjaGVtYS5jbG9uZSgpO1xuICAgICAgc2NoZW1hLmNvbmRpdGlvbnMgPSBbXTtcbiAgICAgIHNjaGVtYSA9IGNvbmRpdGlvbnMucmVkdWNlKChwcmV2U2NoZW1hLCBjb25kaXRpb24pID0+IGNvbmRpdGlvbi5yZXNvbHZlKHByZXZTY2hlbWEsIG9wdGlvbnMpLCBzY2hlbWEpO1xuICAgICAgc2NoZW1hID0gc2NoZW1hLnJlc29sdmUob3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG4gIH1cbiAgcmVzb2x2ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBfb3B0aW9ucyRzdHJpY3QsIF9vcHRpb25zJGFib3J0RWFybHksIF9vcHRpb25zJHJlY3Vyc2l2ZSwgX29wdGlvbnMkZGlzYWJsZVN0YWNrO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICBmcm9tOiBvcHRpb25zLmZyb20gfHwgW10sXG4gICAgICBzdHJpY3Q6IChfb3B0aW9ucyRzdHJpY3QgPSBvcHRpb25zLnN0cmljdCkgIT0gbnVsbCA/IF9vcHRpb25zJHN0cmljdCA6IHRoaXMuc3BlYy5zdHJpY3QsXG4gICAgICBhYm9ydEVhcmx5OiAoX29wdGlvbnMkYWJvcnRFYXJseSA9IG9wdGlvbnMuYWJvcnRFYXJseSkgIT0gbnVsbCA/IF9vcHRpb25zJGFib3J0RWFybHkgOiB0aGlzLnNwZWMuYWJvcnRFYXJseSxcbiAgICAgIHJlY3Vyc2l2ZTogKF9vcHRpb25zJHJlY3Vyc2l2ZSA9IG9wdGlvbnMucmVjdXJzaXZlKSAhPSBudWxsID8gX29wdGlvbnMkcmVjdXJzaXZlIDogdGhpcy5zcGVjLnJlY3Vyc2l2ZSxcbiAgICAgIGRpc2FibGVTdGFja1RyYWNlOiAoX29wdGlvbnMkZGlzYWJsZVN0YWNrID0gb3B0aW9ucy5kaXNhYmxlU3RhY2tUcmFjZSkgIT0gbnVsbCA/IF9vcHRpb25zJGRpc2FibGVTdGFjayA6IHRoaXMuc3BlYy5kaXNhYmxlU3RhY2tUcmFjZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biB0aGUgY29uZmlndXJlZCB0cmFuc2Zvcm0gcGlwZWxpbmUgb3ZlciBhbiBpbnB1dCB2YWx1ZS5cbiAgICovXG5cbiAgY2FzdCh2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHJlc29sdmVkU2NoZW1hID0gdGhpcy5yZXNvbHZlKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIHZhbHVlXG4gICAgICAvLyBwYXJlbnQ6IG9wdGlvbnMucGFyZW50LFxuICAgICAgLy8gY29udGV4dDogb3B0aW9ucy5jb250ZXh0LFxuICAgIH0pKTtcblxuICAgIGxldCBhbGxvd09wdGlvbmFsaXR5ID0gb3B0aW9ucy5hc3NlcnQgPT09ICdpZ25vcmUtb3B0aW9uYWxpdHknO1xuICAgIGxldCByZXN1bHQgPSByZXNvbHZlZFNjaGVtYS5fY2FzdCh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMuYXNzZXJ0ICE9PSBmYWxzZSAmJiAhcmVzb2x2ZWRTY2hlbWEuaXNUeXBlKHJlc3VsdCkpIHtcbiAgICAgIGlmIChhbGxvd09wdGlvbmFsaXR5ICYmIGlzQWJzZW50KHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxldCBmb3JtYXR0ZWRWYWx1ZSA9IHByaW50VmFsdWUodmFsdWUpO1xuICAgICAgbGV0IGZvcm1hdHRlZFJlc3VsdCA9IHByaW50VmFsdWUocmVzdWx0KTtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSB2YWx1ZSBvZiAke29wdGlvbnMucGF0aCB8fCAnZmllbGQnfSBjb3VsZCBub3QgYmUgY2FzdCB0byBhIHZhbHVlIGAgKyBgdGhhdCBzYXRpc2ZpZXMgdGhlIHNjaGVtYSB0eXBlOiBcIiR7cmVzb2x2ZWRTY2hlbWEudHlwZX1cIi4gXFxuXFxuYCArIGBhdHRlbXB0ZWQgdmFsdWU6ICR7Zm9ybWF0dGVkVmFsdWV9IFxcbmAgKyAoZm9ybWF0dGVkUmVzdWx0ICE9PSBmb3JtYXR0ZWRWYWx1ZSA/IGByZXN1bHQgb2YgY2FzdDogJHtmb3JtYXR0ZWRSZXN1bHR9YCA6ICcnKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgX2Nhc3QocmF3VmFsdWUsIG9wdGlvbnMpIHtcbiAgICBsZXQgdmFsdWUgPSByYXdWYWx1ZSA9PT0gdW5kZWZpbmVkID8gcmF3VmFsdWUgOiB0aGlzLnRyYW5zZm9ybXMucmVkdWNlKChwcmV2VmFsdWUsIGZuKSA9PiBmbi5jYWxsKHRoaXMsIHByZXZWYWx1ZSwgcmF3VmFsdWUsIHRoaXMsIG9wdGlvbnMpLCByYXdWYWx1ZSk7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5nZXREZWZhdWx0KG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgX3ZhbGlkYXRlKF92YWx1ZSwgb3B0aW9ucyA9IHt9LCBwYW5pYywgbmV4dCkge1xuICAgIGxldCB7XG4gICAgICBwYXRoLFxuICAgICAgb3JpZ2luYWxWYWx1ZSA9IF92YWx1ZSxcbiAgICAgIHN0cmljdCA9IHRoaXMuc3BlYy5zdHJpY3RcbiAgICB9ID0gb3B0aW9ucztcbiAgICBsZXQgdmFsdWUgPSBfdmFsdWU7XG4gICAgaWYgKCFzdHJpY3QpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5fY2FzdCh2YWx1ZSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGFzc2VydDogZmFsc2VcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgbGV0IGluaXRpYWxUZXN0cyA9IFtdO1xuICAgIGZvciAobGV0IHRlc3Qgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmludGVybmFsVGVzdHMpKSB7XG4gICAgICBpZiAodGVzdCkgaW5pdGlhbFRlc3RzLnB1c2godGVzdCk7XG4gICAgfVxuICAgIHRoaXMucnVuVGVzdHMoe1xuICAgICAgcGF0aCxcbiAgICAgIHZhbHVlLFxuICAgICAgb3JpZ2luYWxWYWx1ZSxcbiAgICAgIG9wdGlvbnMsXG4gICAgICB0ZXN0czogaW5pdGlhbFRlc3RzXG4gICAgfSwgcGFuaWMsIGluaXRpYWxFcnJvcnMgPT4ge1xuICAgICAgLy8gZXZlbiBpZiB3ZSBhcmVuJ3QgZW5kaW5nIGVhcmx5IHdlIGNhbid0IHByb2NlZWQgZnVydGhlciBpZiB0aGUgdHlwZXMgYXJlbid0IGNvcnJlY3RcbiAgICAgIGlmIChpbml0aWFsRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV4dChpbml0aWFsRXJyb3JzLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLnJ1blRlc3RzKHtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHRlc3RzOiB0aGlzLnRlc3RzXG4gICAgICB9LCBwYW5pYywgbmV4dCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBzZXQgb2YgdmFsaWRhdGlvbnMsIGVpdGhlciBzY2hlbWEsIHByb2R1Y2VkIFRlc3RzIG9yIGEgbmVzdGVkXG4gICAqIHNjaGVtYSB2YWxpZGF0ZSByZXN1bHQuXG4gICAqL1xuICBydW5UZXN0cyhydW5PcHRpb25zLCBwYW5pYywgbmV4dCkge1xuICAgIGxldCBmaXJlZCA9IGZhbHNlO1xuICAgIGxldCB7XG4gICAgICB0ZXN0cyxcbiAgICAgIHZhbHVlLFxuICAgICAgb3JpZ2luYWxWYWx1ZSxcbiAgICAgIHBhdGgsXG4gICAgICBvcHRpb25zXG4gICAgfSA9IHJ1bk9wdGlvbnM7XG4gICAgbGV0IHBhbmljT25jZSA9IGFyZyA9PiB7XG4gICAgICBpZiAoZmlyZWQpIHJldHVybjtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIHBhbmljKGFyZywgdmFsdWUpO1xuICAgIH07XG4gICAgbGV0IG5leHRPbmNlID0gYXJnID0+IHtcbiAgICAgIGlmIChmaXJlZCkgcmV0dXJuO1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbmV4dChhcmcsIHZhbHVlKTtcbiAgICB9O1xuICAgIGxldCBjb3VudCA9IHRlc3RzLmxlbmd0aDtcbiAgICBsZXQgbmVzdGVkRXJyb3JzID0gW107XG4gICAgaWYgKCFjb3VudCkgcmV0dXJuIG5leHRPbmNlKFtdKTtcbiAgICBsZXQgYXJncyA9IHtcbiAgICAgIHZhbHVlLFxuICAgICAgb3JpZ2luYWxWYWx1ZSxcbiAgICAgIHBhdGgsXG4gICAgICBvcHRpb25zLFxuICAgICAgc2NoZW1hOiB0aGlzXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXN0ID0gdGVzdHNbaV07XG4gICAgICB0ZXN0KGFyZ3MsIHBhbmljT25jZSwgZnVuY3Rpb24gZmluaXNoVGVzdFJ1bihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZXJyKSA/IG5lc3RlZEVycm9ycy5wdXNoKC4uLmVycikgOiBuZXN0ZWRFcnJvcnMucHVzaChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgtLWNvdW50IDw9IDApIHtcbiAgICAgICAgICBuZXh0T25jZShuZXN0ZWRFcnJvcnMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgYXNOZXN0ZWRUZXN0KHtcbiAgICBrZXksXG4gICAgaW5kZXgsXG4gICAgcGFyZW50LFxuICAgIHBhcmVudFBhdGgsXG4gICAgb3JpZ2luYWxQYXJlbnQsXG4gICAgb3B0aW9uc1xuICB9KSB7XG4gICAgY29uc3QgayA9IGtleSAhPSBudWxsID8ga2V5IDogaW5kZXg7XG4gICAgaWYgKGsgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdNdXN0IGluY2x1ZGUgYGtleWAgb3IgYGluZGV4YCBmb3IgbmVzdGVkIHZhbGlkYXRpb25zJyk7XG4gICAgfVxuICAgIGNvbnN0IGlzSW5kZXggPSB0eXBlb2YgayA9PT0gJ251bWJlcic7XG4gICAgbGV0IHZhbHVlID0gcGFyZW50W2tdO1xuICAgIGNvbnN0IHRlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgLy8gTmVzdGVkIHZhbGlkYXRpb25zIGZpZWxkcyBhcmUgYWx3YXlzIHN0cmljdDpcbiAgICAgIC8vICAgIDEuIHBhcmVudCBpc24ndCBzdHJpY3Qgc28gdGhlIGNhc3Rpbmcgd2lsbCBhbHNvIGhhdmUgY2FzdCBpbm5lciB2YWx1ZXNcbiAgICAgIC8vICAgIDIuIHBhcmVudCBpcyBzdHJpY3QgaW4gd2hpY2ggY2FzZSB0aGUgbmVzdGVkIHZhbHVlcyB3ZXJlbid0IGNhc3QgZWl0aGVyXG4gICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICBwYXJlbnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIG9yaWdpbmFsVmFsdWU6IG9yaWdpbmFsUGFyZW50W2tdLFxuICAgICAgLy8gRklYTUU6IHRlc3RzIGRlcGVuZCBvbiBgaW5kZXhgIGJlaW5nIHBhc3NlZCBhcm91bmQgZGVlcGx5LFxuICAgICAgLy8gICB3ZSBzaG91bGQgbm90IGxldCB0aGUgb3B0aW9ucy5rZXkvaW5kZXggYmxlZWQgdGhyb3VnaFxuICAgICAga2V5OiB1bmRlZmluZWQsXG4gICAgICAvLyBpbmRleDogdW5kZWZpbmVkLFxuICAgICAgW2lzSW5kZXggPyAnaW5kZXgnIDogJ2tleSddOiBrLFxuICAgICAgcGF0aDogaXNJbmRleCB8fCBrLmluY2x1ZGVzKCcuJykgPyBgJHtwYXJlbnRQYXRoIHx8ICcnfVske2lzSW5kZXggPyBrIDogYFwiJHtrfVwiYH1dYCA6IChwYXJlbnRQYXRoID8gYCR7cGFyZW50UGF0aH0uYCA6ICcnKSArIGtleVxuICAgIH0pO1xuICAgIHJldHVybiAoXywgcGFuaWMsIG5leHQpID0+IHRoaXMucmVzb2x2ZSh0ZXN0T3B0aW9ucykuX3ZhbGlkYXRlKHZhbHVlLCB0ZXN0T3B0aW9ucywgcGFuaWMsIG5leHQpO1xuICB9XG4gIHZhbGlkYXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9vcHRpb25zJGRpc2FibGVTdGFjazI7XG4gICAgbGV0IHNjaGVtYSA9IHRoaXMucmVzb2x2ZShPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICB2YWx1ZVxuICAgIH0pKTtcbiAgICBsZXQgZGlzYWJsZVN0YWNrVHJhY2UgPSAoX29wdGlvbnMkZGlzYWJsZVN0YWNrMiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGlzYWJsZVN0YWNrVHJhY2UpICE9IG51bGwgPyBfb3B0aW9ucyRkaXNhYmxlU3RhY2syIDogc2NoZW1hLnNwZWMuZGlzYWJsZVN0YWNrVHJhY2U7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHNjaGVtYS5fdmFsaWRhdGUodmFsdWUsIG9wdGlvbnMsIChlcnJvciwgcGFyc2VkKSA9PiB7XG4gICAgICBpZiAoVmFsaWRhdGlvbkVycm9yLmlzRXJyb3IoZXJyb3IpKSBlcnJvci52YWx1ZSA9IHBhcnNlZDtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfSwgKGVycm9ycywgdmFsaWRhdGVkKSA9PiB7XG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCkgcmVqZWN0KG5ldyBWYWxpZGF0aW9uRXJyb3IoZXJyb3JzLCB2YWxpZGF0ZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBkaXNhYmxlU3RhY2tUcmFjZSkpO2Vsc2UgcmVzb2x2ZSh2YWxpZGF0ZWQpO1xuICAgIH0pKTtcbiAgfVxuICB2YWxpZGF0ZVN5bmModmFsdWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgX29wdGlvbnMkZGlzYWJsZVN0YWNrMztcbiAgICBsZXQgc2NoZW1hID0gdGhpcy5yZXNvbHZlKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIHZhbHVlXG4gICAgfSkpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IGRpc2FibGVTdGFja1RyYWNlID0gKF9vcHRpb25zJGRpc2FibGVTdGFjazMgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmRpc2FibGVTdGFja1RyYWNlKSAhPSBudWxsID8gX29wdGlvbnMkZGlzYWJsZVN0YWNrMyA6IHNjaGVtYS5zcGVjLmRpc2FibGVTdGFja1RyYWNlO1xuICAgIHNjaGVtYS5fdmFsaWRhdGUodmFsdWUsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIHN5bmM6IHRydWVcbiAgICB9KSwgKGVycm9yLCBwYXJzZWQpID0+IHtcbiAgICAgIGlmIChWYWxpZGF0aW9uRXJyb3IuaXNFcnJvcihlcnJvcikpIGVycm9yLnZhbHVlID0gcGFyc2VkO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSwgKGVycm9ycywgdmFsaWRhdGVkKSA9PiB7XG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCkgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihlcnJvcnMsIHZhbHVlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZGlzYWJsZVN0YWNrVHJhY2UpO1xuICAgICAgcmVzdWx0ID0gdmFsaWRhdGVkO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaXNWYWxpZCh2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlKHZhbHVlLCBvcHRpb25zKS50aGVuKCgpID0+IHRydWUsIGVyciA9PiB7XG4gICAgICBpZiAoVmFsaWRhdGlvbkVycm9yLmlzRXJyb3IoZXJyKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG4gIGlzVmFsaWRTeW5jKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMudmFsaWRhdGVTeW5jKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKFZhbGlkYXRpb25FcnJvci5pc0Vycm9yKGVycikpIHJldHVybiBmYWxzZTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbiAgX2dldERlZmF1bHQob3B0aW9ucykge1xuICAgIGxldCBkZWZhdWx0VmFsdWUgPSB0aGlzLnNwZWMuZGVmYXVsdDtcbiAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnZnVuY3Rpb24nID8gZGVmYXVsdFZhbHVlLmNhbGwodGhpcywgb3B0aW9ucykgOiBjbG9uZShkZWZhdWx0VmFsdWUpO1xuICB9XG4gIGdldERlZmF1bHQob3B0aW9uc1xuICAvLyBJZiBzY2hlbWEgaXMgZGVmYXVsdGVkIHdlIGtub3cgaXQncyBhdCBsZWFzdCBub3QgdW5kZWZpbmVkXG4gICkge1xuICAgIGxldCBzY2hlbWEgPSB0aGlzLnJlc29sdmUob3B0aW9ucyB8fCB7fSk7XG4gICAgcmV0dXJuIHNjaGVtYS5fZ2V0RGVmYXVsdChvcHRpb25zKTtcbiAgfVxuICBkZWZhdWx0KGRlZikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RGVmYXVsdCgpO1xuICAgIH1cbiAgICBsZXQgbmV4dCA9IHRoaXMuY2xvbmUoe1xuICAgICAgZGVmYXVsdDogZGVmXG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgc3RyaWN0KGlzU3RyaWN0ID0gdHJ1ZSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKHtcbiAgICAgIHN0cmljdDogaXNTdHJpY3RcbiAgICB9KTtcbiAgfVxuICBudWxsYWJpbGl0eShudWxsYWJsZSwgbWVzc2FnZSkge1xuICAgIGNvbnN0IG5leHQgPSB0aGlzLmNsb25lKHtcbiAgICAgIG51bGxhYmxlXG4gICAgfSk7XG4gICAgbmV4dC5pbnRlcm5hbFRlc3RzLm51bGxhYmxlID0gY3JlYXRlVmFsaWRhdGlvbih7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ251bGxhYmxlJyxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gdGhpcy5zY2hlbWEuc3BlYy5udWxsYWJsZSA6IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgb3B0aW9uYWxpdHkob3B0aW9uYWwsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBuZXh0ID0gdGhpcy5jbG9uZSh7XG4gICAgICBvcHRpb25hbFxuICAgIH0pO1xuICAgIG5leHQuaW50ZXJuYWxUZXN0cy5vcHRpb25hbGl0eSA9IGNyZWF0ZVZhbGlkYXRpb24oe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdvcHRpb25hbGl0eScsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdGhpcy5zY2hlbWEuc3BlYy5vcHRpb25hbCA6IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgb3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uYWxpdHkodHJ1ZSk7XG4gIH1cbiAgZGVmaW5lZChtZXNzYWdlID0gbWl4ZWQuZGVmaW5lZCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbmFsaXR5KGZhbHNlLCBtZXNzYWdlKTtcbiAgfVxuICBudWxsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5udWxsYWJpbGl0eSh0cnVlKTtcbiAgfVxuICBub25OdWxsYWJsZShtZXNzYWdlID0gbWl4ZWQubm90TnVsbCkge1xuICAgIHJldHVybiB0aGlzLm51bGxhYmlsaXR5KGZhbHNlLCBtZXNzYWdlKTtcbiAgfVxuICByZXF1aXJlZChtZXNzYWdlID0gbWl4ZWQucmVxdWlyZWQpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLndpdGhNdXRhdGlvbihuZXh0ID0+IG5leHQubm9uTnVsbGFibGUobWVzc2FnZSkuZGVmaW5lZChtZXNzYWdlKSk7XG4gIH1cbiAgbm90UmVxdWlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS53aXRoTXV0YXRpb24obmV4dCA9PiBuZXh0Lm51bGxhYmxlKCkub3B0aW9uYWwoKSk7XG4gIH1cbiAgdHJhbnNmb3JtKGZuKSB7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV4dC50cmFuc2Zvcm1zLnB1c2goZm4pO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB0ZXN0IGZ1bmN0aW9uIHRvIHRoZSBzY2hlbWEncyBxdWV1ZSBvZiB0ZXN0cy5cbiAgICogdGVzdHMgY2FuIGJlIGV4Y2x1c2l2ZSBvciBub24tZXhjbHVzaXZlLlxuICAgKlxuICAgKiAtIGV4Y2x1c2l2ZSB0ZXN0cywgd2lsbCByZXBsYWNlIGFueSBleGlzdGluZyB0ZXN0cyBvZiB0aGUgc2FtZSBuYW1lLlxuICAgKiAtIG5vbi1leGNsdXNpdmU6IGNhbiBiZSBzdGFja2VkXG4gICAqXG4gICAqIElmIGEgbm9uLWV4Y2x1c2l2ZSB0ZXN0IGlzIGFkZGVkIHRvIGEgc2NoZW1hIHdpdGggYW4gZXhjbHVzaXZlIHRlc3Qgb2YgdGhlIHNhbWUgbmFtZVxuICAgKiB0aGUgZXhjbHVzaXZlIHRlc3QgaXMgcmVtb3ZlZCBhbmQgZnVydGhlciB0ZXN0cyBvZiB0aGUgc2FtZSBuYW1lIHdpbGwgYmUgc3RhY2tlZC5cbiAgICpcbiAgICogSWYgYW4gZXhjbHVzaXZlIHRlc3QgaXMgYWRkZWQgdG8gYSBzY2hlbWEgd2l0aCBub24tZXhjbHVzaXZlIHRlc3RzIG9mIHRoZSBzYW1lIG5hbWVcbiAgICogdGhlIHByZXZpb3VzIHRlc3RzIGFyZSByZW1vdmVkIGFuZCBmdXJ0aGVyIHRlc3RzIG9mIHRoZSBzYW1lIG5hbWUgd2lsbCByZXBsYWNlIGVhY2ggb3RoZXIuXG4gICAqL1xuXG4gIHRlc3QoLi4uYXJncykge1xuICAgIGxldCBvcHRzO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9wdHMgPSB7XG4gICAgICAgICAgdGVzdDogYXJnc1swXVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0cyA9IGFyZ3NbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgbmFtZTogYXJnc1swXSxcbiAgICAgICAgdGVzdDogYXJnc1sxXVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cyA9IHtcbiAgICAgICAgbmFtZTogYXJnc1swXSxcbiAgICAgICAgbWVzc2FnZTogYXJnc1sxXSxcbiAgICAgICAgdGVzdDogYXJnc1syXVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9wdHMubWVzc2FnZSA9PT0gdW5kZWZpbmVkKSBvcHRzLm1lc3NhZ2UgPSBtaXhlZC5kZWZhdWx0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy50ZXN0ICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdgdGVzdGAgaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXJzJyk7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbGV0IHZhbGlkYXRlID0gY3JlYXRlVmFsaWRhdGlvbihvcHRzKTtcbiAgICBsZXQgaXNFeGNsdXNpdmUgPSBvcHRzLmV4Y2x1c2l2ZSB8fCBvcHRzLm5hbWUgJiYgbmV4dC5leGNsdXNpdmVUZXN0c1tvcHRzLm5hbWVdID09PSB0cnVlO1xuICAgIGlmIChvcHRzLmV4Y2x1c2l2ZSkge1xuICAgICAgaWYgKCFvcHRzLm5hbWUpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4Y2x1c2l2ZSB0ZXN0cyBtdXN0IHByb3ZpZGUgYSB1bmlxdWUgYG5hbWVgIGlkZW50aWZ5aW5nIHRoZSB0ZXN0Jyk7XG4gICAgfVxuICAgIGlmIChvcHRzLm5hbWUpIG5leHQuZXhjbHVzaXZlVGVzdHNbb3B0cy5uYW1lXSA9ICEhb3B0cy5leGNsdXNpdmU7XG4gICAgbmV4dC50ZXN0cyA9IG5leHQudGVzdHMuZmlsdGVyKGZuID0+IHtcbiAgICAgIGlmIChmbi5PUFRJT05TLm5hbWUgPT09IG9wdHMubmFtZSkge1xuICAgICAgICBpZiAoaXNFeGNsdXNpdmUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGZuLk9QVElPTlMudGVzdCA9PT0gdmFsaWRhdGUuT1BUSU9OUy50ZXN0KSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBuZXh0LnRlc3RzLnB1c2godmFsaWRhdGUpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIHdoZW4oa2V5cywgb3B0aW9ucykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShrZXlzKSAmJiB0eXBlb2Yga2V5cyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSBrZXlzO1xuICAgICAga2V5cyA9ICcuJztcbiAgICB9XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbGV0IGRlcHMgPSB0b0FycmF5KGtleXMpLm1hcChrZXkgPT4gbmV3IFJlZmVyZW5jZShrZXkpKTtcbiAgICBkZXBzLmZvckVhY2goZGVwID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgcmVhZG9ubHkgYXJyYXlcbiAgICAgIGlmIChkZXAuaXNTaWJsaW5nKSBuZXh0LmRlcHMucHVzaChkZXAua2V5KTtcbiAgICB9KTtcbiAgICBuZXh0LmNvbmRpdGlvbnMucHVzaCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBDb25kaXRpb24oZGVwcywgb3B0aW9ucykgOiBDb25kaXRpb24uZnJvbU9wdGlvbnMoZGVwcywgb3B0aW9ucykpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIHR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV4dC5pbnRlcm5hbFRlc3RzLnR5cGVFcnJvciA9IGNyZWF0ZVZhbGlkYXRpb24oe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICd0eXBlRXJyb3InLFxuICAgICAgc2tpcEFic2VudDogdHJ1ZSxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNjaGVtYS5fdHlwZUNoZWNrKHZhbHVlKSkgcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3Ioe1xuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5zY2hlbWEudHlwZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIG9uZU9mKGVudW1zLCBtZXNzYWdlID0gbWl4ZWQub25lT2YpIHtcbiAgICBsZXQgbmV4dCA9IHRoaXMuY2xvbmUoKTtcbiAgICBlbnVtcy5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICBuZXh0Ll93aGl0ZWxpc3QuYWRkKHZhbCk7XG4gICAgICBuZXh0Ll9ibGFja2xpc3QuZGVsZXRlKHZhbCk7XG4gICAgfSk7XG4gICAgbmV4dC5pbnRlcm5hbFRlc3RzLndoaXRlTGlzdCA9IGNyZWF0ZVZhbGlkYXRpb24oe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdvbmVPZicsXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICBsZXQgdmFsaWRzID0gdGhpcy5zY2hlbWEuX3doaXRlbGlzdDtcbiAgICAgICAgbGV0IHJlc29sdmVkID0gdmFsaWRzLnJlc29sdmVBbGwodGhpcy5yZXNvbHZlKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkLmluY2x1ZGVzKHZhbHVlKSA/IHRydWUgOiB0aGlzLmNyZWF0ZUVycm9yKHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHZhbHVlczogQXJyYXkuZnJvbSh2YWxpZHMpLmpvaW4oJywgJyksXG4gICAgICAgICAgICByZXNvbHZlZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgbm90T25lT2YoZW51bXMsIG1lc3NhZ2UgPSBtaXhlZC5ub3RPbmVPZikge1xuICAgIGxldCBuZXh0ID0gdGhpcy5jbG9uZSgpO1xuICAgIGVudW1zLmZvckVhY2godmFsID0+IHtcbiAgICAgIG5leHQuX2JsYWNrbGlzdC5hZGQodmFsKTtcbiAgICAgIG5leHQuX3doaXRlbGlzdC5kZWxldGUodmFsKTtcbiAgICB9KTtcbiAgICBuZXh0LmludGVybmFsVGVzdHMuYmxhY2tsaXN0ID0gY3JlYXRlVmFsaWRhdGlvbih7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ25vdE9uZU9mJyxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgbGV0IGludmFsaWRzID0gdGhpcy5zY2hlbWEuX2JsYWNrbGlzdDtcbiAgICAgICAgbGV0IHJlc29sdmVkID0gaW52YWxpZHMucmVzb2x2ZUFsbCh0aGlzLnJlc29sdmUpO1xuICAgICAgICBpZiAocmVzb2x2ZWQuaW5jbHVkZXModmFsdWUpKSByZXR1cm4gdGhpcy5jcmVhdGVFcnJvcih7XG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICB2YWx1ZXM6IEFycmF5LmZyb20oaW52YWxpZHMpLmpvaW4oJywgJyksXG4gICAgICAgICAgICByZXNvbHZlZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIHN0cmlwKHN0cmlwID0gdHJ1ZSkge1xuICAgIGxldCBuZXh0ID0gdGhpcy5jbG9uZSgpO1xuICAgIG5leHQuc3BlYy5zdHJpcCA9IHN0cmlwO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIHNlcmlhbGl6ZWQgZGVzY3JpcHRpb24gb2YgdGhlIHNjaGVtYSBpbmNsdWRpbmcgdmFsaWRhdGlvbnMsIGZsYWdzLCB0eXBlcyBldGMuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIFByb3ZpZGUgYW55IG5lZWRlZCBjb250ZXh0IGZvciByZXNvbHZpbmcgcnVudGltZSBzY2hlbWEgYWx0ZXJhdGlvbnMgKGxhenksIHdoZW4gY29uZGl0aW9ucywgZXRjKS5cbiAgICovXG4gIGRlc2NyaWJlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBuZXh0ID0gKG9wdGlvbnMgPyB0aGlzLnJlc29sdmUob3B0aW9ucykgOiB0aGlzKS5jbG9uZSgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxhYmVsLFxuICAgICAgbWV0YSxcbiAgICAgIG9wdGlvbmFsLFxuICAgICAgbnVsbGFibGVcbiAgICB9ID0gbmV4dC5zcGVjO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0ge1xuICAgICAgbWV0YSxcbiAgICAgIGxhYmVsLFxuICAgICAgb3B0aW9uYWwsXG4gICAgICBudWxsYWJsZSxcbiAgICAgIGRlZmF1bHQ6IG5leHQuZ2V0RGVmYXVsdChvcHRpb25zKSxcbiAgICAgIHR5cGU6IG5leHQudHlwZSxcbiAgICAgIG9uZU9mOiBuZXh0Ll93aGl0ZWxpc3QuZGVzY3JpYmUoKSxcbiAgICAgIG5vdE9uZU9mOiBuZXh0Ll9ibGFja2xpc3QuZGVzY3JpYmUoKSxcbiAgICAgIHRlc3RzOiBuZXh0LnRlc3RzLmZpbHRlcigobiwgaWR4LCBsaXN0KSA9PiBsaXN0LmZpbmRJbmRleChjID0+IGMuT1BUSU9OUy5uYW1lID09PSBuLk9QVElPTlMubmFtZSkgPT09IGlkeCkubWFwKGZuID0+IHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gZm4uT1BUSU9OUy5wYXJhbXMgJiYgb3B0aW9ucyA/IHJlc29sdmVQYXJhbXMoT2JqZWN0LmFzc2lnbih7fSwgZm4uT1BUSU9OUy5wYXJhbXMpLCBvcHRpb25zKSA6IGZuLk9QVElPTlMucGFyYW1zO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGZuLk9QVElPTlMubmFtZSxcbiAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfTtcbiAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gIH1cbiAgZ2V0IFsnfnN0YW5kYXJkJ10oKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gdGhpcztcbiAgICBjb25zdCBzdGFuZGFyZCA9IHtcbiAgICAgIHZlcnNpb246IDEsXG4gICAgICB2ZW5kb3I6ICd5dXAnLFxuICAgICAgYXN5bmMgdmFsaWRhdGUodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzY2hlbWEudmFsaWRhdGUodmFsdWUsIHtcbiAgICAgICAgICAgIGFib3J0RWFybHk6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpc3N1ZXM6IGlzc3Vlc0Zyb21WYWxpZGF0aW9uRXJyb3IoZXJyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gc3RhbmRhcmQ7XG4gIH1cbn1cbi8vIEB0cy1leHBlY3QtZXJyb3JcblNjaGVtYS5wcm90b3R5cGUuX19pc1l1cFNjaGVtYV9fID0gdHJ1ZTtcbmZvciAoY29uc3QgbWV0aG9kIG9mIFsndmFsaWRhdGUnLCAndmFsaWRhdGVTeW5jJ10pIFNjaGVtYS5wcm90b3R5cGVbYCR7bWV0aG9kfUF0YF0gPSBmdW5jdGlvbiAocGF0aCwgdmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcGFyZW50LFxuICAgIHBhcmVudFBhdGgsXG4gICAgc2NoZW1hXG4gIH0gPSBnZXRJbih0aGlzLCBwYXRoLCB2YWx1ZSwgb3B0aW9ucy5jb250ZXh0KTtcbiAgcmV0dXJuIHNjaGVtYVttZXRob2RdKHBhcmVudCAmJiBwYXJlbnRbcGFyZW50UGF0aF0sIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICBwYXJlbnQsXG4gICAgcGF0aFxuICB9KSk7XG59O1xuZm9yIChjb25zdCBhbGlhcyBvZiBbJ2VxdWFscycsICdpcyddKSBTY2hlbWEucHJvdG90eXBlW2FsaWFzXSA9IFNjaGVtYS5wcm90b3R5cGUub25lT2Y7XG5mb3IgKGNvbnN0IGFsaWFzIG9mIFsnbm90JywgJ25vcGUnXSkgU2NoZW1hLnByb3RvdHlwZVthbGlhc10gPSBTY2hlbWEucHJvdG90eXBlLm5vdE9uZU9mO1xuXG5jb25zdCByZXR1cm5zVHJ1ZSA9ICgpID0+IHRydWU7XG5mdW5jdGlvbiBjcmVhdGUkOChzcGVjKSB7XG4gIHJldHVybiBuZXcgTWl4ZWRTY2hlbWEoc3BlYyk7XG59XG5jbGFzcyBNaXhlZFNjaGVtYSBleHRlbmRzIFNjaGVtYSB7XG4gIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICBzdXBlcih0eXBlb2Ygc3BlYyA9PT0gJ2Z1bmN0aW9uJyA/IHtcbiAgICAgIHR5cGU6ICdtaXhlZCcsXG4gICAgICBjaGVjazogc3BlY1xuICAgIH0gOiBPYmplY3QuYXNzaWduKHtcbiAgICAgIHR5cGU6ICdtaXhlZCcsXG4gICAgICBjaGVjazogcmV0dXJuc1RydWVcbiAgICB9LCBzcGVjKSk7XG4gIH1cbn1cbmNyZWF0ZSQ4LnByb3RvdHlwZSA9IE1peGVkU2NoZW1hLnByb3RvdHlwZTtcblxuZnVuY3Rpb24gY3JlYXRlJDcoKSB7XG4gIHJldHVybiBuZXcgQm9vbGVhblNjaGVtYSgpO1xufVxuY2xhc3MgQm9vbGVhblNjaGVtYSBleHRlbmRzIFNjaGVtYSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGNoZWNrKHYpIHtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBCb29sZWFuKSB2ID0gdi52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMud2l0aE11dGF0aW9uKCgpID0+IHtcbiAgICAgIHRoaXMudHJhbnNmb3JtKCh2YWx1ZSwgX3JhdykgPT4ge1xuICAgICAgICBpZiAodGhpcy5zcGVjLmNvZXJjZSAmJiAhdGhpcy5pc1R5cGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKC9eKHRydWV8MSkkL2kudGVzdChTdHJpbmcodmFsdWUpKSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKC9eKGZhbHNlfDApJC9pLnRlc3QoU3RyaW5nKHZhbHVlKSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBpc1RydWUobWVzc2FnZSA9IGJvb2xlYW4uaXNWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdpcy12YWx1ZScsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgdmFsdWU6ICd0cnVlJ1xuICAgICAgfSxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQWJzZW50KHZhbHVlKSB8fCB2YWx1ZSA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpc0ZhbHNlKG1lc3NhZ2UgPSBib29sZWFuLmlzVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50ZXN0KHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBuYW1lOiAnaXMtdmFsdWUnLFxuICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHZhbHVlOiAnZmFsc2UnXG4gICAgICB9LFxuICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNBYnNlbnQodmFsdWUpIHx8IHZhbHVlID09PSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBkZWZhdWx0KGRlZikge1xuICAgIHJldHVybiBzdXBlci5kZWZhdWx0KGRlZik7XG4gIH1cbiAgZGVmaW5lZChtc2cpIHtcbiAgICByZXR1cm4gc3VwZXIuZGVmaW5lZChtc2cpO1xuICB9XG4gIG9wdGlvbmFsKCkge1xuICAgIHJldHVybiBzdXBlci5vcHRpb25hbCgpO1xuICB9XG4gIHJlcXVpcmVkKG1zZykge1xuICAgIHJldHVybiBzdXBlci5yZXF1aXJlZChtc2cpO1xuICB9XG4gIG5vdFJlcXVpcmVkKCkge1xuICAgIHJldHVybiBzdXBlci5ub3RSZXF1aXJlZCgpO1xuICB9XG4gIG51bGxhYmxlKCkge1xuICAgIHJldHVybiBzdXBlci5udWxsYWJsZSgpO1xuICB9XG4gIG5vbk51bGxhYmxlKG1zZykge1xuICAgIHJldHVybiBzdXBlci5ub25OdWxsYWJsZShtc2cpO1xuICB9XG4gIHN0cmlwKHYpIHtcbiAgICByZXR1cm4gc3VwZXIuc3RyaXAodik7XG4gIH1cbn1cbmNyZWF0ZSQ3LnByb3RvdHlwZSA9IEJvb2xlYW5TY2hlbWEucHJvdG90eXBlO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBpcyBhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIGZpbGUgZnJvbSB0aGUgZm9sbG93aW5nIHJlcG9zaXRvcnk6XG4gKiBEYXRlLnBhcnNlIHdpdGggcHJvZ3Jlc3NpdmUgZW5oYW5jZW1lbnQgZm9yIElTTyA4NjAxIDxodHRwczovL2dpdGh1Yi5jb20vY3Nub3Zlci9qcy1pc284NjAxPlxuICogTk9OLUNPTkZPUk1BTlQgRURJVElPTi5cbiAqIMKpIDIwMTEgQ29saW4gU25vdmVyIDxodHRwOi8vemV0YWZsZWV0LmNvbT5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxuICovXG5cbi8vIHByZXR0aWVyLWlnbm9yZVxuLy8gICAgICAgICAgICAgICAgMSBZWVlZICAgICAgICAgICAgICAgIDIgTU0gICAgICAgIDMgREQgICAgICAgICAgICAgIDQgSEggICAgIDUgbW0gICAgICAgIDYgc3MgICAgICAgICAgIDcgbXNlYyAgICAgICAgIDggWiA5IMKxICAgMTAgdHpISCAgICAxMSB0em1tXG5jb25zdCBpc29SZWcgPSAvXihcXGR7NH18WystXVxcZHs2fSkoPzotPyhcXGR7Mn0pKD86LT8oXFxkezJ9KSk/KT8oPzpbIFRdPyhcXGR7Mn0pOj8oXFxkezJ9KSg/Ojo/KFxcZHsyfSkoPzpbLC5dKFxcZHsxLH0pKT8pPyg/OihaKXwoWystXSkoXFxkezJ9KSg/Ojo/KFxcZHsyfSkpPyk/KT8kLztcbmZ1bmN0aW9uIHBhcnNlSXNvRGF0ZShkYXRlKSB7XG4gIGNvbnN0IHN0cnVjdCA9IHBhcnNlRGF0ZVN0cnVjdChkYXRlKTtcbiAgaWYgKCFzdHJ1Y3QpIHJldHVybiBEYXRlLnBhcnNlID8gRGF0ZS5wYXJzZShkYXRlKSA6IE51bWJlci5OYU47XG5cbiAgLy8gdGltZXN0YW1wcyB3aXRob3V0IHRpbWV6b25lIGlkZW50aWZpZXJzIHNob3VsZCBiZSBjb25zaWRlcmVkIGxvY2FsIHRpbWVcbiAgaWYgKHN0cnVjdC56ID09PSB1bmRlZmluZWQgJiYgc3RydWN0LnBsdXNNaW51cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHN0cnVjdC55ZWFyLCBzdHJ1Y3QubW9udGgsIHN0cnVjdC5kYXksIHN0cnVjdC5ob3VyLCBzdHJ1Y3QubWludXRlLCBzdHJ1Y3Quc2Vjb25kLCBzdHJ1Y3QubWlsbGlzZWNvbmQpLnZhbHVlT2YoKTtcbiAgfVxuICBsZXQgdG90YWxNaW51dGVzT2Zmc2V0ID0gMDtcbiAgaWYgKHN0cnVjdC56ICE9PSAnWicgJiYgc3RydWN0LnBsdXNNaW51cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdG90YWxNaW51dGVzT2Zmc2V0ID0gc3RydWN0LmhvdXJPZmZzZXQgKiA2MCArIHN0cnVjdC5taW51dGVPZmZzZXQ7XG4gICAgaWYgKHN0cnVjdC5wbHVzTWludXMgPT09ICcrJykgdG90YWxNaW51dGVzT2Zmc2V0ID0gMCAtIHRvdGFsTWludXRlc09mZnNldDtcbiAgfVxuICByZXR1cm4gRGF0ZS5VVEMoc3RydWN0LnllYXIsIHN0cnVjdC5tb250aCwgc3RydWN0LmRheSwgc3RydWN0LmhvdXIsIHN0cnVjdC5taW51dGUgKyB0b3RhbE1pbnV0ZXNPZmZzZXQsIHN0cnVjdC5zZWNvbmQsIHN0cnVjdC5taWxsaXNlY29uZCk7XG59XG5mdW5jdGlvbiBwYXJzZURhdGVTdHJ1Y3QoZGF0ZSkge1xuICB2YXIgX3JlZ2V4UmVzdWx0JDckbGVuZ3RoLCBfcmVnZXhSZXN1bHQkO1xuICBjb25zdCByZWdleFJlc3VsdCA9IGlzb1JlZy5leGVjKGRhdGUpO1xuICBpZiAoIXJlZ2V4UmVzdWx0KSByZXR1cm4gbnVsbDtcblxuICAvLyB1c2Ugb2YgdG9OdW1iZXIoKSBhdm9pZHMgTmFOIHRpbWVzdGFtcHMgY2F1c2VkIGJ5IOKAnHVuZGVmaW5lZOKAnVxuICAvLyB2YWx1ZXMgYmVpbmcgcGFzc2VkIHRvIERhdGUgY29uc3RydWN0b3JcbiAgcmV0dXJuIHtcbiAgICB5ZWFyOiB0b051bWJlcihyZWdleFJlc3VsdFsxXSksXG4gICAgbW9udGg6IHRvTnVtYmVyKHJlZ2V4UmVzdWx0WzJdLCAxKSAtIDEsXG4gICAgZGF5OiB0b051bWJlcihyZWdleFJlc3VsdFszXSwgMSksXG4gICAgaG91cjogdG9OdW1iZXIocmVnZXhSZXN1bHRbNF0pLFxuICAgIG1pbnV0ZTogdG9OdW1iZXIocmVnZXhSZXN1bHRbNV0pLFxuICAgIHNlY29uZDogdG9OdW1iZXIocmVnZXhSZXN1bHRbNl0pLFxuICAgIG1pbGxpc2Vjb25kOiByZWdleFJlc3VsdFs3XSA/XG4gICAgLy8gYWxsb3cgYXJiaXRyYXJ5IHN1Yi1zZWNvbmQgcHJlY2lzaW9uIGJleW9uZCBtaWxsaXNlY29uZHNcbiAgICB0b051bWJlcihyZWdleFJlc3VsdFs3XS5zdWJzdHJpbmcoMCwgMykpIDogMCxcbiAgICBwcmVjaXNpb246IChfcmVnZXhSZXN1bHQkNyRsZW5ndGggPSAoX3JlZ2V4UmVzdWx0JCA9IHJlZ2V4UmVzdWx0WzddKSA9PSBudWxsID8gdm9pZCAwIDogX3JlZ2V4UmVzdWx0JC5sZW5ndGgpICE9IG51bGwgPyBfcmVnZXhSZXN1bHQkNyRsZW5ndGggOiB1bmRlZmluZWQsXG4gICAgejogcmVnZXhSZXN1bHRbOF0gfHwgdW5kZWZpbmVkLFxuICAgIHBsdXNNaW51czogcmVnZXhSZXN1bHRbOV0gfHwgdW5kZWZpbmVkLFxuICAgIGhvdXJPZmZzZXQ6IHRvTnVtYmVyKHJlZ2V4UmVzdWx0WzEwXSksXG4gICAgbWludXRlT2Zmc2V0OiB0b051bWJlcihyZWdleFJlc3VsdFsxMV0pXG4gIH07XG59XG5mdW5jdGlvbiB0b051bWJlcihzdHIsIGRlZmF1bHRWYWx1ZSA9IDApIHtcbiAgcmV0dXJuIE51bWJlcihzdHIpIHx8IGRlZmF1bHRWYWx1ZTtcbn1cblxuLy8gVGFrZW4gZnJvbSBIVE1MIHNwZWM6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2lucHV0Lmh0bWwjdmFsaWQtZS1tYWlsLWFkZHJlc3NcbmxldCByRW1haWwgPVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4vXlthLXpBLVowLTkuISMkJSYnKitcXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbmxldCByVXJsID1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuL14oKGh0dHBzP3xmdHApOik/XFwvXFwvKCgoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDopKkApPygoKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSl8KCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuPykoOlxcZCopPykoXFwvKCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKSsoXFwvKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKikqKT8pPyhcXD8oKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApfFtcXHVFMDAwLVxcdUY4RkZdfFxcL3xcXD8pKik/KFxcIygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8XFwvfFxcPykqKT8kL2k7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxubGV0IHJVVUlEID0gL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xubGV0IHllYXJNb250aERheSA9ICdeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn0nO1xubGV0IGhvdXJNaW51dGVTZWNvbmQgPSAnXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn0nO1xubGV0IHpPck9mZnNldCA9ICcoKFsrLV1cXFxcZHsyfSg6P1xcXFxkezJ9KT8pfFopJztcbmxldCBySXNvRGF0ZVRpbWUgPSBuZXcgUmVnRXhwKGAke3llYXJNb250aERheX1UJHtob3VyTWludXRlU2Vjb25kfShcXFxcLlxcXFxkKyk/JHt6T3JPZmZzZXR9JGApO1xubGV0IGlzVHJpbW1lZCA9IHZhbHVlID0+IGlzQWJzZW50KHZhbHVlKSB8fCB2YWx1ZSA9PT0gdmFsdWUudHJpbSgpO1xubGV0IG9ialN0cmluZ1RhZyA9IHt9LnRvU3RyaW5nKCk7XG5mdW5jdGlvbiBjcmVhdGUkNigpIHtcbiAgcmV0dXJuIG5ldyBTdHJpbmdTY2hlbWEoKTtcbn1cbmNsYXNzIFN0cmluZ1NjaGVtYSBleHRlbmRzIFNjaGVtYSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgY2hlY2sodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy53aXRoTXV0YXRpb24oKCkgPT4ge1xuICAgICAgdGhpcy50cmFuc2Zvcm0oKHZhbHVlLCBfcmF3KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5zcGVjLmNvZXJjZSB8fCB0aGlzLmlzVHlwZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcblxuICAgICAgICAvLyBkb24ndCBldmVyIGNvbnZlcnQgYXJyYXlzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjb25zdCBzdHJWYWx1ZSA9IHZhbHVlICE9IG51bGwgJiYgdmFsdWUudG9TdHJpbmcgPyB2YWx1ZS50b1N0cmluZygpIDogdmFsdWU7XG5cbiAgICAgICAgLy8gbm8gb25lIHdhbnRzIHBsYWluIG9iamVjdHMgY29udmVydGVkIHRvIFtPYmplY3Qgb2JqZWN0XVxuICAgICAgICBpZiAoc3RyVmFsdWUgPT09IG9ialN0cmluZ1RhZykgcmV0dXJuIHZhbHVlO1xuICAgICAgICByZXR1cm4gc3RyVmFsdWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXF1aXJlZChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHN1cGVyLnJlcXVpcmVkKG1lc3NhZ2UpLndpdGhNdXRhdGlvbihzY2hlbWEgPT4gc2NoZW1hLnRlc3Qoe1xuICAgICAgbWVzc2FnZTogbWVzc2FnZSB8fCBtaXhlZC5yZXF1aXJlZCxcbiAgICAgIG5hbWU6ICdyZXF1aXJlZCcsXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdDogdmFsdWUgPT4gISF2YWx1ZS5sZW5ndGhcbiAgICB9KSk7XG4gIH1cbiAgbm90UmVxdWlyZWQoKSB7XG4gICAgcmV0dXJuIHN1cGVyLm5vdFJlcXVpcmVkKCkud2l0aE11dGF0aW9uKHNjaGVtYSA9PiB7XG4gICAgICBzY2hlbWEudGVzdHMgPSBzY2hlbWEudGVzdHMuZmlsdGVyKHQgPT4gdC5PUFRJT05TLm5hbWUgIT09ICdyZXF1aXJlZCcpO1xuICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9KTtcbiAgfVxuICBsZW5ndGgobGVuZ3RoLCBtZXNzYWdlID0gc3RyaW5nLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdsZW5ndGgnLFxuICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGxlbmd0aFxuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IHRoaXMucmVzb2x2ZShsZW5ndGgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG1pbihtaW4sIG1lc3NhZ2UgPSBzdHJpbmcubWluKSB7XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ21pbicsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbWluXG4gICAgICB9LFxuICAgICAgc2tpcEFic2VudDogdHJ1ZSxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+PSB0aGlzLnJlc29sdmUobWluKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBtYXgobWF4LCBtZXNzYWdlID0gc3RyaW5nLm1heCkge1xuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgbmFtZTogJ21heCcsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBtZXNzYWdlLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG1heFxuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPD0gdGhpcy5yZXNvbHZlKG1heCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbWF0Y2hlcyhyZWdleCwgb3B0aW9ucykge1xuICAgIGxldCBleGNsdWRlRW1wdHlTdHJpbmcgPSBmYWxzZTtcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBsZXQgbmFtZTtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAoe1xuICAgICAgICAgIGV4Y2x1ZGVFbXB0eVN0cmluZyA9IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgbmFtZVxuICAgICAgICB9ID0gb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gb3B0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBuYW1lOiBuYW1lIHx8ICdtYXRjaGVzJyxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UgfHwgc3RyaW5nLm1hdGNoZXMsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgcmVnZXhcbiAgICAgIH0sXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdDogdmFsdWUgPT4gdmFsdWUgPT09ICcnICYmIGV4Y2x1ZGVFbXB0eVN0cmluZyB8fCB2YWx1ZS5zZWFyY2gocmVnZXgpICE9PSAtMVxuICAgIH0pO1xuICB9XG4gIGVtYWlsKG1lc3NhZ2UgPSBzdHJpbmcuZW1haWwpIHtcbiAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHJFbWFpbCwge1xuICAgICAgbmFtZTogJ2VtYWlsJyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBleGNsdWRlRW1wdHlTdHJpbmc6IHRydWVcbiAgICB9KTtcbiAgfVxuICB1cmwobWVzc2FnZSA9IHN0cmluZy51cmwpIHtcbiAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHJVcmwsIHtcbiAgICAgIG5hbWU6ICd1cmwnLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGV4Y2x1ZGVFbXB0eVN0cmluZzogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIHV1aWQobWVzc2FnZSA9IHN0cmluZy51dWlkKSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcyhyVVVJRCwge1xuICAgICAgbmFtZTogJ3V1aWQnLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGV4Y2x1ZGVFbXB0eVN0cmluZzogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgICBsZXQgYWxsb3dPZmZzZXQ7XG4gICAgbGV0IHByZWNpc2lvbjtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAoe1xuICAgICAgICAgIG1lc3NhZ2UgPSAnJyxcbiAgICAgICAgICBhbGxvd09mZnNldCA9IGZhbHNlLFxuICAgICAgICAgIHByZWNpc2lvbiA9IHVuZGVmaW5lZFxuICAgICAgICB9ID0gb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gb3B0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcyhySXNvRGF0ZVRpbWUsIHtcbiAgICAgIG5hbWU6ICdkYXRldGltZScsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlIHx8IHN0cmluZy5kYXRldGltZSxcbiAgICAgIGV4Y2x1ZGVFbXB0eVN0cmluZzogdHJ1ZVxuICAgIH0pLnRlc3Qoe1xuICAgICAgbmFtZTogJ2RhdGV0aW1lX29mZnNldCcsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlIHx8IHN0cmluZy5kYXRldGltZV9vZmZzZXQsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgYWxsb3dPZmZzZXRcbiAgICAgIH0sXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdDogdmFsdWUgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IGFsbG93T2Zmc2V0KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc3RydWN0ID0gcGFyc2VEYXRlU3RydWN0KHZhbHVlKTtcbiAgICAgICAgaWYgKCFzdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuICEhc3RydWN0Lno7XG4gICAgICB9XG4gICAgfSkudGVzdCh7XG4gICAgICBuYW1lOiAnZGF0ZXRpbWVfcHJlY2lzaW9uJyxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UgfHwgc3RyaW5nLmRhdGV0aW1lX3ByZWNpc2lvbixcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBwcmVjaXNpb25cbiAgICAgIH0sXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdDogdmFsdWUgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHByZWNpc2lvbiA9PSB1bmRlZmluZWQpIHJldHVybiB0cnVlO1xuICAgICAgICBjb25zdCBzdHJ1Y3QgPSBwYXJzZURhdGVTdHJ1Y3QodmFsdWUpO1xuICAgICAgICBpZiAoIXN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gc3RydWN0LnByZWNpc2lvbiA9PT0gcHJlY2lzaW9uO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8tLSB0cmFuc2Zvcm1zIC0tXG4gIGVuc3VyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0KCcnKS50cmFuc2Zvcm0odmFsID0+IHZhbCA9PT0gbnVsbCA/ICcnIDogdmFsKTtcbiAgfVxuICB0cmltKG1lc3NhZ2UgPSBzdHJpbmcudHJpbSkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh2YWwgPT4gdmFsICE9IG51bGwgPyB2YWwudHJpbSgpIDogdmFsKS50ZXN0KHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBuYW1lOiAndHJpbScsXG4gICAgICB0ZXN0OiBpc1RyaW1tZWRcbiAgICB9KTtcbiAgfVxuICBsb3dlcmNhc2UobWVzc2FnZSA9IHN0cmluZy5sb3dlcmNhc2UpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0odmFsdWUgPT4gIWlzQWJzZW50KHZhbHVlKSA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiB2YWx1ZSkudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ3N0cmluZ19jYXNlJyxcbiAgICAgIGV4Y2x1c2l2ZTogdHJ1ZSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0OiB2YWx1ZSA9PiBpc0Fic2VudCh2YWx1ZSkgfHwgdmFsdWUgPT09IHZhbHVlLnRvTG93ZXJDYXNlKClcbiAgICB9KTtcbiAgfVxuICB1cHBlcmNhc2UobWVzc2FnZSA9IHN0cmluZy51cHBlcmNhc2UpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0odmFsdWUgPT4gIWlzQWJzZW50KHZhbHVlKSA/IHZhbHVlLnRvVXBwZXJDYXNlKCkgOiB2YWx1ZSkudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ3N0cmluZ19jYXNlJyxcbiAgICAgIGV4Y2x1c2l2ZTogdHJ1ZSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0OiB2YWx1ZSA9PiBpc0Fic2VudCh2YWx1ZSkgfHwgdmFsdWUgPT09IHZhbHVlLnRvVXBwZXJDYXNlKClcbiAgICB9KTtcbiAgfVxufVxuY3JlYXRlJDYucHJvdG90eXBlID0gU3RyaW5nU2NoZW1hLnByb3RvdHlwZTtcblxuLy9cbi8vIFN0cmluZyBJbnRlcmZhY2VzXG4vL1xuXG5sZXQgaXNOYU4kMSA9IHZhbHVlID0+IHZhbHVlICE9ICt2YWx1ZTtcbmZ1bmN0aW9uIGNyZWF0ZSQ1KCkge1xuICByZXR1cm4gbmV3IE51bWJlclNjaGVtYSgpO1xufVxuY2xhc3MgTnVtYmVyU2NoZW1hIGV4dGVuZHMgU2NoZW1hIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBjaGVjayh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBOdW1iZXIpIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4kMSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy53aXRoTXV0YXRpb24oKCkgPT4ge1xuICAgICAgdGhpcy50cmFuc2Zvcm0oKHZhbHVlLCBfcmF3KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5zcGVjLmNvZXJjZSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBsZXQgcGFyc2VkID0gdmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHBhcnNlZCA9IHBhcnNlZC5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgICAgICAgIGlmIChwYXJzZWQgPT09ICcnKSByZXR1cm4gTmFOO1xuICAgICAgICAgIC8vIGRvbid0IHVzZSBwYXJzZUZsb2F0IHRvIGF2b2lkIHBvc2l0aXZlcyBvbiBhbHBoYS1udW1lcmljIHN0cmluZ3NcbiAgICAgICAgICBwYXJzZWQgPSArcGFyc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbnVsbCAtPiBOYU4gaXNuJ3QgdXNlZnVsOyB0cmVhdCBhbGwgbnVsbHMgYXMgbnVsbCBhbmQgbGV0IGl0IGZhaWwgb25cbiAgICAgICAgLy8gbnVsbGFiaWxpdHkgY2hlY2sgdnMgVHlwZUVycm9yc1xuICAgICAgICBpZiAodGhpcy5pc1R5cGUocGFyc2VkKSB8fCBwYXJzZWQgPT09IG51bGwpIHJldHVybiBwYXJzZWQ7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHBhcnNlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBtaW4obWluLCBtZXNzYWdlID0gbnVtYmVyLm1pbikge1xuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdtaW4nLFxuICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG1pblxuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA+PSB0aGlzLnJlc29sdmUobWluKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBtYXgobWF4LCBtZXNzYWdlID0gbnVtYmVyLm1heCkge1xuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdtYXgnLFxuICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG1heFxuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8PSB0aGlzLnJlc29sdmUobWF4KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsZXNzVGhhbihsZXNzLCBtZXNzYWdlID0gbnVtYmVyLmxlc3NUaGFuKSB7XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ21heCcsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbGVzc1xuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8IHRoaXMucmVzb2x2ZShsZXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBtb3JlVGhhbihtb3JlLCBtZXNzYWdlID0gbnVtYmVyLm1vcmVUaGFuKSB7XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ21pbicsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbW9yZVxuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA+IHRoaXMucmVzb2x2ZShtb3JlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBwb3NpdGl2ZShtc2cgPSBudW1iZXIucG9zaXRpdmUpIHtcbiAgICByZXR1cm4gdGhpcy5tb3JlVGhhbigwLCBtc2cpO1xuICB9XG4gIG5lZ2F0aXZlKG1zZyA9IG51bWJlci5uZWdhdGl2ZSkge1xuICAgIHJldHVybiB0aGlzLmxlc3NUaGFuKDAsIG1zZyk7XG4gIH1cbiAgaW50ZWdlcihtZXNzYWdlID0gbnVtYmVyLmludGVnZXIpIHtcbiAgICByZXR1cm4gdGhpcy50ZXN0KHtcbiAgICAgIG5hbWU6ICdpbnRlZ2VyJyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdDogdmFsID0+IE51bWJlci5pc0ludGVnZXIodmFsKVxuICAgIH0pO1xuICB9XG4gIHRydW5jYXRlKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh2YWx1ZSA9PiAhaXNBYnNlbnQodmFsdWUpID8gdmFsdWUgfCAwIDogdmFsdWUpO1xuICB9XG4gIHJvdW5kKG1ldGhvZCkge1xuICAgIHZhciBfbWV0aG9kO1xuICAgIGxldCBhdmFpbCA9IFsnY2VpbCcsICdmbG9vcicsICdyb3VuZCcsICd0cnVuYyddO1xuICAgIG1ldGhvZCA9ICgoX21ldGhvZCA9IG1ldGhvZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tZXRob2QudG9Mb3dlckNhc2UoKSkgfHwgJ3JvdW5kJztcblxuICAgIC8vIHRoaXMgZXhpc3RzIGZvciBzeW1lbXRyeSB3aXRoIHRoZSBuZXcgTWF0aC50cnVuY1xuICAgIGlmIChtZXRob2QgPT09ICd0cnVuYycpIHJldHVybiB0aGlzLnRydW5jYXRlKCk7XG4gICAgaWYgKGF2YWlsLmluZGV4T2YobWV0aG9kLnRvTG93ZXJDYXNlKCkpID09PSAtMSkgdGhyb3cgbmV3IFR5cGVFcnJvcignT25seSB2YWxpZCBvcHRpb25zIGZvciByb3VuZCgpIGFyZTogJyArIGF2YWlsLmpvaW4oJywgJykpO1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh2YWx1ZSA9PiAhaXNBYnNlbnQodmFsdWUpID8gTWF0aFttZXRob2RdKHZhbHVlKSA6IHZhbHVlKTtcbiAgfVxufVxuY3JlYXRlJDUucHJvdG90eXBlID0gTnVtYmVyU2NoZW1hLnByb3RvdHlwZTtcblxuLy9cbi8vIE51bWJlciBJbnRlcmZhY2VzXG4vL1xuXG5sZXQgaW52YWxpZERhdGUgPSBuZXcgRGF0ZSgnJyk7XG5sZXQgaXNEYXRlID0gb2JqID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBEYXRlXSc7XG5mdW5jdGlvbiBjcmVhdGUkNCgpIHtcbiAgcmV0dXJuIG5ldyBEYXRlU2NoZW1hKCk7XG59XG5jbGFzcyBEYXRlU2NoZW1hIGV4dGVuZHMgU2NoZW1hIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgY2hlY2sodikge1xuICAgICAgICByZXR1cm4gaXNEYXRlKHYpICYmICFpc05hTih2LmdldFRpbWUoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy53aXRoTXV0YXRpb24oKCkgPT4ge1xuICAgICAgdGhpcy50cmFuc2Zvcm0oKHZhbHVlLCBfcmF3KSA9PiB7XG4gICAgICAgIC8vIG51bGwgLT4gSW52YWxpZERhdGUgaXNuJ3QgdXNlZnVsOyB0cmVhdCBhbGwgbnVsbHMgYXMgbnVsbCBhbmQgbGV0IGl0IGZhaWwgb25cbiAgICAgICAgLy8gbnVsbGFiaWxpdHkgY2hlY2sgdnMgVHlwZUVycm9yc1xuICAgICAgICBpZiAoIXRoaXMuc3BlYy5jb2VyY2UgfHwgdGhpcy5pc1R5cGUodmFsdWUpIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gcGFyc2VJc29EYXRlKHZhbHVlKTtcblxuICAgICAgICAvLyAwIGlzIGEgdmFsaWQgdGltZXN0YW1wIGVxdWl2YWxlbnQgdG8gMTk3MC0wMS0wMVQwMDowMDowMFoodW5peCBlcG9jaCkgb3IgYmVmb3JlLlxuICAgICAgICByZXR1cm4gIWlzTmFOKHZhbHVlKSA/IG5ldyBEYXRlKHZhbHVlKSA6IERhdGVTY2hlbWEuSU5WQUxJRF9EQVRFO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcHJlcGFyZVBhcmFtKHJlZiwgbmFtZSkge1xuICAgIGxldCBwYXJhbTtcbiAgICBpZiAoIVJlZmVyZW5jZS5pc1JlZihyZWYpKSB7XG4gICAgICBsZXQgY2FzdCA9IHRoaXMuY2FzdChyZWYpO1xuICAgICAgaWYgKCF0aGlzLl90eXBlQ2hlY2soY2FzdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoYFxcYCR7bmFtZX1cXGAgbXVzdCBiZSBhIERhdGUgb3IgYSB2YWx1ZSB0aGF0IGNhbiBiZSBcXGBjYXN0KClcXGAgdG8gYSBEYXRlYCk7XG4gICAgICBwYXJhbSA9IGNhc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtID0gcmVmO1xuICAgIH1cbiAgICByZXR1cm4gcGFyYW07XG4gIH1cbiAgbWluKG1pbiwgbWVzc2FnZSA9IGRhdGUubWluKSB7XG4gICAgbGV0IGxpbWl0ID0gdGhpcy5wcmVwYXJlUGFyYW0obWluLCAnbWluJyk7XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ21pbicsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbWluXG4gICAgICB9LFxuICAgICAgc2tpcEFic2VudDogdHJ1ZSxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID49IHRoaXMucmVzb2x2ZShsaW1pdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbWF4KG1heCwgbWVzc2FnZSA9IGRhdGUubWF4KSB7XG4gICAgbGV0IGxpbWl0ID0gdGhpcy5wcmVwYXJlUGFyYW0obWF4LCAnbWF4Jyk7XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ21heCcsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbWF4XG4gICAgICB9LFxuICAgICAgc2tpcEFic2VudDogdHJ1ZSxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIDw9IHRoaXMucmVzb2x2ZShsaW1pdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbkRhdGVTY2hlbWEuSU5WQUxJRF9EQVRFID0gaW52YWxpZERhdGU7XG5jcmVhdGUkNC5wcm90b3R5cGUgPSBEYXRlU2NoZW1hLnByb3RvdHlwZTtcbmNyZWF0ZSQ0LklOVkFMSURfREFURSA9IGludmFsaWREYXRlO1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5mdW5jdGlvbiBzb3J0RmllbGRzKGZpZWxkcywgZXhjbHVkZWRFZGdlcyA9IFtdKSB7XG4gIGxldCBlZGdlcyA9IFtdO1xuICBsZXQgbm9kZXMgPSBuZXcgU2V0KCk7XG4gIGxldCBleGNsdWRlcyA9IG5ldyBTZXQoZXhjbHVkZWRFZGdlcy5tYXAoKFthLCBiXSkgPT4gYCR7YX0tJHtifWApKTtcbiAgZnVuY3Rpb24gYWRkTm9kZShkZXBQYXRoLCBrZXkpIHtcbiAgICBsZXQgbm9kZSA9IHNwbGl0KGRlcFBhdGgpWzBdO1xuICAgIG5vZGVzLmFkZChub2RlKTtcbiAgICBpZiAoIWV4Y2x1ZGVzLmhhcyhgJHtrZXl9LSR7bm9kZX1gKSkgZWRnZXMucHVzaChba2V5LCBub2RlXSk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoZmllbGRzKSkge1xuICAgIGxldCB2YWx1ZSA9IGZpZWxkc1trZXldO1xuICAgIG5vZGVzLmFkZChrZXkpO1xuICAgIGlmIChSZWZlcmVuY2UuaXNSZWYodmFsdWUpICYmIHZhbHVlLmlzU2libGluZykgYWRkTm9kZSh2YWx1ZS5wYXRoLCBrZXkpO2Vsc2UgaWYgKGlzU2NoZW1hKHZhbHVlKSAmJiAnZGVwcycgaW4gdmFsdWUpIHZhbHVlLmRlcHMuZm9yRWFjaChwYXRoID0+IGFkZE5vZGUocGF0aCwga2V5KSk7XG4gIH1cbiAgcmV0dXJuIHRvcG9zb3J0LmFycmF5KEFycmF5LmZyb20obm9kZXMpLCBlZGdlcykucmV2ZXJzZSgpO1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBlcnIpIHtcbiAgbGV0IGlkeCA9IEluZmluaXR5O1xuICBhcnIuc29tZSgoa2V5LCBpaSkgPT4ge1xuICAgIHZhciBfZXJyJHBhdGg7XG4gICAgaWYgKChfZXJyJHBhdGggPSBlcnIucGF0aCkgIT0gbnVsbCAmJiBfZXJyJHBhdGguaW5jbHVkZXMoa2V5KSkge1xuICAgICAgaWR4ID0gaWk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaWR4O1xufVxuZnVuY3Rpb24gc29ydEJ5S2V5T3JkZXIoa2V5cykge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICByZXR1cm4gZmluZEluZGV4KGtleXMsIGEpIC0gZmluZEluZGV4KGtleXMsIGIpO1xuICB9O1xufVxuXG5jb25zdCBwYXJzZUpzb24gPSAodmFsdWUsIF8sIHNjaGVtYSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBsZXQgcGFyc2VkID0gdmFsdWU7XG4gIHRyeSB7XG4gICAgcGFyc2VkID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8qICovXG4gIH1cbiAgcmV0dXJuIHNjaGVtYS5pc1R5cGUocGFyc2VkKSA/IHBhcnNlZCA6IHZhbHVlO1xufTtcblxuLy8gQHRzLWlnbm9yZVxuZnVuY3Rpb24gZGVlcFBhcnRpYWwoc2NoZW1hKSB7XG4gIGlmICgnZmllbGRzJyBpbiBzY2hlbWEpIHtcbiAgICBjb25zdCBwYXJ0aWFsID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCBmaWVsZFNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLmZpZWxkcykpIHtcbiAgICAgIHBhcnRpYWxba2V5XSA9IGRlZXBQYXJ0aWFsKGZpZWxkU2NoZW1hKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYS5zZXRGaWVsZHMocGFydGlhbCk7XG4gIH1cbiAgaWYgKHNjaGVtYS50eXBlID09PSAnYXJyYXknKSB7XG4gICAgY29uc3QgbmV4dEFycmF5ID0gc2NoZW1hLm9wdGlvbmFsKCk7XG4gICAgaWYgKG5leHRBcnJheS5pbm5lclR5cGUpIG5leHRBcnJheS5pbm5lclR5cGUgPSBkZWVwUGFydGlhbChuZXh0QXJyYXkuaW5uZXJUeXBlKTtcbiAgICByZXR1cm4gbmV4dEFycmF5O1xuICB9XG4gIGlmIChzY2hlbWEudHlwZSA9PT0gJ3R1cGxlJykge1xuICAgIHJldHVybiBzY2hlbWEub3B0aW9uYWwoKS5jbG9uZSh7XG4gICAgICB0eXBlczogc2NoZW1hLnNwZWMudHlwZXMubWFwKGRlZXBQYXJ0aWFsKVxuICAgIH0pO1xuICB9XG4gIGlmICgnb3B0aW9uYWwnIGluIHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWEub3B0aW9uYWwoKTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufVxuY29uc3QgZGVlcEhhcyA9IChvYmosIHApID0+IHtcbiAgY29uc3QgcGF0aCA9IFsuLi5ub3JtYWxpemVQYXRoKHApXTtcbiAgaWYgKHBhdGgubGVuZ3RoID09PSAxKSByZXR1cm4gcGF0aFswXSBpbiBvYmo7XG4gIGxldCBsYXN0ID0gcGF0aC5wb3AoKTtcbiAgbGV0IHBhcmVudCA9IGdldHRlcihqb2luKHBhdGgpLCB0cnVlKShvYmopO1xuICByZXR1cm4gISEocGFyZW50ICYmIGxhc3QgaW4gcGFyZW50KTtcbn07XG5sZXQgaXNPYmplY3QgPSBvYmogPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuZnVuY3Rpb24gdW5rbm93bihjdHgsIHZhbHVlKSB7XG4gIGxldCBrbm93biA9IE9iamVjdC5rZXlzKGN0eC5maWVsZHMpO1xuICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcihrZXkgPT4ga25vd24uaW5kZXhPZihrZXkpID09PSAtMSk7XG59XG5jb25zdCBkZWZhdWx0U29ydCA9IHNvcnRCeUtleU9yZGVyKFtdKTtcbmZ1bmN0aW9uIGNyZWF0ZSQzKHNwZWMpIHtcbiAgcmV0dXJuIG5ldyBPYmplY3RTY2hlbWEoc3BlYyk7XG59XG5jbGFzcyBPYmplY3RTY2hlbWEgZXh0ZW5kcyBTY2hlbWEge1xuICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICBjaGVjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNPYmplY3QodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmZpZWxkcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fc29ydEVycm9ycyA9IGRlZmF1bHRTb3J0O1xuICAgIHRoaXMuX25vZGVzID0gW107XG4gICAgdGhpcy5fZXhjbHVkZWRFZGdlcyA9IFtdO1xuICAgIHRoaXMud2l0aE11dGF0aW9uKCgpID0+IHtcbiAgICAgIGlmIChzcGVjKSB7XG4gICAgICAgIHRoaXMuc2hhcGUoc3BlYyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX2Nhc3QoX3ZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX29wdGlvbnMkc3RyaXBVbmtub3duO1xuICAgIGxldCB2YWx1ZSA9IHN1cGVyLl9jYXN0KF92YWx1ZSwgb3B0aW9ucyk7XG5cbiAgICAvL3Nob3VsZCBpZ25vcmUgbnVsbHMgaGVyZVxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5nZXREZWZhdWx0KG9wdGlvbnMpO1xuICAgIGlmICghdGhpcy5fdHlwZUNoZWNrKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIGxldCBmaWVsZHMgPSB0aGlzLmZpZWxkcztcbiAgICBsZXQgc3RyaXAgPSAoX29wdGlvbnMkc3RyaXBVbmtub3duID0gb3B0aW9ucy5zdHJpcFVua25vd24pICE9IG51bGwgPyBfb3B0aW9ucyRzdHJpcFVua25vd24gOiB0aGlzLnNwZWMubm9Vbmtub3duO1xuICAgIGxldCBwcm9wcyA9IFtdLmNvbmNhdCh0aGlzLl9ub2RlcywgT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcih2ID0+ICF0aGlzLl9ub2Rlcy5pbmNsdWRlcyh2KSkpO1xuICAgIGxldCBpbnRlcm1lZGlhdGVWYWx1ZSA9IHt9OyAvLyBpcyBmaWxsZWQgZHVyaW5nIHRoZSB0cmFuc2Zvcm0gYmVsb3dcbiAgICBsZXQgaW5uZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgcGFyZW50OiBpbnRlcm1lZGlhdGVWYWx1ZSxcbiAgICAgIF9fdmFsaWRhdGluZzogb3B0aW9ucy5fX3ZhbGlkYXRpbmcgfHwgZmFsc2VcbiAgICB9KTtcbiAgICBsZXQgaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BzKSB7XG4gICAgICBsZXQgZmllbGQgPSBmaWVsZHNbcHJvcF07XG4gICAgICBsZXQgZXhpc3RzID0gKHByb3AgaW4gdmFsdWUpO1xuICAgICAgbGV0IGlucHV0VmFsdWUgPSB2YWx1ZVtwcm9wXTtcbiAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICBsZXQgZmllbGRWYWx1ZTtcblxuICAgICAgICAvLyBzYWZlIHRvIG11dGF0ZSBzaW5jZSB0aGlzIGlzIGZpcmVkIGluIHNlcXVlbmNlXG4gICAgICAgIGlubmVyT3B0aW9ucy5wYXRoID0gKG9wdGlvbnMucGF0aCA/IGAke29wdGlvbnMucGF0aH0uYCA6ICcnKSArIHByb3A7XG4gICAgICAgIGZpZWxkID0gZmllbGQucmVzb2x2ZSh7XG4gICAgICAgICAgdmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgICAgY29udGV4dDogb3B0aW9ucy5jb250ZXh0LFxuICAgICAgICAgIHBhcmVudDogaW50ZXJtZWRpYXRlVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBmaWVsZFNwZWMgPSBmaWVsZCBpbnN0YW5jZW9mIFNjaGVtYSA/IGZpZWxkLnNwZWMgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBzdHJpY3QgPSBmaWVsZFNwZWMgPT0gbnVsbCA/IHZvaWQgMCA6IGZpZWxkU3BlYy5zdHJpY3Q7XG4gICAgICAgIGlmIChmaWVsZFNwZWMgIT0gbnVsbCAmJiBmaWVsZFNwZWMuc3RyaXApIHtcbiAgICAgICAgICBpc0NoYW5nZWQgPSBpc0NoYW5nZWQgfHwgcHJvcCBpbiB2YWx1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZFZhbHVlID0gIW9wdGlvbnMuX192YWxpZGF0aW5nIHx8ICFzdHJpY3QgPyBmaWVsZC5jYXN0KGlucHV0VmFsdWUsIGlubmVyT3B0aW9ucykgOiBpbnB1dFZhbHVlO1xuICAgICAgICBpZiAoZmllbGRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWVbcHJvcF0gPSBmaWVsZFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGV4aXN0cyAmJiAhc3RyaXApIHtcbiAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWVbcHJvcF0gPSBpbnB1dFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGV4aXN0cyAhPT0gcHJvcCBpbiBpbnRlcm1lZGlhdGVWYWx1ZSB8fCBpbnRlcm1lZGlhdGVWYWx1ZVtwcm9wXSAhPT0gaW5wdXRWYWx1ZSkge1xuICAgICAgICBpc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNDaGFuZ2VkID8gaW50ZXJtZWRpYXRlVmFsdWUgOiB2YWx1ZTtcbiAgfVxuICBfdmFsaWRhdGUoX3ZhbHVlLCBvcHRpb25zID0ge30sIHBhbmljLCBuZXh0KSB7XG4gICAgbGV0IHtcbiAgICAgIGZyb20gPSBbXSxcbiAgICAgIG9yaWdpbmFsVmFsdWUgPSBfdmFsdWUsXG4gICAgICByZWN1cnNpdmUgPSB0aGlzLnNwZWMucmVjdXJzaXZlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgb3B0aW9ucy5mcm9tID0gW3tcbiAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgIHZhbHVlOiBvcmlnaW5hbFZhbHVlXG4gICAgfSwgLi4uZnJvbV07XG4gICAgLy8gdGhpcyBmbGFnIGlzIG5lZWRlZCBmb3IgaGFuZGxpbmcgYHN0cmljdGAgY29ycmVjdGx5IGluIHRoZSBjb250ZXh0IG9mXG4gICAgLy8gdmFsaWRhdGlvbiB2cyBqdXN0IGNhc3RpbmcuIGUuZyBzdHJpY3QoKSBvbiBhIGZpZWxkIGlzIG9ubHkgdXNlZCB3aGVuIHZhbGlkYXRpbmdcbiAgICBvcHRpb25zLl9fdmFsaWRhdGluZyA9IHRydWU7XG4gICAgb3B0aW9ucy5vcmlnaW5hbFZhbHVlID0gb3JpZ2luYWxWYWx1ZTtcbiAgICBzdXBlci5fdmFsaWRhdGUoX3ZhbHVlLCBvcHRpb25zLCBwYW5pYywgKG9iamVjdEVycm9ycywgdmFsdWUpID0+IHtcbiAgICAgIGlmICghcmVjdXJzaXZlIHx8ICFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgbmV4dChvYmplY3RFcnJvcnMsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3JpZ2luYWxWYWx1ZSA9IG9yaWdpbmFsVmFsdWUgfHwgdmFsdWU7XG4gICAgICBsZXQgdGVzdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGtleSBvZiB0aGlzLl9ub2Rlcykge1xuICAgICAgICBsZXQgZmllbGQgPSB0aGlzLmZpZWxkc1trZXldO1xuICAgICAgICBpZiAoIWZpZWxkIHx8IFJlZmVyZW5jZS5pc1JlZihmaWVsZCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0ZXN0cy5wdXNoKGZpZWxkLmFzTmVzdGVkVGVzdCh7XG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcGFyZW50OiB2YWx1ZSxcbiAgICAgICAgICBwYXJlbnRQYXRoOiBvcHRpb25zLnBhdGgsXG4gICAgICAgICAgb3JpZ2luYWxQYXJlbnQ6IG9yaWdpbmFsVmFsdWVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5ydW5UZXN0cyh7XG4gICAgICAgIHRlc3RzLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb3JpZ2luYWxWYWx1ZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfSwgcGFuaWMsIGZpZWxkRXJyb3JzID0+IHtcbiAgICAgICAgbmV4dChmaWVsZEVycm9ycy5zb3J0KHRoaXMuX3NvcnRFcnJvcnMpLmNvbmNhdChvYmplY3RFcnJvcnMpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBjbG9uZShzcGVjKSB7XG4gICAgY29uc3QgbmV4dCA9IHN1cGVyLmNsb25lKHNwZWMpO1xuICAgIG5leHQuZmllbGRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5maWVsZHMpO1xuICAgIG5leHQuX25vZGVzID0gdGhpcy5fbm9kZXM7XG4gICAgbmV4dC5fZXhjbHVkZWRFZGdlcyA9IHRoaXMuX2V4Y2x1ZGVkRWRnZXM7XG4gICAgbmV4dC5fc29ydEVycm9ycyA9IHRoaXMuX3NvcnRFcnJvcnM7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgY29uY2F0KHNjaGVtYSkge1xuICAgIGxldCBuZXh0ID0gc3VwZXIuY29uY2F0KHNjaGVtYSk7XG4gICAgbGV0IG5leHRGaWVsZHMgPSBuZXh0LmZpZWxkcztcbiAgICBmb3IgKGxldCBbZmllbGQsIHNjaGVtYU9yUmVmXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmZpZWxkcykpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG5leHRGaWVsZHNbZmllbGRdO1xuICAgICAgbmV4dEZpZWxkc1tmaWVsZF0gPSB0YXJnZXQgPT09IHVuZGVmaW5lZCA/IHNjaGVtYU9yUmVmIDogdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dC53aXRoTXV0YXRpb24ocyA9PlxuICAgIC8vIFhYWDogZXhjbHVkZXMgaGVyZSBpcyB3cm9uZ1xuICAgIHMuc2V0RmllbGRzKG5leHRGaWVsZHMsIFsuLi50aGlzLl9leGNsdWRlZEVkZ2VzLCAuLi5zY2hlbWEuX2V4Y2x1ZGVkRWRnZXNdKSk7XG4gIH1cbiAgX2dldERlZmF1bHQob3B0aW9ucykge1xuICAgIGlmICgnZGVmYXVsdCcgaW4gdGhpcy5zcGVjKSB7XG4gICAgICByZXR1cm4gc3VwZXIuX2dldERlZmF1bHQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gZGVmYXVsdCBzZXQgaW52ZW50IG9uZVxuICAgIGlmICghdGhpcy5fbm9kZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBsZXQgZGZ0ID0ge307XG4gICAgdGhpcy5fbm9kZXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgdmFyIF9pbm5lck9wdGlvbnM7XG4gICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzW2tleV07XG4gICAgICBsZXQgaW5uZXJPcHRpb25zID0gb3B0aW9ucztcbiAgICAgIGlmICgoX2lubmVyT3B0aW9ucyA9IGlubmVyT3B0aW9ucykgIT0gbnVsbCAmJiBfaW5uZXJPcHRpb25zLnZhbHVlKSB7XG4gICAgICAgIGlubmVyT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGlubmVyT3B0aW9ucywge1xuICAgICAgICAgIHBhcmVudDogaW5uZXJPcHRpb25zLnZhbHVlLFxuICAgICAgICAgIHZhbHVlOiBpbm5lck9wdGlvbnMudmFsdWVba2V5XVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRmdFtrZXldID0gZmllbGQgJiYgJ2dldERlZmF1bHQnIGluIGZpZWxkID8gZmllbGQuZ2V0RGVmYXVsdChpbm5lck9wdGlvbnMpIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHJldHVybiBkZnQ7XG4gIH1cbiAgc2V0RmllbGRzKHNoYXBlLCBleGNsdWRlZEVkZ2VzKSB7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV4dC5maWVsZHMgPSBzaGFwZTtcbiAgICBuZXh0Ll9ub2RlcyA9IHNvcnRGaWVsZHMoc2hhcGUsIGV4Y2x1ZGVkRWRnZXMpO1xuICAgIG5leHQuX3NvcnRFcnJvcnMgPSBzb3J0QnlLZXlPcmRlcihPYmplY3Qua2V5cyhzaGFwZSkpO1xuICAgIC8vIFhYWDogdGhpcyBjYXJyaWVzIG92ZXIgZWRnZXMgd2hpY2ggbWF5IG5vdCBiZSB3aGF0IHlvdSB3YW50XG4gICAgaWYgKGV4Y2x1ZGVkRWRnZXMpIG5leHQuX2V4Y2x1ZGVkRWRnZXMgPSBleGNsdWRlZEVkZ2VzO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIHNoYXBlKGFkZGl0aW9ucywgZXhjbHVkZXMgPSBbXSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkud2l0aE11dGF0aW9uKG5leHQgPT4ge1xuICAgICAgbGV0IGVkZ2VzID0gbmV4dC5fZXhjbHVkZWRFZGdlcztcbiAgICAgIGlmIChleGNsdWRlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4Y2x1ZGVzWzBdKSkgZXhjbHVkZXMgPSBbZXhjbHVkZXNdO1xuICAgICAgICBlZGdlcyA9IFsuLi5uZXh0Ll9leGNsdWRlZEVkZ2VzLCAuLi5leGNsdWRlc107XG4gICAgICB9XG5cbiAgICAgIC8vIFhYWDogZXhjbHVkZXMgaGVyZSBpcyB3cm9uZ1xuICAgICAgcmV0dXJuIG5leHQuc2V0RmllbGRzKE9iamVjdC5hc3NpZ24obmV4dC5maWVsZHMsIGFkZGl0aW9ucyksIGVkZ2VzKTtcbiAgICB9KTtcbiAgfVxuICBwYXJ0aWFsKCkge1xuICAgIGNvbnN0IHBhcnRpYWwgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5maWVsZHMpKSB7XG4gICAgICBwYXJ0aWFsW2tleV0gPSAnb3B0aW9uYWwnIGluIHNjaGVtYSAmJiBzY2hlbWEub3B0aW9uYWwgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHNjaGVtYS5vcHRpb25hbCgpIDogc2NoZW1hO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZXRGaWVsZHMocGFydGlhbCk7XG4gIH1cbiAgZGVlcFBhcnRpYWwoKSB7XG4gICAgY29uc3QgbmV4dCA9IGRlZXBQYXJ0aWFsKHRoaXMpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIHBpY2soa2V5cykge1xuICAgIGNvbnN0IHBpY2tlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGlmICh0aGlzLmZpZWxkc1trZXldKSBwaWNrZWRba2V5XSA9IHRoaXMuZmllbGRzW2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNldEZpZWxkcyhwaWNrZWQsIHRoaXMuX2V4Y2x1ZGVkRWRnZXMuZmlsdGVyKChbYSwgYl0pID0+IGtleXMuaW5jbHVkZXMoYSkgJiYga2V5cy5pbmNsdWRlcyhiKSkpO1xuICB9XG4gIG9taXQoa2V5cykge1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IFtdO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuZmllbGRzKSkge1xuICAgICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkgY29udGludWU7XG4gICAgICByZW1haW5pbmcucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5waWNrKHJlbWFpbmluZyk7XG4gIH1cbiAgZnJvbShmcm9tLCB0bywgYWxpYXMpIHtcbiAgICBsZXQgZnJvbUdldHRlciA9IGdldHRlcihmcm9tLCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ob2JqID0+IHtcbiAgICAgIGlmICghb2JqKSByZXR1cm4gb2JqO1xuICAgICAgbGV0IG5ld09iaiA9IG9iajtcbiAgICAgIGlmIChkZWVwSGFzKG9iaiwgZnJvbSkpIHtcbiAgICAgICAgbmV3T2JqID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTtcbiAgICAgICAgaWYgKCFhbGlhcykgZGVsZXRlIG5ld09ialtmcm9tXTtcbiAgICAgICAgbmV3T2JqW3RvXSA9IGZyb21HZXR0ZXIob2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgfSk7XG4gIH1cblxuICAvKiogUGFyc2UgYW4gaW5wdXQgSlNPTiBzdHJpbmcgdG8gYW4gb2JqZWN0ICovXG4gIGpzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKHBhcnNlSnNvbik7XG4gIH1cblxuICAvKipcbiAgICogU2ltaWxhciB0byBgbm9Vbmtub3duYCBidXQgb25seSB2YWxpZGF0ZXMgdGhhdCBhbiBvYmplY3QgaXMgdGhlIHJpZ2h0IHNoYXBlIHdpdGhvdXQgc3RyaXBwaW5nIHRoZSB1bmtub3duIGtleXNcbiAgICovXG4gIGV4YWN0KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy50ZXN0KHtcbiAgICAgIG5hbWU6ICdleGFjdCcsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlIHx8IG9iamVjdC5leGFjdCxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHVua25vd24odGhpcy5zY2hlbWEsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHVua25vd25LZXlzLmxlbmd0aCA9PT0gMCB8fCB0aGlzLmNyZWF0ZUVycm9yKHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHVua25vd25LZXlzLmpvaW4oJywgJylcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHN0cmlwVW5rbm93bigpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSh7XG4gICAgICBub1Vua25vd246IHRydWVcbiAgICB9KTtcbiAgfVxuICBub1Vua25vd24obm9BbGxvdyA9IHRydWUsIG1lc3NhZ2UgPSBvYmplY3Qubm9Vbmtub3duKSB7XG4gICAgaWYgKHR5cGVvZiBub0FsbG93ICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIG1lc3NhZ2UgPSBub0FsbG93O1xuICAgICAgbm9BbGxvdyA9IHRydWU7XG4gICAgfVxuICAgIGxldCBuZXh0ID0gdGhpcy50ZXN0KHtcbiAgICAgIG5hbWU6ICdub1Vua25vd24nLFxuICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHVua25vd24odGhpcy5zY2hlbWEsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuICFub0FsbG93IHx8IHVua25vd25LZXlzLmxlbmd0aCA9PT0gMCB8fCB0aGlzLmNyZWF0ZUVycm9yKHtcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHVua25vd246IHVua25vd25LZXlzLmpvaW4oJywgJylcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5leHQuc3BlYy5ub1Vua25vd24gPSBub0FsbG93O1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIHVua25vd24oYWxsb3cgPSB0cnVlLCBtZXNzYWdlID0gb2JqZWN0Lm5vVW5rbm93bikge1xuICAgIHJldHVybiB0aGlzLm5vVW5rbm93bighYWxsb3csIG1lc3NhZ2UpO1xuICB9XG4gIHRyYW5zZm9ybUtleXMoZm4pIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ob2JqID0+IHtcbiAgICAgIGlmICghb2JqKSByZXR1cm4gb2JqO1xuICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmopKSByZXN1bHRbZm4oa2V5KV0gPSBvYmpba2V5XTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cbiAgY2FtZWxDYXNlKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUtleXMoY2FtZWxDYXNlKTtcbiAgfVxuICBzbmFrZUNhc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtS2V5cyhzbmFrZUNhc2UpO1xuICB9XG4gIGNvbnN0YW50Q2FzZSgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1LZXlzKGtleSA9PiBzbmFrZUNhc2Uoa2V5KS50b1VwcGVyQ2FzZSgpKTtcbiAgfVxuICBkZXNjcmliZShvcHRpb25zKSB7XG4gICAgY29uc3QgbmV4dCA9IChvcHRpb25zID8gdGhpcy5yZXNvbHZlKG9wdGlvbnMpIDogdGhpcykuY2xvbmUoKTtcbiAgICBjb25zdCBiYXNlID0gc3VwZXIuZGVzY3JpYmUob3B0aW9ucyk7XG4gICAgYmFzZS5maWVsZHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXh0LmZpZWxkcykpIHtcbiAgICAgIHZhciBfaW5uZXJPcHRpb25zMjtcbiAgICAgIGxldCBpbm5lck9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgaWYgKChfaW5uZXJPcHRpb25zMiA9IGlubmVyT3B0aW9ucykgIT0gbnVsbCAmJiBfaW5uZXJPcHRpb25zMi52YWx1ZSkge1xuICAgICAgICBpbm5lck9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBpbm5lck9wdGlvbnMsIHtcbiAgICAgICAgICBwYXJlbnQ6IGlubmVyT3B0aW9ucy52YWx1ZSxcbiAgICAgICAgICB2YWx1ZTogaW5uZXJPcHRpb25zLnZhbHVlW2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBiYXNlLmZpZWxkc1trZXldID0gdmFsdWUuZGVzY3JpYmUoaW5uZXJPcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cbn1cbmNyZWF0ZSQzLnByb3RvdHlwZSA9IE9iamVjdFNjaGVtYS5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIGNyZWF0ZSQyKHR5cGUpIHtcbiAgcmV0dXJuIG5ldyBBcnJheVNjaGVtYSh0eXBlKTtcbn1cbmNsYXNzIEFycmF5U2NoZW1hIGV4dGVuZHMgU2NoZW1hIHtcbiAgY29uc3RydWN0b3IodHlwZSkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBzcGVjOiB7XG4gICAgICAgIHR5cGVzOiB0eXBlXG4gICAgICB9LFxuICAgICAgY2hlY2sodikge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGB1bmRlZmluZWRgIHNwZWNpZmljYWxseSBtZWFucyB1bmluaXRpYWxpemVkLCBhcyBvcHBvc2VkIHRvIFwibm8gc3VidHlwZVwiXG4gICAgdGhpcy5pbm5lclR5cGUgPSB2b2lkIDA7XG4gICAgdGhpcy5pbm5lclR5cGUgPSB0eXBlO1xuICB9XG4gIF9jYXN0KF92YWx1ZSwgX29wdHMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN1cGVyLl9jYXN0KF92YWx1ZSwgX29wdHMpO1xuXG4gICAgLy8gc2hvdWxkIGlnbm9yZSBudWxscyBoZXJlXG4gICAgaWYgKCF0aGlzLl90eXBlQ2hlY2sodmFsdWUpIHx8ICF0aGlzLmlubmVyVHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBsZXQgaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgY29uc3QgY2FzdEFycmF5ID0gdmFsdWUubWFwKCh2LCBpZHgpID0+IHtcbiAgICAgIGNvbnN0IGNhc3RFbGVtZW50ID0gdGhpcy5pbm5lclR5cGUuY2FzdCh2LCBPYmplY3QuYXNzaWduKHt9LCBfb3B0cywge1xuICAgICAgICBwYXRoOiBgJHtfb3B0cy5wYXRoIHx8ICcnfVske2lkeH1dYCxcbiAgICAgICAgcGFyZW50OiB2YWx1ZSxcbiAgICAgICAgb3JpZ2luYWxWYWx1ZTogdixcbiAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgIGluZGV4OiBpZHhcbiAgICAgIH0pKTtcbiAgICAgIGlmIChjYXN0RWxlbWVudCAhPT0gdikge1xuICAgICAgICBpc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhc3RFbGVtZW50O1xuICAgIH0pO1xuICAgIHJldHVybiBpc0NoYW5nZWQgPyBjYXN0QXJyYXkgOiB2YWx1ZTtcbiAgfVxuICBfdmFsaWRhdGUoX3ZhbHVlLCBvcHRpb25zID0ge30sIHBhbmljLCBuZXh0KSB7XG4gICAgdmFyIF9vcHRpb25zJHJlY3Vyc2l2ZTtcbiAgICAvLyBsZXQgc3luYyA9IG9wdGlvbnMuc3luYztcbiAgICAvLyBsZXQgcGF0aCA9IG9wdGlvbnMucGF0aDtcbiAgICBsZXQgaW5uZXJUeXBlID0gdGhpcy5pbm5lclR5cGU7XG4gICAgLy8gbGV0IGVuZEVhcmx5ID0gb3B0aW9ucy5hYm9ydEVhcmx5ID8/IHRoaXMuc3BlYy5hYm9ydEVhcmx5O1xuICAgIGxldCByZWN1cnNpdmUgPSAoX29wdGlvbnMkcmVjdXJzaXZlID0gb3B0aW9ucy5yZWN1cnNpdmUpICE9IG51bGwgPyBfb3B0aW9ucyRyZWN1cnNpdmUgOiB0aGlzLnNwZWMucmVjdXJzaXZlO1xuICAgIG9wdGlvbnMub3JpZ2luYWxWYWx1ZSAhPSBudWxsID8gb3B0aW9ucy5vcmlnaW5hbFZhbHVlIDogX3ZhbHVlO1xuICAgIHN1cGVyLl92YWxpZGF0ZShfdmFsdWUsIG9wdGlvbnMsIHBhbmljLCAoYXJyYXlFcnJvcnMsIHZhbHVlKSA9PiB7XG4gICAgICB2YXIgX29wdGlvbnMkb3JpZ2luYWxWYWx1MjtcbiAgICAgIGlmICghcmVjdXJzaXZlIHx8ICFpbm5lclR5cGUgfHwgIXRoaXMuX3R5cGVDaGVjayh2YWx1ZSkpIHtcbiAgICAgICAgbmV4dChhcnJheUVycm9ycywgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vICM5NTAgRW5zdXJlIHRoYXQgc3BhcnNlIGFycmF5IGVtcHR5IHNsb3RzIGFyZSB2YWxpZGF0ZWRcbiAgICAgIGxldCB0ZXN0cyA9IG5ldyBBcnJheSh2YWx1ZS5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHZhbHVlLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgX29wdGlvbnMkb3JpZ2luYWxWYWx1O1xuICAgICAgICB0ZXN0c1tpbmRleF0gPSBpbm5lclR5cGUuYXNOZXN0ZWRUZXN0KHtcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIHBhcmVudDogdmFsdWUsXG4gICAgICAgICAgcGFyZW50UGF0aDogb3B0aW9ucy5wYXRoLFxuICAgICAgICAgIG9yaWdpbmFsUGFyZW50OiAoX29wdGlvbnMkb3JpZ2luYWxWYWx1ID0gb3B0aW9ucy5vcmlnaW5hbFZhbHVlKSAhPSBudWxsID8gX29wdGlvbnMkb3JpZ2luYWxWYWx1IDogX3ZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5ydW5UZXN0cyh7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB0ZXN0cyxcbiAgICAgICAgb3JpZ2luYWxWYWx1ZTogKF9vcHRpb25zJG9yaWdpbmFsVmFsdTIgPSBvcHRpb25zLm9yaWdpbmFsVmFsdWUpICE9IG51bGwgPyBfb3B0aW9ucyRvcmlnaW5hbFZhbHUyIDogX3ZhbHVlLFxuICAgICAgICBvcHRpb25zXG4gICAgICB9LCBwYW5pYywgaW5uZXJUeXBlRXJyb3JzID0+IG5leHQoaW5uZXJUeXBlRXJyb3JzLmNvbmNhdChhcnJheUVycm9ycyksIHZhbHVlKSk7XG4gICAgfSk7XG4gIH1cbiAgY2xvbmUoc3BlYykge1xuICAgIGNvbnN0IG5leHQgPSBzdXBlci5jbG9uZShzcGVjKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlYWRvbmx5XG4gICAgbmV4dC5pbm5lclR5cGUgPSB0aGlzLmlubmVyVHlwZTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIC8qKiBQYXJzZSBhbiBpbnB1dCBKU09OIHN0cmluZyB0byBhbiBvYmplY3QgKi9cbiAganNvbigpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ocGFyc2VKc29uKTtcbiAgfVxuICBjb25jYXQoc2NoZW1hKSB7XG4gICAgbGV0IG5leHQgPSBzdXBlci5jb25jYXQoc2NoZW1hKTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcmVhZG9ubHlcbiAgICBuZXh0LmlubmVyVHlwZSA9IHRoaXMuaW5uZXJUeXBlO1xuICAgIGlmIChzY2hlbWEuaW5uZXJUeXBlKVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWFkb25seVxuICAgICAgbmV4dC5pbm5lclR5cGUgPSBuZXh0LmlubmVyVHlwZSA/XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIExhenkgZG9lc24ndCBoYXZlIGNvbmNhdCBhbmQgd2lsbCBicmVha1xuICAgICAgbmV4dC5pbm5lclR5cGUuY29uY2F0KHNjaGVtYS5pbm5lclR5cGUpIDogc2NoZW1hLmlubmVyVHlwZTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuICBvZihzY2hlbWEpIHtcbiAgICAvLyBGSVhNRTogdGhpcyBzaG91bGQgcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGFycmF5IHdpdGhvdXQgdGhlIGRlZmF1bHQgdG8gYmVcbiAgICBsZXQgbmV4dCA9IHRoaXMuY2xvbmUoKTtcbiAgICBpZiAoIWlzU2NoZW1hKHNjaGVtYSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BhcnJheS5vZigpYCBzdWItc2NoZW1hIG11c3QgYmUgYSB2YWxpZCB5dXAgc2NoZW1hIG5vdDogJyArIHByaW50VmFsdWUoc2NoZW1hKSk7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlYWRvbmx5XG4gICAgbmV4dC5pbm5lclR5cGUgPSBzY2hlbWE7XG4gICAgbmV4dC5zcGVjID0gT2JqZWN0LmFzc2lnbih7fSwgbmV4dC5zcGVjLCB7XG4gICAgICB0eXBlczogc2NoZW1hXG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cbiAgbGVuZ3RoKGxlbmd0aCwgbWVzc2FnZSA9IGFycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIG5hbWU6ICdsZW5ndGgnLFxuICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGxlbmd0aFxuICAgICAgfSxcbiAgICAgIHNraXBBYnNlbnQ6IHRydWUsXG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IHRoaXMucmVzb2x2ZShsZW5ndGgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG1pbihtaW4sIG1lc3NhZ2UpIHtcbiAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCBhcnJheS5taW47XG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgbmFtZTogJ21pbicsXG4gICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbWluXG4gICAgICB9LFxuICAgICAgc2tpcEFic2VudDogdHJ1ZSxcbiAgICAgIC8vIEZJWE1FKHRzKTogQXJyYXk8dHlwZW9mIFQ+XG4gICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPj0gdGhpcy5yZXNvbHZlKG1pbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbWF4KG1heCwgbWVzc2FnZSkge1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlIHx8IGFycmF5Lm1heDtcbiAgICByZXR1cm4gdGhpcy50ZXN0KHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBuYW1lOiAnbWF4JyxcbiAgICAgIGV4Y2x1c2l2ZTogdHJ1ZSxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBtYXhcbiAgICAgIH0sXG4gICAgICBza2lwQWJzZW50OiB0cnVlLFxuICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IHRoaXMucmVzb2x2ZShtYXgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGVuc3VyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0KCgpID0+IFtdKS50cmFuc2Zvcm0oKHZhbCwgb3JpZ2luYWwpID0+IHtcbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gcmV0dXJuIGBudWxsYCBmb3IgbnVsbGFibGUgc2NoZW1hXG4gICAgICBpZiAodGhpcy5fdHlwZUNoZWNrKHZhbCkpIHJldHVybiB2YWw7XG4gICAgICByZXR1cm4gb3JpZ2luYWwgPT0gbnVsbCA/IFtdIDogW10uY29uY2F0KG9yaWdpbmFsKTtcbiAgICB9KTtcbiAgfVxuICBjb21wYWN0KHJlamVjdG9yKSB7XG4gICAgbGV0IHJlamVjdCA9ICFyZWplY3RvciA/IHYgPT4gISF2IDogKHYsIGksIGEpID0+ICFyZWplY3Rvcih2LCBpLCBhKTtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0odmFsdWVzID0+IHZhbHVlcyAhPSBudWxsID8gdmFsdWVzLmZpbHRlcihyZWplY3QpIDogdmFsdWVzKTtcbiAgfVxuICBkZXNjcmliZShvcHRpb25zKSB7XG4gICAgY29uc3QgbmV4dCA9IChvcHRpb25zID8gdGhpcy5yZXNvbHZlKG9wdGlvbnMpIDogdGhpcykuY2xvbmUoKTtcbiAgICBjb25zdCBiYXNlID0gc3VwZXIuZGVzY3JpYmUob3B0aW9ucyk7XG4gICAgaWYgKG5leHQuaW5uZXJUeXBlKSB7XG4gICAgICB2YXIgX2lubmVyT3B0aW9ucztcbiAgICAgIGxldCBpbm5lck9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgaWYgKChfaW5uZXJPcHRpb25zID0gaW5uZXJPcHRpb25zKSAhPSBudWxsICYmIF9pbm5lck9wdGlvbnMudmFsdWUpIHtcbiAgICAgICAgaW5uZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgaW5uZXJPcHRpb25zLCB7XG4gICAgICAgICAgcGFyZW50OiBpbm5lck9wdGlvbnMudmFsdWUsXG4gICAgICAgICAgdmFsdWU6IGlubmVyT3B0aW9ucy52YWx1ZVswXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGJhc2UuaW5uZXJUeXBlID0gbmV4dC5pbm5lclR5cGUuZGVzY3JpYmUoaW5uZXJPcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cbn1cbmNyZWF0ZSQyLnByb3RvdHlwZSA9IEFycmF5U2NoZW1hLnByb3RvdHlwZTtcblxuLy8gQHRzLWlnbm9yZVxuZnVuY3Rpb24gY3JlYXRlJDEoc2NoZW1hcykge1xuICByZXR1cm4gbmV3IFR1cGxlU2NoZW1hKHNjaGVtYXMpO1xufVxuY2xhc3MgVHVwbGVTY2hlbWEgZXh0ZW5kcyBTY2hlbWEge1xuICBjb25zdHJ1Y3RvcihzY2hlbWFzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogJ3R1cGxlJyxcbiAgICAgIHNwZWM6IHtcbiAgICAgICAgdHlwZXM6IHNjaGVtYXNcbiAgICAgIH0sXG4gICAgICBjaGVjayh2KSB7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gdGhpcy5zcGVjLnR5cGVzO1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2KSAmJiB2Lmxlbmd0aCA9PT0gdHlwZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMud2l0aE11dGF0aW9uKCgpID0+IHtcbiAgICAgIHRoaXMudHlwZUVycm9yKHR1cGxlLm5vdFR5cGUpO1xuICAgIH0pO1xuICB9XG4gIF9jYXN0KGlucHV0VmFsdWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlc1xuICAgIH0gPSB0aGlzLnNwZWM7XG4gICAgY29uc3QgdmFsdWUgPSBzdXBlci5fY2FzdChpbnB1dFZhbHVlLCBvcHRpb25zKTtcbiAgICBpZiAoIXRoaXMuX3R5cGVDaGVjayh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IGlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNhc3RBcnJheSA9IHR5cGVzLm1hcCgodHlwZSwgaWR4KSA9PiB7XG4gICAgICBjb25zdCBjYXN0RWxlbWVudCA9IHR5cGUuY2FzdCh2YWx1ZVtpZHhdLCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICAgIHBhdGg6IGAke29wdGlvbnMucGF0aCB8fCAnJ31bJHtpZHh9XWAsXG4gICAgICAgIHBhcmVudDogdmFsdWUsXG4gICAgICAgIG9yaWdpbmFsVmFsdWU6IHZhbHVlW2lkeF0sXG4gICAgICAgIHZhbHVlOiB2YWx1ZVtpZHhdLFxuICAgICAgICBpbmRleDogaWR4XG4gICAgICB9KSk7XG4gICAgICBpZiAoY2FzdEVsZW1lbnQgIT09IHZhbHVlW2lkeF0pIGlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICByZXR1cm4gY2FzdEVsZW1lbnQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlzQ2hhbmdlZCA/IGNhc3RBcnJheSA6IHZhbHVlO1xuICB9XG4gIF92YWxpZGF0ZShfdmFsdWUsIG9wdGlvbnMgPSB7fSwgcGFuaWMsIG5leHQpIHtcbiAgICBsZXQgaXRlbVR5cGVzID0gdGhpcy5zcGVjLnR5cGVzO1xuICAgIHN1cGVyLl92YWxpZGF0ZShfdmFsdWUsIG9wdGlvbnMsIHBhbmljLCAodHVwbGVFcnJvcnMsIHZhbHVlKSA9PiB7XG4gICAgICB2YXIgX29wdGlvbnMkb3JpZ2luYWxWYWx1MjtcbiAgICAgIC8vIGludGVudGlvbmFsbHkgbm90IHJlc3BlY3RpbmcgcmVjdXJzaXZlXG4gICAgICBpZiAoIXRoaXMuX3R5cGVDaGVjayh2YWx1ZSkpIHtcbiAgICAgICAgbmV4dCh0dXBsZUVycm9ycywgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgdGVzdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IFtpbmRleCwgaXRlbVNjaGVtYV0gb2YgaXRlbVR5cGVzLmVudHJpZXMoKSkge1xuICAgICAgICB2YXIgX29wdGlvbnMkb3JpZ2luYWxWYWx1O1xuICAgICAgICB0ZXN0c1tpbmRleF0gPSBpdGVtU2NoZW1hLmFzTmVzdGVkVGVzdCh7XG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBwYXJlbnQ6IHZhbHVlLFxuICAgICAgICAgIHBhcmVudFBhdGg6IG9wdGlvbnMucGF0aCxcbiAgICAgICAgICBvcmlnaW5hbFBhcmVudDogKF9vcHRpb25zJG9yaWdpbmFsVmFsdSA9IG9wdGlvbnMub3JpZ2luYWxWYWx1ZSkgIT0gbnVsbCA/IF9vcHRpb25zJG9yaWdpbmFsVmFsdSA6IF92YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucnVuVGVzdHMoe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdGVzdHMsXG4gICAgICAgIG9yaWdpbmFsVmFsdWU6IChfb3B0aW9ucyRvcmlnaW5hbFZhbHUyID0gb3B0aW9ucy5vcmlnaW5hbFZhbHVlKSAhPSBudWxsID8gX29wdGlvbnMkb3JpZ2luYWxWYWx1MiA6IF92YWx1ZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfSwgcGFuaWMsIGlubmVyVHlwZUVycm9ycyA9PiBuZXh0KGlubmVyVHlwZUVycm9ycy5jb25jYXQodHVwbGVFcnJvcnMpLCB2YWx1ZSkpO1xuICAgIH0pO1xuICB9XG4gIGRlc2NyaWJlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBuZXh0ID0gKG9wdGlvbnMgPyB0aGlzLnJlc29sdmUob3B0aW9ucykgOiB0aGlzKS5jbG9uZSgpO1xuICAgIGNvbnN0IGJhc2UgPSBzdXBlci5kZXNjcmliZShvcHRpb25zKTtcbiAgICBiYXNlLmlubmVyVHlwZSA9IG5leHQuc3BlYy50eXBlcy5tYXAoKHNjaGVtYSwgaW5kZXgpID0+IHtcbiAgICAgIHZhciBfaW5uZXJPcHRpb25zO1xuICAgICAgbGV0IGlubmVyT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICBpZiAoKF9pbm5lck9wdGlvbnMgPSBpbm5lck9wdGlvbnMpICE9IG51bGwgJiYgX2lubmVyT3B0aW9ucy52YWx1ZSkge1xuICAgICAgICBpbm5lck9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBpbm5lck9wdGlvbnMsIHtcbiAgICAgICAgICBwYXJlbnQ6IGlubmVyT3B0aW9ucy52YWx1ZSxcbiAgICAgICAgICB2YWx1ZTogaW5uZXJPcHRpb25zLnZhbHVlW2luZGV4XVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzY2hlbWEuZGVzY3JpYmUoaW5uZXJPcHRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxufVxuY3JlYXRlJDEucHJvdG90eXBlID0gVHVwbGVTY2hlbWEucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBjcmVhdGUoYnVpbGRlcikge1xuICByZXR1cm4gbmV3IExhenkoYnVpbGRlcik7XG59XG5mdW5jdGlvbiBjYXRjaFZhbGlkYXRpb25FcnJvcihmbikge1xuICB0cnkge1xuICAgIHJldHVybiBmbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoVmFsaWRhdGlvbkVycm9yLmlzRXJyb3IoZXJyKSkgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5jbGFzcyBMYXp5IHtcbiAgY29uc3RydWN0b3IoYnVpbGRlcikge1xuICAgIHRoaXMudHlwZSA9ICdsYXp5JztcbiAgICB0aGlzLl9faXNZdXBTY2hlbWFfXyA9IHRydWU7XG4gICAgdGhpcy5zcGVjID0gdm9pZCAwO1xuICAgIHRoaXMuX3Jlc29sdmUgPSAodmFsdWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgbGV0IHNjaGVtYSA9IHRoaXMuYnVpbGRlcih2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICBpZiAoIWlzU2NoZW1hKHNjaGVtYSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2xhenkoKSBmdW5jdGlvbnMgbXVzdCByZXR1cm4gYSB2YWxpZCBzY2hlbWEnKTtcbiAgICAgIGlmICh0aGlzLnNwZWMub3B0aW9uYWwpIHNjaGVtYSA9IHNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgcmV0dXJuIHNjaGVtYS5yZXNvbHZlKG9wdGlvbnMpO1xuICAgIH07XG4gICAgdGhpcy5idWlsZGVyID0gYnVpbGRlcjtcbiAgICB0aGlzLnNwZWMgPSB7XG4gICAgICBtZXRhOiB1bmRlZmluZWQsXG4gICAgICBvcHRpb25hbDogZmFsc2VcbiAgICB9O1xuICB9XG4gIGNsb25lKHNwZWMpIHtcbiAgICBjb25zdCBuZXh0ID0gbmV3IExhenkodGhpcy5idWlsZGVyKTtcbiAgICBuZXh0LnNwZWMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNwZWMsIHNwZWMpO1xuICAgIHJldHVybiBuZXh0O1xuICB9XG4gIG9wdGlvbmFsaXR5KG9wdGlvbmFsKSB7XG4gICAgY29uc3QgbmV4dCA9IHRoaXMuY2xvbmUoe1xuICAgICAgb3B0aW9uYWxcbiAgICB9KTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuICBvcHRpb25hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25hbGl0eSh0cnVlKTtcbiAgfVxuICByZXNvbHZlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZShvcHRpb25zLnZhbHVlLCBvcHRpb25zKTtcbiAgfVxuICBjYXN0KHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdmUodmFsdWUsIG9wdGlvbnMpLmNhc3QodmFsdWUsIG9wdGlvbnMpO1xuICB9XG4gIGFzTmVzdGVkVGVzdChjb25maWcpIHtcbiAgICBsZXQge1xuICAgICAga2V5LFxuICAgICAgaW5kZXgsXG4gICAgICBwYXJlbnQsXG4gICAgICBvcHRpb25zXG4gICAgfSA9IGNvbmZpZztcbiAgICBsZXQgdmFsdWUgPSBwYXJlbnRbaW5kZXggIT0gbnVsbCA/IGluZGV4IDoga2V5XTtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZSh2YWx1ZSwgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgdmFsdWUsXG4gICAgICBwYXJlbnRcbiAgICB9KSkuYXNOZXN0ZWRUZXN0KGNvbmZpZyk7XG4gIH1cbiAgdmFsaWRhdGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY2F0Y2hWYWxpZGF0aW9uRXJyb3IoKCkgPT4gdGhpcy5fcmVzb2x2ZSh2YWx1ZSwgb3B0aW9ucykudmFsaWRhdGUodmFsdWUsIG9wdGlvbnMpKTtcbiAgfVxuICB2YWxpZGF0ZVN5bmModmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZSh2YWx1ZSwgb3B0aW9ucykudmFsaWRhdGVTeW5jKHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuICB2YWxpZGF0ZUF0KHBhdGgsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGNhdGNoVmFsaWRhdGlvbkVycm9yKCgpID0+IHRoaXMuX3Jlc29sdmUodmFsdWUsIG9wdGlvbnMpLnZhbGlkYXRlQXQocGF0aCwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgfVxuICB2YWxpZGF0ZVN5bmNBdChwYXRoLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlKHZhbHVlLCBvcHRpb25zKS52YWxpZGF0ZVN5bmNBdChwYXRoLCB2YWx1ZSwgb3B0aW9ucyk7XG4gIH1cbiAgaXNWYWxpZCh2YWx1ZSwgb3B0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZSh2YWx1ZSwgb3B0aW9ucykuaXNWYWxpZCh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoVmFsaWRhdGlvbkVycm9yLmlzRXJyb3IoZXJyKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbiAgaXNWYWxpZFN5bmModmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZSh2YWx1ZSwgb3B0aW9ucykuaXNWYWxpZFN5bmModmFsdWUsIG9wdGlvbnMpO1xuICB9XG4gIGRlc2NyaWJlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IHRoaXMucmVzb2x2ZShvcHRpb25zKS5kZXNjcmliZShvcHRpb25zKSA6IHtcbiAgICAgIHR5cGU6ICdsYXp5JyxcbiAgICAgIG1ldGE6IHRoaXMuc3BlYy5tZXRhLFxuICAgICAgbGFiZWw6IHVuZGVmaW5lZFxuICAgIH07XG4gIH1cbiAgbWV0YSguLi5hcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gdGhpcy5zcGVjLm1ldGE7XG4gICAgbGV0IG5leHQgPSB0aGlzLmNsb25lKCk7XG4gICAgbmV4dC5zcGVjLm1ldGEgPSBPYmplY3QuYXNzaWduKG5leHQuc3BlYy5tZXRhIHx8IHt9LCBhcmdzWzBdKTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuICBnZXQgWyd+c3RhbmRhcmQnXSgpIHtcbiAgICBjb25zdCBzY2hlbWEgPSB0aGlzO1xuICAgIGNvbnN0IHN0YW5kYXJkID0ge1xuICAgICAgdmVyc2lvbjogMSxcbiAgICAgIHZlbmRvcjogJ3l1cCcsXG4gICAgICBhc3luYyB2YWxpZGF0ZSh2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNjaGVtYS52YWxpZGF0ZSh2YWx1ZSwge1xuICAgICAgICAgICAgYWJvcnRFYXJseTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmIChWYWxpZGF0aW9uRXJyb3IuaXNFcnJvcihlcnIpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpc3N1ZXM6IGlzc3Vlc0Zyb21WYWxpZGF0aW9uRXJyb3IoZXJyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gc3RhbmRhcmQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0TG9jYWxlKGN1c3RvbSkge1xuICBPYmplY3Qua2V5cyhjdXN0b20pLmZvckVhY2godHlwZSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIE9iamVjdC5rZXlzKGN1c3RvbVt0eXBlXSkuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgbG9jYWxlW3R5cGVdW21ldGhvZF0gPSBjdXN0b21bdHlwZV1bbWV0aG9kXTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZE1ldGhvZChzY2hlbWFUeXBlLCBuYW1lLCBmbikge1xuICBpZiAoIXNjaGVtYVR5cGUgfHwgIWlzU2NoZW1hKHNjaGVtYVR5cGUucHJvdG90eXBlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcHJvdmlkZSBhIHl1cCBzY2hlbWEgY29uc3RydWN0b3IgZnVuY3Rpb24nKTtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBNZXRob2QgbmFtZSBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBmdW5jdGlvbiBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gIHNjaGVtYVR5cGUucHJvdG90eXBlW25hbWVdID0gZm47XG59XG5cbmV4cG9ydCB7IEFycmF5U2NoZW1hLCBCb29sZWFuU2NoZW1hLCBEYXRlU2NoZW1hLCBMYXp5IGFzIExhenlTY2hlbWEsIE1peGVkU2NoZW1hLCBOdW1iZXJTY2hlbWEsIE9iamVjdFNjaGVtYSwgU2NoZW1hLCBTdHJpbmdTY2hlbWEsIFR1cGxlU2NoZW1hLCBWYWxpZGF0aW9uRXJyb3IsIGFkZE1ldGhvZCwgY3JlYXRlJDIgYXMgYXJyYXksIGNyZWF0ZSQ3IGFzIGJvb2wsIGNyZWF0ZSQ3IGFzIGJvb2xlYW4sIGNyZWF0ZSQ0IGFzIGRhdGUsIGxvY2FsZSBhcyBkZWZhdWx0TG9jYWxlLCBnZXRJbiwgaXNTY2hlbWEsIGNyZWF0ZSBhcyBsYXp5LCBjcmVhdGUkOCBhcyBtaXhlZCwgY3JlYXRlJDUgYXMgbnVtYmVyLCBjcmVhdGUkMyBhcyBvYmplY3QsIHByaW50VmFsdWUsIHJlYWNoLCBjcmVhdGUkOSBhcyByZWYsIHNldExvY2FsZSwgY3JlYXRlJDYgYXMgc3RyaW5nLCBjcmVhdGUkMSBhcyB0dXBsZSB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/yup/index.esm.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/client/components/app-router-headers.js":
/*!************************************************************************!*\
  !*** ./node_modules/next/dist/client/components/app-router-headers.js ***!
  \************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    ACTION_HEADER: function() {\n        return ACTION_HEADER;\n    },\n    FLIGHT_HEADERS: function() {\n        return FLIGHT_HEADERS;\n    },\n    NEXT_ACTION_NOT_FOUND_HEADER: function() {\n        return NEXT_ACTION_NOT_FOUND_HEADER;\n    },\n    NEXT_DID_POSTPONE_HEADER: function() {\n        return NEXT_DID_POSTPONE_HEADER;\n    },\n    NEXT_HMR_REFRESH_HASH_COOKIE: function() {\n        return NEXT_HMR_REFRESH_HASH_COOKIE;\n    },\n    NEXT_HMR_REFRESH_HEADER: function() {\n        return NEXT_HMR_REFRESH_HEADER;\n    },\n    NEXT_IS_PRERENDER_HEADER: function() {\n        return NEXT_IS_PRERENDER_HEADER;\n    },\n    NEXT_REWRITTEN_PATH_HEADER: function() {\n        return NEXT_REWRITTEN_PATH_HEADER;\n    },\n    NEXT_REWRITTEN_QUERY_HEADER: function() {\n        return NEXT_REWRITTEN_QUERY_HEADER;\n    },\n    NEXT_ROUTER_PREFETCH_HEADER: function() {\n        return NEXT_ROUTER_PREFETCH_HEADER;\n    },\n    NEXT_ROUTER_SEGMENT_PREFETCH_HEADER: function() {\n        return NEXT_ROUTER_SEGMENT_PREFETCH_HEADER;\n    },\n    NEXT_ROUTER_STALE_TIME_HEADER: function() {\n        return NEXT_ROUTER_STALE_TIME_HEADER;\n    },\n    NEXT_ROUTER_STATE_TREE_HEADER: function() {\n        return NEXT_ROUTER_STATE_TREE_HEADER;\n    },\n    NEXT_RSC_UNION_QUERY: function() {\n        return NEXT_RSC_UNION_QUERY;\n    },\n    NEXT_URL: function() {\n        return NEXT_URL;\n    },\n    RSC_CONTENT_TYPE_HEADER: function() {\n        return RSC_CONTENT_TYPE_HEADER;\n    },\n    RSC_HEADER: function() {\n        return RSC_HEADER;\n    }\n});\nconst RSC_HEADER = 'RSC';\nconst ACTION_HEADER = 'Next-Action';\nconst NEXT_ROUTER_STATE_TREE_HEADER = 'Next-Router-State-Tree';\nconst NEXT_ROUTER_PREFETCH_HEADER = 'Next-Router-Prefetch';\nconst NEXT_ROUTER_SEGMENT_PREFETCH_HEADER = 'Next-Router-Segment-Prefetch';\nconst NEXT_HMR_REFRESH_HEADER = 'Next-HMR-Refresh';\nconst NEXT_HMR_REFRESH_HASH_COOKIE = '__next_hmr_refresh_hash__';\nconst NEXT_URL = 'Next-Url';\nconst RSC_CONTENT_TYPE_HEADER = 'text/x-component';\nconst FLIGHT_HEADERS = [\n    RSC_HEADER,\n    NEXT_ROUTER_STATE_TREE_HEADER,\n    NEXT_ROUTER_PREFETCH_HEADER,\n    NEXT_HMR_REFRESH_HEADER,\n    NEXT_ROUTER_SEGMENT_PREFETCH_HEADER\n];\nconst NEXT_RSC_UNION_QUERY = '_rsc';\nconst NEXT_ROUTER_STALE_TIME_HEADER = 'x-nextjs-stale-time';\nconst NEXT_DID_POSTPONE_HEADER = 'x-nextjs-postponed';\nconst NEXT_REWRITTEN_PATH_HEADER = 'x-nextjs-rewritten-path';\nconst NEXT_REWRITTEN_QUERY_HEADER = 'x-nextjs-rewritten-query';\nconst NEXT_IS_PRERENDER_HEADER = 'x-nextjs-prerender';\nconst NEXT_ACTION_NOT_FOUND_HEADER = 'x-nextjs-action-not-found';\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n    Object.defineProperty(exports.default, '__esModule', {\n        value: true\n    });\n    Object.assign(exports.default, exports);\n    module.exports = exports.default;\n} //# sourceMappingURL=app-router-headers.js.map\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXItaGVhZGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7SUFDYUEsYUFBYTtlQUFiQTs7SUFpQkFDLGNBQWM7ZUFBZEE7O0lBZUFDLDRCQUE0QjtlQUE1QkE7O0lBSkFDLHdCQUF3QjtlQUF4QkE7O0lBZkFDLDRCQUE0QjtlQUE1QkE7O0lBREFDLHVCQUF1QjtlQUF2QkE7O0lBbUJBQyx3QkFBd0I7ZUFBeEJBOztJQUZBQywwQkFBMEI7ZUFBMUJBOztJQUNBQywyQkFBMkI7ZUFBM0JBOztJQXpCQUMsMkJBQTJCO2VBQTNCQTs7SUFLQUMsbUNBQW1DO2VBQW5DQTs7SUFpQkFDLDZCQUE2QjtlQUE3QkE7O0lBdkJBQyw2QkFBNkI7ZUFBN0JBOztJQXFCQUMsb0JBQW9CO2VBQXBCQTs7SUFYQUMsUUFBUTtlQUFSQTs7SUFDQUMsdUJBQXVCO2VBQXZCQTs7SUFoQkFDLFVBQVU7ZUFBVkE7OztBQUFOLE1BQU1BLGFBQWE7QUFDbkIsTUFBTWhCLGdCQUFnQjtBQUl0QixNQUFNWSxnQ0FBZ0M7QUFDdEMsTUFBTUgsOEJBQThCO0FBS3BDLE1BQU1DLHNDQUNYO0FBQ0ssTUFBTUwsMEJBQTBCO0FBQ2hDLE1BQU1ELCtCQUErQjtBQUNyQyxNQUFNVSxXQUFXO0FBQ2pCLE1BQU1DLDBCQUEwQjtBQUVoQyxNQUFNZCxpQkFBaUI7SUFDNUJlO0lBQ0FKO0lBQ0FIO0lBQ0FKO0lBQ0FLO0NBQ0Q7QUFFTSxNQUFNRyx1QkFBdUI7QUFFN0IsTUFBTUYsZ0NBQWdDO0FBQ3RDLE1BQU1SLDJCQUEyQjtBQUNqQyxNQUFNSSw2QkFBNkI7QUFDbkMsTUFBTUMsOEJBQThCO0FBQ3BDLE1BQU1GLDJCQUEyQjtBQUNqQyxNQUFNSiwrQkFBK0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxjbGllbnRcXGNvbXBvbmVudHNcXGFwcC1yb3V0ZXItaGVhZGVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUlNDX0hFQURFUiA9ICdSU0MnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgQUNUSU9OX0hFQURFUiA9ICdOZXh0LUFjdGlvbicgYXMgY29uc3Rcbi8vIFRPRE86IEluc3RlYWQgb2Ygc2VuZGluZyB0aGUgZnVsbCByb3V0ZXIgc3RhdGUsIHdlIG9ubHkgbmVlZCB0byBzZW5kIHRoZVxuLy8gc2VnbWVudCBwYXRoLiBTYXZlcyBieXRlcy4gVGhlbiB3ZSBjb3VsZCBhbHNvIHVzZSB0aGlzIGZpZWxkIGZvciBzZWdtZW50XG4vLyBwcmVmZXRjaGVzLCB3aGljaCBhbHNvIG5lZWQgdG8gc3BlY2lmeSBhIHBhcnRpY3VsYXIgc2VnbWVudC5cbmV4cG9ydCBjb25zdCBORVhUX1JPVVRFUl9TVEFURV9UUkVFX0hFQURFUiA9ICdOZXh0LVJvdXRlci1TdGF0ZS1UcmVlJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfUk9VVEVSX1BSRUZFVENIX0hFQURFUiA9ICdOZXh0LVJvdXRlci1QcmVmZXRjaCcgYXMgY29uc3Rcbi8vIFRoaXMgY29udGFpbnMgdGhlIHBhdGggdG8gdGhlIHNlZ21lbnQgYmVpbmcgcHJlZmV0Y2hlZC5cbi8vIFRPRE86IElmIHdlIGNoYW5nZSBOZXh0LVJvdXRlci1TdGF0ZS1UcmVlIHRvIGJlIGEgc2VnbWVudCBwYXRoLCB3ZSBjYW4gdXNlXG4vLyB0aGF0IGluc3RlYWQuIFRoZW4gTmV4dC1Sb3V0ZXItUHJlZmV0Y2ggYW5kIE5leHQtUm91dGVyLVNlZ21lbnQtUHJlZmV0Y2ggY2FuXG4vLyBiZSBtZXJnZWQgaW50byBhIHNpbmdsZSBlbnVtLlxuZXhwb3J0IGNvbnN0IE5FWFRfUk9VVEVSX1NFR01FTlRfUFJFRkVUQ0hfSEVBREVSID1cbiAgJ05leHQtUm91dGVyLVNlZ21lbnQtUHJlZmV0Y2gnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9ITVJfUkVGUkVTSF9IRUFERVIgPSAnTmV4dC1ITVItUmVmcmVzaCcgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX0hNUl9SRUZSRVNIX0hBU0hfQ09PS0lFID0gJ19fbmV4dF9obXJfcmVmcmVzaF9oYXNoX18nIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9VUkwgPSAnTmV4dC1VcmwnIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgUlNDX0NPTlRFTlRfVFlQRV9IRUFERVIgPSAndGV4dC94LWNvbXBvbmVudCcgYXMgY29uc3RcblxuZXhwb3J0IGNvbnN0IEZMSUdIVF9IRUFERVJTID0gW1xuICBSU0NfSEVBREVSLFxuICBORVhUX1JPVVRFUl9TVEFURV9UUkVFX0hFQURFUixcbiAgTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSLFxuICBORVhUX0hNUl9SRUZSRVNIX0hFQURFUixcbiAgTkVYVF9ST1VURVJfU0VHTUVOVF9QUkVGRVRDSF9IRUFERVIsXG5dIGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBORVhUX1JTQ19VTklPTl9RVUVSWSA9ICdfcnNjJyBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgTkVYVF9ST1VURVJfU1RBTEVfVElNRV9IRUFERVIgPSAneC1uZXh0anMtc3RhbGUtdGltZScgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX0RJRF9QT1NUUE9ORV9IRUFERVIgPSAneC1uZXh0anMtcG9zdHBvbmVkJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfUkVXUklUVEVOX1BBVEhfSEVBREVSID0gJ3gtbmV4dGpzLXJld3JpdHRlbi1wYXRoJyBhcyBjb25zdFxuZXhwb3J0IGNvbnN0IE5FWFRfUkVXUklUVEVOX1FVRVJZX0hFQURFUiA9ICd4LW5leHRqcy1yZXdyaXR0ZW4tcXVlcnknIGFzIGNvbnN0XG5leHBvcnQgY29uc3QgTkVYVF9JU19QUkVSRU5ERVJfSEVBREVSID0gJ3gtbmV4dGpzLXByZXJlbmRlcicgYXMgY29uc3RcbmV4cG9ydCBjb25zdCBORVhUX0FDVElPTl9OT1RfRk9VTkRfSEVBREVSID0gJ3gtbmV4dGpzLWFjdGlvbi1ub3QtZm91bmQnIGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiQUNUSU9OX0hFQURFUiIsIkZMSUdIVF9IRUFERVJTIiwiTkVYVF9BQ1RJT05fTk9UX0ZPVU5EX0hFQURFUiIsIk5FWFRfRElEX1BPU1RQT05FX0hFQURFUiIsIk5FWFRfSE1SX1JFRlJFU0hfSEFTSF9DT09LSUUiLCJORVhUX0hNUl9SRUZSRVNIX0hFQURFUiIsIk5FWFRfSVNfUFJFUkVOREVSX0hFQURFUiIsIk5FWFRfUkVXUklUVEVOX1BBVEhfSEVBREVSIiwiTkVYVF9SRVdSSVRURU5fUVVFUllfSEVBREVSIiwiTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSIiwiTkVYVF9ST1VURVJfU0VHTUVOVF9QUkVGRVRDSF9IRUFERVIiLCJORVhUX1JPVVRFUl9TVEFMRV9USU1FX0hFQURFUiIsIk5FWFRfUk9VVEVSX1NUQVRFX1RSRUVfSEVBREVSIiwiTkVYVF9SU0NfVU5JT05fUVVFUlkiLCJORVhUX1VSTCIsIlJTQ19DT05URU5UX1RZUEVfSEVBREVSIiwiUlNDX0hFQURFUiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/client/components/app-router-headers.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js":
/*!*************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/async-local-storage.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    bindSnapshot: function() {\n        return bindSnapshot;\n    },\n    createAsyncLocalStorage: function() {\n        return createAsyncLocalStorage;\n    },\n    createSnapshot: function() {\n        return createSnapshot;\n    }\n});\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(fn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2FzeW5jLWxvY2FsLXN0b3JhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixNQUFNLENBSUw7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXGFzeW5jLWxvY2FsLXN0b3JhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBiaW5kU25hcHNob3Q6IG51bGwsXG4gICAgY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2U6IG51bGwsXG4gICAgY3JlYXRlU25hcHNob3Q6IG51bGxcbn0pO1xuZnVuY3Rpb24gX2V4cG9ydCh0YXJnZXQsIGFsbCkge1xuICAgIGZvcih2YXIgbmFtZSBpbiBhbGwpT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGFsbFtuYW1lXVxuICAgIH0pO1xufVxuX2V4cG9ydChleHBvcnRzLCB7XG4gICAgYmluZFNuYXBzaG90OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRTbmFwc2hvdDtcbiAgICB9LFxuICAgIGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFzeW5jTG9jYWxTdG9yYWdlO1xuICAgIH0sXG4gICAgY3JlYXRlU25hcHNob3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlU25hcHNob3Q7XG4gICAgfVxufSk7XG5jb25zdCBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcignSW52YXJpYW50OiBBc3luY0xvY2FsU3RvcmFnZSBhY2Nlc3NlZCBpbiBydW50aW1lIHdoZXJlIGl0IGlzIG5vdCBhdmFpbGFibGUnKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgdmFsdWU6IFwiRTUwNFwiLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5jbGFzcyBGYWtlQXN5bmNMb2NhbFN0b3JhZ2Uge1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIHRocm93IHNoYXJlZEFzeW5jTG9jYWxTdG9yYWdlTm90QXZhaWxhYmxlRXJyb3I7XG4gICAgfVxuICAgIGdldFN0b3JlKCkge1xuICAgICAgICAvLyBUaGlzIGZha2UgaW1wbGVtZW50YXRpb24gb2YgQXN5bmNMb2NhbFN0b3JhZ2UgYWx3YXlzIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgdGhyb3cgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvcjtcbiAgICB9XG4gICAgZXhpdCgpIHtcbiAgICAgICAgdGhyb3cgc2hhcmVkQXN5bmNMb2NhbFN0b3JhZ2VOb3RBdmFpbGFibGVFcnJvcjtcbiAgICB9XG4gICAgZW50ZXJXaXRoKCkge1xuICAgICAgICB0aHJvdyBzaGFyZWRBc3luY0xvY2FsU3RvcmFnZU5vdEF2YWlsYWJsZUVycm9yO1xuICAgIH1cbiAgICBzdGF0aWMgYmluZChmbikge1xuICAgICAgICByZXR1cm4gZm47XG4gICAgfVxufVxuY29uc3QgbWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLkFzeW5jTG9jYWxTdG9yYWdlO1xuZnVuY3Rpb24gY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2UoKSB7XG4gICAgaWYgKG1heWJlR2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmFrZUFzeW5jTG9jYWxTdG9yYWdlKCk7XG59XG5mdW5jdGlvbiBiaW5kU25hcHNob3QoZm4pIHtcbiAgICBpZiAobWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVHbG9iYWxBc3luY0xvY2FsU3RvcmFnZS5iaW5kKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIEZha2VBc3luY0xvY2FsU3RvcmFnZS5iaW5kKGZuKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNuYXBzaG90KCkge1xuICAgIGlmIChtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIHJldHVybiBtYXliZUdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlLnNuYXBzaG90KCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbihmbiwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMtbG9jYWwtc3RvcmFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/work-async-storage-instance.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/work-async-storage-instance.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"workAsyncStorageInstance\", ({\n    enumerable: true,\n    get: function() {\n        return workAsyncStorageInstance;\n    }\n}));\nconst _asynclocalstorage = __webpack_require__(/*! ./async-local-storage */ \"(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js\");\nconst workAsyncStorageInstance = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLDREQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLDJCQUEyQixtQkFBTyxDQUFDLHlHQUF1QjtBQUMxRDs7QUFFQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMdWlzXFxEZXNrdG9wXFxDT0xMRUdFXFxDQVBTVE9ORVxcU3VnYXJjYW5lX0FydGlzdF9NYW5hZ2VtZW50XFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXHNlcnZlclxcYXBwLXJlbmRlclxcd29yay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid29ya0FzeW5jU3RvcmFnZUluc3RhbmNlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3b3JrQXN5bmNTdG9yYWdlSW5zdGFuY2U7XG4gICAgfVxufSk7XG5jb25zdCBfYXN5bmNsb2NhbHN0b3JhZ2UgPSByZXF1aXJlKFwiLi9hc3luYy1sb2NhbC1zdG9yYWdlXCIpO1xuY29uc3Qgd29ya0FzeW5jU3RvcmFnZUluc3RhbmNlID0gKDAsIF9hc3luY2xvY2Fsc3RvcmFnZS5jcmVhdGVBc3luY0xvY2FsU3RvcmFnZSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29yay1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/work-async-storage-instance.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/work-async-storage.external.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"workAsyncStorage\", ({\n    enumerable: true,\n    get: function() {\n        return _workasyncstorageinstance.workAsyncStorageInstance;\n    }\n}));\nconst _workasyncstorageinstance = __webpack_require__(/*! ./work-async-storage-instance */ \"(shared)/./node_modules/next/dist/server/app-render/work-async-storage-instance.js\");\n\n//# sourceMappingURL=work-async-storage.external.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL3dvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLG9EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLGtDQUFrQyxtQkFBTyxDQUFDLHlIQUErQjs7QUFFekUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcQ09MTEVHRVxcQ0FQU1RPTkVcXFN1Z2FyY2FuZV9BcnRpc3RfTWFuYWdlbWVudFxcbm9kZV9tb2R1bGVzXFxuZXh0XFxkaXN0XFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXHdvcmstYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndvcmtBc3luY1N0b3JhZ2VcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF93b3JrYXN5bmNzdG9yYWdlaW5zdGFuY2Uud29ya0FzeW5jU3RvcmFnZUluc3RhbmNlO1xuICAgIH1cbn0pO1xuY29uc3QgX3dvcmthc3luY3N0b3JhZ2VpbnN0YW5jZSA9IHJlcXVpcmUoXCIuL3dvcmstYXN5bmMtc3RvcmFnZS1pbnN0YW5jZVwiKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29yay1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/work-async-storage.external.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage-instance.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/work-unit-async-storage-instance.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nObject.defineProperty(exports, \"workUnitAsyncStorageInstance\", ({\n    enumerable: true,\n    get: function() {\n        return workUnitAsyncStorageInstance;\n    }\n}));\nconst _asynclocalstorage = __webpack_require__(/*! ./async-local-storage */ \"(shared)/./node_modules/next/dist/server/app-render/async-local-storage.js\");\nconst workUnitAsyncStorageInstance = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-unit-async-storage-instance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZ0VBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMkJBQTJCLG1CQUFPLENBQUMseUdBQXVCO0FBQzFEOztBQUVBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEx1aXNcXERlc2t0b3BcXENPTExFR0VcXENBUFNUT05FXFxTdWdhcmNhbmVfQXJ0aXN0X01hbmFnZW1lbnRcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcc2VydmVyXFxhcHAtcmVuZGVyXFx3b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS1pbnN0YW5jZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2VcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHdvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2U7XG4gICAgfVxufSk7XG5jb25zdCBfYXN5bmNsb2NhbHN0b3JhZ2UgPSByZXF1aXJlKFwiLi9hc3luYy1sb2NhbC1zdG9yYWdlXCIpO1xuY29uc3Qgd29ya1VuaXRBc3luY1N0b3JhZ2VJbnN0YW5jZSA9ICgwLCBfYXN5bmNsb2NhbHN0b3JhZ2UuY3JlYXRlQXN5bmNMb2NhbFN0b3JhZ2UpKCk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmstdW5pdC1hc3luYy1zdG9yYWdlLWluc3RhbmNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage-instance.js\n"));

/***/ }),

/***/ "(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n0 && (0);\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    getDraftModeProviderForCacheScope: function() {\n        return getDraftModeProviderForCacheScope;\n    },\n    getExpectedRequestStore: function() {\n        return getExpectedRequestStore;\n    },\n    getHmrRefreshHash: function() {\n        return getHmrRefreshHash;\n    },\n    getPrerenderResumeDataCache: function() {\n        return getPrerenderResumeDataCache;\n    },\n    getRenderResumeDataCache: function() {\n        return getRenderResumeDataCache;\n    },\n    throwForMissingRequestStore: function() {\n        return throwForMissingRequestStore;\n    },\n    workUnitAsyncStorage: function() {\n        return _workunitasyncstorageinstance.workUnitAsyncStorageInstance;\n    }\n});\nconst _workunitasyncstorageinstance = __webpack_require__(/*! ./work-unit-async-storage-instance */ \"(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage-instance.js\");\nconst _approuterheaders = __webpack_require__(/*! ../../client/components/app-router-headers */ \"(shared)/./node_modules/next/dist/client/components/app-router-headers.js\");\nfunction getExpectedRequestStore(callingExpression) {\n    const workUnitStore = _workunitasyncstorageinstance.workUnitAsyncStorageInstance.getStore();\n    if (!workUnitStore) {\n        throwForMissingRequestStore(callingExpression);\n    }\n    switch(workUnitStore.type){\n        case 'request':\n            return workUnitStore;\n        case 'prerender':\n        case 'prerender-client':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n            // This should not happen because we should have checked it already.\n            throw Object.defineProperty(new Error(\"`\".concat(callingExpression, \"` cannot be called inside a prerender. This is a bug in Next.js.\")), \"__NEXT_ERROR_CODE\", {\n                value: \"E401\",\n                enumerable: false,\n                configurable: true\n            });\n        case 'cache':\n            throw Object.defineProperty(new Error(\"`\".concat(callingExpression, '` cannot be called inside \"use cache\". Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/messages/next-request-in-use-cache')), \"__NEXT_ERROR_CODE\", {\n                value: \"E37\",\n                enumerable: false,\n                configurable: true\n            });\n        case 'unstable-cache':\n            throw Object.defineProperty(new Error(\"`\".concat(callingExpression, \"` cannot be called inside unstable_cache. Call it outside and pass an argument instead. Read more: https://nextjs.org/docs/app/api-reference/functions/unstable_cache\")), \"__NEXT_ERROR_CODE\", {\n                value: \"E69\",\n                enumerable: false,\n                configurable: true\n            });\n        default:\n            const _exhaustiveCheck = workUnitStore;\n            return _exhaustiveCheck;\n    }\n}\nfunction throwForMissingRequestStore(callingExpression) {\n    throw Object.defineProperty(new Error(\"`\".concat(callingExpression, \"` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context\")), \"__NEXT_ERROR_CODE\", {\n        value: \"E251\",\n        enumerable: false,\n        configurable: true\n    });\n}\nfunction getPrerenderResumeDataCache(workUnitStore) {\n    if (workUnitStore.type === 'prerender' || // TODO eliminate fetch caching in client scope and stop exposing this data cache during SSR\n    workUnitStore.type === 'prerender-client' || workUnitStore.type === 'prerender-ppr') {\n        return workUnitStore.prerenderResumeDataCache;\n    }\n    return null;\n}\nfunction getRenderResumeDataCache(workUnitStore) {\n    switch(workUnitStore.type){\n        case 'request':\n            return workUnitStore.renderResumeDataCache;\n        case 'prerender':\n        case 'prerender-client':\n            if (workUnitStore.renderResumeDataCache) {\n                // If we are in a prerender, we might have a render resume data cache\n                // that is used to read from prefilled caches.\n                return workUnitStore.renderResumeDataCache;\n            }\n        // fallthrough\n        case 'prerender-ppr':\n            // Otherwise we return the mutable resume data cache here as an immutable\n            // version of the cache as it can also be used for reading.\n            return workUnitStore.prerenderResumeDataCache;\n        default:\n            return null;\n    }\n}\nfunction getHmrRefreshHash(workStore, workUnitStore) {\n    var _workUnitStore_cookies_get;\n    if (!workStore.dev) {\n        return undefined;\n    }\n    return workUnitStore.type === 'cache' || workUnitStore.type === 'prerender' ? workUnitStore.hmrRefreshHash : workUnitStore.type === 'request' ? (_workUnitStore_cookies_get = workUnitStore.cookies.get(_approuterheaders.NEXT_HMR_REFRESH_HASH_COOKIE)) == null ? void 0 : _workUnitStore_cookies_get.value : undefined;\n}\nfunction getDraftModeProviderForCacheScope(workStore, workUnitStore) {\n    if (workStore.isDraftMode) {\n        switch(workUnitStore.type){\n            case 'cache':\n            case 'unstable-cache':\n            case 'request':\n                return workUnitStore.draftMode;\n            default:\n                return undefined;\n        }\n    }\n    return undefined;\n} //# sourceMappingURL=work-unit-async-storage.external.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNoYXJlZCkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztJQTZVZ0JBLGlDQUFpQztlQUFqQ0E7O0lBcEdBQyx1QkFBdUI7ZUFBdkJBOztJQWtGQUMsaUJBQWlCO2VBQWpCQTs7SUF0Q0FDLDJCQUEyQjtlQUEzQkE7O0lBZUFDLHdCQUF3QjtlQUF4QkE7O0lBckJBQywyQkFBMkI7ZUFBM0JBOztJQXhDeUJDLG9CQUFvQjtlQUFwREMsOEJBQUFBLDRCQUE0Qjs7OzBEQTlOUTs4Q0FTQTtBQXVOdEMsU0FBU04sd0JBQ2RPLGlCQUF5QjtJQUV6QixNQUFNQyxnQkFBZ0JGLDhCQUFBQSw0QkFBNEIsQ0FBQ0csUUFBUTtJQUUzRCxJQUFJLENBQUNELGVBQWU7UUFDbEJKLDRCQUE0Qkc7SUFDOUI7SUFFQSxPQUFRQyxjQUFjRSxJQUFJO1FBQ3hCLEtBQUs7WUFDSCxPQUFPRjtRQUVULEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDSCxvRUFBb0U7WUFDcEUsTUFBTSxxQkFFTCxDQUZLLElBQUlHLE1BQ1IsRUFBRyxFQUFvQixPQUFsQkosMERBQW1GLENBQUMsOEJBRHJGO3VCQUFBOzRCQUFBOzhCQUFBO1lBRU47UUFFRixLQUFLO1lBQ0gsTUFBTSxxQkFFTCxDQUZLLElBQUlJLE1BQ1IsRUFBRyxTQUFFSixtQkFBa0IsMkpBQTJKLENBQUMsSUFEL0s7dUJBQUE7NEJBQUE7OEJBQUE7WUFFTjtRQUVGLEtBQUs7WUFDSCxNQUFNLHFCQUVMLENBRkssSUFBSUksTUFDUixFQUFHLFNBQUVKLG1CQUFrQixzS0FBc0ssQ0FBQyxJQUQxTDt1QkFBQTs0QkFBQTs4QkFBQTtZQUVOO1FBRUY7WUFDRSxNQUFNSyxtQkFBMEJKO1lBQ2hDLE9BQU9JO0lBQ1g7QUFDRjtBQUVPLFNBQVNSLDRCQUE0QkcsaUJBQXlCO0lBQ25FLE1BQU0scUJBRUwsQ0FGSyxJQUFJSSxNQUNSLEVBQUcsRUFBb0IsT0FBbEJKLDBHQUFtSSxDQUFDLDhCQURySTtlQUFBO29CQUFBO3NCQUFBO0lBRU47QUFDRjtBQUVPLFNBQVNMLDRCQUNkTSxhQUE0QjtJQUU1QixJQUNFQSxjQUFjRSxJQUFJLEtBQUssZUFDdkIsNEZBQTRGO0lBQzVGRixjQUFjRSxJQUFJLEtBQUssc0JBQ3ZCRixjQUFjRSxJQUFJLEtBQUssaUJBQ3ZCO1FBQ0EsT0FBT0YsY0FBY0ssd0JBQXdCO0lBQy9DO0lBRUEsT0FBTztBQUNUO0FBRU8sU0FBU1YseUJBQ2RLLGFBQTRCO0lBRTVCLE9BQVFBLGNBQWNFLElBQUk7UUFDeEIsS0FBSztZQUNILE9BQU9GLGNBQWNNLHFCQUFxQjtRQUM1QyxLQUFLO1FBQ0wsS0FBSztZQUNILElBQUlOLGNBQWNNLHFCQUFxQixFQUFFO2dCQUN2QyxxRUFBcUU7Z0JBQ3JFLDhDQUE4QztnQkFDOUMsT0FBT04sY0FBY00scUJBQXFCO1lBQzVDO1FBQ0YsY0FBYztRQUNkLEtBQUs7WUFDSCx5RUFBeUU7WUFDekUsMkRBQTJEO1lBQzNELE9BQU9OLGNBQWNLLHdCQUF3QjtRQUMvQztZQUNFLE9BQU87SUFDWDtBQUNGO0FBRU8sU0FBU1osa0JBQ2RjLFNBQW9CLEVBQ3BCUCxhQUE0QjtRQVN0QkE7SUFQTixJQUFJLENBQUNPLFVBQVVDLEdBQUcsRUFBRTtRQUNsQixPQUFPQztJQUNUO0lBRUEsT0FBT1QsY0FBY0UsSUFBSSxLQUFLLFdBQVdGLGNBQWNFLElBQUksS0FBSyxjQUM1REYsY0FBY1UsY0FBYyxHQUM1QlYsY0FBY0UsSUFBSSxLQUFLLGFBQ3JCRiw2QkFBQUEsY0FBY1csT0FBTyxDQUFDQyxHQUFHLENBQUNDLGtCQUFBQSw2QkFBNEIscUJBQXREYiwyQkFBeURjLEtBQUssR0FDOURMO0FBQ1I7QUFLTyxTQUFTbEIsa0NBQ2RnQixTQUFvQixFQUNwQlAsYUFBNEI7SUFFNUIsSUFBSU8sVUFBVVEsV0FBVyxFQUFFO1FBQ3pCLE9BQVFmLGNBQWNFLElBQUk7WUFDeEIsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO2dCQUNILE9BQU9GLGNBQWNnQixTQUFTO1lBQ2hDO2dCQUNFLE9BQU9QO1FBQ1g7SUFDRjtJQUVBLE9BQU9BO0FBQ1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTHVpc1xcRGVza3RvcFxcc3JjXFxzZXJ2ZXJcXGFwcC1yZW5kZXJcXHdvcmstdW5pdC1hc3luYy1zdG9yYWdlLmV4dGVybmFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQXN5bmNMb2NhbFN0b3JhZ2UgfSBmcm9tICdhc3luY19ob29rcydcbmltcG9ydCB0eXBlIHsgRHJhZnRNb2RlUHJvdmlkZXIgfSBmcm9tICcuLi9hc3luYy1zdG9yYWdlL2RyYWZ0LW1vZGUtcHJvdmlkZXInXG5pbXBvcnQgdHlwZSB7IFJlc3BvbnNlQ29va2llcyB9IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9jb29raWVzJ1xuaW1wb3J0IHR5cGUgeyBSZWFkb25seUhlYWRlcnMgfSBmcm9tICcuLi93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvaGVhZGVycydcbmltcG9ydCB0eXBlIHsgUmVhZG9ubHlSZXF1ZXN0Q29va2llcyB9IGZyb20gJy4uL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9yZXF1ZXN0LWNvb2tpZXMnXG5pbXBvcnQgdHlwZSB7IENhY2hlU2lnbmFsIH0gZnJvbSAnLi9jYWNoZS1zaWduYWwnXG5pbXBvcnQgdHlwZSB7IER5bmFtaWNUcmFja2luZ1N0YXRlIH0gZnJvbSAnLi9keW5hbWljLXJlbmRlcmluZydcblxuLy8gU2hhcmUgdGhlIGluc3RhbmNlIG1vZHVsZSBpbiB0aGUgbmV4dC1zaGFyZWQgbGF5ZXJcbmltcG9ydCB7IHdvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2UgfSBmcm9tICcuL3dvcmstdW5pdC1hc3luYy1zdG9yYWdlLWluc3RhbmNlJyB3aXRoIHsgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2hhcmVkJyB9XG5pbXBvcnQgdHlwZSB7IFNlcnZlckNvbXBvbmVudHNIbXJDYWNoZSB9IGZyb20gJy4uL3Jlc3BvbnNlLWNhY2hlJ1xuaW1wb3J0IHR5cGUge1xuICBSZW5kZXJSZXN1bWVEYXRhQ2FjaGUsXG4gIFByZXJlbmRlclJlc3VtZURhdGFDYWNoZSxcbn0gZnJvbSAnLi4vcmVzdW1lLWRhdGEtY2FjaGUvcmVzdW1lLWRhdGEtY2FjaGUnXG5pbXBvcnQgdHlwZSB7IFBhcmFtcyB9IGZyb20gJy4uL3JlcXVlc3QvcGFyYW1zJ1xuaW1wb3J0IHR5cGUgeyBJbXBsaWNpdFRhZ3MgfSBmcm9tICcuLi9saWIvaW1wbGljaXQtdGFncydcbmltcG9ydCB0eXBlIHsgV29ya1N0b3JlIH0gZnJvbSAnLi93b3JrLWFzeW5jLXN0b3JhZ2UuZXh0ZXJuYWwnXG5pbXBvcnQgeyBORVhUX0hNUl9SRUZSRVNIX0hBU0hfQ09PS0lFIH0gZnJvbSAnLi4vLi4vY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci1oZWFkZXJzJ1xuXG5leHBvcnQgdHlwZSBXb3JrVW5pdFBoYXNlID0gJ2FjdGlvbicgfCAncmVuZGVyJyB8ICdhZnRlcidcblxuZXhwb3J0IGludGVyZmFjZSBDb21tb25Xb3JrVW5pdFN0b3JlIHtcbiAgLyoqIE5PVEU6IFdpbGwgYmUgbXV0YXRlZCBhcyBwaGFzZXMgY2hhbmdlICovXG4gIHBoYXNlOiBXb3JrVW5pdFBoYXNlXG4gIHJlYWRvbmx5IGltcGxpY2l0VGFnczogSW1wbGljaXRUYWdzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFN0b3JlIGV4dGVuZHMgQ29tbW9uV29ya1VuaXRTdG9yZSB7XG4gIHR5cGU6ICdyZXF1ZXN0J1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSByZXF1ZXN0LiBUaGlzIG9ubHkgc3BlY2lmaWVzIHRoZSBwYXRobmFtZSBhbmQgdGhlIHNlYXJjaFxuICAgKiBwYXJ0IG9mIHRoZSBVUkwuXG4gICAqL1xuICByZWFkb25seSB1cmw6IHtcbiAgICAvKipcbiAgICAgKiBUaGUgcGF0aG5hbWUgb2YgdGhlIHJlcXVlc3RlZCBVUkwuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGF0aG5hbWU6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlYXJjaCBwYXJ0IG9mIHRoZSByZXF1ZXN0ZWQgVVJMLiBJZiB0aGUgcmVxdWVzdCBkaWQgbm90IHByb3ZpZGUgYVxuICAgICAqIHNlYXJjaCBwYXJ0LCB0aGlzIHdpbGwgYmUgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNlYXJjaDogc3RyaW5nXG4gIH1cblxuICByZWFkb25seSBoZWFkZXJzOiBSZWFkb25seUhlYWRlcnNcbiAgLy8gVGhpcyBpcyBtdXRhYmxlIGJlY2F1c2Ugd2UgbmVlZCB0byByZWFzc2lnbiBpdCB3aGVuIHRyYW5zaXRpb25pbmcgZnJvbSB0aGUgYWN0aW9uIHBoYXNlIHRvIHRoZSByZW5kZXIgcGhhc2UuXG4gIC8vIFRoZSBjb29raWUgb2JqZWN0IGl0c2VsZiBpcyBkZWxpYmVyYXRlbHkgcmVhZCBvbmx5IGFuZCB0aHVzIGNhbid0IGJlIHVwZGF0ZWQuXG4gIGNvb2tpZXM6IFJlYWRvbmx5UmVxdWVzdENvb2tpZXNcbiAgcmVhZG9ubHkgbXV0YWJsZUNvb2tpZXM6IFJlc3BvbnNlQ29va2llc1xuICByZWFkb25seSB1c2Vyc3BhY2VNdXRhYmxlQ29va2llczogUmVzcG9uc2VDb29raWVzXG4gIHJlYWRvbmx5IGRyYWZ0TW9kZTogRHJhZnRNb2RlUHJvdmlkZXJcbiAgcmVhZG9ubHkgaXNIbXJSZWZyZXNoPzogYm9vbGVhblxuICByZWFkb25seSBzZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGU/OiBTZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGVcblxuICByZWFkb25seSByb290UGFyYW1zOiBQYXJhbXNcblxuICAvKipcbiAgICogVGhlIHJlc3VtZSBkYXRhIGNhY2hlIGZvciB0aGlzIHJlcXVlc3QuIFRoaXMgd2lsbCBiZSBhIGltbXV0YWJsZSBjYWNoZS5cbiAgICovXG4gIHJlbmRlclJlc3VtZURhdGFDYWNoZTogUmVuZGVyUmVzdW1lRGF0YUNhY2hlIHwgbnVsbFxuXG4gIC8vIERFVi1vbmx5XG4gIHVzZWREeW5hbWljPzogYm9vbGVhblxuICBwcmVyZW5kZXJQaGFzZT86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBUaGUgUHJlcmVuZGVyIHN0b3JlIGlzIGZvciB0cmFja2luZyBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIHByZXJlbmRlcnMuXG4gKlxuICogSXQgY2FuIGJlIHVzZWQgZm9yIGJvdGggUlNDIGFuZCBTU1IgcHJlcmVuZGVyaW5nIGFuZCBzaG91bGQgYmUgc2NvcGVkIGFzIGNsb3NlXG4gKiB0byB0aGUgaW5kaXZpZHVhbCBgcmVuZGVyVG8uLi5gIEFQSSBjYWxsIGFzIHBvc3NpYmxlLiBUbyBrZWVwIHRoZSB0eXBlIHNpbXBsZVxuICogd2UgZG9uJ3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiBSU0MgYW5kIFNTUiBwcmVyZW5kZXJpbmcgZXhwbGljaXRseSBidXQgaW5zdGVhZFxuICogdXNlIGNvbmRpdGlvbmFsIG9iamVjdCBwcm9wZXJ0aWVzIHRvIGluZmVyIHdoaWNoIG1vZGUgd2UgYXJlIGluLiBGb3IgaW5zdGFuY2UgY2FjaGUgdHJhY2tpbmdcbiAqIG9ubHkgbmVlZHMgdG8gaGFwcGVuIGR1cmluZyB0aGUgUlNDIHByZXJlbmRlciB3aGVuIHdlIGFyZSBwcm9zcGVjdGl2ZWx5IHByZXJlbmRlcmluZ1xuICogdG8gZmlsbCBhbGwgY2FjaGVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByZXJlbmRlclN0b3JlTW9kZXJuIGV4dGVuZHMgQ29tbW9uV29ya1VuaXRTdG9yZSB7XG4gIC8vIEluIHRoZSBmdXR1cmUgdGhlIHByZXJlbmRlci1jbGllbnQgdmFyaWFudCB3aWxsIGdldCBpdCdzIG93biB0eXBlLlxuICAvLyBwcmVyZW5kZXIgcmVwcmVzZW50cyB0aGUgUlNDIHNjb3BlIG9mIHRoZSBwcmVyZW5kZXIuXG4gIC8vIHByZXJlbmRlci1jbGllbnQgcmVwcmVzZW50cyB0aGUgSFRNTCBzY29wZSBvZiB0aGUgcHJlcmVuZGVyLlxuICB0eXBlOiAncHJlcmVuZGVyJyB8ICdwcmVyZW5kZXItY2xpZW50J1xuXG4gIC8qKlxuICAgKiBUaGlzIHNpZ25hbCBpcyBhYm9ydGVkIHdoZW4gdGhlIFJlYWN0IHJlbmRlciBpcyBjb21wbGV0ZS4gKGkuZS4gaXQgaXMgdGhlIHNhbWUgc2lnbmFsIHBhc3NlZCB0byByZWFjdClcbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclNpZ25hbDogQWJvcnRTaWduYWxcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIEFib3J0Q29udHJvbGxlciB3aGljaCByZXByZXNlbnRzIHRoZSBib3VuZGFyeSBiZXR3ZWVuIFByZXJlbmRlciBhbmQgZHluYW1pYy4gSW4gc29tZSByZW5kZXJzIGl0IGlzXG4gICAqIHRoZSBzYW1lIGFzIHRoZSBjb250cm9sbGVyIGZvciB0aGUgcmVuZGVyU2lnbmFsIGJ1dCBpbiBvdGhlcnMgaXQgaXMgYSBzZXBhcmF0ZSBjb250cm9sbGVyLiBJdCBzaG91bGQgYmUgYWJvcnRlZFxuICAgKiB3aGVuZXZlciB0aGUgd2UgYXJlIG5vIGxvbmdlciBpbiB0aGUgcHJlcmVuZGVyIHBoYXNlIG9mIHJlbmRlcmluZy4gVHlwaWNhbGx5IHRoaXMgaXMgYWZ0ZXIgb25lIHRhc2sgb3Igd2hlbiB5b3UgY2FsbFxuICAgKiBhIHN5bmMgQVBJIHdoaWNoIHJlcXVpcmVzIHRoZSBwcmVyZW5kZXIgdG8gZW5kIGltbWVkaWF0ZWx5XG4gICAqL1xuICByZWFkb25seSBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXJcblxuICAvKipcbiAgICogd2hlbiBub3QgbnVsbCB0aGlzIHNpZ25hbCBpcyB1c2VkIHRvIHRyYWNrIGNhY2hlIHJlYWRzIGR1cmluZyBwcmVyZW5kZXJpbmcgYW5kXG4gICAqIHRvIGF3YWl0IGFsbCBjYWNoZSByZWFkcyBjb21wbGV0aW5nIGJlZm9yZSBhYm9ydGluZyB0aGUgcHJlcmVuZGVyLlxuICAgKi9cbiAgcmVhZG9ubHkgY2FjaGVTaWduYWw6IG51bGwgfCBDYWNoZVNpZ25hbFxuXG4gIC8qKlxuICAgKiBEdXJpbmcgc29tZSBwcmVyZW5kZXJzIHdlIHdhbnQgdG8gdHJhY2sgZHluYW1pYyBhY2Nlc3MuXG4gICAqL1xuICByZWFkb25seSBkeW5hbWljVHJhY2tpbmc6IG51bGwgfCBEeW5hbWljVHJhY2tpbmdTdGF0ZVxuXG4gIHJlYWRvbmx5IHJvb3RQYXJhbXM6IFBhcmFtc1xuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBwYWdlIGlzIHByZXJlbmRlcmVkIGFzIGEgZmFsbGJhY2sgc2hlbGwsIHdoaWxlIGFsbG93aW5nIGFueVxuICAgKiBkeW5hbWljIGFjY2Vzc2VzIHRvIHJlc3VsdCBpbiBhbiBlbXB0eSBzaGVsbC4gVGhpcyBpcyB0aGUgY2FzZSB3aGVuIHRoZXJlXG4gICAqIGFyZSBhbHNvIHJvdXRlcyBwcmVyZW5kZXJlZCB3aXRoIGEgbW9yZSBjb21wbGV0ZSBzZXQgb2YgcGFyYW1zLlxuICAgKiBQcmVyZW5kZXJpbmcgdGhvc2Ugcm91dGVzIHdvdWxkIGNhdGNoIGFueSBpbnZhbGlkIGR5bmFtaWMgYWNjZXNzZXMuXG4gICAqL1xuICByZWFkb25seSBhbGxvd0VtcHR5U3RhdGljU2hlbGw6IGJvb2xlYW5cblxuICAvLyBDb2xsZWN0ZWQgcmV2YWxpZGF0ZSB0aW1lcyBhbmQgdGFncyBmb3IgdGhpcyBkb2N1bWVudCBkdXJpbmcgdGhlIHByZXJlbmRlci5cbiAgcmV2YWxpZGF0ZTogbnVtYmVyIC8vIGluIHNlY29uZHMuIDAgbWVhbnMgZHluYW1pYy4gSU5GSU5JVEVfQ0FDSEUgYW5kIGhpZ2hlciBtZWFucyBuZXZlciByZXZhbGlkYXRlLlxuICBleHBpcmU6IG51bWJlciAvLyBzZXJ2ZXIgZXhwaXJhdGlvbiB0aW1lXG4gIHN0YWxlOiBudW1iZXIgLy8gY2xpZW50IGV4cGlyYXRpb24gdGltZVxuICB0YWdzOiBudWxsIHwgc3RyaW5nW11cblxuICAvKipcbiAgICogQSBtdXRhYmxlIHJlc3VtZSBkYXRhIGNhY2hlIGZvciB0aGlzIHByZXJlbmRlci5cbiAgICovXG4gIHByZXJlbmRlclJlc3VtZURhdGFDYWNoZTogUHJlcmVuZGVyUmVzdW1lRGF0YUNhY2hlIHwgbnVsbFxuXG4gIC8qKlxuICAgKiBBbiBpbW11dGFibGUgcmVzdW1lIGRhdGEgY2FjaGUgZm9yIHRoaXMgcHJlcmVuZGVyLiBUaGlzIG1heSBiZSBwcm92aWRlZFxuICAgKiBpbnN0ZWFkIG9mIHRoZSBgcHJlcmVuZGVyUmVzdW1lRGF0YUNhY2hlYCBpZiB0aGUgcHJlcmVuZGVyIGlzIG5vdCBzdXBwb3NlZFxuICAgKiB0byBmaWxsIGNhY2hlcywgYW5kIG9ubHkgcmVhZCBmcm9tIHByZWZpbGxlZCBjYWNoZXMsIGUuZy4gd2hlbiBwcmVyZW5kZXJpbmdcbiAgICogYW4gb3B0aW9uYWwgZmFsbGJhY2sgc2hlbGwuXG4gICAqL1xuICByZW5kZXJSZXN1bWVEYXRhQ2FjaGU6IFJlbmRlclJlc3VtZURhdGFDYWNoZSB8IG51bGxcblxuICAvKipcbiAgICogVGhlIEhNUiByZWZyZXNoIGhhc2ggaXMgb25seSBwcm92aWRlZCBpbiBkZXYgbW9kZS4gSXQgaXMgbmVlZGVkIGZvciB0aGUgZGV2XG4gICAqIHdhcm11cCByZW5kZXIgdG8gZW5zdXJlIHRoYXQgdGhlIGNhY2hlIGtleXMgd2lsbCBiZSBpZGVudGljYWwgZm9yIHRoZVxuICAgKiBzdWJzZXF1ZW50IGR5bmFtaWMgcmVuZGVyLlxuICAgKi9cbiAgcmVhZG9ubHkgaG1yUmVmcmVzaEhhc2g6IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIC8qKlxuICAgKiBPbmx5IGF2YWlsYWJsZSBpbiBkZXYgbW9kZS5cbiAgICovXG4gIHJlYWRvbmx5IGNhcHR1cmVPd25lclN0YWNrOiB1bmRlZmluZWQgfCAoKCkgPT4gc3RyaW5nIHwgbnVsbClcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmVyZW5kZXJTdG9yZVBQUiBleHRlbmRzIENvbW1vbldvcmtVbml0U3RvcmUge1xuICB0eXBlOiAncHJlcmVuZGVyLXBwcidcbiAgcmVhZG9ubHkgcm9vdFBhcmFtczogUGFyYW1zXG4gIHJlYWRvbmx5IGR5bmFtaWNUcmFja2luZzogbnVsbCB8IER5bmFtaWNUcmFja2luZ1N0YXRlXG4gIC8vIENvbGxlY3RlZCByZXZhbGlkYXRlIHRpbWVzIGFuZCB0YWdzIGZvciB0aGlzIGRvY3VtZW50IGR1cmluZyB0aGUgcHJlcmVuZGVyLlxuICByZXZhbGlkYXRlOiBudW1iZXIgLy8gaW4gc2Vjb25kcy4gMCBtZWFucyBkeW5hbWljLiBJTkZJTklURV9DQUNIRSBhbmQgaGlnaGVyIG1lYW5zIG5ldmVyIHJldmFsaWRhdGUuXG4gIGV4cGlyZTogbnVtYmVyIC8vIHNlcnZlciBleHBpcmF0aW9uIHRpbWVcbiAgc3RhbGU6IG51bWJlciAvLyBjbGllbnQgZXhwaXJhdGlvbiB0aW1lXG4gIHRhZ3M6IG51bGwgfCBzdHJpbmdbXVxuXG4gIC8qKlxuICAgKiBUaGUgcmVzdW1lIGRhdGEgY2FjaGUgZm9yIHRoaXMgcHJlcmVuZGVyLlxuICAgKi9cbiAgcHJlcmVuZGVyUmVzdW1lRGF0YUNhY2hlOiBQcmVyZW5kZXJSZXN1bWVEYXRhQ2FjaGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmVyZW5kZXJTdG9yZUxlZ2FjeSBleHRlbmRzIENvbW1vbldvcmtVbml0U3RvcmUge1xuICB0eXBlOiAncHJlcmVuZGVyLWxlZ2FjeSdcbiAgcmVhZG9ubHkgcm9vdFBhcmFtczogUGFyYW1zXG4gIC8vIENvbGxlY3RlZCByZXZhbGlkYXRlIHRpbWVzIGFuZCB0YWdzIGZvciB0aGlzIGRvY3VtZW50IGR1cmluZyB0aGUgcHJlcmVuZGVyLlxuICByZXZhbGlkYXRlOiBudW1iZXIgLy8gaW4gc2Vjb25kcy4gMCBtZWFucyBkeW5hbWljLiBJTkZJTklURV9DQUNIRSBhbmQgaGlnaGVyIG1lYW5zIG5ldmVyIHJldmFsaWRhdGUuXG4gIGV4cGlyZTogbnVtYmVyIC8vIHNlcnZlciBleHBpcmF0aW9uIHRpbWVcbiAgc3RhbGU6IG51bWJlciAvLyBjbGllbnQgZXhwaXJhdGlvbiB0aW1lXG4gIHRhZ3M6IG51bGwgfCBzdHJpbmdbXVxufVxuXG5leHBvcnQgdHlwZSBQcmVyZW5kZXJTdG9yZSA9XG4gIHwgUHJlcmVuZGVyU3RvcmVMZWdhY3lcbiAgfCBQcmVyZW5kZXJTdG9yZVBQUlxuICB8IFByZXJlbmRlclN0b3JlTW9kZXJuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbW9uQ2FjaGVTdG9yZVxuICBleHRlbmRzIE9taXQ8Q29tbW9uV29ya1VuaXRTdG9yZSwgJ2ltcGxpY2l0VGFncyc+IHtcbiAgLyoqXG4gICAqIEEgY2FjaGUgd29yayB1bml0IHN0b3JlIG1pZ2h0IG5vdCBhbHdheXMgaGF2ZSBhbiBvdXRlciB3b3JrIHVuaXQgc3RvcmUsXG4gICAqIGZyb20gd2hpY2ggaW1wbGljaXQgdGFncyBjb3VsZCBiZSBpbmhlcml0ZWQuXG4gICAqL1xuICByZWFkb25seSBpbXBsaWNpdFRhZ3M6IEltcGxpY2l0VGFncyB8IHVuZGVmaW5lZFxuICAvKipcbiAgICogRHJhZnQgbW9kZSBpcyBvbmx5IGF2YWlsYWJsZSBpZiB0aGUgb3V0ZXIgd29yayB1bml0IHN0b3JlIGlzIGEgcmVxdWVzdFxuICAgKiBzdG9yZSBhbmQgZHJhZnQgbW9kZSBpcyBlbmFibGVkLlxuICAgKi9cbiAgcmVhZG9ubHkgZHJhZnRNb2RlOiBEcmFmdE1vZGVQcm92aWRlciB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNhY2hlU3RvcmUgZXh0ZW5kcyBDb21tb25DYWNoZVN0b3JlIHtcbiAgdHlwZTogJ2NhY2hlJ1xuICAvLyBDb2xsZWN0ZWQgcmV2YWxpZGF0ZSB0aW1lcyBhbmQgdGFncyBmb3IgdGhpcyBjYWNoZSBlbnRyeSBkdXJpbmcgdGhlIGNhY2hlIHJlbmRlci5cbiAgcmV2YWxpZGF0ZTogbnVtYmVyIC8vIGltcGxpY2l0IHJldmFsaWRhdGUgdGltZSBmcm9tIGlubmVyIGNhY2hlcyAvIGZldGNoZXNcbiAgZXhwaXJlOiBudW1iZXIgLy8gc2VydmVyIGV4cGlyYXRpb24gdGltZVxuICBzdGFsZTogbnVtYmVyIC8vIGNsaWVudCBleHBpcmF0aW9uIHRpbWVcbiAgZXhwbGljaXRSZXZhbGlkYXRlOiB1bmRlZmluZWQgfCBudW1iZXIgLy8gZXhwbGljaXQgcmV2YWxpZGF0ZSB0aW1lIGZyb20gY2FjaGVMaWZlKCkgY2FsbHNcbiAgZXhwbGljaXRFeHBpcmU6IHVuZGVmaW5lZCB8IG51bWJlciAvLyBzZXJ2ZXIgZXhwaXJhdGlvbiB0aW1lXG4gIGV4cGxpY2l0U3RhbGU6IHVuZGVmaW5lZCB8IG51bWJlciAvLyBjbGllbnQgZXhwaXJhdGlvbiB0aW1lXG4gIHRhZ3M6IG51bGwgfCBzdHJpbmdbXVxuICByZWFkb25seSBobXJSZWZyZXNoSGFzaDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHJlYWRvbmx5IGlzSG1yUmVmcmVzaDogYm9vbGVhblxuICByZWFkb25seSBzZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGU6IFNlcnZlckNvbXBvbmVudHNIbXJDYWNoZSB8IHVuZGVmaW5lZFxuICByZWFkb25seSBmb3JjZVJldmFsaWRhdGU6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbnN0YWJsZUNhY2hlU3RvcmUgZXh0ZW5kcyBDb21tb25DYWNoZVN0b3JlIHtcbiAgdHlwZTogJ3Vuc3RhYmxlLWNhY2hlJ1xufVxuXG4vKipcbiAqIFRoZSBDYWNoZSBzdG9yZSBpcyBmb3IgdHJhY2tpbmcgaW5mb3JtYXRpb24gaW5zaWRlIGEgXCJ1c2UgY2FjaGVcIiBvclxuICogdW5zdGFibGVfY2FjaGUgY29udGV4dC4gQSBjYWNoZSBzdG9yZSBzaGFkb3dzIGFuIG91dGVyIHJlcXVlc3Qgc3RvcmUgKGlmXG4gKiBwcmVzZW50KSBhcyBhIHdvcmsgdW5pdCwgc28gdGhhdCB3ZSBuZXZlciBhY2NpZGVudGFsbHkgZXhwb3NlIGFueSByZXF1ZXN0IG9yXG4gKiBwYWdlIHNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNhY2hlIGZ1bmN0aW9ucywgdW5sZXNzIGl0J3MgZXhwbGljaXRseSBkZXNpcmVkLlxuICogRm9yIHRob3NlIGV4Y2VwdGlvbnMsIHRoZSBkYXRhIGlzIGNvcGllZCBvdmVyIGZyb20gdGhlIHJlcXVlc3Qgc3RvcmUgdG8gdGhlXG4gKiBjYWNoZSBzdG9yZSwgaW5zdGVhZCBvZiBnZW5lcmFsbHkgbWFraW5nIHRoZSByZXF1ZXN0IHN0b3JlIGF2YWlsYWJsZSB0byBjYWNoZVxuICogZnVuY3Rpb25zLlxuICovXG5leHBvcnQgdHlwZSBDYWNoZVN0b3JlID0gVXNlQ2FjaGVTdG9yZSB8IFVuc3RhYmxlQ2FjaGVTdG9yZVxuXG5leHBvcnQgdHlwZSBXb3JrVW5pdFN0b3JlID0gUmVxdWVzdFN0b3JlIHwgQ2FjaGVTdG9yZSB8IFByZXJlbmRlclN0b3JlXG5cbmV4cG9ydCB0eXBlIFdvcmtVbml0QXN5bmNTdG9yYWdlID0gQXN5bmNMb2NhbFN0b3JhZ2U8V29ya1VuaXRTdG9yZT5cblxuZXhwb3J0IHsgd29ya1VuaXRBc3luY1N0b3JhZ2VJbnN0YW5jZSBhcyB3b3JrVW5pdEFzeW5jU3RvcmFnZSB9XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBlY3RlZFJlcXVlc3RTdG9yZShcbiAgY2FsbGluZ0V4cHJlc3Npb246IHN0cmluZ1xuKTogUmVxdWVzdFN0b3JlIHtcbiAgY29uc3Qgd29ya1VuaXRTdG9yZSA9IHdvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2UuZ2V0U3RvcmUoKVxuXG4gIGlmICghd29ya1VuaXRTdG9yZSkge1xuICAgIHRocm93Rm9yTWlzc2luZ1JlcXVlc3RTdG9yZShjYWxsaW5nRXhwcmVzc2lvbilcbiAgfVxuXG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICByZXR1cm4gd29ya1VuaXRTdG9yZVxuXG4gICAgY2FzZSAncHJlcmVuZGVyJzpcbiAgICBjYXNlICdwcmVyZW5kZXItY2xpZW50JzpcbiAgICBjYXNlICdwcmVyZW5kZXItcHByJzpcbiAgICBjYXNlICdwcmVyZW5kZXItbGVnYWN5JzpcbiAgICAgIC8vIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gYmVjYXVzZSB3ZSBzaG91bGQgaGF2ZSBjaGVja2VkIGl0IGFscmVhZHkuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBcXGAke2NhbGxpbmdFeHByZXNzaW9ufVxcYCBjYW5ub3QgYmUgY2FsbGVkIGluc2lkZSBhIHByZXJlbmRlci4gVGhpcyBpcyBhIGJ1ZyBpbiBOZXh0LmpzLmBcbiAgICAgIClcblxuICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFxcYCR7Y2FsbGluZ0V4cHJlc3Npb259XFxgIGNhbm5vdCBiZSBjYWxsZWQgaW5zaWRlIFwidXNlIGNhY2hlXCIuIENhbGwgaXQgb3V0c2lkZSBhbmQgcGFzcyBhbiBhcmd1bWVudCBpbnN0ZWFkLiBSZWFkIG1vcmU6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL21lc3NhZ2VzL25leHQtcmVxdWVzdC1pbi11c2UtY2FjaGVgXG4gICAgICApXG5cbiAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBcXGAke2NhbGxpbmdFeHByZXNzaW9ufVxcYCBjYW5ub3QgYmUgY2FsbGVkIGluc2lkZSB1bnN0YWJsZV9jYWNoZS4gQ2FsbCBpdCBvdXRzaWRlIGFuZCBwYXNzIGFuIGFyZ3VtZW50IGluc3RlYWQuIFJlYWQgbW9yZTogaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvZnVuY3Rpb25zL3Vuc3RhYmxlX2NhY2hlYFxuICAgICAgKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gd29ya1VuaXRTdG9yZVxuICAgICAgcmV0dXJuIF9leGhhdXN0aXZlQ2hlY2tcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dGb3JNaXNzaW5nUmVxdWVzdFN0b3JlKGNhbGxpbmdFeHByZXNzaW9uOiBzdHJpbmcpOiBuZXZlciB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBgXFxgJHtjYWxsaW5nRXhwcmVzc2lvbn1cXGAgd2FzIGNhbGxlZCBvdXRzaWRlIGEgcmVxdWVzdCBzY29wZS4gUmVhZCBtb3JlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9uZXh0LWR5bmFtaWMtYXBpLXdyb25nLWNvbnRleHRgXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXJlbmRlclJlc3VtZURhdGFDYWNoZShcbiAgd29ya1VuaXRTdG9yZTogV29ya1VuaXRTdG9yZVxuKTogUHJlcmVuZGVyUmVzdW1lRGF0YUNhY2hlIHwgbnVsbCB7XG4gIGlmIChcbiAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXInIHx8XG4gICAgLy8gVE9ETyBlbGltaW5hdGUgZmV0Y2ggY2FjaGluZyBpbiBjbGllbnQgc2NvcGUgYW5kIHN0b3AgZXhwb3NpbmcgdGhpcyBkYXRhIGNhY2hlIGR1cmluZyBTU1JcbiAgICB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXItY2xpZW50JyB8fFxuICAgIHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ3ByZXJlbmRlci1wcHInXG4gICkge1xuICAgIHJldHVybiB3b3JrVW5pdFN0b3JlLnByZXJlbmRlclJlc3VtZURhdGFDYWNoZVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbmRlclJlc3VtZURhdGFDYWNoZShcbiAgd29ya1VuaXRTdG9yZTogV29ya1VuaXRTdG9yZVxuKTogUmVuZGVyUmVzdW1lRGF0YUNhY2hlIHwgbnVsbCB7XG4gIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgY2FzZSAncmVxdWVzdCc6XG4gICAgICByZXR1cm4gd29ya1VuaXRTdG9yZS5yZW5kZXJSZXN1bWVEYXRhQ2FjaGVcbiAgICBjYXNlICdwcmVyZW5kZXInOlxuICAgIGNhc2UgJ3ByZXJlbmRlci1jbGllbnQnOlxuICAgICAgaWYgKHdvcmtVbml0U3RvcmUucmVuZGVyUmVzdW1lRGF0YUNhY2hlKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBhIHByZXJlbmRlciwgd2UgbWlnaHQgaGF2ZSBhIHJlbmRlciByZXN1bWUgZGF0YSBjYWNoZVxuICAgICAgICAvLyB0aGF0IGlzIHVzZWQgdG8gcmVhZCBmcm9tIHByZWZpbGxlZCBjYWNoZXMuXG4gICAgICAgIHJldHVybiB3b3JrVW5pdFN0b3JlLnJlbmRlclJlc3VtZURhdGFDYWNoZVxuICAgICAgfVxuICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgY2FzZSAncHJlcmVuZGVyLXBwcic6XG4gICAgICAvLyBPdGhlcndpc2Ugd2UgcmV0dXJuIHRoZSBtdXRhYmxlIHJlc3VtZSBkYXRhIGNhY2hlIGhlcmUgYXMgYW4gaW1tdXRhYmxlXG4gICAgICAvLyB2ZXJzaW9uIG9mIHRoZSBjYWNoZSBhcyBpdCBjYW4gYWxzbyBiZSB1c2VkIGZvciByZWFkaW5nLlxuICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmUucHJlcmVuZGVyUmVzdW1lRGF0YUNhY2hlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEhtclJlZnJlc2hIYXNoKFxuICB3b3JrU3RvcmU6IFdvcmtTdG9yZSxcbiAgd29ya1VuaXRTdG9yZTogV29ya1VuaXRTdG9yZVxuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCF3b3JrU3RvcmUuZGV2KSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgcmV0dXJuIHdvcmtVbml0U3RvcmUudHlwZSA9PT0gJ2NhY2hlJyB8fCB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdwcmVyZW5kZXInXG4gICAgPyB3b3JrVW5pdFN0b3JlLmhtclJlZnJlc2hIYXNoXG4gICAgOiB3b3JrVW5pdFN0b3JlLnR5cGUgPT09ICdyZXF1ZXN0J1xuICAgICAgPyB3b3JrVW5pdFN0b3JlLmNvb2tpZXMuZ2V0KE5FWFRfSE1SX1JFRlJFU0hfSEFTSF9DT09LSUUpPy52YWx1ZVxuICAgICAgOiB1bmRlZmluZWRcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZHJhZnQgbW9kZSBwcm92aWRlciBvbmx5IGlmIGRyYWZ0IG1vZGUgaXMgZW5hYmxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERyYWZ0TW9kZVByb3ZpZGVyRm9yQ2FjaGVTY29wZShcbiAgd29ya1N0b3JlOiBXb3JrU3RvcmUsXG4gIHdvcmtVbml0U3RvcmU6IFdvcmtVbml0U3RvcmVcbik6IERyYWZ0TW9kZVByb3ZpZGVyIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHdvcmtTdG9yZS5pc0RyYWZ0TW9kZSkge1xuICAgIHN3aXRjaCAod29ya1VuaXRTdG9yZS50eXBlKSB7XG4gICAgICBjYXNlICdjYWNoZSc6XG4gICAgICBjYXNlICd1bnN0YWJsZS1jYWNoZSc6XG4gICAgICBjYXNlICdyZXF1ZXN0JzpcbiAgICAgICAgcmV0dXJuIHdvcmtVbml0U3RvcmUuZHJhZnRNb2RlXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuIl0sIm5hbWVzIjpbImdldERyYWZ0TW9kZVByb3ZpZGVyRm9yQ2FjaGVTY29wZSIsImdldEV4cGVjdGVkUmVxdWVzdFN0b3JlIiwiZ2V0SG1yUmVmcmVzaEhhc2giLCJnZXRQcmVyZW5kZXJSZXN1bWVEYXRhQ2FjaGUiLCJnZXRSZW5kZXJSZXN1bWVEYXRhQ2FjaGUiLCJ0aHJvd0Zvck1pc3NpbmdSZXF1ZXN0U3RvcmUiLCJ3b3JrVW5pdEFzeW5jU3RvcmFnZSIsIndvcmtVbml0QXN5bmNTdG9yYWdlSW5zdGFuY2UiLCJjYWxsaW5nRXhwcmVzc2lvbiIsIndvcmtVbml0U3RvcmUiLCJnZXRTdG9yZSIsInR5cGUiLCJFcnJvciIsIl9leGhhdXN0aXZlQ2hlY2siLCJwcmVyZW5kZXJSZXN1bWVEYXRhQ2FjaGUiLCJyZW5kZXJSZXN1bWVEYXRhQ2FjaGUiLCJ3b3JrU3RvcmUiLCJkZXYiLCJ1bmRlZmluZWQiLCJobXJSZWZyZXNoSGFzaCIsImNvb2tpZXMiLCJnZXQiLCJORVhUX0hNUl9SRUZSRVNIX0hBU0hfQ09PS0lFIiwidmFsdWUiLCJpc0RyYWZ0TW9kZSIsImRyYWZ0TW9kZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(shared)/./node_modules/next/dist/server/app-render/work-unit-async-storage.external.js\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CLuis%5C%5CDesktop%5C%5CCOLLEGE%5C%5CCAPSTONE%5C%5CSugarcane_Artist_Management%5C%5Capp%5C%5Cimport%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);